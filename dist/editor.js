/*! For license information please see editor.js.LICENSE.txt */
!function(n,A){"object"==typeof exports&&"object"==typeof module?module.exports=A():"function"==typeof define&&define.amd?define([],A):"object"==typeof exports?exports.EditorJS=A():n.EditorJS=A()}(window,(function(){return function(n){var A={};function e(t){if(A[t])return A[t].exports;var l=A[t]={i:t,l:!1,exports:{}};return n[t].call(l.exports,l,l.exports,e),l.l=!0,l.exports}return e.m=n,e.c=A,e.d=function(n,A,t){e.o(n,A)||Object.defineProperty(n,A,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,A){if(1&A&&(n=e(n)),8&A)return n;if(4&A&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&A&&"string"!=typeof n)for(var l in n)e.d(t,l,function(A){return n[A]}.bind(null,l));return t},e.n=function(n){var A=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(A,"a",A),A},e.o=function(n,A){return Object.prototype.hasOwnProperty.call(n,A)},e.p="",e(e.s=183)}([function(n,A,e){var t=e(9),l=e(17),o=e(27),i=e(23),c=e(30),s=function(n,A,e){var r,C,a,u,m=n&s.F,d=n&s.G,f=n&s.S,p=n&s.P,E=n&s.B,I=d?t:f?t[A]||(t[A]={}):(t[A]||{}).prototype,h=d?l:l[A]||(l[A]={}),b=h.prototype||(h.prototype={});for(r in d&&(e=A),e)a=((C=!m&&I&&void 0!==I[r])?I:e)[r],u=E&&C?c(a,t):p&&"function"==typeof a?c(Function.call,a):a,I&&i(I,r,a,n&s.U),h[r]!=a&&o(h,r,u),p&&b[r]!=a&&(b[r]=a)};t.core=l,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,n.exports=s},function(n,A){n.exports=function(n){return n&&n.__esModule?n:{default:n}}},function(n,A){n.exports=function(n,A){if(!(n instanceof A))throw new TypeError("Cannot call a class as a function")}},function(n,A){function e(n,A){for(var e=0;e<A.length;e++){var t=A[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}n.exports=function(n,A,t){return A&&e(n.prototype,A),t&&e(n,t),n}},function(n,A){function e(A){return n.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},e(A)}n.exports=e},function(n,A,e){var t=e(108);n.exports=function(n,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(A&&A.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),A&&t(n,A)}},function(n,A,e){var t=e(52),l=e(368);n.exports=function(n,A){return!A||"object"!==t(A)&&"function"!=typeof A?l(n):A}},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3)],void 0===(o="function"==typeof(t=function(t,l,o){"use strict";var i=e(1);function c(){var n="/home/hata/editor.js/src/components/__module.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"2df01f51f1d4ffd312e9ec958d0c6d805ceedbaa"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/__module.ts",statementMap:{0:{start:{line:20,column:8},end:{line:20,column:24}},1:{start:{line:24,column:8},end:{line:47,column:10}},2:{start:{line:34,column:38},end:{line:34,column:49}},3:{start:{line:35,column:16},end:{line:35,column:97}},4:{start:{line:41,column:38},end:{line:41,column:49}},5:{start:{line:42,column:16},end:{line:44,column:17}},6:{start:{line:43,column:20},end:{line:43,column:42}},7:{start:{line:45,column:16},end:{line:45,column:45}},8:{start:{line:51,column:8},end:{line:51,column:37}},9:{start:{line:52,column:8},end:{line:54,column:9}},10:{start:{line:53,column:12},end:{line:53,column:91}},11:{start:{line:55,column:8},end:{line:55,column:29}},12:{start:{line:63,column:8},end:{line:63,column:29}},13:{start:{line:69,column:8},end:{line:74,column:9}},14:{start:{line:70,column:25},end:{line:70,column:40}},15:{start:{line:71,column:12},end:{line:73,column:13}},16:{start:{line:72,column:16},end:{line:72,column:30}},17:{start:{line:80,column:8},end:{line:80,column:52}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:28},end:{line:56,column:5}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:33,column:16},end:{line:33,column:17}},loc:{start:{line:33,column:66},end:{line:36,column:13}},line:33},2:{name:"(anonymous_2)",decl:{start:{line:40,column:22},end:{line:40,column:23}},loc:{start:{line:40,column:28},end:{line:46,column:13}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:22},end:{line:64,column:5}},line:62},4:{name:"(anonymous_4)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:21},end:{line:75,column:5}},line:68},5:{name:"(anonymous_5)",decl:{start:{line:79,column:4},end:{line:79,column:5}},loc:{start:{line:79,column:16},end:{line:81,column:5}},line:79}},branchMap:{0:{loc:{start:{line:33,column:46},end:{line:33,column:61}},type:"default-arg",locations:[{start:{line:33,column:56},end:{line:33,column:61}}],line:33},1:{loc:{start:{line:52,column:8},end:{line:54,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:54,column:9}},{start:{line:52,column:8},end:{line:54,column:9}}],line:52},2:{loc:{start:{line:71,column:12},end:{line:73,column:13}},type:"if",locations:[{start:{line:71,column:12},end:{line:73,column:13}},{start:{line:71,column:12},end:{line:73,column:13}}],line:71}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/__module.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/__module.ts"],names:[],mappings:"AAUA;;;;;;;;GAQG;AACH,MAAM,CAAC,OAAO,OAAO,MAAM;IAiEzB;;;OAGG;IACH,YAAY,EAAE,MAAM,EAAgB;QApEpC;;WAEG;QACH,8DAA8D;QACvD,UAAK,GAAM,EAAS,CAAC;QAgB5B;;WAEG;QACO,6BAAwB,GAAG;YACnC;;;;;;;eAOG;YACH,EAAE,EAAE,CACF,OAAoB,EACpB,SAAiB,EACjB,OAA+B,EAC/B,UAA6C,KAAK,EAC5C,EAAE;gBACR,MAAM,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;gBAElC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAC1B,SAAS,CAAC,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,CAAC,CACnD,CAAC;YACJ,CAAC;YAED;;eAEG;YACH,QAAQ,EAAE,GAAS,EAAE;gBACnB,MAAM,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;gBAElC,KAAK,MAAM,EAAE,IAAI,IAAI,CAAC,kBAAkB,EAAE;oBACxC,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;iBACvB;gBAED,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;YAC/B,CAAC;SACF,CAAC;QAEF;;WAEG;QACK,uBAAkB,GAAa,EAAE,CAAC;QAOxC,IAAI,GAAG,CAAC,MAAM,KAAK,MAAM,EAAE;YACzB,MAAM,IAAI,SAAS,CAAC,yDAAyD,CAAC,CAAC;SAChF;QAED,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IAED;;;;OAIG;IACH,IAAW,KAAK,CAAC,MAAqB;QACpC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IAED;;OAEG;IACI,cAAc;QACnB,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,KAAK,EAAE;YAC5B,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAE7B,IAAI,IAAI,YAAY,WAAW,EAAE;gBAC/B,IAAI,CAAC,MAAM,EAAE,CAAC;aACf;SACF;IACH,CAAC;IAED;;OAEG;IACH,IAAc,KAAK;QACjB,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,KAAK,KAAK,CAAC;IAC9C,CAAC;CACF",sourcesContent:["import { EditorModules } from '../types-internal/editor-modules';\nimport { EditorConfig } from '../../types';\nimport { ModuleConfig } from '../types-internal/module-config';\n\n/**\n * The type <T> of the Module generic.\n * It describes the structure of nodes used in modules.\n */\nexport type ModuleNodes = object;\n\n/**\n * @abstract\n * @class      Module\n * @classdesc  All modules inherits from this class.\n *\n * @typedef {Module} Module\n * @property {object} config - Editor user settings\n * @property {EditorModules} Editor - List of Editor modules\n */\nexport default class Module<T extends ModuleNodes = {}> {\n  /**\n   * Each module can provide some UI elements that will be stored in this property\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public nodes: T = {} as any;\n\n  /**\n   * Editor modules list\n   *\n   * @type {EditorModules}\n   */\n  protected Editor: EditorModules;\n\n  /**\n   * Editor configuration object\n   *\n   * @type {EditorConfig}\n   */\n  protected config: EditorConfig;\n\n  /**\n   * This object provides methods to push into set of listeners that being dropped when read-only mode is enabled\n   */\n  protected readOnlyMutableListeners = {\n    /**\n     * Assigns event listener on DOM element and pushes into special array that might be removed\n     *\n     * @param {EventTarget} element - DOM Element\n     * @param {string} eventType - Event name\n     * @param {Function} handler - Event handler\n     * @param {boolean|AddEventListenerOptions} options - Listening options\n     */\n    on: (\n      element: EventTarget,\n      eventType: string,\n      handler: (event: Event) => void,\n      options: boolean | AddEventListenerOptions = false\n    ): void => {\n      const { Listeners } = this.Editor;\n\n      this.mutableListenerIds.push(\n        Listeners.on(element, eventType, handler, options)\n      );\n    },\n\n    /**\n     * Clears all mutable listeners\n     */\n    clearAll: (): void => {\n      const { Listeners } = this.Editor;\n\n      for (const id of this.mutableListenerIds) {\n        Listeners.offById(id);\n      }\n\n      this.mutableListenerIds = [];\n    },\n  };\n\n  /**\n   * The set of listener identifiers which will be dropped in read-only mode\n   */\n  private mutableListenerIds: string[] = [];\n\n  /**\n   * @class\n   * @param {EditorConfig} config - Editor's config\n   */\n  constructor({ config }: ModuleConfig) {\n    if (new.target === Module) {\n      throw new TypeError('Constructors for abstract class Module are not allowed.');\n    }\n\n    this.config = config;\n  }\n\n  /**\n   * Editor modules setter\n   *\n   * @param {EditorModules} Editor - Editor's Modules\n   */\n  public set state(Editor: EditorModules) {\n    this.Editor = Editor;\n  }\n\n  /**\n   * Remove memorized nodes\n   */\n  public removeAllNodes(): void {\n    for (const key in this.nodes) {\n      const node = this.nodes[key];\n\n      if (node instanceof HTMLElement) {\n        node.remove();\n      }\n    }\n  }\n\n  /**\n   * Returns true if current direction is RTL (Right-To-Left)\n   */\n  protected get isRtl(): boolean {\n    return this.config.i18n.direction === 'rtl';\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2df01f51f1d4ffd312e9ec958d0c6d805ceedbaa"});var l=t[n];return c=function(){return l},l}function s(n){if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(n=function(n,A){if(n){if("string"==typeof n)return r(n,A);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(n,A):void 0}}(n))){var A=0,e=function(){};return{s:e,n:function(){return A>=n.length?{done:!0}:{done:!1,value:n[A++]}},e:function(n){throw n},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,l,o=!0,i=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return o=n.done,n},e:function(n){i=!0,l=n},f:function(){try{o||null==t.return||t.return()}finally{if(i)throw l}}}}function r(n,A){(null==A||A>n.length)&&(A=n.length);for(var e=0,t=new Array(A);e<A;e++)t[e]=n[e];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=i(l),o=i(o),c();var C=function(){function n(A){var e=this,t=A.config;if((0,l.default)(this,n),c().f[0]++,c().s[0]++,this.nodes={},c().s[1]++,this.readOnlyMutableListeners={on:function(n,A,t){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(c().b[0][0]++,!1);c().f[1]++;var o=(c().s[2]++,e.Editor),i=o.Listeners;c().s[3]++,e.mutableListenerIds.push(i.on(n,A,t,l))},clearAll:function(){c().f[2]++;var n=(c().s[4]++,e.Editor).Listeners;c().s[5]++;var A,t=s(e.mutableListenerIds);try{for(t.s();!(A=t.n()).done;){var l=A.value;c().s[6]++,n.offById(l)}}catch(n){t.e(n)}finally{t.f()}c().s[7]++,e.mutableListenerIds=[]}},c().s[8]++,this.mutableListenerIds=[],c().s[9]++,(this instanceof n?this.constructor:void 0)===n)throw c().b[1][0]++,c().s[10]++,new TypeError("Constructors for abstract class Module are not allowed.");c().b[1][1]++,c().s[11]++,this.config=t}return(0,o.default)(n,[{key:"removeAllNodes",value:function(){for(var n in c().f[4]++,c().s[13]++,this.nodes){var A=(c().s[14]++,this.nodes[n]);c().s[15]++,A instanceof HTMLElement?(c().b[2][0]++,c().s[16]++,A.remove()):c().b[2][1]++}}},{key:"state",set:function(n){c().f[3]++,c().s[12]++,this.Editor=n}},{key:"isRtl",get:function(){return c().f[5]++,c().s[17]++,"rtl"===this.config.i18n.direction}}]),n}();t.default=C,C.displayName="Module",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(21),e(367),e(22),e(15)],void 0===(o="function"==typeof(t=function(n,A,t,l,o){"use strict";var i,c=e(1);function s(){var n="/home/hata/editor.js/src/components/utils.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"9a5ed6628390059e6e6aeb6e785b712f0db0cb8e"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/utils.ts",statementMap:{0:{start:{line:9,column:0},end:{line:14,column:34}},1:{start:{line:10,column:4},end:{line:10,column:37}},2:{start:{line:11,column:4},end:{line:11,column:31}},3:{start:{line:12,column:4},end:{line:12,column:31}},4:{start:{line:13,column:4},end:{line:13,column:33}},5:{start:{line:23,column:24},end:{line:38,column:1}},6:{start:{line:42,column:28},end:{line:48,column:1}},7:{start:{line:61,column:4},end:{line:63,column:5}},8:{start:{line:62,column:8},end:{line:62,column:15}},9:{start:{line:64,column:25},end:{line:64,column:72}},10:{start:{line:65,column:23},end:{line:65,column:25}},11:{start:{line:66,column:4},end:{line:82,column:5}},12:{start:{line:68,column:12},end:{line:70,column:13}},13:{start:{line:69,column:16},end:{line:69,column:23}},14:{start:{line:71,column:12},end:{line:71,column:18}},15:{start:{line:73,column:12},end:{line:75,column:13}},16:{start:{line:74,column:16},end:{line:74,column:23}},17:{start:{line:76,column:12},end:{line:76,column:18}},18:{start:{line:78,column:12},end:{line:80,column:13}},19:{start:{line:79,column:16},end:{line:79,column:23}},20:{start:{line:81,column:12},end:{line:81,column:18}},21:{start:{line:83,column:4},end:{line:85,column:5}},22:{start:{line:84,column:8},end:{line:84,column:30}},23:{start:{line:86,column:28},end:{line:86,column:50}},24:{start:{line:87,column:29},end:{line:96,column:35}},25:{start:{line:97,column:4},end:{line:105,column:5}},26:{start:{line:98,column:8},end:{line:104,column:9}},27:{start:{line:99,column:12},end:{line:99,column:56}},28:{start:{line:100,column:12},end:{line:100,column:50}},29:{start:{line:103,column:12},end:{line:103,column:49}},30:{start:{line:106,column:4},end:{line:117,column:23}},31:{start:{line:107,column:8},end:{line:115,column:9}},32:{start:{line:108,column:12},end:{line:108,column:31}},33:{start:{line:110,column:13},end:{line:115,column:9}},34:{start:{line:111,column:12},end:{line:111,column:54}},35:{start:{line:114,column:12},end:{line:114,column:46}},36:{start:{line:122,column:0},end:{line:122,column:34}},37:{start:{line:129,column:4},end:{line:129,column:29}},38:{start:{line:134,column:19},end:{line:134,column:43}},39:{start:{line:138,column:26},end:{line:138,column:49}},40:{start:{line:147,column:4},end:{line:153,column:41}},41:{start:{line:180,column:8},end:{line:186,column:9}},42:{start:{line:181,column:12},end:{line:181,column:53}},43:{start:{line:182,column:12},end:{line:182,column:95}},44:{start:{line:185,column:12},end:{line:185,column:90}},45:{start:{line:195,column:4},end:{line:198,column:26}},46:{start:{line:196,column:8},end:{line:196,column:28}},47:{start:{line:197,column:8},end:{line:197,column:62}},48:{start:{line:209,column:4},end:{line:209,column:50}},49:{start:{line:220,column:4},end:{line:220,column:36}},50:{start:{line:231,column:4},end:{line:231,column:64}},51:{start:{line:241,column:4},end:{line:243,column:5}},52:{start:{line:242,column:8},end:{line:242,column:20}},53:{start:{line:244,column:4},end:{line:244,column:77}},54:{start:{line:254,column:4},end:{line:254,column:46}},55:{start:{line:264,column:4},end:{line:270,column:6}},56:{start:{line:266,column:24},end:{line:266,column:28}},57:{start:{line:268,column:15},end:{line:268,column:24}},58:{start:{line:269,column:8},end:{line:269,column:70}},59:{start:{line:269,column:32},end:{line:269,column:59}},60:{start:{line:280,column:4},end:{line:280,column:38}},61:{start:{line:290,column:4},end:{line:290,column:47}},62:{start:{line:305,column:4},end:{line:323,column:6}},63:{start:{line:307,column:24},end:{line:307,column:28}},64:{start:{line:309,column:15},end:{line:309,column:24}},65:{start:{line:311,column:22},end:{line:316,column:9}},66:{start:{line:312,column:12},end:{line:312,column:27}},67:{start:{line:313,column:12},end:{line:315,column:13}},68:{start:{line:314,column:16},end:{line:314,column:42}},69:{start:{line:317,column:24},end:{line:317,column:45}},70:{start:{line:318,column:8},end:{line:318,column:37}},71:{start:{line:319,column:8},end:{line:319,column:49}},72:{start:{line:320,column:8},end:{line:322,column:9}},73:{start:{line:321,column:12},end:{line:321,column:38}},74:{start:{line:331,column:15},end:{line:333,column:6}},75:{start:{line:334,column:4},end:{line:334,column:34}},76:{start:{line:335,column:22},end:{line:335,column:43}},77:{start:{line:336,column:18},end:{line:336,column:40}},78:{start:{line:337,column:4},end:{line:337,column:25}},79:{start:{line:338,column:4},end:{line:338,column:44}},80:{start:{line:339,column:4},end:{line:339,column:30}},81:{start:{line:340,column:4},end:{line:340,column:33}},82:{start:{line:341,column:4},end:{line:341,column:34}},83:{start:{line:347,column:15},end:{line:352,column:5}},84:{start:{line:353,column:19},end:{line:353,column:102}},85:{start:{line:353,column:48},end:{line:353,column:101}},86:{start:{line:354,column:4},end:{line:357,column:5}},87:{start:{line:355,column:8},end:{line:355,column:26}},88:{start:{line:356,column:8},end:{line:356,column:18}},89:{start:{line:358,column:4},end:{line:358,column:14}},90:{start:{line:368,column:4},end:{line:368,column:49}},91:{start:{line:379,column:4},end:{line:379,column:90}},92:{start:{line:389,column:21},end:{line:389,column:64}},93:{start:{line:389,column:31},end:{line:389,column:64}},94:{start:{line:390,column:4},end:{line:392,column:5}},95:{start:{line:391,column:8},end:{line:391,column:22}},96:{start:{line:393,column:19},end:{line:393,column:34}},97:{start:{line:394,column:4},end:{line:406,column:5}},98:{start:{line:395,column:8},end:{line:405,column:9}},99:{start:{line:396,column:12},end:{line:404,column:13}},100:{start:{line:397,column:16},end:{line:399,column:17}},101:{start:{line:398,column:20},end:{line:398,column:57}},102:{start:{line:400,column:16},end:{line:400,column:52}},103:{start:{line:403,column:16},end:{line:403,column:62}},104:{start:{line:407,column:4},end:{line:407,column:41}},105:{start:{line:419,column:32},end:{line:419,column:74}},106:{start:{line:426,column:15},end:{line:426,column:26}},107:{start:{line:427,column:4},end:{line:438,column:32}},108:{start:{line:439,column:4},end:{line:444,column:5}},109:{start:{line:440,column:8},end:{line:440,column:77}},110:{start:{line:443,column:8},end:{line:443,column:81}},111:{start:{line:445,column:4},end:{line:445,column:20}},112:{start:{line:455,column:4},end:{line:461,column:5}},113:{start:{line:456,column:26},end:{line:456,column:38}},114:{start:{line:457,column:8},end:{line:457,column:30}},115:{start:{line:462,column:4},end:{line:467,column:5}},116:{start:{line:463,column:8},end:{line:463,column:46}},117:{start:{line:466,column:8},end:{line:466,column:44}},118:{start:{line:475,column:4},end:{line:475,column:31}},119:{start:{line:486,column:4},end:{line:486,column:72}},120:{start:{line:496,column:20},end:{line:496,column:140}},121:{start:{line:497,column:4},end:{line:499,column:5}},122:{start:{line:498,column:8},end:{line:498,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:1},end:{line:9,column:2}},loc:{start:{line:9,column:22},end:{line:14,column:1}},line:9},1:{name:"_log",decl:{start:{line:58,column:9},end:{line:58,column:13}},loc:{start:{line:60,column:32},end:{line:118,column:1}},line:60},2:{name:"setLogLevel",decl:{start:{line:128,column:16},end:{line:128,column:27}},loc:{start:{line:128,column:38},end:{line:130,column:1}},line:128},3:{name:"isPrintableKey",decl:{start:{line:146,column:16},end:{line:146,column:30}},loc:{start:{line:146,column:40},end:{line:154,column:1}},line:146},4:{name:"sequence",decl:{start:{line:164,column:22},end:{line:164,column:30}},loc:{start:{line:168,column:22},end:{line:199,column:1}},line:168},5:{name:"(anonymous_5)",decl:{start:{line:166,column:10},end:{line:166,column:11}},loc:{start:{line:166,column:16},end:{line:166,column:19}},line:166},6:{name:"(anonymous_6)",decl:{start:{line:168,column:11},end:{line:168,column:12}},loc:{start:{line:168,column:17},end:{line:168,column:20}},line:168},7:{name:"waitNextBlock",decl:{start:{line:179,column:19},end:{line:179,column:32}},loc:{start:{line:179,column:79},end:{line:187,column:5}},line:179},8:{name:"(anonymous_8)",decl:{start:{line:195,column:25},end:{line:195,column:26}},loc:{start:{line:195,column:64},end:{line:198,column:5}},line:195},9:{name:"array",decl:{start:{line:208,column:16},end:{line:208,column:21}},loc:{start:{line:208,column:34},end:{line:210,column:1}},line:208},10:{name:"isFunction",decl:{start:{line:219,column:16},end:{line:219,column:26}},loc:{start:{line:219,column:31},end:{line:221,column:1}},line:219},11:{name:"isClass",decl:{start:{line:230,column:16},end:{line:230,column:23}},loc:{start:{line:230,column:28},end:{line:232,column:1}},line:230},12:{name:"isEmpty",decl:{start:{line:240,column:16},end:{line:240,column:23}},loc:{start:{line:240,column:32},end:{line:245,column:1}},line:240},13:{name:"isPromise",decl:{start:{line:253,column:16},end:{line:253,column:25}},loc:{start:{line:253,column:34},end:{line:255,column:1}},line:253},14:{name:"delay",decl:{start:{line:263,column:16},end:{line:263,column:21}},loc:{start:{line:263,column:39},end:{line:271,column:1}},line:263},15:{name:"(anonymous_15)",decl:{start:{line:264,column:11},end:{line:264,column:12}},loc:{start:{line:264,column:23},end:{line:270,column:5}},line:264},16:{name:"(anonymous_16)",decl:{start:{line:269,column:26},end:{line:269,column:27}},loc:{start:{line:269,column:32},end:{line:269,column:59}},line:269},17:{name:"getFileExtension",decl:{start:{line:279,column:16},end:{line:279,column:32}},loc:{start:{line:279,column:39},end:{line:281,column:1}},line:279},18:{name:"isValidMimeType",decl:{start:{line:289,column:16},end:{line:289,column:31}},loc:{start:{line:289,column:38},end:{line:291,column:1}},line:289},19:{name:"debounce",decl:{start:{line:303,column:16},end:{line:303,column:24}},loc:{start:{line:303,column:48},end:{line:324,column:1}},line:303},20:{name:"(anonymous_20)",decl:{start:{line:305,column:11},end:{line:305,column:12}},loc:{start:{line:305,column:17},end:{line:323,column:5}},line:305},21:{name:"(anonymous_21)",decl:{start:{line:311,column:22},end:{line:311,column:23}},loc:{start:{line:311,column:28},end:{line:316,column:9}},line:311},22:{name:"copyTextToClipboard",decl:{start:{line:330,column:16},end:{line:330,column:35}},loc:{start:{line:330,column:42},end:{line:342,column:1}},line:330},23:{name:"getUserOS",decl:{start:{line:346,column:16},end:{line:346,column:25}},loc:{start:{line:346,column:28},end:{line:359,column:1}},line:346},24:{name:"(anonymous_24)",decl:{start:{line:353,column:40},end:{line:353,column:41}},loc:{start:{line:353,column:48},end:{line:353,column:101}},line:353},25:{name:"capitalize",decl:{start:{line:367,column:16},end:{line:367,column:26}},loc:{start:{line:367,column:33},end:{line:369,column:1}},line:367},26:{name:"typeOf",decl:{start:{line:378,column:16},end:{line:378,column:22}},loc:{start:{line:378,column:31},end:{line:380,column:1}},line:378},27:{name:"deepMerge",decl:{start:{line:388,column:16},end:{line:388,column:25}},loc:{start:{line:388,column:46},end:{line:408,column:1}},line:388},28:{name:"(anonymous_28)",decl:{start:{line:389,column:21},end:{line:389,column:22}},loc:{start:{line:389,column:31},end:{line:389,column:64}},line:389},29:{name:"beautifyShortcut",decl:{start:{line:425,column:16},end:{line:425,column:32}},loc:{start:{line:425,column:43},end:{line:446,column:1}},line:425},30:{name:"getValidUrl",decl:{start:{line:454,column:16},end:{line:454,column:27}},loc:{start:{line:454,column:33},end:{line:468,column:1}},line:454},31:{name:"openTab",decl:{start:{line:474,column:16},end:{line:474,column:23}},loc:{start:{line:474,column:29},end:{line:476,column:1}},line:474},32:{name:"generateId",decl:{start:{line:484,column:16},end:{line:484,column:26}},loc:{start:{line:484,column:40},end:{line:487,column:1}},line:484},33:{name:"deprecationAssert",decl:{start:{line:495,column:16},end:{line:495,column:33}},loc:{start:{line:495,column:71},end:{line:500,column:1}},line:495}},branchMap:{0:{loc:{start:{line:14,column:3},end:{line:14,column:32}},type:"binary-expr",locations:[{start:{line:14,column:3},end:{line:14,column:12}},{start:{line:14,column:17},end:{line:14,column:31}}],line:14},1:{loc:{start:{line:58,column:28},end:{line:58,column:40}},type:"default-arg",locations:[{start:{line:58,column:35},end:{line:58,column:40}}],line:58},2:{loc:{start:{line:60,column:6},end:{line:60,column:30}},type:"default-arg",locations:[{start:{line:60,column:14},end:{line:60,column:30}}],line:60},3:{loc:{start:{line:61,column:4},end:{line:63,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:63,column:5}},{start:{line:61,column:4},end:{line:63,column:5}}],line:61},4:{loc:{start:{line:61,column:8},end:{line:61,column:55}},type:"binary-expr",locations:[{start:{line:61,column:8},end:{line:61,column:30}},{start:{line:61,column:34},end:{line:61,column:55}}],line:61},5:{loc:{start:{line:66,column:4},end:{line:82,column:5}},type:"switch",locations:[{start:{line:67,column:8},end:{line:71,column:18}},{start:{line:72,column:8},end:{line:76,column:18}},{start:{line:77,column:8},end:{line:81,column:18}}],line:66},6:{loc:{start:{line:68,column:12},end:{line:70,column:13}},type:"if",locations:[{start:{line:68,column:12},end:{line:70,column:13}},{start:{line:68,column:12},end:{line:70,column:13}}],line:68},7:{loc:{start:{line:73,column:12},end:{line:75,column:13}},type:"if",locations:[{start:{line:73,column:12},end:{line:75,column:13}},{start:{line:73,column:12},end:{line:75,column:13}}],line:73},8:{loc:{start:{line:78,column:12},end:{line:80,column:13}},type:"if",locations:[{start:{line:78,column:12},end:{line:80,column:13}},{start:{line:78,column:12},end:{line:80,column:13}}],line:78},9:{loc:{start:{line:78,column:16},end:{line:78,column:40}},type:"binary-expr",locations:[{start:{line:78,column:16},end:{line:78,column:29}},{start:{line:78,column:33},end:{line:78,column:40}}],line:78},10:{loc:{start:{line:83,column:4},end:{line:85,column:5}},type:"if",locations:[{start:{line:83,column:4},end:{line:85,column:5}},{start:{line:83,column:4},end:{line:85,column:5}}],line:83},11:{loc:{start:{line:97,column:4},end:{line:105,column:5}},type:"if",locations:[{start:{line:97,column:4},end:{line:105,column:5}},{start:{line:97,column:4},end:{line:105,column:5}}],line:97},12:{loc:{start:{line:98,column:8},end:{line:104,column:9}},type:"if",locations:[{start:{line:98,column:8},end:{line:104,column:9}},{start:{line:98,column:8},end:{line:104,column:9}}],line:98},13:{loc:{start:{line:107,column:8},end:{line:115,column:9}},type:"if",locations:[{start:{line:107,column:8},end:{line:115,column:9}},{start:{line:107,column:8},end:{line:115,column:9}}],line:107},14:{loc:{start:{line:110,column:13},end:{line:115,column:9}},type:"if",locations:[{start:{line:110,column:13},end:{line:115,column:9}},{start:{line:110,column:13},end:{line:115,column:9}}],line:110},15:{loc:{start:{line:147,column:11},end:{line:153,column:40}},type:"binary-expr",locations:[{start:{line:147,column:12},end:{line:147,column:24}},{start:{line:147,column:28},end:{line:147,column:40}},{start:{line:148,column:8},end:{line:148,column:22}},{start:{line:148,column:26},end:{line:148,column:40}},{start:{line:149,column:8},end:{line:149,column:23}},{start:{line:150,column:9},end:{line:150,column:21}},{start:{line:150,column:25},end:{line:150,column:37}},{start:{line:151,column:9},end:{line:151,column:21}},{start:{line:151,column:25},end:{line:151,column:38}},{start:{line:152,column:9},end:{line:152,column:22}},{start:{line:152,column:26},end:{line:152,column:39}},{start:{line:153,column:9},end:{line:153,column:22}},{start:{line:153,column:26},end:{line:153,column:39}}],line:147},16:{loc:{start:{line:166,column:0},end:{line:166,column:19}},type:"default-arg",locations:[{start:{line:166,column:10},end:{line:166,column:19}}],line:166},17:{loc:{start:{line:168,column:0},end:{line:168,column:20}},type:"default-arg",locations:[{start:{line:168,column:11},end:{line:168,column:20}}],line:168},18:{loc:{start:{line:182,column:34},end:{line:182,column:93}},type:"cond-expr",locations:[{start:{line:182,column:74},end:{line:182,column:88}},{start:{line:182,column:91},end:{line:182,column:93}}],line:182},19:{loc:{start:{line:185,column:29},end:{line:185,column:88}},type:"cond-expr",locations:[{start:{line:185,column:69},end:{line:185,column:83}},{start:{line:185,column:86},end:{line:185,column:88}}],line:185},20:{loc:{start:{line:231,column:11},end:{line:231,column:63}},type:"binary-expr",locations:[{start:{line:231,column:11},end:{line:231,column:25}},{start:{line:231,column:29},end:{line:231,column:63}}],line:231},21:{loc:{start:{line:241,column:4},end:{line:243,column:5}},type:"if",locations:[{start:{line:241,column:4},end:{line:243,column:5}},{start:{line:241,column:4},end:{line:243,column:5}}],line:241},22:{loc:{start:{line:244,column:11},end:{line:244,column:76}},type:"binary-expr",locations:[{start:{line:244,column:11},end:{line:244,column:43}},{start:{line:244,column:47},end:{line:244,column:76}}],line:244},23:{loc:{start:{line:313,column:12},end:{line:315,column:13}},type:"if",locations:[{start:{line:313,column:12},end:{line:315,column:13}},{start:{line:313,column:12},end:{line:315,column:13}}],line:313},24:{loc:{start:{line:317,column:24},end:{line:317,column:45}},type:"binary-expr",locations:[{start:{line:317,column:24},end:{line:317,column:33}},{start:{line:317,column:37},end:{line:317,column:45}}],line:317},25:{loc:{start:{line:320,column:8},end:{line:322,column:9}},type:"if",locations:[{start:{line:320,column:8},end:{line:322,column:9}},{start:{line:320,column:8},end:{line:322,column:9}}],line:320},26:{loc:{start:{line:354,column:4},end:{line:357,column:5}},type:"if",locations:[{start:{line:354,column:4},end:{line:357,column:5}},{start:{line:354,column:4},end:{line:357,column:5}}],line:354},27:{loc:{start:{line:389,column:31},end:{line:389,column:64}},type:"binary-expr",locations:[{start:{line:389,column:31},end:{line:389,column:35}},{start:{line:389,column:39},end:{line:389,column:64}}],line:389},28:{loc:{start:{line:390,column:4},end:{line:392,column:5}},type:"if",locations:[{start:{line:390,column:4},end:{line:392,column:5}},{start:{line:390,column:4},end:{line:392,column:5}}],line:390},29:{loc:{start:{line:394,column:4},end:{line:406,column:5}},type:"if",locations:[{start:{line:394,column:4},end:{line:406,column:5}},{start:{line:394,column:4},end:{line:406,column:5}}],line:394},30:{loc:{start:{line:394,column:8},end:{line:394,column:44}},type:"binary-expr",locations:[{start:{line:394,column:8},end:{line:394,column:24}},{start:{line:394,column:28},end:{line:394,column:44}}],line:394},31:{loc:{start:{line:396,column:12},end:{line:404,column:13}},type:"if",locations:[{start:{line:396,column:12},end:{line:404,column:13}},{start:{line:396,column:12},end:{line:404,column:13}}],line:396},32:{loc:{start:{line:397,column:16},end:{line:399,column:17}},type:"if",locations:[{start:{line:397,column:16},end:{line:399,column:17}},{start:{line:397,column:16},end:{line:399,column:17}}],line:397},33:{loc:{start:{line:439,column:4},end:{line:444,column:5}},type:"if",locations:[{start:{line:439,column:4},end:{line:444,column:5}},{start:{line:439,column:4},end:{line:444,column:5}}],line:439},34:{loc:{start:{line:462,column:4},end:{line:467,column:5}},type:"if",locations:[{start:{line:462,column:4},end:{line:467,column:5}},{start:{line:462,column:4},end:{line:467,column:5}}],line:462},35:{loc:{start:{line:484,column:27},end:{line:484,column:38}},type:"default-arg",locations:[{start:{line:484,column:36},end:{line:484,column:38}}],line:484},36:{loc:{start:{line:497,column:4},end:{line:499,column:5}},type:"if",locations:[{start:{line:497,column:4},end:{line:499,column:5}},{start:{line:497,column:4},end:{line:499,column:5}}],line:497}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},b:{0:[0,0],1:[0],2:[0],3:[0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0,0,0,0,0,0,0,0,0,0,0,0],16:[0],17:[0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0],36:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/utils.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/utils.ts"],names:[],mappings:"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",sourcesContent:["/**\n * Class Util\n */\n\nimport Dom from './dom';\n\n/**\n * Possible log levels\n */\nexport enum LogLevels {\n  VERBOSE = 'VERBOSE',\n  INFO = 'INFO',\n  WARN = 'WARN',\n  ERROR = 'ERROR',\n}\n\n/**\n * Allow to use global VERSION, that will be overwritten by Webpack\n */\ndeclare const VERSION: string;\n\n/**\n * @typedef {object} ChainData\n * @property {object} data - data that will be passed to the success or fallback\n * @property {Function} function - function's that must be called asynchronously\n *\n * @interface ChainData\n */\nexport interface ChainData {\n  data?: object;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  function: (...args: any[]) => any;\n}\n\n/**\n * Editor.js utils\n */\n\n/**\n * Returns basic keycodes as constants\n *\n * @returns {{}}\n */\nexport const keyCodes = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  ALT: 18,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  DOWN: 40,\n  RIGHT: 39,\n  DELETE: 46,\n  META: 91,\n};\n\n/**\n * Return mouse buttons codes\n */\nexport const mouseButtons = {\n  LEFT: 0,\n  WHEEL: 1,\n  RIGHT: 2,\n  BACKWARD: 3,\n  FORWARD: 4,\n};\n\n/**\n * Custom logger\n *\n * @param {boolean} labeled — if true, Editor.js label is shown\n * @param {string} msg  - message\n * @param {string} type - logging type 'log'|'warn'|'error'|'info'\n * @param {*} [args]      - argument to log with a message\n * @param {string} style  - additional styling to message\n */\nfunction _log(\n  labeled: boolean,\n  msg: string,\n  type = 'log',\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  args?: any,\n  style = 'color: inherit'\n): void {\n  if (!('console' in window) || !window.console[type]) {\n    return;\n  }\n\n  const isSimpleType = ['info', 'log', 'warn', 'error'].includes(type);\n  const argsToPass = [];\n\n  switch (_log.logLevel) {\n    case LogLevels.ERROR:\n      if (type !== 'error') {\n        return;\n      }\n      break;\n\n    case LogLevels.WARN:\n      if (!['error', 'warn'].includes(type)) {\n        return;\n      }\n      break;\n\n    case LogLevels.INFO:\n      if (!isSimpleType || labeled) {\n        return;\n      }\n      break;\n  }\n\n  if (args) {\n    argsToPass.push(args);\n  }\n\n  const editorLabelText = `Editor.js ${VERSION}`;\n  const editorLabelStyle = `line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;`;\n\n  if (labeled) {\n    if (isSimpleType) {\n      argsToPass.unshift(editorLabelStyle, style);\n      msg = `%c${editorLabelText}%c ${msg}`;\n    } else {\n      msg = `( ${editorLabelText} )${msg}`;\n    }\n  }\n\n  try {\n    if (!isSimpleType) {\n      console[type](msg);\n    } else if (args) {\n      console[type](`${msg} %o`, ...argsToPass);\n    } else {\n      console[type](msg, ...argsToPass);\n    }\n  } catch (ignored) {}\n}\n\n/**\n * Current log level\n */\n_log.logLevel = LogLevels.VERBOSE;\n\n/**\n * Set current log level\n *\n * @param {LogLevels} logLevel - log level to set\n */\nexport function setLogLevel(logLevel: LogLevels): void {\n  _log.logLevel = logLevel;\n}\n\n/**\n * _log method proxy without Editor.js label\n */\nexport const log = _log.bind(window, false);\n\n/**\n * _log method proxy with Editor.js label\n */\nexport const logLabeled = _log.bind(window, true);\n\n/**\n * Returns true if passed key code is printable (a-Z, 0-9, etc) character.\n *\n * @param {number} keyCode - key code\n *\n * @returns {boolean}\n */\nexport function isPrintableKey(keyCode: number): boolean {\n  return (keyCode > 47 && keyCode < 58) || // number keys\n    keyCode === 32 || keyCode === 13 || // Spacebar & return key(s)\n    keyCode === 229 || // processing key input for certain languages — Chinese, Japanese, etc.\n    (keyCode > 64 && keyCode < 91) || // letter keys\n    (keyCode > 95 && keyCode < 112) || // Numpad keys\n    (keyCode > 185 && keyCode < 193) || // ;=,-./` (in order)\n    (keyCode > 218 && keyCode < 223); // [\\]' (in order)\n}\n\n/**\n * Fires a promise sequence asynchronously\n *\n * @param {ChainData[]} chains - list or ChainData's\n * @param {Function} success - success callback\n * @param {Function} fallback - callback that fires in case of errors\n *\n * @returns {Promise}\n */\nexport async function sequence(\n  chains: ChainData[],\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  success: (data: object) => void = (): void => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  fallback: (data: object) => void = (): void => {}\n): Promise<void> {\n  /**\n   * Decorator\n   *\n   * @param {ChainData} chainData - Chain data\n   *\n   * @param {Function} successCallback - success callback\n   * @param {Function} fallbackCallback - fail callback\n   *\n   * @returns {Promise}\n   */\n  async function waitNextBlock(\n    chainData: ChainData,\n    successCallback: (data: object) => void,\n    fallbackCallback: (data: object) => void\n  ): Promise<void> {\n    try {\n      await chainData.function(chainData.data);\n      await successCallback(typeof chainData.data !== 'undefined' ? chainData.data : {});\n    } catch (e) {\n      fallbackCallback(typeof chainData.data !== 'undefined' ? chainData.data : {});\n    }\n  }\n\n  /**\n   * pluck each element from queue\n   * First, send resolved Promise as previous value\n   * Each plugins \"prepare\" method returns a Promise, that's why\n   * reduce current element will not be able to continue while can't get\n   * a resolved Promise\n   */\n  return chains.reduce(async (previousValue, currentValue) => {\n    await previousValue;\n\n    return waitNextBlock(currentValue, success, fallback);\n  }, Promise.resolve());\n}\n\n/**\n * Make array from array-like collection\n *\n * @param {ArrayLike} collection - collection to convert to array\n *\n * @returns {Array}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function array(collection: ArrayLike<any>): any[] {\n  return Array.prototype.slice.call(collection);\n}\n\n/**\n * Check if passed variable is a function\n *\n * @param {*} fn - function to check\n *\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isFunction(fn: any): fn is Function {\n  return typeof fn === 'function';\n}\n\n/**\n * Check if passed function is a class\n *\n * @param {Function} fn - function to check\n *\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isClass(fn: any): boolean {\n  return isFunction(fn) && /^\\s*class\\s+/.test(fn.toString());\n}\n\n/**\n * Checks if object is empty\n *\n * @param {object} object - object to check\n *\n * @returns {boolean}\n */\nexport function isEmpty(object: object): boolean {\n  if (!object) {\n    return true;\n  }\n\n  return Object.keys(object).length === 0 && object.constructor === Object;\n}\n\n/**\n * Check if passed object is a Promise\n *\n * @param  {*}  object - object to check\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isPromise(object: any): object is Promise<any> {\n  return Promise.resolve(object) === object;\n}\n\n/**\n * Delays method execution\n *\n * @param {Function} method - method to execute\n * @param {number} timeout - timeout in ms\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function delay(method: (...args: any[]) => any, timeout: number) {\n  return function (): void {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const context = this,\n        // eslint-disable-next-line prefer-rest-params\n        args = arguments;\n\n    window.setTimeout(() => method.apply(context, args), timeout);\n  };\n}\n\n/**\n * Get file extension\n *\n * @param {File} file - file\n *\n * @returns {string}\n */\nexport function getFileExtension(file: File): string {\n  return file.name.split('.').pop();\n}\n\n/**\n * Check if string is MIME type\n *\n * @param {string} type - string to check\n *\n * @returns {boolean}\n */\nexport function isValidMimeType(type: string): boolean {\n  return /^[-\\w]+\\/([-+\\w]+|\\*)$/.test(type);\n}\n\n/**\n * Debouncing method\n * Call method after passed time\n *\n * Note that this method returns Function and declared variable need to be called\n *\n * @param {Function} func - function that we're throttling\n * @param {number} wait - time in milliseconds\n * @param {boolean} immediate - call now\n * @returns {Function}\n */\nexport function debounce(func: () => void, wait?: number, immediate?: boolean): () => void {\n  let timeout;\n\n  return (): void => {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const context = this,\n        // eslint-disable-next-line prefer-rest-params\n        args = arguments;\n\n    // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    const callNow = immediate && !timeout;\n\n    window.clearTimeout(timeout);\n    timeout = window.setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n}\n\n/**\n * Copies passed text to the clipboard\n *\n * @param text - text to copy\n */\nexport function copyTextToClipboard(text): void {\n  const el = Dom.make('div', 'codex-editor-clipboard', {\n    innerHTML: text,\n  });\n\n  document.body.appendChild(el);\n\n  const selection = window.getSelection();\n  const range = document.createRange();\n\n  range.selectNode(el);\n\n  window.getSelection().removeAllRanges();\n  selection.addRange(range);\n\n  document.execCommand('copy');\n  document.body.removeChild(el);\n}\n\n/**\n * Returns object with os name as key and boolean as value. Shows current user OS\n */\nexport function getUserOS(): {[key: string]: boolean} {\n  const OS = {\n    win: false,\n    mac: false,\n    x11: false,\n    linux: false,\n  };\n\n  const userOS = Object.keys(OS).find((os: string) => navigator.appVersion.toLowerCase().indexOf(os) !== -1);\n\n  if (userOS) {\n    OS[userOS] = true;\n\n    return OS;\n  }\n\n  return OS;\n}\n\n/**\n * Capitalizes first letter of the string\n *\n * @param {string} text - text to capitalize\n *\n * @returns {string}\n */\nexport function capitalize(text: string): string {\n  return text[0].toUpperCase() + text.slice(1);\n}\n\n/**\n * Return string representation of the object type\n *\n * @param {*} object - object to get type\n *\n * @returns {string}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function typeOf(object: any): string {\n  return Object.prototype.toString.call(object).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();\n}\n\n/**\n * Merge to objects recursively\n *\n * @param {object} target - merge target\n * @param {object[]} sources - merge sources\n * @returns {object}\n */\nexport function deepMerge<T extends object>(target, ...sources): T {\n  const isObject = (item): item is object => item && typeOf(item) === 'object';\n\n  if (!sources.length) {\n    return target;\n  }\n  const source = sources.shift();\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) {\n          Object.assign(target, { [key]: {} });\n        }\n\n        deepMerge(target[key], source[key]);\n      } else {\n        Object.assign(target, { [key]: source[key] });\n      }\n    }\n  }\n\n  return deepMerge(target, ...sources);\n}\n\n/**\n * Return true if current device supports touch events\n *\n * Note! This is a simple solution, it can give false-positive results.\n * To detect touch devices more carefully, use 'touchstart' event listener\n *\n * @see http://www.stucox.com/blog/you-cant-detect-a-touchscreen/\n *\n * @returns {boolean}\n */\nexport const isTouchSupported: boolean = 'ontouchstart' in document.documentElement;\n\n/**\n * Make shortcut command more human-readable\n *\n * @param {string} shortcut — string like 'CMD+B'\n */\nexport function beautifyShortcut(shortcut: string): string {\n  const OS = getUserOS();\n\n  shortcut = shortcut\n    .replace(/shift/gi, '⇧')\n    .replace(/backspace/gi, '⌫')\n    .replace(/enter/gi, '⏎')\n    .replace(/up/gi, '↑')\n    .replace(/left/gi, '→')\n    .replace(/down/gi, '↓')\n    .replace(/right/gi, '←')\n    .replace(/escape/gi, '⎋')\n    .replace(/insert/gi, 'Ins')\n    .replace(/delete/gi, '␡')\n    .replace(/\\+/gi, ' + ');\n\n  if (OS.mac) {\n    shortcut = shortcut.replace(/ctrl|cmd/gi, '⌘').replace(/alt/gi, '⌥');\n  } else {\n    shortcut = shortcut.replace(/cmd/gi, 'Ctrl').replace(/windows/gi, 'WIN');\n  }\n\n  return shortcut;\n}\n\n/**\n * Returns valid URL. If it is going outside and valid, it returns itself\n * If url has `one slash`, then it concatenates with window location origin\n * or when url has `two lack` it appends only protocol\n *\n * @param {string} url - url to prettify\n */\nexport function getValidUrl(url: string): string {\n  try {\n    const urlObject = new URL(url);\n\n    return urlObject.href;\n  } catch (e) {\n    // do nothing but handle below\n  }\n\n  if (url.substring(0, 2) === '//') {\n    return window.location.protocol + url;\n  } else {\n    return window.location.origin + url;\n  }\n}\n\n/**\n * Opens new Tab with passed URL\n *\n * @param {string} url - URL address to redirect\n */\nexport function openTab(url: string): void {\n  window.open(url, '_blank');\n}\n\n/**\n * Returns random generated identifier\n *\n * @param {string} prefix - identifier prefix\n *\n * @returns {string}\n */\nexport function generateId(prefix = ''): string {\n  // tslint:disable-next-line:no-bitwise\n  return `${prefix}${(Math.floor(Math.random() * 1e8)).toString(16)}`;\n}\n\n/**\n * Common method for printing a warning about the usage of deprecated property or method.\n *\n * @param condition - condition for deprecation.\n * @param oldProperty - deprecated property.\n * @param newProperty - the property that should be used instead.\n */\nexport function deprecationAssert(condition: boolean, oldProperty: string, newProperty: string): void {\n  const message = `«${oldProperty}» is deprecated and will be removed in the next major release. Please use the «${newProperty}» instead.`;\n\n  if (condition) {\n    logLabeled(message, 'warn');\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9a5ed6628390059e6e6aeb6e785b712f0db0cb8e"});var l=t[n];return s=function(){return l},l}Object.defineProperty(n,"__esModule",{value:!0}),n.setLogLevel=function(n){s().f[2]++,s().s[37]++,a.logLevel=n},n.isPrintableKey=function(n){return s().f[3]++,s().s[40]++,s().b[15][0]++,n>47&&(s().b[15][1]++,n<58)||(s().b[15][2]++,32===n)||(s().b[15][3]++,13===n)||(s().b[15][4]++,229===n)||(s().b[15][5]++,n>64&&(s().b[15][6]++,n<91))||(s().b[15][7]++,n>95&&(s().b[15][8]++,n<112))||(s().b[15][9]++,n>185&&(s().b[15][10]++,n<193))||(s().b[15][11]++,n>218&&(s().b[15][12]++,n<223))},n.sequence=function(n){return d.apply(this,arguments)},n.array=function(n){return s().f[9]++,s().s[48]++,Array.prototype.slice.call(n)},n.isFunction=f,n.isClass=function(n){return s().f[11]++,s().s[50]++,s().b[20][0]++,f(n)&&(s().b[20][1]++,/^\s*class\s+/.test(n.toString()))},n.isEmpty=function(n){return s().f[12]++,s().s[51]++,n?(s().b[21][1]++,s().s[53]++,s().b[22][0]++,0===Object.keys(n).length&&(s().b[22][1]++,n.constructor===Object)):(s().b[21][0]++,s().s[52]++,!0)},n.isPromise=function(n){return s().f[13]++,s().s[54]++,Promise.resolve(n)===n},n.delay=function(n,A){return s().f[14]++,s().s[55]++,function(){s().f[15]++;var e=(s().s[56]++,this),t=(s().s[57]++,arguments);s().s[58]++,window.setTimeout((function(){return s().f[16]++,s().s[59]++,n.apply(e,t)}),A)}},n.getFileExtension=function(n){return s().f[17]++,s().s[60]++,n.name.split(".").pop()},n.isValidMimeType=function(n){return s().f[18]++,s().s[61]++,/^[-\w]+\/([-+\w]+|\*)$/.test(n)},n.debounce=function(n,A,e){var t,l=arguments,o=this;return s().f[19]++,s().s[62]++,function(){s().f[20]++;var i=(s().s[63]++,o),c=(s().s[64]++,l);s().s[65]++;var r=(s().s[69]++,s().b[24][0]++,e&&(s().b[24][1]++,!t));s().s[70]++,window.clearTimeout(t),s().s[71]++,t=window.setTimeout((function(){s().f[21]++,s().s[66]++,t=null,s().s[67]++,e?s().b[23][1]++:(s().b[23][0]++,s().s[68]++,n.apply(i,c))}),A),s().s[72]++,r?(s().b[25][0]++,s().s[73]++,n.apply(i,c)):s().b[25][1]++}},n.copyTextToClipboard=function(n){s().f[22]++;var A=(s().s[74]++,o.default.make("div","codex-editor-clipboard",{innerHTML:n}));s().s[75]++,document.body.appendChild(A);var e=(s().s[76]++,window.getSelection()),t=(s().s[77]++,document.createRange());s().s[78]++,t.selectNode(A),s().s[79]++,window.getSelection().removeAllRanges(),s().s[80]++,e.addRange(t),s().s[81]++,document.execCommand("copy"),s().s[82]++,document.body.removeChild(A)},n.getUserOS=p,n.capitalize=function(n){return s().f[25]++,s().s[90]++,n[0].toUpperCase()+n.slice(1)},n.typeOf=E,n.deepMerge=function n(A){s().f[27]++,s().s[92]++;var e=function(n){return s().f[28]++,s().s[93]++,s().b[27][0]++,n&&(s().b[27][1]++,"object"===E(n))};s().s[94]++;for(var l=arguments.length,o=new Array(l>1?l-1:0),i=1;i<l;i++)o[i-1]=arguments[i];if(!o.length)return s().b[28][0]++,s().s[95]++,A;s().b[28][1]++;var c=(s().s[96]++,o.shift());if(s().s[97]++,s().b[30][0]++,e(A)&&(s().b[30][1]++,e(c)))for(var r in s().b[29][0]++,s().s[98]++,c)s().s[99]++,e(c[r])?(s().b[31][0]++,s().s[100]++,A[r]?s().b[32][1]++:(s().b[32][0]++,s().s[101]++,Object.assign(A,(0,t.default)({},r,{}))),s().s[102]++,n(A[r],c[r])):(s().b[31][1]++,s().s[103]++,Object.assign(A,(0,t.default)({},r,c[r])));else s().b[29][1]++;return s().s[104]++,n.apply(void 0,[A].concat(o))},n.beautifyShortcut=function(n){s().f[29]++;var A=(s().s[106]++,p());return s().s[107]++,n=n.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),s().s[108]++,A.mac?(s().b[33][0]++,s().s[109]++,n=n.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥")):(s().b[33][1]++,s().s[110]++,n=n.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")),s().s[111]++,n},n.getValidUrl=function(n){s().f[30]++,s().s[112]++;try{var A=(s().s[113]++,new URL(n));return s().s[114]++,A.href}catch(n){}return s().s[115]++,"//"===n.substring(0,2)?(s().b[34][0]++,s().s[116]++,window.location.protocol+n):(s().b[34][1]++,s().s[117]++,window.location.origin+n)},n.openTab=function(n){s().f[31]++,s().s[118]++,window.open(n,"_blank")},n.generateId=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(s().b[35][0]++,"");return s().f[32]++,s().s[119]++,"".concat(n).concat(Math.floor(1e8*Math.random()).toString(16))},n.deprecationAssert=function(n,A,e){s().f[33]++;var t=(s().s[120]++,"«".concat(A,"» is deprecated and will be removed in the next major release. Please use the «").concat(e,"» instead."));s().s[121]++,n?(s().b[36][0]++,s().s[122]++,m(t,"warn")):s().b[36][1]++},n.isTouchSupported=n.logLabeled=n.log=n.mouseButtons=n.keyCodes=n.LogLevels=void 0,A=c(A),t=c(t),l=c(l),o=c(o),s(),n.LogLevels=i,s().s[0]++,function(n){s().f[0]++,s().s[1]++,n.VERBOSE="VERBOSE",s().s[2]++,n.INFO="INFO",s().s[3]++,n.WARN="WARN",s().s[4]++,n.ERROR="ERROR"}((s().b[0][0]++,i||(s().b[0][1]++,n.LogLevels=i={})));var r=(s().s[5]++,{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91});n.keyCodes=r;var C=(s().s[6]++,{LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4});function a(n,A){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(s().b[1][0]++,"log"),t=arguments.length>3?arguments[3]:void 0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(s().b[2][0]++,"color: inherit");if(s().f[1]++,s().s[7]++,s().b[4][0]++,!("console"in window)||(s().b[4][1]++,!window.console[e]))return s().b[3][0]++,void s().s[8]++;s().b[3][1]++;var o=(s().s[9]++,["info","log","warn","error"].includes(e)),c=(s().s[10]++,[]);switch(s().s[11]++,a.logLevel){case i.ERROR:if(s().b[5][0]++,s().s[12]++,"error"!==e)return s().b[6][0]++,void s().s[13]++;s().b[6][1]++,s().s[14]++;break;case i.WARN:if(s().b[5][1]++,s().s[15]++,!["error","warn"].includes(e))return s().b[7][0]++,void s().s[16]++;s().b[7][1]++,s().s[17]++;break;case i.INFO:if(s().b[5][2]++,s().s[18]++,s().b[9][0]++,!o||(s().b[9][1]++,n))return s().b[8][0]++,void s().s[19]++;s().b[8][1]++,s().s[20]++}s().s[21]++,t?(s().b[10][0]++,s().s[22]++,c.push(t)):s().b[10][1]++;var r=(s().s[23]++,"Editor.js ".concat("2.19.0")),C=(s().s[24]++,"line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;");s().s[25]++,n?(s().b[11][0]++,s().s[26]++,o?(s().b[12][0]++,s().s[27]++,c.unshift(C,l),s().s[28]++,A="%c".concat(r,"%c ").concat(A)):(s().b[12][1]++,s().s[29]++,A="( ".concat(r," )").concat(A))):s().b[11][1]++,s().s[30]++;try{var u,m;s().s[31]++,o?(s().b[13][1]++,s().s[33]++,t?(s().b[14][0]++,s().s[34]++,(u=console)[e].apply(u,["".concat(A," %o")].concat(c))):(s().b[14][1]++,s().s[35]++,(m=console)[e].apply(m,[A].concat(c)))):(s().b[13][0]++,s().s[32]++,console[e](A))}catch(n){}}n.mouseButtons=C,s().s[36]++,a.logLevel=i.VERBOSE;var u=(s().s[38]++,a.bind(window,!1));n.log=u;var m=(s().s[39]++,a.bind(window,!0));function d(){return(d=(0,l.default)(A.default.mark((function n(e){var t,o,i,c,r=arguments;return A.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=function(){return(c=(0,l.default)(A.default.mark((function n(e,t,l){return A.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s().f[7]++,s().s[41]++,n.prev=2,s().s[42]++,n.next=6,e.function(e.data);case 6:return s().s[43]++,n.next=9,t(void 0!==e.data?(s().b[18][0]++,e.data):(s().b[18][1]++,{}));case 9:n.next=15;break;case 11:n.prev=11,n.t0=n.catch(2),s().s[44]++,l(void 0!==e.data?(s().b[19][0]++,e.data):(s().b[19][1]++,{}));case 15:case"end":return n.stop()}}),n,null,[[2,11]])})))).apply(this,arguments)},i=function(n,A,e){return c.apply(this,arguments)},t=r.length>1&&void 0!==r[1]?r[1]:(s().b[16][0]++,function(){s().f[5]++}),o=r.length>2&&void 0!==r[2]?r[2]:(s().b[17][0]++,function(){s().f[6]++}),s().f[4]++,s().s[45]++,n.abrupt("return",e.reduce(function(){var n=(0,l.default)(A.default.mark((function n(e,l){return A.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s().f[8]++,s().s[46]++,n.next=4,e;case 4:return s().s[47]++,n.abrupt("return",i(l,t,o));case 6:case"end":return n.stop()}}),n)})));return function(A,e){return n.apply(this,arguments)}}(),Promise.resolve()));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(n){return s().f[10]++,s().s[49]++,"function"==typeof n}function p(){s().f[23]++;var n=(s().s[83]++,{win:!1,mac:!1,x11:!1,linux:!1}),A=(s().s[84]++,Object.keys(n).find((function(n){return s().f[24]++,s().s[85]++,-1!==navigator.appVersion.toLowerCase().indexOf(n)})));return s().s[86]++,A?(s().b[26][0]++,s().s[87]++,n[A]=!0,s().s[88]++,n):(s().b[26][1]++,s().s[89]++,n)}function E(n){return s().f[26]++,s().s[91]++,Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}n.logLabeled=m;var I=(s().s[105]++,"ontouchstart"in document.documentElement);n.isTouchSupported=I})?t.apply(A,l):t)||(n.exports=o)},function(n,A){var e=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(n,A){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,A,e){var t=e(12);n.exports=function(n){if(!t(n))throw TypeError(n+" is not an object!");return n}},function(n,A){n.exports=function(n){return"object"==typeof n?null!==n:"function"==typeof n}},function(n,A,e){var t=e(52);function l(){if("function"!=typeof WeakMap)return null;var n=new WeakMap;return l=function(){return n},n}n.exports=function(n){if(n&&n.__esModule)return n;if(null===n||"object"!==t(n)&&"function"!=typeof n)return{default:n};var A=l();if(A&&A.has(n))return A.get(n);var e={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var c=o?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(e,i,c):e[i]=n[i]}return e.default=n,A&&A.set(n,e),e}},function(n,A,e){var t=e(68)("wks"),l=e(43),o=e(9).Symbol,i="function"==typeof o;(n.exports=function(n){return t[n]||(t[n]=i&&o[n]||(i?o:l)("Symbol."+n))}).store=t},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(52),e(66),e(2),e(3),e(8)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s){"use strict";var r=e(13),C=e(1);function a(){var n="/home/hata/editor.js/src/components/dom.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"34348cad585e86d4402cf42203d2ebb978f9241b"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/dom.ts",statementMap:{0:{start:{line:13,column:8},end:{line:30,column:32}},1:{start:{line:39,column:8},end:{line:42,column:36}},2:{start:{line:54,column:19},end:{line:54,column:50}},3:{start:{line:55,column:8},end:{line:60,column:9}},4:{start:{line:56,column:12},end:{line:56,column:44}},5:{start:{line:58,column:13},end:{line:60,column:9}},6:{start:{line:59,column:12},end:{line:59,column:41}},7:{start:{line:61,column:8},end:{line:65,column:9}},8:{start:{line:62,column:12},end:{line:64,column:13}},9:{start:{line:63,column:16},end:{line:63,column:52}},10:{start:{line:66,column:8},end:{line:66,column:18}},11:{start:{line:76,column:8},end:{line:76,column:48}},12:{start:{line:88,column:21},end:{line:88,column:82}},13:{start:{line:89,column:8},end:{line:89,column:52}},14:{start:{line:90,column:8},end:{line:90,column:49}},15:{start:{line:91,column:8},end:{line:91,column:51}},16:{start:{line:92,column:8},end:{line:92,column:104}},17:{start:{line:93,column:8},end:{line:93,column:20}},18:{start:{line:102,column:8},end:{line:107,column:9}},19:{start:{line:103,column:12},end:{line:103,column:61}},20:{start:{line:103,column:37},end:{line:103,column:59}},21:{start:{line:106,column:12},end:{line:106,column:41}},22:{start:{line:116,column:8},end:{line:122,column:9}},23:{start:{line:117,column:12},end:{line:117,column:42}},24:{start:{line:118,column:12},end:{line:118,column:57}},25:{start:{line:118,column:37},end:{line:118,column:55}},26:{start:{line:121,column:12},end:{line:121,column:37}},27:{start:{line:133,column:21},end:{line:133,column:50}},28:{start:{line:133,column:61},end:{line:133,column:75}},29:{start:{line:134,column:8},end:{line:134,column:39}},30:{start:{line:136,column:8},end:{line:136,column:38}},31:{start:{line:138,column:8},end:{line:138,column:39}},32:{start:{line:140,column:8},end:{line:140,column:33}},33:{start:{line:153,column:8},end:{line:153,column:42}},34:{start:{line:162,column:8},end:{line:162,column:43}},35:{start:{line:175,column:8},end:{line:175,column:45}},36:{start:{line:181,column:34},end:{line:181,column:97}},37:{start:{line:182,column:8},end:{line:183,column:80}},38:{start:{line:183,column:44},end:{line:183,column:67}},39:{start:{line:191,column:8},end:{line:200,column:15}},40:{start:{line:196,column:12},end:{line:198,column:13}},41:{start:{line:197,column:16},end:{line:197,column:42}},42:{start:{line:199,column:12},end:{line:199,column:70}},43:{start:{line:222,column:22},end:{line:222,column:57}},44:{start:{line:222,column:69},end:{line:222,column:111}},45:{start:{line:223,column:8},end:{line:251,column:9}},46:{start:{line:224,column:28},end:{line:224,column:39}},47:{start:{line:228,column:12},end:{line:249,column:13}},48:{start:{line:240,column:16},end:{line:248,column:17}},49:{start:{line:241,column:20},end:{line:241,column:51}},50:{start:{line:243,column:21},end:{line:248,column:17}},51:{start:{line:244,column:20},end:{line:244,column:62}},52:{start:{line:247,column:20},end:{line:247,column:48}},53:{start:{line:250,column:12},end:{line:250,column:58}},54:{start:{line:252,column:8},end:{line:252,column:20}},55:{start:{line:263,column:8},end:{line:263,column:104}},56:{start:{line:273,column:8},end:{line:273,column:114}},57:{start:{line:283,column:8},end:{line:283,column:50}},58:{start:{line:294,column:29},end:{line:297,column:9}},59:{start:{line:298,column:8},end:{line:298,column:88}},60:{start:{line:308,column:21},end:{line:308,column:25}},61:{start:{line:309,column:8},end:{line:325,column:9}},62:{start:{line:310,column:12},end:{line:321,column:13}},63:{start:{line:319,column:20},end:{line:319,column:35}},64:{start:{line:320,column:20},end:{line:320,column:26}},65:{start:{line:324,column:12},end:{line:324,column:51}},66:{start:{line:326,column:8},end:{line:326,column:22}},67:{start:{line:340,column:8},end:{line:342,column:9}},68:{start:{line:341,column:12},end:{line:341,column:25}},69:{start:{line:343,column:8},end:{line:348,column:9}},70:{start:{line:344,column:12},end:{line:344,column:34}},71:{start:{line:347,column:12},end:{line:347,column:62}},72:{start:{line:349,column:8},end:{line:349,column:44}},73:{start:{line:359,column:8},end:{line:361,column:9}},74:{start:{line:360,column:12},end:{line:360,column:25}},75:{start:{line:362,column:8},end:{line:362,column:44}},76:{start:{line:377,column:8},end:{line:377,column:25}},77:{start:{line:378,column:27},end:{line:378,column:33}},78:{start:{line:379,column:8},end:{line:390,column:9}},79:{start:{line:380,column:12},end:{line:380,column:38}},80:{start:{line:381,column:12},end:{line:383,column:13}},81:{start:{line:382,column:16},end:{line:382,column:25}},82:{start:{line:384,column:12},end:{line:386,column:13}},83:{start:{line:385,column:16},end:{line:385,column:29}},84:{start:{line:387,column:12},end:{line:389,column:13}},85:{start:{line:388,column:16},end:{line:388,column:64}},86:{start:{line:391,column:8},end:{line:391,column:20}},87:{start:{line:401,column:24},end:{line:401,column:39}},88:{start:{line:402,column:8},end:{line:402,column:32}},89:{start:{line:403,column:8},end:{line:403,column:45}},90:{start:{line:413,column:8},end:{line:415,column:9}},91:{start:{line:414,column:12},end:{line:414,column:37}},92:{start:{line:416,column:8},end:{line:418,column:9}},93:{start:{line:417,column:12},end:{line:417,column:31}},94:{start:{line:419,column:8},end:{line:419,column:39}},95:{start:{line:427,column:8},end:{line:465,column:10}},96:{start:{line:476,column:8},end:{line:482,column:9}},97:{start:{line:477,column:12},end:{line:477,column:52}},98:{start:{line:478,column:12},end:{line:478,column:37}},99:{start:{line:481,column:12},end:{line:481,column:27}},100:{start:{line:483,column:22},end:{line:486,column:9}},101:{start:{line:484,column:12},end:{line:485,column:58}},102:{start:{line:487,column:8},end:{line:487,column:57}},103:{start:{line:497,column:8},end:{line:499,column:9}},104:{start:{line:498,column:12},end:{line:498,column:28}},105:{start:{line:500,column:8},end:{line:502,column:15}},106:{start:{line:501,column:12},end:{line:501,column:72}},107:{start:{line:512,column:8},end:{line:514,column:9}},108:{start:{line:513,column:12},end:{line:513,column:52}},109:{start:{line:515,column:8},end:{line:515,column:23}},110:{start:{line:525,column:27},end:{line:527,column:9}},111:{start:{line:528,column:8},end:{line:528,column:58}},112:{start:{line:538,column:8},end:{line:538,column:53}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:28},end:{line:31,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:38,column:4},end:{line:38,column:5}},loc:{start:{line:38,column:35},end:{line:43,column:5}},line:38},2:{name:"(anonymous_2)",decl:{start:{line:53,column:4},end:{line:53,column:5}},loc:{start:{line:53,column:61},end:{line:67,column:5}},line:53},3:{name:"(anonymous_3)",decl:{start:{line:75,column:4},end:{line:75,column:5}},loc:{start:{line:75,column:25},end:{line:77,column:5}},line:75},4:{name:"(anonymous_4)",decl:{start:{line:87,column:4},end:{line:87,column:5}},loc:{start:{line:87,column:46},end:{line:94,column:5}},line:87},5:{name:"(anonymous_5)",decl:{start:{line:101,column:4},end:{line:101,column:5}},loc:{start:{line:101,column:36},end:{line:108,column:5}},line:101},6:{name:"(anonymous_6)",decl:{start:{line:103,column:29},end:{line:103,column:30}},loc:{start:{line:103,column:37},end:{line:103,column:59}},line:103},7:{name:"(anonymous_7)",decl:{start:{line:115,column:4},end:{line:115,column:5}},loc:{start:{line:115,column:37},end:{line:123,column:5}},line:115},8:{name:"(anonymous_8)",decl:{start:{line:118,column:29},end:{line:118,column:30}},loc:{start:{line:118,column:37},end:{line:118,column:55}},line:118},9:{name:"(anonymous_9)",decl:{start:{line:131,column:4},end:{line:131,column:5}},loc:{start:{line:131,column:26},end:{line:141,column:5}},line:131},10:{name:"(anonymous_10)",decl:{start:{line:152,column:4},end:{line:152,column:5}},loc:{start:{line:152,column:41},end:{line:154,column:5}},line:152},11:{name:"(anonymous_11)",decl:{start:{line:161,column:4},end:{line:161,column:5}},loc:{start:{line:161,column:19},end:{line:163,column:5}},line:161},12:{name:"(anonymous_12)",decl:{start:{line:174,column:4},end:{line:174,column:5}},loc:{start:{line:174,column:44},end:{line:176,column:5}},line:174},13:{name:"(anonymous_13)",decl:{start:{line:180,column:4},end:{line:180,column:5}},loc:{start:{line:180,column:35},end:{line:184,column:5}},line:180},14:{name:"(anonymous_14)",decl:{start:{line:183,column:34},end:{line:183,column:35}},loc:{start:{line:183,column:44},end:{line:183,column:67}},line:183},15:{name:"(anonymous_15)",decl:{start:{line:190,column:4},end:{line:190,column:5}},loc:{start:{line:190,column:33},end:{line:201,column:5}},line:190},16:{name:"(anonymous_16)",decl:{start:{line:195,column:20},end:{line:195,column:21}},loc:{start:{line:195,column:39},end:{line:200,column:9}},line:195},17:{name:"(anonymous_17)",decl:{start:{line:214,column:4},end:{line:214,column:5}},loc:{start:{line:214,column:48},end:{line:253,column:5}},line:214},18:{name:"(anonymous_18)",decl:{start:{line:262,column:4},end:{line:262,column:5}},loc:{start:{line:262,column:27},end:{line:264,column:5}},line:262},19:{name:"(anonymous_19)",decl:{start:{line:272,column:4},end:{line:272,column:5}},loc:{start:{line:272,column:28},end:{line:274,column:5}},line:272},20:{name:"(anonymous_20)",decl:{start:{line:282,column:4},end:{line:282,column:5}},loc:{start:{line:282,column:38},end:{line:284,column:5}},line:282},21:{name:"(anonymous_21)",decl:{start:{line:293,column:4},end:{line:293,column:5}},loc:{start:{line:293,column:33},end:{line:299,column:5}},line:293},22:{name:"(anonymous_22)",decl:{start:{line:307,column:4},end:{line:307,column:5}},loc:{start:{line:307,column:31},end:{line:327,column:5}},line:307},23:{name:"(anonymous_23)",decl:{start:{line:338,column:4},end:{line:338,column:5}},loc:{start:{line:338,column:29},end:{line:350,column:5}},line:338},24:{name:"(anonymous_24)",decl:{start:{line:358,column:4},end:{line:358,column:5}},loc:{start:{line:358,column:24},end:{line:363,column:5}},line:358},25:{name:"(anonymous_25)",decl:{start:{line:373,column:4},end:{line:373,column:5}},loc:{start:{line:373,column:25},end:{line:392,column:5}},line:373},26:{name:"(anonymous_26)",decl:{start:{line:400,column:4},end:{line:400,column:5}},loc:{start:{line:400,column:29},end:{line:404,column:5}},line:400},27:{name:"(anonymous_27)",decl:{start:{line:412,column:4},end:{line:412,column:5}},loc:{start:{line:412,column:34},end:{line:420,column:5}},line:412},28:{name:"(anonymous_28)",decl:{start:{line:426,column:4},end:{line:426,column:5}},loc:{start:{line:426,column:31},end:{line:466,column:5}},line:426},29:{name:"(anonymous_29)",decl:{start:{line:474,column:4},end:{line:474,column:5}},loc:{start:{line:474,column:44},end:{line:488,column:5}},line:474},30:{name:"(anonymous_30)",decl:{start:{line:483,column:22},end:{line:483,column:23}},loc:{start:{line:483,column:35},end:{line:486,column:9}},line:483},31:{name:"(anonymous_31)",decl:{start:{line:496,column:4},end:{line:496,column:5}},loc:{start:{line:496,column:43},end:{line:503,column:5}},line:496},32:{name:"(anonymous_32)",decl:{start:{line:500,column:50},end:{line:500,column:51}},loc:{start:{line:500,column:71},end:{line:502,column:9}},line:500},33:{name:"(anonymous_33)",decl:{start:{line:511,column:4},end:{line:511,column:5}},loc:{start:{line:511,column:30},end:{line:516,column:5}},line:511},34:{name:"(anonymous_34)",decl:{start:{line:524,column:4},end:{line:524,column:5}},loc:{start:{line:524,column:33},end:{line:529,column:5}},line:524},35:{name:"(anonymous_35)",decl:{start:{line:537,column:4},end:{line:537,column:5}},loc:{start:{line:537,column:29},end:{line:539,column:5}},line:537}},branchMap:{0:{loc:{start:{line:13,column:15},end:{line:30,column:31}},type:"binary-expr",locations:[{start:{line:13,column:15},end:{line:13,column:26}},{start:{line:13,column:30},end:{line:30,column:31}}],line:13},1:{loc:{start:{line:39,column:15},end:{line:42,column:35}},type:"binary-expr",locations:[{start:{line:39,column:15},end:{line:39,column:22}},{start:{line:39,column:26},end:{line:39,column:41}},{start:{line:39,column:45},end:{line:42,column:35}}],line:39},2:{loc:{start:{line:53,column:25},end:{line:53,column:42}},type:"default-arg",locations:[{start:{line:53,column:38},end:{line:53,column:42}}],line:53},3:{loc:{start:{line:53,column:44},end:{line:53,column:59}},type:"default-arg",locations:[{start:{line:53,column:57},end:{line:53,column:59}}],line:53},4:{loc:{start:{line:55,column:8},end:{line:60,column:9}},type:"if",locations:[{start:{line:55,column:8},end:{line:60,column:9}},{start:{line:55,column:8},end:{line:60,column:9}}],line:55},5:{loc:{start:{line:58,column:13},end:{line:60,column:9}},type:"if",locations:[{start:{line:58,column:13},end:{line:60,column:9}},{start:{line:58,column:13},end:{line:60,column:9}}],line:58},6:{loc:{start:{line:62,column:12},end:{line:64,column:13}},type:"if",locations:[{start:{line:62,column:12},end:{line:64,column:13}},{start:{line:62,column:12},end:{line:64,column:13}}],line:62},7:{loc:{start:{line:87,column:21},end:{line:87,column:31}},type:"default-arg",locations:[{start:{line:87,column:29},end:{line:87,column:31}}],line:87},8:{loc:{start:{line:87,column:33},end:{line:87,column:44}},type:"default-arg",locations:[{start:{line:87,column:42},end:{line:87,column:44}}],line:87},9:{loc:{start:{line:102,column:8},end:{line:107,column:9}},type:"if",locations:[{start:{line:102,column:8},end:{line:107,column:9}},{start:{line:102,column:8},end:{line:107,column:9}}],line:102},10:{loc:{start:{line:116,column:8},end:{line:122,column:9}},type:"if",locations:[{start:{line:116,column:8},end:{line:122,column:9}},{start:{line:116,column:8},end:{line:122,column:9}}],line:116},11:{loc:{start:{line:152,column:16},end:{line:152,column:29}},type:"default-arg",locations:[{start:{line:152,column:21},end:{line:152,column:29}}],line:152},12:{loc:{start:{line:174,column:19},end:{line:174,column:32}},type:"default-arg",locations:[{start:{line:174,column:24},end:{line:174,column:32}}],line:174},13:{loc:{start:{line:196,column:12},end:{line:198,column:13}},type:"if",locations:[{start:{line:196,column:12},end:{line:198,column:13}},{start:{line:196,column:12},end:{line:198,column:13}}],line:196},14:{loc:{start:{line:196,column:16},end:{line:196,column:81}},type:"binary-expr",locations:[{start:{line:196,column:16},end:{line:196,column:40}},{start:{line:196,column:44},end:{line:196,column:81}}],line:196},15:{loc:{start:{line:214,column:32},end:{line:214,column:46}},type:"default-arg",locations:[{start:{line:214,column:41},end:{line:214,column:46}}],line:214},16:{loc:{start:{line:222,column:22},end:{line:222,column:57}},type:"cond-expr",locations:[{start:{line:222,column:31},end:{line:222,column:42}},{start:{line:222,column:45},end:{line:222,column:57}}],line:222},17:{loc:{start:{line:222,column:69},end:{line:222,column:111}},type:"cond-expr",locations:[{start:{line:222,column:78},end:{line:222,column:95}},{start:{line:222,column:98},end:{line:222,column:111}}],line:222},18:{loc:{start:{line:223,column:8},end:{line:251,column:9}},type:"if",locations:[{start:{line:223,column:8},end:{line:251,column:9}},{start:{line:223,column:8},end:{line:251,column:9}}],line:223},19:{loc:{start:{line:223,column:12},end:{line:223,column:70}},type:"binary-expr",locations:[{start:{line:223,column:12},end:{line:223,column:16}},{start:{line:223,column:20},end:{line:223,column:55}},{start:{line:223,column:59},end:{line:223,column:70}}],line:223},20:{loc:{start:{line:228,column:12},end:{line:249,column:13}},type:"if",locations:[{start:{line:228,column:12},end:{line:249,column:13}},{start:{line:228,column:12},end:{line:249,column:13}}],line:228},21:{loc:{start:{line:228,column:16},end:{line:230,column:46}},type:"binary-expr",locations:[{start:{line:228,column:16},end:{line:228,column:42}},{start:{line:229,column:16},end:{line:229,column:45}},{start:{line:230,column:16},end:{line:230,column:46}}],line:228},22:{loc:{start:{line:240,column:16},end:{line:248,column:17}},type:"if",locations:[{start:{line:240,column:16},end:{line:248,column:17}},{start:{line:240,column:16},end:{line:248,column:17}}],line:240},23:{loc:{start:{line:243,column:21},end:{line:248,column:17}},type:"if",locations:[{start:{line:243,column:21},end:{line:248,column:17}},{start:{line:243,column:21},end:{line:248,column:17}}],line:243},24:{loc:{start:{line:263,column:15},end:{line:263,column:103}},type:"binary-expr",locations:[{start:{line:263,column:15},end:{line:263,column:19}},{start:{line:263,column:23},end:{line:263,column:47}},{start:{line:263,column:51},end:{line:263,column:64}},{start:{line:263,column:68},end:{line:263,column:103}}],line:263},25:{loc:{start:{line:273,column:15},end:{line:273,column:113}},type:"binary-expr",locations:[{start:{line:273,column:15},end:{line:273,column:19}},{start:{line:273,column:23},end:{line:273,column:47}},{start:{line:273,column:51},end:{line:273,column:64}},{start:{line:273,column:68},end:{line:273,column:113}}],line:273},26:{loc:{start:{line:298,column:15},end:{line:298,column:87}},type:"cond-expr",locations:[{start:{line:298,column:42},end:{line:298,column:79}},{start:{line:298,column:82},end:{line:298,column:87}}],line:298},27:{loc:{start:{line:298,column:15},end:{line:298,column:39}},type:"binary-expr",locations:[{start:{line:298,column:15},end:{line:298,column:21}},{start:{line:298,column:25},end:{line:298,column:39}}],line:298},28:{loc:{start:{line:309,column:8},end:{line:325,column:9}},type:"if",locations:[{start:{line:309,column:8},end:{line:325,column:9}},{start:{line:309,column:8},end:{line:325,column:9}}],line:309},29:{loc:{start:{line:310,column:12},end:{line:321,column:13}},type:"switch",locations:[{start:{line:311,column:16},end:{line:311,column:28}},{start:{line:312,column:16},end:{line:312,column:32}},{start:{line:313,column:16},end:{line:313,column:29}},{start:{line:314,column:16},end:{line:314,column:30}},{start:{line:315,column:16},end:{line:315,column:30}},{start:{line:316,column:16},end:{line:316,column:30}},{start:{line:317,column:16},end:{line:317,column:29}},{start:{line:318,column:16},end:{line:320,column:26}}],line:310},30:{loc:{start:{line:340,column:8},end:{line:342,column:9}},type:"if",locations:[{start:{line:340,column:8},end:{line:342,column:9}},{start:{line:340,column:8},end:{line:342,column:9}}],line:340},31:{loc:{start:{line:340,column:12},end:{line:340,column:64}},type:"binary-expr",locations:[{start:{line:340,column:12},end:{line:340,column:34}},{start:{line:340,column:38},end:{line:340,column:64}}],line:340},32:{loc:{start:{line:343,column:8},end:{line:348,column:9}},type:"if",locations:[{start:{line:343,column:8},end:{line:348,column:9}},{start:{line:343,column:8},end:{line:348,column:9}}],line:343},33:{loc:{start:{line:343,column:12},end:{line:343,column:60}},type:"binary-expr",locations:[{start:{line:343,column:12},end:{line:343,column:32}},{start:{line:343,column:36},end:{line:343,column:60}}],line:343},34:{loc:{start:{line:359,column:8},end:{line:361,column:9}},type:"if",locations:[{start:{line:359,column:8},end:{line:361,column:9}},{start:{line:359,column:8},end:{line:361,column:9}}],line:359},35:{loc:{start:{line:381,column:12},end:{line:383,column:13}},type:"if",locations:[{start:{line:381,column:12},end:{line:383,column:13}},{start:{line:381,column:12},end:{line:383,column:13}}],line:381},36:{loc:{start:{line:384,column:12},end:{line:386,column:13}},type:"if",locations:[{start:{line:384,column:12},end:{line:386,column:13}},{start:{line:384,column:12},end:{line:386,column:13}}],line:384},37:{loc:{start:{line:384,column:16},end:{line:384,column:60}},type:"binary-expr",locations:[{start:{line:384,column:16},end:{line:384,column:33}},{start:{line:384,column:37},end:{line:384,column:60}}],line:384},38:{loc:{start:{line:387,column:12},end:{line:389,column:13}},type:"if",locations:[{start:{line:387,column:12},end:{line:389,column:13}},{start:{line:387,column:12},end:{line:389,column:13}}],line:387},39:{loc:{start:{line:413,column:8},end:{line:415,column:9}},type:"if",locations:[{start:{line:413,column:8},end:{line:415,column:9}},{start:{line:413,column:8},end:{line:415,column:9}}],line:413},40:{loc:{start:{line:416,column:8},end:{line:418,column:9}},type:"if",locations:[{start:{line:416,column:8},end:{line:418,column:9}},{start:{line:416,column:8},end:{line:418,column:9}}],line:416},41:{loc:{start:{line:476,column:8},end:{line:482,column:9}},type:"if",locations:[{start:{line:476,column:8},end:{line:482,column:9}},{start:{line:476,column:8},end:{line:482,column:9}}],line:476},42:{loc:{start:{line:484,column:19},end:{line:485,column:57}},type:"binary-expr",locations:[{start:{line:484,column:19},end:{line:484,column:77}},{start:{line:485,column:16},end:{line:485,column:57}}],line:484},43:{loc:{start:{line:497,column:8},end:{line:499,column:9}},type:"if",locations:[{start:{line:497,column:8},end:{line:499,column:9}},{start:{line:497,column:8},end:{line:499,column:9}}],line:497},44:{loc:{start:{line:512,column:8},end:{line:514,column:9}},type:"if",locations:[{start:{line:512,column:8},end:{line:514,column:9}},{start:{line:512,column:8},end:{line:514,column:9}}],line:512},45:{loc:{start:{line:528,column:15},end:{line:528,column:57}},type:"binary-expr",locations:[{start:{line:528,column:15},end:{line:528,column:19}},{start:{line:528,column:23},end:{line:528,column:57}}],line:528}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},b:{0:[0,0],1:[0,0,0],2:[0],3:[0],4:[0,0],5:[0,0],6:[0,0],7:[0],8:[0],9:[0,0],10:[0,0],11:[0],12:[0],13:[0,0],14:[0,0],15:[0],16:[0,0],17:[0,0],18:[0,0],19:[0,0,0],20:[0,0],21:[0,0,0],22:[0,0],23:[0,0],24:[0,0,0,0],25:[0,0,0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0,0,0,0,0,0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/dom.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/dom.ts"],names:[],mappings:"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",sourcesContent:["import * as _ from './utils';\n\n/**\n * DOM manipulations helper\n */\nexport default class Dom {\n  /**\n   * Check if passed tag has no closed tag\n   *\n   * @param {HTMLElement} tag - element to check\n   * @returns {boolean}\n   */\n  public static isSingleTag(tag: HTMLElement): boolean {\n    return tag.tagName && [\n      'AREA',\n      'BASE',\n      'BR',\n      'COL',\n      'COMMAND',\n      'EMBED',\n      'HR',\n      'IMG',\n      'INPUT',\n      'KEYGEN',\n      'LINK',\n      'META',\n      'PARAM',\n      'SOURCE',\n      'TRACK',\n      'WBR',\n    ].includes(tag.tagName);\n  }\n\n  /**\n   * Check if element is BR or WBR\n   *\n   * @param {HTMLElement} element - element to check\n   * @returns {boolean}\n   */\n  public static isLineBreakTag(element: HTMLElement): element is HTMLBRElement {\n    return element && element.tagName && [\n      'BR',\n      'WBR',\n    ].includes(element.tagName);\n  }\n\n  /**\n   * Helper for making Elements with classname and attributes\n   *\n   * @param  {string} tagName - new Element tag name\n   * @param  {string[]|string} [classNames] - list or name of CSS classname(s)\n   * @param  {object} [attributes] - any attributes\n   *\n   * @returns {HTMLElement}\n   */\n  public static make(tagName: string, classNames: string|string[] = null, attributes: object = {}): HTMLElement {\n    const el = document.createElement(tagName);\n\n    if (Array.isArray(classNames)) {\n      el.classList.add(...classNames);\n    } else if (classNames) {\n      el.classList.add(classNames);\n    }\n\n    for (const attrName in attributes) {\n      if (Object.prototype.hasOwnProperty.call(attributes, attrName)) {\n        el[attrName] = attributes[attrName];\n      }\n    }\n\n    return el;\n  }\n\n  /**\n   * Creates Text Node with the passed content\n   *\n   * @param {string} content - text content\n   *\n   * @returns {Text}\n   */\n  public static text(content: string): Text {\n    return document.createTextNode(content);\n  }\n\n  /**\n   * Creates SVG icon linked to the sprite\n   *\n   * @param {string} name - name (id) of icon from sprite\n   * @param {number} [width] - icon width\n   * @param {number} [height] - icon height\n   *\n   * @returns {SVGElement}\n   */\n  public static svg(name: string, width = 14, height = 14): SVGElement {\n    const icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n    icon.classList.add('icon', 'icon--' + name);\n    icon.setAttribute('width', width + 'px');\n    icon.setAttribute('height', height + 'px');\n    icon.innerHTML = `<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#${name}\"></use>`;\n\n    return icon;\n  }\n\n  /**\n   * Append one or several elements to the parent\n   *\n   * @param  {Element|DocumentFragment} parent - where to append\n   * @param  {Element|Element[]|DocumentFragment|Text|Text[]} elements - element or elements list\n   */\n  public static append(\n    parent: Element|DocumentFragment,\n    elements: Element|Element[]|DocumentFragment|Text|Text[]\n  ): void {\n    if (Array.isArray(elements)) {\n      elements.forEach((el) => parent.appendChild(el));\n    } else {\n      parent.appendChild(elements);\n    }\n  }\n\n  /**\n   * Append element or a couple to the beginning of the parent elements\n   *\n   * @param {Element} parent - where to append\n   * @param {Element|Element[]} elements - element or elements list\n   */\n  public static prepend(parent: Element, elements: Element|Element[]): void {\n    if (Array.isArray(elements)) {\n      elements = elements.reverse();\n      elements.forEach((el) => parent.prepend(el));\n    } else {\n      parent.prepend(elements);\n    }\n  }\n\n  /**\n   * Swap two elements in parent\n   *\n   * @param {HTMLElement} el1 - from\n   * @param {HTMLElement} el2 - to\n   * @deprecated\n   */\n  public static swap(el1: HTMLElement, el2: HTMLElement): void {\n    // create marker element and insert it where el1 is\n    const temp = document.createElement('div'),\n        parent = el1.parentNode;\n\n    parent.insertBefore(temp, el1);\n\n    // move el1 to right before el2\n    parent.insertBefore(el1, el2);\n\n    // move el2 to right before where el1 used to be\n    parent.insertBefore(el2, temp);\n\n    // remove temporary marker node\n    parent.removeChild(temp);\n  }\n\n  /**\n   * Selector Decorator\n   *\n   * Returns first match\n   *\n   * @param {Element} el - element we searching inside. Default - DOM Document\n   * @param {string} selector - searching string\n   *\n   * @returns {Element}\n   */\n  public static find(el: Element|Document = document, selector: string): Element {\n    return el.querySelector(selector);\n  }\n\n  /**\n   * Get Element by Id\n   *\n   * @param {string} id - id to find\n   * @returns {HTMLElement | null}\n   */\n  public static get(id: string): HTMLElement | null {\n    return document.getElementById(id);\n  }\n\n  /**\n   * Selector Decorator.\n   *\n   * Returns all matches\n   *\n   * @param {Element|Document} el - element we searching inside. Default - DOM Document\n   * @param {string} selector - searching string\n   *\n   * @returns {NodeList}\n   */\n  public static findAll(el: Element|Document = document, selector: string): NodeList {\n    return el.querySelectorAll(selector);\n  }\n\n  /**\n   * Returns CSS selector for all text inputs\n   */\n  public static get allInputsSelector(): string {\n    const allowedInputTypes = ['text', 'password', 'email', 'number', 'search', 'tel', 'url'];\n\n    return '[contenteditable], textarea, input:not([type]), ' +\n      allowedInputTypes.map((type) => `input[type=\"${type}\"]`).join(', ');\n  }\n\n  /**\n   * Find all contendeditable, textarea and editable input elements passed holder contains\n   *\n   * @param holder - element where to find inputs\n   */\n  public static findAllInputs(holder: Element): HTMLElement[] {\n    return _.array(holder.querySelectorAll(Dom.allInputsSelector))\n      /**\n       * If contenteditable element contains block elements, treat them as inputs.\n       */\n      .reduce((result, input) => {\n        if (Dom.isNativeInput(input) || Dom.containsOnlyInlineElements(input)) {\n          return [...result, input];\n        }\n\n        return [...result, ...Dom.getDeepestBlockElements(input)];\n      }, []);\n  }\n\n  /**\n   * Search for deepest node which is Leaf.\n   * Leaf is the vertex that doesn't have any child nodes\n   *\n   * @description Method recursively goes throw the all Node until it finds the Leaf\n   *\n   * @param {Node} node - root Node. From this vertex we start Deep-first search\n   *                      {@link https://en.wikipedia.org/wiki/Depth-first_search}\n   * @param {boolean} [atLast] - find last text node\n   *\n   * @returns {Node} - it can be text Node or Element Node, so that caret will able to work with it\n   */\n  public static getDeepestNode(node: Node, atLast = false): Node {\n    /**\n     * Current function have two directions:\n     *  - starts from first child and every time gets first or nextSibling in special cases\n     *  - starts from last child and gets last or previousSibling\n     *\n     * @type {string}\n     */\n    const child = atLast ? 'lastChild' : 'firstChild',\n        sibling = atLast ? 'previousSibling' : 'nextSibling';\n\n    if (node && node.nodeType === Node.ELEMENT_NODE && node[child]) {\n      let nodeChild = node[child] as Node;\n\n      /**\n       * special case when child is single tag that can't contain any content\n       */\n      if (\n        Dom.isSingleTag(nodeChild as HTMLElement) &&\n        !Dom.isNativeInput(nodeChild) &&\n        !Dom.isLineBreakTag(nodeChild as HTMLElement)\n      ) {\n        /**\n         * 1) We need to check the next sibling. If it is Node Element then continue searching for deepest\n         * from sibling\n         *\n         * 2) If single tag's next sibling is null, then go back to parent and check his sibling\n         * In case of Node Element continue searching\n         *\n         * 3) If none of conditions above happened return parent Node Element\n         */\n        if (nodeChild[sibling]) {\n          nodeChild = nodeChild[sibling];\n        } else if (nodeChild.parentNode[sibling]) {\n          nodeChild = nodeChild.parentNode[sibling];\n        } else {\n          return nodeChild.parentNode;\n        }\n      }\n\n      return this.getDeepestNode(nodeChild, atLast);\n    }\n\n    return node;\n  }\n\n  /**\n   * Check if object is DOM node\n   *\n   * @param {*} node - object to check\n   *\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public static isElement(node: any): node is Element {\n    return node && typeof node === 'object' && node.nodeType && node.nodeType === Node.ELEMENT_NODE;\n  }\n\n  /**\n   * Check if object is DocumentFragment node\n   *\n   * @param {object} node - object to check\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public static isFragment(node: any): node is DocumentFragment {\n    return node && typeof node === 'object' && node.nodeType && node.nodeType === Node.DOCUMENT_FRAGMENT_NODE;\n  }\n\n  /**\n   * Check if passed element is contenteditable\n   *\n   * @param {HTMLElement} element - html element to check\n   *\n   * @returns {boolean}\n   */\n  public static isContentEditable(element: HTMLElement): boolean {\n    return element.contentEditable === 'true';\n  }\n\n  /**\n   * Checks target if it is native input\n   *\n   * @param {*} target - HTML element or string\n   *\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public static isNativeInput(target: any): target is HTMLInputElement | HTMLTextAreaElement {\n    const nativeInputs = [\n      'INPUT',\n      'TEXTAREA',\n    ];\n\n    return target && target.tagName ? nativeInputs.includes(target.tagName) : false;\n  }\n\n  /**\n   * Checks if we can set caret\n   *\n   * @param {HTMLElement} target - target to check\n   *\n   * @returns {boolean}\n   */\n  public static canSetCaret(target: HTMLElement): boolean {\n    let result = true;\n\n    if (Dom.isNativeInput(target)) {\n      switch (target.type) {\n        case 'file':\n        case 'checkbox':\n        case 'radio':\n        case 'hidden':\n        case 'submit':\n        case 'button':\n        case 'image':\n        case 'reset':\n          result = false;\n          break;\n      }\n    } else {\n      result = Dom.isContentEditable(target);\n    }\n\n    return result;\n  }\n\n  /**\n   * Checks node if it is empty\n   *\n   * @description Method checks simple Node without any childs for emptiness\n   * If you have Node with 2 or more children id depth, you better use {@link Dom#isEmpty} method\n   *\n   * @param {Node} node - node to check\n   *\n   * @returns {boolean} true if it is empty\n   */\n  public static isNodeEmpty(node: Node): boolean {\n    let nodeText;\n\n    if (this.isSingleTag(node as HTMLElement) && !this.isLineBreakTag(node as HTMLElement)) {\n      return false;\n    }\n\n    if (this.isElement(node) && this.isNativeInput(node)) {\n      nodeText = (node as HTMLInputElement).value;\n    } else {\n      nodeText = node.textContent.replace('\\u200B', '');\n    }\n\n    return nodeText.trim().length === 0;\n  }\n\n  /**\n   * checks node if it is doesn't have any child nodes\n   *\n   * @param {Node} node - node to check\n   *\n   * @returns {boolean}\n   */\n  public static isLeaf(node: Node): boolean {\n    if (!node) {\n      return false;\n    }\n\n    return node.childNodes.length === 0;\n  }\n\n  /**\n   * breadth-first search (BFS)\n   * {@link https://en.wikipedia.org/wiki/Breadth-first_search}\n   *\n   * @description Pushes to stack all DOM leafs and checks for emptiness\n   *\n   * @param {Node} node - node to check\n   * @returns {boolean}\n   */\n  public static isEmpty(node: Node): boolean {\n    /**\n     * Normalize node to merge several text nodes to one to reduce tree walker iterations\n     */\n    node.normalize();\n\n    const treeWalker = [ node ];\n\n    while (treeWalker.length > 0) {\n      node = treeWalker.shift();\n\n      if (!node) {\n        continue;\n      }\n\n      if (this.isLeaf(node) && !this.isNodeEmpty(node)) {\n        return false;\n      }\n\n      if (node.childNodes) {\n        treeWalker.push(...Array.from(node.childNodes));\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Check if string contains html elements\n   *\n   * @param {string} str - string to check\n   *\n   * @returns {boolean}\n   */\n  public static isHTMLString(str: string): boolean {\n    const wrapper = Dom.make('div');\n\n    wrapper.innerHTML = str;\n\n    return wrapper.childElementCount > 0;\n  }\n\n  /**\n   * Return length of node`s text content\n   *\n   * @param {Node} node - node with content\n   *\n   * @returns {number}\n   */\n  public static getContentLength(node: Node): number {\n    if (Dom.isNativeInput(node)) {\n      return (node as HTMLInputElement).value.length;\n    }\n\n    if (node.nodeType === Node.TEXT_NODE) {\n      return (node as Text).length;\n    }\n\n    return node.textContent.length;\n  }\n\n  /**\n   * Return array of names of block html elements\n   *\n   * @returns {string[]}\n   */\n  public static get blockElements(): string[] {\n    return [\n      'address',\n      'article',\n      'aside',\n      'blockquote',\n      'canvas',\n      'div',\n      'dl',\n      'dt',\n      'fieldset',\n      'figcaption',\n      'figure',\n      'footer',\n      'form',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'header',\n      'hgroup',\n      'hr',\n      'li',\n      'main',\n      'nav',\n      'noscript',\n      'ol',\n      'output',\n      'p',\n      'pre',\n      'ruby',\n      'section',\n      'table',\n      'tr',\n      'tfoot',\n      'ul',\n      'video',\n    ];\n  }\n\n  /**\n   * Check if passed content includes only inline elements\n   *\n   * @param {string|HTMLElement} data - element or html string\n   *\n   * @returns {boolean}\n   */\n  public static containsOnlyInlineElements(data: string | HTMLElement): boolean {\n    let wrapper: HTMLElement;\n\n    if (typeof data === 'string') {\n      wrapper = document.createElement('div');\n      wrapper.innerHTML = data;\n    } else {\n      wrapper = data;\n    }\n\n    const check = (element: HTMLElement): boolean => {\n      return !Dom.blockElements.includes(element.tagName.toLowerCase()) &&\n        Array.from(element.children).every(check);\n    };\n\n    return Array.from(wrapper.children).every(check);\n  }\n\n  /**\n   * Find and return all block elements in the passed parent (including subtree)\n   *\n   * @param {HTMLElement} parent - root element\n   *\n   * @returns {HTMLElement[]}\n   */\n  public static getDeepestBlockElements(parent: HTMLElement): HTMLElement[] {\n    if (Dom.containsOnlyInlineElements(parent)) {\n      return [ parent ];\n    }\n\n    return Array.from(parent.children).reduce((result, element) => {\n      return [...result, ...Dom.getDeepestBlockElements(element as HTMLElement)];\n    }, []);\n  }\n\n  /**\n   * Helper for get holder from {string} or return HTMLElement\n   *\n   * @param {string | HTMLElement} element - holder's id or holder's HTML Element\n   *\n   * @returns {HTMLElement}\n   */\n  public static getHolder(element: string | HTMLElement): HTMLElement {\n    if (typeof element === 'string') {\n      return document.getElementById(element);\n    }\n\n    return element;\n  }\n\n  /**\n   * Method checks passed Node if it is some extension Node\n   *\n   * @param {Node} node - any node\n   *\n   * @returns {boolean}\n   */\n  public static isExtensionNode(node: Node): boolean {\n    const extensions = [\n      'GRAMMARLY-EXTENSION',\n    ];\n\n    return node && extensions.includes(node.nodeName);\n  }\n\n  /**\n   * Returns true if element is anchor (is A tag)\n   *\n   * @param {Element} element - element to check\n   *\n   * @returns {boolean}\n   */\n  public static isAnchor(element: Element): element is HTMLAnchorElement {\n    return element.tagName.toLowerCase() === 'a';\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"34348cad585e86d4402cf42203d2ebb978f9241b"});var l=t[n];return a=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=C(i),c=C(c),s=r(s),a();var u=function(){function n(){(0,i.default)(this,n)}return(0,c.default)(n,null,[{key:"isSingleTag",value:function(n){return a().f[0]++,a().s[0]++,a().b[0][0]++,n.tagName&&(a().b[0][1]++,["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(n.tagName))}},{key:"isLineBreakTag",value:function(n){return a().f[1]++,a().s[1]++,a().b[1][0]++,n&&(a().b[1][1]++,n.tagName)&&(a().b[1][2]++,["BR","WBR"].includes(n.tagName))}},{key:"make",value:function(n){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(a().b[2][0]++,null),e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(a().b[3][0]++,{});a().f[2]++;var t,l=(a().s[2]++,document.createElement(n));for(var i in a().s[3]++,Array.isArray(A)?(a().b[4][0]++,a().s[4]++,(t=l.classList).add.apply(t,(0,o.default)(A))):(a().b[4][1]++,a().s[5]++,A?(a().b[5][0]++,a().s[6]++,l.classList.add(A)):a().b[5][1]++),a().s[7]++,e)a().s[8]++,Object.prototype.hasOwnProperty.call(e,i)?(a().b[6][0]++,a().s[9]++,l[i]=e[i]):a().b[6][1]++;return a().s[10]++,l}},{key:"text",value:function(n){return a().f[3]++,a().s[11]++,document.createTextNode(n)}},{key:"svg",value:function(n){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(a().b[7][0]++,14),e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(a().b[8][0]++,14);a().f[4]++;var t=(a().s[12]++,document.createElementNS("http://www.w3.org/2000/svg","svg"));return a().s[13]++,t.classList.add("icon","icon--"+n),a().s[14]++,t.setAttribute("width",A+"px"),a().s[15]++,t.setAttribute("height",e+"px"),a().s[16]++,t.innerHTML='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#'.concat(n,'"></use>'),a().s[17]++,t}},{key:"append",value:function(n,A){a().f[5]++,a().s[18]++,Array.isArray(A)?(a().b[9][0]++,a().s[19]++,A.forEach((function(A){return a().f[6]++,a().s[20]++,n.appendChild(A)}))):(a().b[9][1]++,a().s[21]++,n.appendChild(A))}},{key:"prepend",value:function(n,A){a().f[7]++,a().s[22]++,Array.isArray(A)?(a().b[10][0]++,a().s[23]++,A=A.reverse(),a().s[24]++,A.forEach((function(A){return a().f[8]++,a().s[25]++,n.prepend(A)}))):(a().b[10][1]++,a().s[26]++,n.prepend(A))}},{key:"swap",value:function(n,A){a().f[9]++;var e=(a().s[27]++,document.createElement("div")),t=(a().s[28]++,n.parentNode);a().s[29]++,t.insertBefore(e,n),a().s[30]++,t.insertBefore(n,A),a().s[31]++,t.insertBefore(A,e),a().s[32]++,t.removeChild(e)}},{key:"find",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(a().b[11][0]++,document),A=arguments.length>1?arguments[1]:void 0;return a().f[10]++,a().s[33]++,n.querySelector(A)}},{key:"get",value:function(n){return a().f[11]++,a().s[34]++,document.getElementById(n)}},{key:"findAll",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(a().b[12][0]++,document),A=arguments.length>1?arguments[1]:void 0;return a().f[12]++,a().s[35]++,n.querySelectorAll(A)}},{key:"findAllInputs",value:function(A){return a().f[15]++,a().s[39]++,s.array(A.querySelectorAll(n.allInputsSelector)).reduce((function(A,e){return a().f[16]++,a().s[40]++,a().b[14][0]++,n.isNativeInput(e)||(a().b[14][1]++,n.containsOnlyInlineElements(e))?(a().b[13][0]++,a().s[41]++,[].concat((0,o.default)(A),[e])):(a().b[13][1]++,a().s[42]++,[].concat((0,o.default)(A),(0,o.default)(n.getDeepestBlockElements(e))))}),[])}},{key:"getDeepestNode",value:function(A){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(a().b[15][0]++,!1);a().f[17]++;var t=(a().s[43]++,e?(a().b[16][0]++,"lastChild"):(a().b[16][1]++,"firstChild")),l=(a().s[44]++,e?(a().b[17][0]++,"previousSibling"):(a().b[17][1]++,"nextSibling"));if(a().s[45]++,a().b[19][0]++,A&&(a().b[19][1]++,A.nodeType===Node.ELEMENT_NODE)&&(a().b[19][2]++,A[t])){a().b[18][0]++;var o=(a().s[46]++,A[t]);if(a().s[47]++,a().b[21][0]++,!n.isSingleTag(o)||(a().b[21][1]++,n.isNativeInput(o))||(a().b[21][2]++,n.isLineBreakTag(o)))a().b[20][1]++;else if(a().b[20][0]++,a().s[48]++,o[l])a().b[22][0]++,a().s[49]++,o=o[l];else{if(a().b[22][1]++,a().s[50]++,!o.parentNode[l])return a().b[23][1]++,a().s[52]++,o.parentNode;a().b[23][0]++,a().s[51]++,o=o.parentNode[l]}return a().s[53]++,this.getDeepestNode(o,e)}return a().b[18][1]++,a().s[54]++,A}},{key:"isElement",value:function(n){return a().f[18]++,a().s[55]++,a().b[24][0]++,n&&(a().b[24][1]++,"object"===(0,l.default)(n))&&(a().b[24][2]++,n.nodeType)&&(a().b[24][3]++,n.nodeType===Node.ELEMENT_NODE)}},{key:"isFragment",value:function(n){return a().f[19]++,a().s[56]++,a().b[25][0]++,n&&(a().b[25][1]++,"object"===(0,l.default)(n))&&(a().b[25][2]++,n.nodeType)&&(a().b[25][3]++,n.nodeType===Node.DOCUMENT_FRAGMENT_NODE)}},{key:"isContentEditable",value:function(n){return a().f[20]++,a().s[57]++,"true"===n.contentEditable}},{key:"isNativeInput",value:function(n){a().f[21]++;var A=(a().s[58]++,["INPUT","TEXTAREA"]);return a().s[59]++,a().b[27][0]++,n&&(a().b[27][1]++,n.tagName)?(a().b[26][0]++,A.includes(n.tagName)):(a().b[26][1]++,!1)}},{key:"canSetCaret",value:function(A){a().f[22]++;var e=(a().s[60]++,!0);if(a().s[61]++,n.isNativeInput(A))switch(a().b[28][0]++,a().s[62]++,A.type){case"file":a().b[29][0]++;case"checkbox":a().b[29][1]++;case"radio":a().b[29][2]++;case"hidden":a().b[29][3]++;case"submit":a().b[29][4]++;case"button":a().b[29][5]++;case"image":a().b[29][6]++;case"reset":a().b[29][7]++,a().s[63]++,e=!1,a().s[64]++}else a().b[28][1]++,a().s[65]++,e=n.isContentEditable(A);return a().s[66]++,e}},{key:"isNodeEmpty",value:function(n){var A;return a().f[23]++,a().s[67]++,a().b[31][0]++,this.isSingleTag(n)&&(a().b[31][1]++,!this.isLineBreakTag(n))?(a().b[30][0]++,a().s[68]++,!1):(a().b[30][1]++,a().s[69]++,a().b[33][0]++,this.isElement(n)&&(a().b[33][1]++,this.isNativeInput(n))?(a().b[32][0]++,a().s[70]++,A=n.value):(a().b[32][1]++,a().s[71]++,A=n.textContent.replace("​","")),a().s[72]++,0===A.trim().length)}},{key:"isLeaf",value:function(n){return a().f[24]++,a().s[73]++,n?(a().b[34][1]++,a().s[75]++,0===n.childNodes.length):(a().b[34][0]++,a().s[74]++,!1)}},{key:"isEmpty",value:function(n){a().f[25]++,a().s[76]++,n.normalize();var A=(a().s[77]++,[n]);for(a().s[78]++;A.length>0;)if(a().s[79]++,n=A.shift(),a().s[80]++,n){if(a().b[35][1]++,a().s[82]++,a().b[37][0]++,this.isLeaf(n)&&(a().b[37][1]++,!this.isNodeEmpty(n)))return a().b[36][0]++,a().s[83]++,!1;a().b[36][1]++,a().s[84]++,n.childNodes?(a().b[38][0]++,a().s[85]++,A.push.apply(A,(0,o.default)(Array.from(n.childNodes)))):a().b[38][1]++}else a().b[35][0]++,a().s[81]++;return a().s[86]++,!0}},{key:"isHTMLString",value:function(A){a().f[26]++;var e=(a().s[87]++,n.make("div"));return a().s[88]++,e.innerHTML=A,a().s[89]++,e.childElementCount>0}},{key:"getContentLength",value:function(A){return a().f[27]++,a().s[90]++,n.isNativeInput(A)?(a().b[39][0]++,a().s[91]++,A.value.length):(a().b[39][1]++,a().s[92]++,A.nodeType===Node.TEXT_NODE?(a().b[40][0]++,a().s[93]++,A.length):(a().b[40][1]++,a().s[94]++,A.textContent.length))}},{key:"containsOnlyInlineElements",value:function(A){var e;return a().f[29]++,a().s[96]++,"string"==typeof A?(a().b[41][0]++,a().s[97]++,e=document.createElement("div"),a().s[98]++,e.innerHTML=A):(a().b[41][1]++,a().s[99]++,e=A),a().s[100]++,a().s[102]++,Array.from(e.children).every((function A(e){return a().f[30]++,a().s[101]++,a().b[42][0]++,!n.blockElements.includes(e.tagName.toLowerCase())&&(a().b[42][1]++,Array.from(e.children).every(A))}))}},{key:"getDeepestBlockElements",value:function(A){return a().f[31]++,a().s[103]++,n.containsOnlyInlineElements(A)?(a().b[43][0]++,a().s[104]++,[A]):(a().b[43][1]++,a().s[105]++,Array.from(A.children).reduce((function(A,e){return a().f[32]++,a().s[106]++,[].concat((0,o.default)(A),(0,o.default)(n.getDeepestBlockElements(e)))}),[]))}},{key:"getHolder",value:function(n){return a().f[33]++,a().s[107]++,"string"==typeof n?(a().b[44][0]++,a().s[108]++,document.getElementById(n)):(a().b[44][1]++,a().s[109]++,n)}},{key:"isExtensionNode",value:function(n){a().f[34]++;var A=(a().s[110]++,["GRAMMARLY-EXTENSION"]);return a().s[111]++,a().b[45][0]++,n&&(a().b[45][1]++,A.includes(n.nodeName))}},{key:"isAnchor",value:function(n){return a().f[35]++,a().s[112]++,"a"===n.tagName.toLowerCase()}},{key:"allInputsSelector",get:function(){a().f[13]++;var n=(a().s[36]++,["text","password","email","number","search","tel","url"]);return a().s[37]++,"[contenteditable], textarea, input:not([type]), "+n.map((function(n){return a().f[14]++,a().s[38]++,'input[type="'.concat(n,'"]')})).join(", ")}},{key:"blockElements",get:function(){return a().f[28]++,a().s[95]++,["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tr","tfoot","ul","video"]}}]),n}();t.default=u,u.displayName="Dom",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t=e(32),l=Math.min;n.exports=function(n){return n>0?l(t(n),9007199254740991):0}},function(n,A){var e=n.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)},function(n,A,e){n.exports=!e(10)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(n,A,e){var t=e(11),l=e(109),o=e(40),i=Object.defineProperty;A.f=e(18)?Object.defineProperty:function(n,A,e){if(t(n),A=o(A,!0),t(e),l)try{return i(n,A,e)}catch(n){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(n[A]=e.value),n}},function(n,A,e){var t=e(37);n.exports=function(n){return Object(t(n))}},function(n,A,e){n.exports=e(140)},function(n,A){function e(n,A,e,t,l,o,i){try{var c=n[o](i),s=c.value}catch(n){return void e(n)}c.done?A(s):Promise.resolve(s).then(t,l)}n.exports=function(n){return function(){var A=this,t=arguments;return new Promise((function(l,o){var i=n.apply(A,t);function c(n){e(i,l,o,c,s,"next",n)}function s(n){e(i,l,o,c,s,"throw",n)}c(void 0)}))}}},function(n,A,e){var t=e(9),l=e(27),o=e(26),i=e(43)("src"),c=e(188),s=(""+c).split("toString");e(17).inspectSource=function(n){return c.call(n)},(n.exports=function(n,A,e,c){var r="function"==typeof e;r&&(o(e,"name")||l(e,"name",A)),n[A]!==e&&(r&&(o(e,i)||l(e,i,n[A]?""+n[A]:s.join(String(A)))),n===t?n[A]=e:c?n[A]?n[A]=e:l(n,A,e):(delete n[A],l(n,A,e)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[i]||c.call(this)}))},function(n,A,e){var t=e(0),l=e(10),o=e(37),i=/"/g,c=function(n,A,e,t){var l=String(o(n)),c="<"+A;return""!==e&&(c+=" "+e+'="'+String(t).replace(i,"&quot;")+'"'),c+">"+l+"</"+A+">"};n.exports=function(n,A){var e={};e[n]=A(c),t(t.P+t.F*l((function(){var A=""[n]('"');return A!==A.toLowerCase()||A.split('"').length>3})),"String",e)}},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(8),e(15)],void 0===(o="function"==typeof(t=function(t,l,o,i,c){"use strict";var s=e(13),r=e(1);function C(){var n="/home/hata/editor.js/src/components/selection.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"f4a03222b4a0fd366c87f2ad596c2b3cb1ddd79d"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/selection.ts",statementMap:{0:{start:{line:18,column:8},end:{line:18,column:29}},1:{start:{line:19,column:8},end:{line:19,column:30}},2:{start:{line:25,column:8},end:{line:25,column:40}},3:{start:{line:31,column:8},end:{line:31,column:45}},4:{start:{line:35,column:8},end:{line:35,column:45}},5:{start:{line:36,column:8},end:{line:36,column:50}},6:{start:{line:44,column:8},end:{line:47,column:10}},7:{start:{line:56,column:26},end:{line:56,column:47}},8:{start:{line:57,column:8},end:{line:57,column:55}},9:{start:{line:65,column:26},end:{line:65,column:47}},10:{start:{line:66,column:8},end:{line:68,column:9}},11:{start:{line:67,column:12},end:{line:67,column:24}},12:{start:{line:69,column:27},end:{line:69,column:47}},13:{start:{line:70,column:8},end:{line:72,column:9}},14:{start:{line:71,column:12},end:{line:71,column:24}},15:{start:{line:73,column:8},end:{line:78,column:9}},16:{start:{line:74,column:12},end:{line:74,column:44}},17:{start:{line:77,column:12},end:{line:77,column:30}},18:{start:{line:87,column:26},end:{line:87,column:47}},19:{start:{line:88,column:8},end:{line:88,column:57}},20:{start:{line:96,column:26},end:{line:96,column:47}},21:{start:{line:97,column:8},end:{line:97,column:56}},22:{start:{line:105,column:26},end:{line:105,column:46}},23:{start:{line:109,column:28},end:{line:109,column:71}},24:{start:{line:110,column:8},end:{line:112,column:9}},25:{start:{line:111,column:12},end:{line:111,column:51}},26:{start:{line:113,column:25},end:{line:113,column:29}},27:{start:{line:114,column:8},end:{line:116,column:9}},28:{start:{line:115,column:12},end:{line:115,column:83}},29:{start:{line:120,column:8},end:{line:120,column:71}},30:{start:{line:126,column:26},end:{line:126,column:46}},31:{start:{line:127,column:8},end:{line:127,column:38}},32:{start:{line:135,column:26},end:{line:135,column:47}},33:{start:{line:136,column:8},end:{line:136,column:82}},34:{start:{line:144,column:18},end:{line:144,column:36}},35:{start:{line:145,column:19},end:{line:150,column:9}},36:{start:{line:151,column:8},end:{line:159,column:9}},37:{start:{line:152,column:12},end:{line:152,column:22}},38:{start:{line:153,column:12},end:{line:153,column:38}},39:{start:{line:154,column:12},end:{line:154,column:40}},40:{start:{line:155,column:12},end:{line:155,column:39}},41:{start:{line:156,column:12},end:{line:156,column:45}},42:{start:{line:157,column:12},end:{line:157,column:47}},43:{start:{line:158,column:12},end:{line:158,column:24}},44:{start:{line:160,column:8},end:{line:163,column:9}},45:{start:{line:161,column:12},end:{line:161,column:73}},46:{start:{line:162,column:12},end:{line:162,column:24}},47:{start:{line:164,column:8},end:{line:164,column:36}},48:{start:{line:165,column:8},end:{line:168,column:9}},49:{start:{line:166,column:12},end:{line:166,column:79}},50:{start:{line:167,column:12},end:{line:167,column:24}},51:{start:{line:169,column:8},end:{line:171,column:9}},52:{start:{line:170,column:12},end:{line:170,column:24}},53:{start:{line:172,column:8},end:{line:172,column:47}},54:{start:{line:173,column:8},end:{line:175,column:9}},55:{start:{line:174,column:12},end:{line:174,column:49}},56:{start:{line:177,column:8},end:{line:190,column:9}},57:{start:{line:178,column:25},end:{line:178,column:55}},58:{start:{line:179,column:12},end:{line:189,column:13}},59:{start:{line:182,column:16},end:{line:182,column:68}},60:{start:{line:183,column:16},end:{line:183,column:39}},61:{start:{line:184,column:16},end:{line:184,column:52}},62:{start:{line:185,column:35},end:{line:185,column:50}},63:{start:{line:186,column:16},end:{line:186,column:45}},64:{start:{line:188,column:16},end:{line:188,column:39}},65:{start:{line:191,column:8},end:{line:191,column:20}},66:{start:{line:199,column:8},end:{line:199,column:75}},67:{start:{line:208,column:8},end:{line:208,column:37}},68:{start:{line:219,column:22},end:{line:219,column:44}},69:{start:{line:220,column:26},end:{line:220,column:47}},70:{start:{line:222,column:8},end:{line:229,column:9}},71:{start:{line:223,column:12},end:{line:225,column:13}},72:{start:{line:224,column:16},end:{line:224,column:23}},73:{start:{line:226,column:12},end:{line:226,column:28}},74:{start:{line:227,column:12},end:{line:227,column:67}},75:{start:{line:228,column:12},end:{line:228,column:51}},76:{start:{line:230,column:8},end:{line:230,column:40}},77:{start:{line:231,column:8},end:{line:231,column:38}},78:{start:{line:232,column:8},end:{line:232,column:36}},79:{start:{line:233,column:8},end:{line:233,column:34}},80:{start:{line:234,column:8},end:{line:234,column:45}},81:{start:{line:240,column:8},end:{line:242,column:9}},82:{start:{line:241,column:12},end:{line:241,column:19}},83:{start:{line:243,column:8},end:{line:243,column:45}},84:{start:{line:244,column:8},end:{line:244,column:55}},85:{start:{line:250,column:8},end:{line:250,column:71}},86:{start:{line:251,column:8},end:{line:251,column:44}},87:{start:{line:257,column:8},end:{line:257,column:56}},88:{start:{line:263,column:8},end:{line:265,column:9}},89:{start:{line:264,column:12},end:{line:264,column:19}},90:{start:{line:266,column:20},end:{line:266,column:41}},91:{start:{line:267,column:8},end:{line:267,column:30}},92:{start:{line:268,column:8},end:{line:268,column:47}},93:{start:{line:274,column:8},end:{line:274,column:40}},94:{start:{line:280,column:20},end:{line:280,column:41}},95:{start:{line:281,column:22},end:{line:281,column:44}},96:{start:{line:282,column:8},end:{line:282,column:48}},97:{start:{line:283,column:8},end:{line:283,column:30}},98:{start:{line:284,column:8},end:{line:284,column:30}},99:{start:{line:285,column:8},end:{line:285,column:28}},100:{start:{line:297,column:26},end:{line:297,column:47}},101:{start:{line:298,column:24},end:{line:298,column:28}},102:{start:{line:302,column:8},end:{line:304,column:9}},103:{start:{line:303,column:12},end:{line:303,column:24}},104:{start:{line:308,column:27},end:{line:313,column:9}},105:{start:{line:318,column:8},end:{line:349,column:11}},106:{start:{line:320,column:38},end:{line:320,column:49}},107:{start:{line:321,column:12},end:{line:348,column:13}},108:{start:{line:325,column:16},end:{line:342,column:17}},109:{start:{line:329,column:20},end:{line:329,column:39}},110:{start:{line:333,column:20},end:{line:335,column:21}},111:{start:{line:334,column:24},end:{line:334,column:41}},112:{start:{line:339,column:20},end:{line:341,column:21}},113:{start:{line:340,column:24},end:{line:340,column:30}},114:{start:{line:346,column:16},end:{line:346,column:43}},115:{start:{line:347,column:16},end:{line:347,column:38}},116:{start:{line:353,column:8},end:{line:353,column:25}},117:{start:{line:361,column:26},end:{line:361,column:47}},118:{start:{line:362,column:8},end:{line:362,column:36}},119:{start:{line:363,column:22},end:{line:363,column:44}},120:{start:{line:364,column:8},end:{line:364,column:42}},121:{start:{line:365,column:8},end:{line:365,column:34}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:18},end:{line:37,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:21},end:{line:48,column:5}},line:43},2:{name:"(anonymous_2)",decl:{start:{line:55,column:4},end:{line:55,column:5}},loc:{start:{line:55,column:28},end:{line:58,column:5}},line:55},3:{name:"(anonymous_3)",decl:{start:{line:64,column:4},end:{line:64,column:5}},loc:{start:{line:64,column:31},end:{line:79,column:5}},line:64},4:{name:"(anonymous_4)",decl:{start:{line:86,column:4},end:{line:86,column:5}},loc:{start:{line:86,column:30},end:{line:89,column:5}},line:86},5:{name:"(anonymous_5)",decl:{start:{line:95,column:4},end:{line:95,column:5}},loc:{start:{line:95,column:29},end:{line:98,column:5}},line:95},6:{name:"(anonymous_6)",decl:{start:{line:104,column:4},end:{line:104,column:5}},loc:{start:{line:104,column:28},end:{line:121,column:5}},line:104},7:{name:"(anonymous_7)",decl:{start:{line:125,column:4},end:{line:125,column:5}},loc:{start:{line:125,column:35},end:{line:128,column:5}},line:125},8:{name:"(anonymous_8)",decl:{start:{line:134,column:4},end:{line:134,column:5}},loc:{start:{line:134,column:23},end:{line:137,column:5}},line:134},9:{name:"(anonymous_9)",decl:{start:{line:143,column:4},end:{line:143,column:5}},loc:{start:{line:143,column:22},end:{line:192,column:5}},line:143},10:{name:"(anonymous_10)",decl:{start:{line:198,column:4},end:{line:198,column:5}},loc:{start:{line:198,column:22},end:{line:200,column:5}},line:198},11:{name:"(anonymous_11)",decl:{start:{line:207,column:4},end:{line:207,column:5}},loc:{start:{line:207,column:17},end:{line:209,column:5}},line:207},12:{name:"(anonymous_12)",decl:{start:{line:218,column:4},end:{line:218,column:5}},loc:{start:{line:218,column:42},end:{line:235,column:5}},line:218},13:{name:"(anonymous_13)",decl:{start:{line:239,column:4},end:{line:239,column:5}},loc:{start:{line:239,column:27},end:{line:245,column:5}},line:239},14:{name:"(anonymous_14)",decl:{start:{line:249,column:4},end:{line:249,column:5}},loc:{start:{line:249,column:24},end:{line:252,column:5}},line:249},15:{name:"(anonymous_15)",decl:{start:{line:256,column:4},end:{line:256,column:5}},loc:{start:{line:256,column:11},end:{line:258,column:5}},line:256},16:{name:"(anonymous_16)",decl:{start:{line:262,column:4},end:{line:262,column:5}},loc:{start:{line:262,column:14},end:{line:269,column:5}},line:262},17:{name:"(anonymous_17)",decl:{start:{line:273,column:4},end:{line:273,column:5}},loc:{start:{line:273,column:17},end:{line:275,column:5}},line:273},18:{name:"(anonymous_18)",decl:{start:{line:279,column:4},end:{line:279,column:5}},loc:{start:{line:279,column:20},end:{line:286,column:5}},line:279},19:{name:"(anonymous_19)",decl:{start:{line:296,column:4},end:{line:296,column:5}},loc:{start:{line:296,column:56},end:{line:354,column:5}},line:296},20:{name:"(anonymous_20)",decl:{start:{line:318,column:27},end:{line:318,column:28}},loc:{start:{line:318,column:39},end:{line:349,column:9}},line:318},21:{name:"(anonymous_21)",decl:{start:{line:360,column:4},end:{line:360,column:5}},loc:{start:{line:360,column:25},end:{line:366,column:5}},line:360}},branchMap:{0:{loc:{start:{line:57,column:15},end:{line:57,column:54}},type:"cond-expr",locations:[{start:{line:57,column:27},end:{line:57,column:47}},{start:{line:57,column:50},end:{line:57,column:54}}],line:57},1:{loc:{start:{line:66,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:66,column:8},end:{line:68,column:9}},{start:{line:66,column:8},end:{line:68,column:9}}],line:66},2:{loc:{start:{line:70,column:8},end:{line:72,column:9}},type:"if",locations:[{start:{line:70,column:8},end:{line:72,column:9}},{start:{line:70,column:8},end:{line:72,column:9}}],line:70},3:{loc:{start:{line:73,column:8},end:{line:78,column:9}},type:"if",locations:[{start:{line:73,column:8},end:{line:78,column:9}},{start:{line:73,column:8},end:{line:78,column:9}}],line:73},4:{loc:{start:{line:88,column:15},end:{line:88,column:56}},type:"cond-expr",locations:[{start:{line:88,column:27},end:{line:88,column:49}},{start:{line:88,column:52},end:{line:88,column:56}}],line:88},5:{loc:{start:{line:97,column:15},end:{line:97,column:55}},type:"cond-expr",locations:[{start:{line:97,column:27},end:{line:97,column:48}},{start:{line:97,column:51},end:{line:97,column:55}}],line:97},6:{loc:{start:{line:109,column:28},end:{line:109,column:71}},type:"binary-expr",locations:[{start:{line:109,column:28},end:{line:109,column:48}},{start:{line:109,column:52},end:{line:109,column:71}}],line:109},7:{loc:{start:{line:110,column:8},end:{line:112,column:9}},type:"if",locations:[{start:{line:110,column:8},end:{line:112,column:9}},{start:{line:110,column:8},end:{line:112,column:9}}],line:110},8:{loc:{start:{line:110,column:12},end:{line:110,column:68}},type:"binary-expr",locations:[{start:{line:110,column:12},end:{line:110,column:24}},{start:{line:110,column:28},end:{line:110,column:68}}],line:110},9:{loc:{start:{line:114,column:8},end:{line:116,column:9}},type:"if",locations:[{start:{line:114,column:8},end:{line:116,column:9}},{start:{line:114,column:8},end:{line:116,column:9}}],line:114},10:{loc:{start:{line:120,column:15},end:{line:120,column:70}},type:"binary-expr",locations:[{start:{line:120,column:15},end:{line:120,column:25}},{start:{line:120,column:29},end:{line:120,column:70}}],line:120},11:{loc:{start:{line:136,column:15},end:{line:136,column:81}},type:"cond-expr",locations:[{start:{line:136,column:51},end:{line:136,column:74}},{start:{line:136,column:77},end:{line:136,column:81}}],line:136},12:{loc:{start:{line:136,column:15},end:{line:136,column:48}},type:"binary-expr",locations:[{start:{line:136,column:15},end:{line:136,column:24}},{start:{line:136,column:28},end:{line:136,column:48}}],line:136},13:{loc:{start:{line:151,column:8},end:{line:159,column:9}},type:"if",locations:[{start:{line:151,column:8},end:{line:159,column:9}},{start:{line:151,column:8},end:{line:159,column:9}}],line:151},14:{loc:{start:{line:151,column:12},end:{line:151,column:41}},type:"binary-expr",locations:[{start:{line:151,column:12},end:{line:151,column:15}},{start:{line:151,column:19},end:{line:151,column:41}}],line:151},15:{loc:{start:{line:160,column:8},end:{line:163,column:9}},type:"if",locations:[{start:{line:160,column:8},end:{line:163,column:9}},{start:{line:160,column:8},end:{line:163,column:9}}],line:160},16:{loc:{start:{line:165,column:8},end:{line:168,column:9}},type:"if",locations:[{start:{line:165,column:8},end:{line:168,column:9}},{start:{line:165,column:8},end:{line:168,column:9}}],line:165},17:{loc:{start:{line:165,column:12},end:{line:165,column:60}},type:"binary-expr",locations:[{start:{line:165,column:12},end:{line:165,column:35}},{start:{line:165,column:39},end:{line:165,column:60}}],line:165},18:{loc:{start:{line:169,column:8},end:{line:171,column:9}},type:"if",locations:[{start:{line:169,column:8},end:{line:171,column:9}},{start:{line:169,column:8},end:{line:171,column:9}}],line:169},19:{loc:{start:{line:173,column:8},end:{line:175,column:9}},type:"if",locations:[{start:{line:173,column:8},end:{line:175,column:9}},{start:{line:173,column:8},end:{line:175,column:9}}],line:173},20:{loc:{start:{line:177,column:8},end:{line:190,column:9}},type:"if",locations:[{start:{line:177,column:8},end:{line:190,column:9}},{start:{line:177,column:8},end:{line:190,column:9}}],line:177},21:{loc:{start:{line:177,column:12},end:{line:177,column:40}},type:"binary-expr",locations:[{start:{line:177,column:12},end:{line:177,column:24}},{start:{line:177,column:28},end:{line:177,column:40}}],line:177},22:{loc:{start:{line:179,column:12},end:{line:189,column:13}},type:"if",locations:[{start:{line:179,column:12},end:{line:189,column:13}},{start:{line:179,column:12},end:{line:189,column:13}}],line:179},23:{loc:{start:{line:199,column:15},end:{line:199,column:74}},type:"cond-expr",locations:[{start:{line:199,column:37},end:{line:199,column:69}},{start:{line:199,column:72},end:{line:199,column:74}}],line:199},24:{loc:{start:{line:218,column:30},end:{line:218,column:40}},type:"default-arg",locations:[{start:{line:218,column:39},end:{line:218,column:40}}],line:218},25:{loc:{start:{line:222,column:8},end:{line:229,column:9}},type:"if",locations:[{start:{line:222,column:8},end:{line:229,column:9}},{start:{line:222,column:8},end:{line:229,column:9}}],line:222},26:{loc:{start:{line:223,column:12},end:{line:225,column:13}},type:"if",locations:[{start:{line:223,column:12},end:{line:225,column:13}},{start:{line:223,column:12},end:{line:225,column:13}}],line:223},27:{loc:{start:{line:240,column:8},end:{line:242,column:9}},type:"if",locations:[{start:{line:240,column:8},end:{line:242,column:9}},{start:{line:240,column:8},end:{line:242,column:9}}],line:240},28:{loc:{start:{line:263,column:8},end:{line:265,column:9}},type:"if",locations:[{start:{line:263,column:8},end:{line:265,column:9}},{start:{line:263,column:8},end:{line:265,column:9}}],line:263},29:{loc:{start:{line:296,column:38},end:{line:296,column:54}},type:"default-arg",locations:[{start:{line:296,column:52},end:{line:296,column:54}}],line:296},30:{loc:{start:{line:302,column:8},end:{line:304,column:9}},type:"if",locations:[{start:{line:302,column:8},end:{line:304,column:9}},{start:{line:302,column:8},end:{line:304,column:9}}],line:302},31:{loc:{start:{line:302,column:12},end:{line:302,column:71}},type:"binary-expr",locations:[{start:{line:302,column:12},end:{line:302,column:22}},{start:{line:302,column:26},end:{line:302,column:47}},{start:{line:302,column:51},end:{line:302,column:71}}],line:302},32:{loc:{start:{line:321,column:19},end:{line:321,column:63}},type:"binary-expr",locations:[{start:{line:321,column:19},end:{line:321,column:42}},{start:{line:321,column:46},end:{line:321,column:63}}],line:321},33:{loc:{start:{line:325,column:16},end:{line:342,column:17}},type:"if",locations:[{start:{line:325,column:16},end:{line:342,column:17}},{start:{line:325,column:16},end:{line:342,column:17}}],line:325},34:{loc:{start:{line:333,column:20},end:{line:335,column:21}},type:"if",locations:[{start:{line:333,column:20},end:{line:335,column:21}},{start:{line:333,column:20},end:{line:335,column:21}}],line:333},35:{loc:{start:{line:333,column:24},end:{line:333,column:94}},type:"binary-expr",locations:[{start:{line:333,column:24},end:{line:333,column:33}},{start:{line:333,column:37},end:{line:333,column:53}},{start:{line:333,column:57},end:{line:333,column:94}}],line:333},36:{loc:{start:{line:339,column:20},end:{line:341,column:21}},type:"if",locations:[{start:{line:339,column:20},end:{line:341,column:21}},{start:{line:339,column:20},end:{line:341,column:21}}],line:339}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0],30:[0,0],31:[0,0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0,0],36:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/selection.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/selection.ts"],names:[],mappings:"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",sourcesContent:["/**\n * TextRange interface fot IE9-\n */\nimport * as _ from './utils';\nimport $ from './dom';\n\ninterface TextRange {\n  boundingTop: number;\n  boundingLeft: number;\n  boundingBottom: number;\n  boundingRight: number;\n  boundingHeight: number;\n  boundingWidth: number;\n}\n\n/**\n * Interface for object returned by document.selection in IE9-\n */\ninterface MSSelection {\n  createRange: () => TextRange;\n  type: string;\n}\n\n/**\n * Extends Document interface for IE9-\n */\ninterface Document {\n  selection?: MSSelection;\n}\n\n/**\n * Working with selection\n *\n * @typedef {SelectionUtils} SelectionUtils\n */\nexport default class SelectionUtils {\n  /**\n   * Editor styles\n   *\n   * @returns {{editorWrapper: string, editorZone: string}}\n   */\n  public static get CSS(): { editorWrapper: string; editorZone: string } {\n    return {\n      editorWrapper: 'codex-editor',\n      editorZone: 'codex-editor__redactor',\n    };\n  }\n\n  /**\n   * Returns selected anchor\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Selection/anchorNode}\n   *\n   * @returns {Node|null}\n   */\n  public static get anchorNode(): Node | null {\n    const selection = window.getSelection();\n\n    return selection ? selection.anchorNode : null;\n  }\n\n  /**\n   * Returns selected anchor element\n   *\n   * @returns {Element|null}\n   */\n  public static get anchorElement(): Element | null {\n    const selection = window.getSelection();\n\n    if (!selection) {\n      return null;\n    }\n\n    const anchorNode = selection.anchorNode;\n\n    if (!anchorNode) {\n      return null;\n    }\n\n    if (!$.isElement(anchorNode)) {\n      return anchorNode.parentElement;\n    } else {\n      return anchorNode;\n    }\n  }\n\n  /**\n   * Returns selection offset according to the anchor node\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Selection/anchorOffset}\n   *\n   * @returns {number|null}\n   */\n  public static get anchorOffset(): number | null {\n    const selection = window.getSelection();\n\n    return selection ? selection.anchorOffset : null;\n  }\n\n  /**\n   * Is current selection range collapsed\n   *\n   * @returns {boolean|null}\n   */\n  public static get isCollapsed(): boolean | null {\n    const selection = window.getSelection();\n\n    return selection ? selection.isCollapsed : null;\n  }\n\n  /**\n   * Check current selection if it is at Editor's zone\n   *\n   * @returns {boolean}\n   */\n  public static get isAtEditor(): boolean {\n    const selection = SelectionUtils.get();\n\n    /**\n     * Something selected on document\n     */\n    let selectedNode = (selection.anchorNode || selection.focusNode) as HTMLElement;\n\n    if (selectedNode && selectedNode.nodeType === Node.TEXT_NODE) {\n      selectedNode = selectedNode.parentNode as HTMLElement;\n    }\n\n    let editorZone = null;\n\n    if (selectedNode) {\n      editorZone = selectedNode.closest(`.${SelectionUtils.CSS.editorZone}`);\n    }\n\n    /**\n     * SelectionUtils is not out of Editor because Editor's wrapper was found\n     */\n    return editorZone && editorZone.nodeType === Node.ELEMENT_NODE;\n  }\n\n  /**\n   * Methods return boolean that true if selection exists on the page\n   */\n  public static get isSelectionExists(): boolean {\n    const selection = SelectionUtils.get();\n\n    return !!selection.anchorNode;\n  }\n\n  /**\n   * Return first range\n   *\n   * @returns {Range|null}\n   */\n  public static get range(): Range | null {\n    const selection = window.getSelection();\n\n    return selection && selection.rangeCount ? selection.getRangeAt(0) : null;\n  }\n\n  /**\n   * Calculates position and size of selected text\n   *\n   * @returns {DOMRect | ClientRect}\n   */\n  public static get rect(): DOMRect | ClientRect {\n    let sel: Selection | MSSelection = (document as Document).selection,\n        range: TextRange | Range;\n\n    let rect = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n    } as DOMRect;\n\n    if (sel && sel.type !== 'Control') {\n      sel = sel as MSSelection;\n      range = sel.createRange() as TextRange;\n      rect.x = range.boundingLeft;\n      rect.y = range.boundingTop;\n      rect.width = range.boundingWidth;\n      rect.height = range.boundingHeight;\n\n      return rect;\n    }\n\n    if (!window.getSelection) {\n      _.log('Method window.getSelection is not supported', 'warn');\n\n      return rect;\n    }\n\n    sel = window.getSelection();\n\n    if (sel.rangeCount === null || isNaN(sel.rangeCount)) {\n      _.log('Method SelectionUtils.rangeCount is not supported', 'warn');\n\n      return rect;\n    }\n\n    if (sel.rangeCount === 0) {\n      return rect;\n    }\n\n    range = sel.getRangeAt(0).cloneRange() as Range;\n\n    if (range.getBoundingClientRect) {\n      rect = range.getBoundingClientRect() as DOMRect;\n    }\n    // Fall back to inserting a temporary element\n    if (rect.x === 0 && rect.y === 0) {\n      const span = document.createElement('span');\n\n      if (span.getBoundingClientRect) {\n        // Ensure span has dimensions and position by\n        // adding a zero-width space character\n        span.appendChild(document.createTextNode('\\u200b'));\n        range.insertNode(span);\n        rect = span.getBoundingClientRect() as DOMRect;\n\n        const spanParent = span.parentNode;\n\n        spanParent.removeChild(span);\n\n        // Glue any broken text nodes back together\n        spanParent.normalize();\n      }\n    }\n\n    return rect;\n  }\n\n  /**\n   * Returns selected text as String\n   *\n   * @returns {string}\n   */\n  public static get text(): string {\n    return window.getSelection ? window.getSelection().toString() : '';\n  }\n\n  /**\n   * Selection instances\n   *\n   * @todo Check if this is still relevant\n   */\n  public instance: Selection = null;\n  public selection: Selection = null;\n\n  /**\n   * This property can store SelectionUtils's range for restoring later\n   *\n   * @type {Range|null}\n   */\n  public savedSelectionRange: Range = null;\n\n  /**\n   * Fake background is active\n   *\n   * @returns {boolean}\n   */\n  public isFakeBackgroundEnabled = false;\n\n  /**\n   * Native Document's commands for fake background\n   */\n  private readonly commandBackground: string = 'backColor';\n  private readonly commandRemoveFormat: string = 'removeFormat';\n\n  /**\n   * Returns window SelectionUtils\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Window/getSelection}\n   *\n   * @returns {Selection}\n   */\n  public static get(): Selection {\n    return window.getSelection();\n  }\n\n  /**\n   * Set focus to contenteditable or native input element\n   *\n   * @param element - element where to set focus\n   * @param offset - offset of cursor\n   *\n   * @returns {DOMRect} of range\n   */\n  public static setCursor(element: HTMLElement, offset = 0): DOMRect {\n    const range = document.createRange();\n    const selection = window.getSelection();\n\n    /** if found deepest node is native input */\n    if ($.isNativeInput(element)) {\n      if (!$.canSetCaret(element)) {\n        return;\n      }\n\n      element.focus();\n      element.selectionStart = element.selectionEnd = offset;\n\n      return element.getBoundingClientRect();\n    }\n\n    range.setStart(element, offset);\n    range.setEnd(element, offset);\n\n    selection.removeAllRanges();\n    selection.addRange(range);\n\n    return range.getBoundingClientRect();\n  }\n\n  /**\n   * Removes fake background\n   */\n  public removeFakeBackground(): void {\n    if (!this.isFakeBackgroundEnabled) {\n      return;\n    }\n\n    this.isFakeBackgroundEnabled = false;\n    document.execCommand(this.commandRemoveFormat);\n  }\n\n  /**\n   * Sets fake background\n   */\n  public setFakeBackground(): void {\n    document.execCommand(this.commandBackground, false, '#a8d6ff');\n\n    this.isFakeBackgroundEnabled = true;\n  }\n\n  /**\n   * Save SelectionUtils's range\n   */\n  public save(): void {\n    this.savedSelectionRange = SelectionUtils.range;\n  }\n\n  /**\n   * Restore saved SelectionUtils's range\n   */\n  public restore(): void {\n    if (!this.savedSelectionRange) {\n      return;\n    }\n\n    const sel = window.getSelection();\n\n    sel.removeAllRanges();\n    sel.addRange(this.savedSelectionRange);\n  }\n\n  /**\n   * Clears saved selection\n   */\n  public clearSaved(): void {\n    this.savedSelectionRange = null;\n  }\n\n  /**\n   * Collapse current selection\n   */\n  public collapseToEnd(): void {\n    const sel = window.getSelection();\n    const range = document.createRange();\n\n    range.selectNodeContents(sel.focusNode);\n    range.collapse(false);\n    sel.removeAllRanges();\n    sel.addRange(range);\n  }\n\n  /**\n   * Looks ahead to find passed tag from current selection\n   *\n   * @param  {string} tagName       - tag to found\n   * @param  {string} [className]   - tag's class name\n   * @param  {number} [searchDepth] - count of tags that can be included. For better performance.\n   *\n   * @returns {HTMLElement|null}\n   */\n  public findParentTag(tagName: string, className?: string, searchDepth = 10): HTMLElement | null {\n    const selection = window.getSelection();\n    let parentTag = null;\n\n    /**\n     * If selection is missing or no anchorNode or focusNode were found then return null\n     */\n    if (!selection || !selection.anchorNode || !selection.focusNode) {\n      return null;\n    }\n\n    /**\n     * Define Nodes for start and end of selection\n     */\n    const boundNodes = [\n      /** the Node in which the selection begins */\n      selection.anchorNode as HTMLElement,\n      /** the Node in which the selection ends */\n      selection.focusNode as HTMLElement,\n    ];\n\n    /**\n     * For each selection parent Nodes we try to find target tag [with target class name]\n     * It would be saved in parentTag variable\n     */\n    boundNodes.forEach((parent) => {\n      /** Reset tags limit */\n      let searchDepthIterable = searchDepth;\n\n      while (searchDepthIterable > 0 && parent.parentNode) {\n        /**\n         * Check tag's name\n         */\n        if (parent.tagName === tagName) {\n          /**\n           * Save the result\n           */\n          parentTag = parent;\n\n          /**\n           * Optional additional check for class-name mismatching\n           */\n          if (className && parent.classList && !parent.classList.contains(className)) {\n            parentTag = null;\n          }\n\n          /**\n           * If we have found required tag with class then go out from the cycle\n           */\n          if (parentTag) {\n            break;\n          }\n        }\n\n        /**\n         * Target tag was not found. Go up to the parent and check it\n         */\n        parent = parent.parentNode as HTMLElement;\n        searchDepthIterable--;\n      }\n    });\n\n    /**\n     * Return found tag or null\n     */\n    return parentTag;\n  }\n\n  /**\n   * Expands selection range to the passed parent node\n   *\n   * @param {HTMLElement} element - element which contents should be selcted\n   */\n  public expandToTag(element: HTMLElement): void {\n    const selection = window.getSelection();\n\n    selection.removeAllRanges();\n    const range = document.createRange();\n\n    range.selectNodeContents(element);\n    selection.addRange(range);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f4a03222b4a0fd366c87f2ad596c2b3cb1ddd79d"});var l=t[n];return C=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=r(l),o=r(o),i=s(i),c=r(c),C();var a=function(){function n(){(0,l.default)(this,n),C().f[0]++,C().s[0]++,this.instance=null,C().s[1]++,this.selection=null,C().s[2]++,this.savedSelectionRange=null,C().s[3]++,this.isFakeBackgroundEnabled=!1,C().s[4]++,this.commandBackground="backColor",C().s[5]++,this.commandRemoveFormat="removeFormat"}return(0,o.default)(n,[{key:"removeFakeBackground",value:function(){if(C().f[13]++,C().s[81]++,!this.isFakeBackgroundEnabled)return C().b[27][0]++,void C().s[82]++;C().b[27][1]++,C().s[83]++,this.isFakeBackgroundEnabled=!1,C().s[84]++,document.execCommand(this.commandRemoveFormat)}},{key:"setFakeBackground",value:function(){C().f[14]++,C().s[85]++,document.execCommand(this.commandBackground,!1,"#a8d6ff"),C().s[86]++,this.isFakeBackgroundEnabled=!0}},{key:"save",value:function(){C().f[15]++,C().s[87]++,this.savedSelectionRange=n.range}},{key:"restore",value:function(){if(C().f[16]++,C().s[88]++,!this.savedSelectionRange)return C().b[28][0]++,void C().s[89]++;C().b[28][1]++;var n=(C().s[90]++,window.getSelection());C().s[91]++,n.removeAllRanges(),C().s[92]++,n.addRange(this.savedSelectionRange)}},{key:"clearSaved",value:function(){C().f[17]++,C().s[93]++,this.savedSelectionRange=null}},{key:"collapseToEnd",value:function(){C().f[18]++;var n=(C().s[94]++,window.getSelection()),A=(C().s[95]++,document.createRange());C().s[96]++,A.selectNodeContents(n.focusNode),C().s[97]++,A.collapse(!1),C().s[98]++,n.removeAllRanges(),C().s[99]++,n.addRange(A)}},{key:"findParentTag",value:function(n,A){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(C().b[29][0]++,10);C().f[19]++;var t=(C().s[100]++,window.getSelection()),l=(C().s[101]++,null);if(C().s[102]++,C().b[31][0]++,!(t&&(C().b[31][1]++,t.anchorNode)&&(C().b[31][2]++,t.focusNode)))return C().b[30][0]++,C().s[103]++,null;C().b[30][1]++;var o=(C().s[104]++,[t.anchorNode,t.focusNode]);return C().s[105]++,o.forEach((function(t){C().f[20]++;var o=(C().s[106]++,e);for(C().s[107]++;C().b[32][0]++,o>0&&(C().b[32][1]++,t.parentNode);){if(C().s[108]++,t.tagName===n){if(C().b[33][0]++,C().s[109]++,l=t,C().s[110]++,C().b[35][0]++,A&&(C().b[35][1]++,t.classList)&&(C().b[35][2]++,!t.classList.contains(A))?(C().b[34][0]++,C().s[111]++,l=null):C().b[34][1]++,C().s[112]++,l){C().b[36][0]++,C().s[113]++;break}C().b[36][1]++}else C().b[33][1]++;C().s[114]++,t=t.parentNode,C().s[115]++,o--}})),C().s[116]++,l}},{key:"expandToTag",value:function(n){C().f[21]++;var A=(C().s[117]++,window.getSelection());C().s[118]++,A.removeAllRanges();var e=(C().s[119]++,document.createRange());C().s[120]++,e.selectNodeContents(n),C().s[121]++,A.addRange(e)}}],[{key:"get",value:function(){return C().f[11]++,C().s[67]++,window.getSelection()}},{key:"setCursor",value:function(n){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(C().b[24][0]++,0);C().f[12]++;var e=(C().s[68]++,document.createRange()),t=(C().s[69]++,window.getSelection());return C().s[70]++,c.default.isNativeInput(n)?(C().b[25][0]++,C().s[71]++,c.default.canSetCaret(n)?(C().b[26][1]++,C().s[73]++,n.focus(),C().s[74]++,n.selectionStart=n.selectionEnd=A,C().s[75]++,n.getBoundingClientRect()):(C().b[26][0]++,void C().s[72]++)):(C().b[25][1]++,C().s[76]++,e.setStart(n,A),C().s[77]++,e.setEnd(n,A),C().s[78]++,t.removeAllRanges(),C().s[79]++,t.addRange(e),C().s[80]++,e.getBoundingClientRect())}},{key:"CSS",get:function(){return C().f[1]++,C().s[6]++,{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}},{key:"anchorNode",get:function(){C().f[2]++;var n=(C().s[7]++,window.getSelection());return C().s[8]++,n?(C().b[0][0]++,n.anchorNode):(C().b[0][1]++,null)}},{key:"anchorElement",get:function(){C().f[3]++;var n=(C().s[9]++,window.getSelection());if(C().s[10]++,!n)return C().b[1][0]++,C().s[11]++,null;C().b[1][1]++;var A=(C().s[12]++,n.anchorNode);return C().s[13]++,A?(C().b[2][1]++,C().s[15]++,c.default.isElement(A)?(C().b[3][1]++,C().s[17]++,A):(C().b[3][0]++,C().s[16]++,A.parentElement)):(C().b[2][0]++,C().s[14]++,null)}},{key:"anchorOffset",get:function(){C().f[4]++;var n=(C().s[18]++,window.getSelection());return C().s[19]++,n?(C().b[4][0]++,n.anchorOffset):(C().b[4][1]++,null)}},{key:"isCollapsed",get:function(){C().f[5]++;var n=(C().s[20]++,window.getSelection());return C().s[21]++,n?(C().b[5][0]++,n.isCollapsed):(C().b[5][1]++,null)}},{key:"isAtEditor",get:function(){C().f[6]++;var A=(C().s[22]++,n.get()),e=(C().s[23]++,C().b[6][0]++,A.anchorNode||(C().b[6][1]++,A.focusNode));C().s[24]++,C().b[8][0]++,e&&(C().b[8][1]++,e.nodeType===Node.TEXT_NODE)?(C().b[7][0]++,C().s[25]++,e=e.parentNode):C().b[7][1]++;var t=(C().s[26]++,null);return C().s[27]++,e?(C().b[9][0]++,C().s[28]++,t=e.closest(".".concat(n.CSS.editorZone))):C().b[9][1]++,C().s[29]++,C().b[10][0]++,t&&(C().b[10][1]++,t.nodeType===Node.ELEMENT_NODE)}},{key:"isSelectionExists",get:function(){C().f[7]++;var A=(C().s[30]++,n.get());return C().s[31]++,!!A.anchorNode}},{key:"range",get:function(){C().f[8]++;var n=(C().s[32]++,window.getSelection());return C().s[33]++,C().b[12][0]++,n&&(C().b[12][1]++,n.rangeCount)?(C().b[11][0]++,n.getRangeAt(0)):(C().b[11][1]++,null)}},{key:"rect",get:function(){C().f[9]++;var n,A=(C().s[34]++,document.selection),e=(C().s[35]++,{x:0,y:0,width:0,height:0});if(C().s[36]++,C().b[14][0]++,A&&(C().b[14][1]++,"Control"!==A.type))return C().b[13][0]++,C().s[37]++,A=A,C().s[38]++,n=A.createRange(),C().s[39]++,e.x=n.boundingLeft,C().s[40]++,e.y=n.boundingTop,C().s[41]++,e.width=n.boundingWidth,C().s[42]++,e.height=n.boundingHeight,C().s[43]++,e;if(C().b[13][1]++,C().s[44]++,!window.getSelection)return C().b[15][0]++,C().s[45]++,i.log("Method window.getSelection is not supported","warn"),C().s[46]++,e;if(C().b[15][1]++,C().s[47]++,A=window.getSelection(),C().s[48]++,C().b[17][0]++,null===A.rangeCount||(C().b[17][1]++,isNaN(A.rangeCount)))return C().b[16][0]++,C().s[49]++,i.log("Method SelectionUtils.rangeCount is not supported","warn"),C().s[50]++,e;if(C().b[16][1]++,C().s[51]++,0===A.rangeCount)return C().b[18][0]++,C().s[52]++,e;if(C().b[18][1]++,C().s[53]++,n=A.getRangeAt(0).cloneRange(),C().s[54]++,n.getBoundingClientRect?(C().b[19][0]++,C().s[55]++,e=n.getBoundingClientRect()):C().b[19][1]++,C().s[56]++,C().b[21][0]++,0===e.x&&(C().b[21][1]++,0===e.y)){C().b[20][0]++;var t=(C().s[57]++,document.createElement("span"));if(C().s[58]++,t.getBoundingClientRect){C().b[22][0]++,C().s[59]++,t.appendChild(document.createTextNode("​")),C().s[60]++,n.insertNode(t),C().s[61]++,e=t.getBoundingClientRect();var l=(C().s[62]++,t.parentNode);C().s[63]++,l.removeChild(t),C().s[64]++,l.normalize()}else C().b[22][1]++}else C().b[20][1]++;return C().s[65]++,e}},{key:"text",get:function(){return C().f[10]++,C().s[66]++,window.getSelection?(C().b[23][0]++,window.getSelection().toString()):(C().b[23][1]++,"")}}]),n}();t.default=a,a.displayName="SelectionUtils",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A){var e={}.hasOwnProperty;n.exports=function(n,A){return e.call(n,A)}},function(n,A,e){var t=e(19),l=e(42);n.exports=e(18)?function(n,A,e){return t.f(n,A,l(1,e))}:function(n,A,e){return n[A]=e,n}},function(n,A,e){var t=e(62),l=e(37);n.exports=function(n){return t(l(n))}},function(n,A,e){"use strict";var t=e(10);n.exports=function(n,A){return!!n&&t((function(){A?n.call(null,(function(){}),1):n.call(null)}))}},function(n,A,e){var t=e(31);n.exports=function(n,A,e){if(t(n),void 0===A)return n;switch(e){case 1:return function(e){return n.call(A,e)};case 2:return function(e,t){return n.call(A,e,t)};case 3:return function(e,t,l){return n.call(A,e,t,l)}}return function(){return n.apply(A,arguments)}}},function(n,A){n.exports=function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!");return n}},function(n,A){var e=Math.ceil,t=Math.floor;n.exports=function(n){return isNaN(n=+n)?0:(n>0?t:e)(n)}},function(n,A,e){var t=e(63),l=e(42),o=e(28),i=e(40),c=e(26),s=e(109),r=Object.getOwnPropertyDescriptor;A.f=e(18)?r:function(n,A){if(n=o(n),A=i(A,!0),s)try{return r(n,A)}catch(n){}if(c(n,A))return l(!t.f.call(n,A),n[A])}},function(n,A,e){var t=e(0),l=e(17),o=e(10);n.exports=function(n,A){var e=(l.Object||{})[n]||Object[n],i={};i[n]=A(e),t(t.S+t.F*o((function(){e(1)})),"Object",i)}},function(n,A,e){var t=e(30),l=e(62),o=e(20),i=e(16),c=e(125);n.exports=function(n,A){var e=1==n,s=2==n,r=3==n,C=4==n,a=6==n,u=5==n||a,m=A||c;return function(A,c,d){for(var f,p,E=o(A),I=l(E),h=t(c,d,3),b=i(I.length),B=0,g=e?m(A,b):s?m(A,0):void 0;b>B;B++)if((u||B in I)&&(p=h(f=I[B],B,E),n))if(e)g[B]=p;else if(p)switch(n){case 3:return!0;case 5:return f;case 6:return B;case 2:g.push(f)}else if(C)return!1;return a?-1:r||C?C:g}}},function(n,A){var e={}.toString;n.exports=function(n){return e.call(n).slice(8,-1)}},function(n,A){n.exports=function(n){if(null==n)throw TypeError("Can't call method on  "+n);return n}},function(n,A,e){"use strict";if(e(18)){var t=e(44),l=e(9),o=e(10),i=e(0),c=e(79),s=e(107),r=e(30),C=e(57),a=e(42),u=e(27),m=e(58),d=e(32),f=e(16),p=e(136),E=e(46),I=e(40),h=e(26),b=e(64),B=e(12),g=e(20),M=e(99),v=e(47),y=e(49),O=e(48).f,S=e(101),G=e(43),k=e(14),K=e(35),Q=e(69),T=e(65),x=e(103),Y=e(55),w=e(72),_=e(56),D=e(102),W=e(127),N=e(19),L=e(33),U=N.f,R=L.f,H=l.RangeError,P=l.TypeError,j=l.Uint8Array,F=Array.prototype,z=s.ArrayBuffer,q=s.DataView,$=K(0),V=K(2),X=K(3),Z=K(4),J=K(5),nn=K(6),An=Q(!0),en=Q(!1),tn=x.values,ln=x.keys,on=x.entries,cn=F.lastIndexOf,sn=F.reduce,rn=F.reduceRight,Cn=F.join,an=F.sort,un=F.slice,mn=F.toString,dn=F.toLocaleString,fn=k("iterator"),pn=k("toStringTag"),En=G("typed_constructor"),In=G("def_constructor"),hn=c.CONSTR,bn=c.TYPED,Bn=c.VIEW,gn=K(1,(function(n,A){return Sn(T(n,n[In]),A)})),Mn=o((function(){return 1===new j(new Uint16Array([1]).buffer)[0]})),vn=!!j&&!!j.prototype.set&&o((function(){new j(1).set({})})),yn=function(n,A){var e=d(n);if(e<0||e%A)throw H("Wrong offset!");return e},On=function(n){if(B(n)&&bn in n)return n;throw P(n+" is not a typed array!")},Sn=function(n,A){if(!B(n)||!(En in n))throw P("It is not a typed array constructor!");return new n(A)},Gn=function(n,A){return kn(T(n,n[In]),A)},kn=function(n,A){for(var e=0,t=A.length,l=Sn(n,t);t>e;)l[e]=A[e++];return l},Kn=function(n,A,e){U(n,A,{get:function(){return this._d[e]}})},Qn=function(n){var A,e,t,l,o,i,c=g(n),s=arguments.length,C=s>1?arguments[1]:void 0,a=void 0!==C,u=S(c);if(null!=u&&!M(u)){for(i=u.call(c),t=[],A=0;!(o=i.next()).done;A++)t.push(o.value);c=t}for(a&&s>2&&(C=r(C,arguments[2],2)),A=0,e=f(c.length),l=Sn(this,e);e>A;A++)l[A]=a?C(c[A],A):c[A];return l},Tn=function(){for(var n=0,A=arguments.length,e=Sn(this,A);A>n;)e[n]=arguments[n++];return e},xn=!!j&&o((function(){dn.call(new j(1))})),Yn=function(){return dn.apply(xn?un.call(On(this)):On(this),arguments)},wn={copyWithin:function(n,A){return W.call(On(this),n,A,arguments.length>2?arguments[2]:void 0)},every:function(n){return Z(On(this),n,arguments.length>1?arguments[1]:void 0)},fill:function(n){return D.apply(On(this),arguments)},filter:function(n){return Gn(this,V(On(this),n,arguments.length>1?arguments[1]:void 0))},find:function(n){return J(On(this),n,arguments.length>1?arguments[1]:void 0)},findIndex:function(n){return nn(On(this),n,arguments.length>1?arguments[1]:void 0)},forEach:function(n){$(On(this),n,arguments.length>1?arguments[1]:void 0)},indexOf:function(n){return en(On(this),n,arguments.length>1?arguments[1]:void 0)},includes:function(n){return An(On(this),n,arguments.length>1?arguments[1]:void 0)},join:function(n){return Cn.apply(On(this),arguments)},lastIndexOf:function(n){return cn.apply(On(this),arguments)},map:function(n){return gn(On(this),n,arguments.length>1?arguments[1]:void 0)},reduce:function(n){return sn.apply(On(this),arguments)},reduceRight:function(n){return rn.apply(On(this),arguments)},reverse:function(){for(var n,A=On(this).length,e=Math.floor(A/2),t=0;t<e;)n=this[t],this[t++]=this[--A],this[A]=n;return this},some:function(n){return X(On(this),n,arguments.length>1?arguments[1]:void 0)},sort:function(n){return an.call(On(this),n)},subarray:function(n,A){var e=On(this),t=e.length,l=E(n,t);return new(T(e,e[In]))(e.buffer,e.byteOffset+l*e.BYTES_PER_ELEMENT,f((void 0===A?t:E(A,t))-l))}},_n=function(n,A){return Gn(this,un.call(On(this),n,A))},Dn=function(n){On(this);var A=yn(arguments[1],1),e=this.length,t=g(n),l=f(t.length),o=0;if(l+A>e)throw H("Wrong length!");for(;o<l;)this[A+o]=t[o++]},Wn={entries:function(){return on.call(On(this))},keys:function(){return ln.call(On(this))},values:function(){return tn.call(On(this))}},Nn=function(n,A){return B(n)&&n[bn]&&"symbol"!=typeof A&&A in n&&String(+A)==String(A)},Ln=function(n,A){return Nn(n,A=I(A,!0))?a(2,n[A]):R(n,A)},Un=function(n,A,e){return!(Nn(n,A=I(A,!0))&&B(e)&&h(e,"value"))||h(e,"get")||h(e,"set")||e.configurable||h(e,"writable")&&!e.writable||h(e,"enumerable")&&!e.enumerable?U(n,A,e):(n[A]=e.value,n)};hn||(L.f=Ln,N.f=Un),i(i.S+i.F*!hn,"Object",{getOwnPropertyDescriptor:Ln,defineProperty:Un}),o((function(){mn.call({})}))&&(mn=dn=function(){return Cn.call(this)});var Rn=m({},wn);m(Rn,Wn),u(Rn,fn,Wn.values),m(Rn,{slice:_n,set:Dn,constructor:function(){},toString:mn,toLocaleString:Yn}),Kn(Rn,"buffer","b"),Kn(Rn,"byteOffset","o"),Kn(Rn,"byteLength","l"),Kn(Rn,"length","e"),U(Rn,pn,{get:function(){return this[bn]}}),n.exports=function(n,A,e,s){var r=n+((s=!!s)?"Clamped":"")+"Array",a="get"+n,m="set"+n,d=l[r],E=d||{},I=d&&y(d),h=!d||!c.ABV,g={},M=d&&d.prototype,S=function(n,e){U(n,e,{get:function(){return function(n,e){var t=n._d;return t.v[a](e*A+t.o,Mn)}(this,e)},set:function(n){return function(n,e,t){var l=n._d;s&&(t=(t=Math.round(t))<0?0:t>255?255:255&t),l.v[m](e*A+l.o,t,Mn)}(this,e,n)},enumerable:!0})};h?(d=e((function(n,e,t,l){C(n,d,r,"_d");var o,i,c,s,a=0,m=0;if(B(e)){if(!(e instanceof z||"ArrayBuffer"==(s=b(e))||"SharedArrayBuffer"==s))return bn in e?kn(d,e):Qn.call(d,e);o=e,m=yn(t,A);var E=e.byteLength;if(void 0===l){if(E%A)throw H("Wrong length!");if((i=E-m)<0)throw H("Wrong length!")}else if((i=f(l)*A)+m>E)throw H("Wrong length!");c=i/A}else c=p(e),o=new z(i=c*A);for(u(n,"_d",{b:o,o:m,l:i,e:c,v:new q(o)});a<c;)S(n,a++)})),M=d.prototype=v(Rn),u(M,"constructor",d)):o((function(){d(1)}))&&o((function(){new d(-1)}))&&w((function(n){new d,new d(null),new d(1.5),new d(n)}),!0)||(d=e((function(n,e,t,l){var o;return C(n,d,r),B(e)?e instanceof z||"ArrayBuffer"==(o=b(e))||"SharedArrayBuffer"==o?void 0!==l?new E(e,yn(t,A),l):void 0!==t?new E(e,yn(t,A)):new E(e):bn in e?kn(d,e):Qn.call(d,e):new E(p(e))})),$(I!==Function.prototype?O(E).concat(O(I)):O(E),(function(n){n in d||u(d,n,E[n])})),d.prototype=M,t||(M.constructor=d));var G=M[fn],k=!!G&&("values"==G.name||null==G.name),K=Wn.values;u(d,En,!0),u(M,bn,r),u(M,Bn,!0),u(M,In,d),(s?new d(1)[pn]==r:pn in M)||U(M,pn,{get:function(){return r}}),g[r]=d,i(i.G+i.W+i.F*(d!=E),g),i(i.S,r,{BYTES_PER_ELEMENT:A}),i(i.S+i.F*o((function(){E.of.call(d,1)})),r,{from:Qn,of:Tn}),"BYTES_PER_ELEMENT"in M||u(M,"BYTES_PER_ELEMENT",A),i(i.P,r,wn),_(r),i(i.P+i.F*vn,r,{set:Dn}),i(i.P+i.F*!k,r,Wn),t||M.toString==mn||(M.toString=mn),i(i.P+i.F*o((function(){new d(1).slice()})),r,{slice:_n}),i(i.P+i.F*(o((function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()}))||!o((function(){M.toLocaleString.call([1,2])}))),r,{toLocaleString:Yn}),Y[r]=k?G:K,t||k||u(M,fn,K)}}else n.exports=function(){}},function(n,A,e){var t=e(357),l=e(358),o=e(141),i=e(359);n.exports=function(n,A){return t(n)||l(n,A)||o(n,A)||i()}},function(n,A,e){var t=e(12);n.exports=function(n,A){if(!t(n))return n;var e,l;if(A&&"function"==typeof(e=n.toString)&&!t(l=e.call(n)))return l;if("function"==typeof(e=n.valueOf)&&!t(l=e.call(n)))return l;if(!A&&"function"==typeof(e=n.toString)&&!t(l=e.call(n)))return l;throw TypeError("Can't convert object to primitive value")}},function(n,A,e){var t=e(43)("meta"),l=e(12),o=e(26),i=e(19).f,c=0,s=Object.isExtensible||function(){return!0},r=!e(10)((function(){return s(Object.preventExtensions({}))})),C=function(n){i(n,t,{value:{i:"O"+ ++c,w:{}}})},a=n.exports={KEY:t,NEED:!1,fastKey:function(n,A){if(!l(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!o(n,t)){if(!s(n))return"F";if(!A)return"E";C(n)}return n[t].i},getWeak:function(n,A){if(!o(n,t)){if(!s(n))return!0;if(!A)return!1;C(n)}return n[t].w},onFreeze:function(n){return r&&a.NEED&&s(n)&&!o(n,t)&&C(n),n}}},function(n,A){n.exports=function(n,A){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:A}}},function(n,A){var e=0,t=Math.random();n.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++e+t).toString(36))}},function(n,A){n.exports=!1},function(n,A,e){var t=e(111),l=e(86);n.exports=Object.keys||function(n){return t(n,l)}},function(n,A,e){var t=e(32),l=Math.max,o=Math.min;n.exports=function(n,A){return(n=t(n))<0?l(n+A,0):o(n,A)}},function(n,A,e){var t=e(11),l=e(112),o=e(86),i=e(85)("IE_PROTO"),c=function(){},s=function(){var n,A=e(83)("iframe"),t=o.length;for(A.style.display="none",e(87).appendChild(A),A.src="javascript:",(n=A.contentWindow.document).open(),n.write("<script>document.F=Object<\/script>"),n.close(),s=n.F;t--;)delete s.prototype[o[t]];return s()};n.exports=Object.create||function(n,A){var e;return null!==n?(c.prototype=t(n),e=new c,c.prototype=null,e[i]=n):e=s(),void 0===A?e:l(e,A)}},function(n,A,e){var t=e(111),l=e(86).concat("length","prototype");A.f=Object.getOwnPropertyNames||function(n){return t(n,l)}},function(n,A,e){var t=e(26),l=e(20),o=e(85)("IE_PROTO"),i=Object.prototype;n.exports=Object.getPrototypeOf||function(n){return n=l(n),t(n,o)?n[o]:"function"==typeof n.constructor&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?i:null}},function(n,A,e){var t=e(14)("unscopables"),l=Array.prototype;null==l[t]&&e(27)(l,t,{}),n.exports=function(n){l[t][n]=!0}},function(n,A,e){var t=e(12);n.exports=function(n,A){if(!t(n)||n._t!==A)throw TypeError("Incompatible receiver, "+A+" required!");return n}},function(n,A){function e(A){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?n.exports=e=function(n){return typeof n}:n.exports=e=function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e(A)}n.exports=e},function(n,A,e){var t=e(19).f,l=e(26),o=e(14)("toStringTag");n.exports=function(n,A,e){n&&!l(n=e?n:n.prototype,o)&&t(n,o,{configurable:!0,value:A})}},function(n,A,e){var t=e(0),l=e(37),o=e(10),i=e(89),c="["+i+"]",s=RegExp("^"+c+c+"*"),r=RegExp(c+c+"*$"),C=function(n,A,e){var l={},c=o((function(){return!!i[n]()||"​"!="​"[n]()})),s=l[n]=c?A(a):i[n];e&&(l[e]=s),t(t.P+t.F*c,"String",l)},a=C.trim=function(n,A){return n=String(l(n)),1&A&&(n=n.replace(s,"")),2&A&&(n=n.replace(r,"")),n};n.exports=C},function(n,A){n.exports={}},function(n,A,e){"use strict";var t=e(9),l=e(19),o=e(18),i=e(14)("species");n.exports=function(n){var A=t[n];o&&A&&!A[i]&&l.f(A,i,{configurable:!0,get:function(){return this}})}},function(n,A){n.exports=function(n,A,e,t){if(!(n instanceof A)||void 0!==t&&t in n)throw TypeError(e+": incorrect invocation!");return n}},function(n,A,e){var t=e(23);n.exports=function(n,A,e){for(var l in A)t(n,l,A[l],e);return n}},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(143)],void 0===(o="function"==typeof(t=function(t,l,o,i){"use strict";var c=e(1);function s(){var n="/home/hata/editor.js/src/components/i18n/index.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"364a3c5fadba63e5a8f9c2466b7e0beb289b329b"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/i18n/index.ts",statementMap:{0:{start:{line:16,column:8},end:{line:16,column:51}},1:{start:{line:26,column:8},end:{line:26,column:43}},2:{start:{line:34,column:8},end:{line:34,column:44}},3:{start:{line:44,column:24},end:{line:44,column:52}},4:{start:{line:51,column:8},end:{line:53,column:9}},5:{start:{line:52,column:12},end:{line:52,column:27}},6:{start:{line:54,column:8},end:{line:54,column:32}},7:{start:{line:62,column:22},end:{line:62,column:42}},8:{start:{line:63,column:8},end:{line:68,column:35}},9:{start:{line:64,column:12},end:{line:66,column:13}},10:{start:{line:65,column:16},end:{line:65,column:26}},11:{start:{line:67,column:12},end:{line:67,column:33}},12:{start:{line:74,column:0},end:{line:74,column:43}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:42},end:{line:17,column:5}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:33},end:{line:27,column:5}},line:25},2:{name:"(anonymous_2)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:37},end:{line:35,column:5}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:34},end:{line:55,column:5}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:61,column:4},end:{line:61,column:5}},loc:{start:{line:61,column:35},end:{line:69,column:5}},line:61},5:{name:"(anonymous_5)",decl:{start:{line:63,column:28},end:{line:63,column:29}},loc:{start:{line:63,column:47},end:{line:68,column:9}},line:63}},branchMap:{0:{loc:{start:{line:51,column:8},end:{line:53,column:9}},type:"if",locations:[{start:{line:51,column:8},end:{line:53,column:9}},{start:{line:51,column:8},end:{line:53,column:9}}],line:51},1:{loc:{start:{line:51,column:12},end:{line:51,column:41}},type:"binary-expr",locations:[{start:{line:51,column:12},end:{line:51,column:20}},{start:{line:51,column:24},end:{line:51,column:41}}],line:51},2:{loc:{start:{line:64,column:12},end:{line:66,column:13}},type:"if",locations:[{start:{line:64,column:12},end:{line:66,column:13}},{start:{line:64,column:12},end:{line:66,column:13}}],line:64},3:{loc:{start:{line:64,column:16},end:{line:64,column:56}},type:"binary-expr",locations:[{start:{line:64,column:16},end:{line:64,column:24}},{start:{line:64,column:28},end:{line:64,column:56}}],line:64}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/i18n/index.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/i18n/index.ts"],names:[],mappings:"AAAA,OAAO,iBAAiB,MAAM,4BAA4B,CAAC;AAS3D;;GAEG;AACH,MAAM,CAAC,OAAO,OAAO,IAAI;IAMvB;;;;;;;;OAQG;IACI,MAAM,CAAC,EAAE,CAAC,iBAAyB,EAAE,OAAiB;QAC3D,OAAO,IAAI,CAAC,EAAE,CAAC,iBAAiB,EAAE,OAAO,CAAC,CAAC;IAC7C,CAAC;IAED;;;;;;OAMG;IACI,MAAM,CAAC,CAAC,CAAC,SAAiB,EAAE,OAAe;QAChD,OAAO,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IACrC,CAAC;IAED;;;;OAIG;IACI,MAAM,CAAC,aAAa,CAAC,UAA0B;QACpD,IAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC;IACtC,CAAC;IAED;;;;;;OAMG;IACK,MAAM,CAAC,EAAE,CAAC,SAAiB,EAAE,OAAe;QAClD,MAAM,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;QAE7C;;;;;WAKG;QAEH,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YACjC,OAAO,OAAO,CAAC;SAChB;QAED,OAAO,OAAO,CAAC,OAAO,CAAW,CAAC;IACpC,CAAC;IAED;;;;OAIG;IACK,MAAM,CAAC,YAAY,CAAC,SAAiB;QAC3C,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAEnC,OAAO,KAAK,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,IAAI,EAAE,EAAE;YACpC,IAAI,CAAC,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE;gBAC5C,OAAO,EAAE,CAAC;aACX;YAED,OAAO,OAAO,CAAC,IAAI,CAAC,CAAC;QACvB,CAAC,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAC7B,CAAC;;AA7ED;;GAEG;AACY,sBAAiB,GAAmB,iBAAiB,CAAC",sourcesContent:["import defaultDictionary from './locales/en/messages.json';\nimport { I18nDictionary, Dictionary } from '../../../types/configs';\nimport { LeavesDictKeys } from '../../types-internal/i18n-internal-namespace';\n\n/**\n * Type for all available internal dictionary strings\n */\ntype DictKeys = LeavesDictKeys<typeof defaultDictionary>;\n\n/**\n * This class will responsible for the translation through the language dictionary\n */\nexport default class I18n {\n  /**\n   * Property that stores messages dictionary\n   */\n  private static currentDictionary: I18nDictionary = defaultDictionary;\n\n  /**\n   * Type-safe translation for internal UI texts:\n   * Perform translation of the string by namespace and a key\n   *\n   * @example I18n.ui(I18nInternalNS.ui.blockTunes.toggler, 'Click to tune')\n   *\n   * @param internalNamespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  public static ui(internalNamespace: string, dictKey: DictKeys): string {\n    return I18n._t(internalNamespace, dictKey);\n  }\n\n  /**\n   * Translate for external strings that is not presented in default dictionary.\n   * For example, for user-specified tool names\n   *\n   * @param namespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  public static t(namespace: string, dictKey: string): string {\n    return I18n._t(namespace, dictKey);\n  }\n\n  /**\n   * Adjust module for using external dictionary\n   *\n   * @param dictionary - new messages list to override default\n   */\n  public static setDictionary(dictionary: I18nDictionary): void {\n    I18n.currentDictionary = dictionary;\n  }\n\n  /**\n   * Perform translation both for internal and external namespaces\n   * If there is no translation found, returns passed key as a translated message\n   *\n   * @param namespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  private static _t(namespace: string, dictKey: string): string {\n    const section = I18n.getNamespace(namespace);\n\n    /**\n     * For Console Message to Check Section is defined or not\n     * if (section === undefined) {\n     *  _.logLabeled('I18n: section %o was not found in current dictionary', 'log', namespace);\n     * }\n     */\n\n    if (!section || !section[dictKey]) {\n      return dictKey;\n    }\n\n    return section[dictKey] as string;\n  }\n\n  /**\n   * Find messages section by namespace path\n   *\n   * @param namespace - path to section\n   */\n  private static getNamespace(namespace: string): Dictionary {\n    const parts = namespace.split('.');\n\n    return parts.reduce((section, part) => {\n      if (!section || !Object.keys(section).length) {\n        return {};\n      }\n\n      return section[part];\n    }, I18n.currentDictionary);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"364a3c5fadba63e5a8f9c2466b7e0beb289b329b"});var l=t[n];return s=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=c(l),o=c(o),i=c(i),s();var r=function(){function n(){(0,l.default)(this,n)}return(0,o.default)(n,null,[{key:"ui",value:function(A,e){return s().f[0]++,s().s[0]++,n._t(A,e)}},{key:"t",value:function(A,e){return s().f[1]++,s().s[1]++,n._t(A,e)}},{key:"setDictionary",value:function(A){s().f[2]++,s().s[2]++,n.currentDictionary=A}},{key:"_t",value:function(A,e){s().f[3]++;var t=(s().s[3]++,n.getNamespace(A));return s().s[4]++,s().b[1][0]++,t&&(s().b[1][1]++,t[e])?(s().b[0][1]++,s().s[6]++,t[e]):(s().b[0][0]++,s().s[5]++,e)}},{key:"getNamespace",value:function(A){s().f[4]++;var e=(s().s[7]++,A.split("."));return s().s[8]++,e.reduce((function(n,A){return s().f[5]++,s().s[9]++,s().b[3][0]++,n&&(s().b[3][1]++,Object.keys(n).length)?(s().b[2][1]++,s().s[11]++,n[A]):(s().b[2][0]++,s().s[10]++,{})}),n.currentDictionary)}}]),n}();t.default=r,r.displayName="I18n",s().s[12]++,r.currentDictionary=i.default,n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(379),e(8)],void 0===(o="function"==typeof(t=function(t,l,o,i,c){"use strict";var s=e(13),r=e(1);function C(){var n="/home/hata/editor.js/src/components/flipper.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"6ee08db5a8b714cc88b8acbc8bd36ae2b56b02fc"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/flipper.ts",statementMap:{0:{start:{line:16,column:8},end:{line:16,column:29}},1:{start:{line:22,column:8},end:{line:22,column:31}},2:{start:{line:28,column:8},end:{line:28,column:32}},3:{start:{line:34,column:8},end:{line:62,column:10}},4:{start:{line:35,column:28},end:{line:35,column:63}},5:{start:{line:36,column:12},end:{line:38,column:13}},6:{start:{line:37,column:16},end:{line:37,column:23}},7:{start:{line:43,column:12},end:{line:45,column:13}},8:{start:{line:44,column:16},end:{line:44,column:39}},9:{start:{line:46,column:12},end:{line:61,column:13}},10:{start:{line:48,column:20},end:{line:48,column:47}},11:{start:{line:49,column:20},end:{line:49,column:26}},12:{start:{line:52,column:20},end:{line:52,column:36}},13:{start:{line:53,column:20},end:{line:53,column:26}},14:{start:{line:56,column:20},end:{line:56,column:37}},15:{start:{line:57,column:20},end:{line:57,column:26}},16:{start:{line:59,column:20},end:{line:59,column:49}},17:{start:{line:60,column:20},end:{line:60,column:26}},18:{start:{line:63,column:8},end:{line:63,column:97}},19:{start:{line:64,column:8},end:{line:64,column:81}},20:{start:{line:65,column:8},end:{line:65,column:57}},21:{start:{line:74,column:8},end:{line:81,column:10}},22:{start:{line:89,column:8},end:{line:89,column:30}},23:{start:{line:90,column:8},end:{line:92,column:9}},24:{start:{line:91,column:12},end:{line:91,column:42}},25:{start:{line:98,column:8},end:{line:98,column:61}},26:{start:{line:104,column:8},end:{line:104,column:31}},27:{start:{line:105,column:8},end:{line:105,column:26}},28:{start:{line:106,column:8},end:{line:106,column:64}},29:{start:{line:114,column:8},end:{line:114,column:41}},30:{start:{line:120,column:8},end:{line:120,column:26}},31:{start:{line:121,column:8},end:{line:121,column:25}},32:{start:{line:127,column:8},end:{line:127,column:33}},33:{start:{line:133,column:8},end:{line:133,column:29}},34:{start:{line:141,column:8},end:{line:141,column:35}},35:{start:{line:151,column:36},end:{line:154,column:9}},36:{start:{line:155,column:44},end:{line:155,column:95}},37:{start:{line:156,column:8},end:{line:158,column:9}},38:{start:{line:157,column:12},end:{line:157,column:104}},39:{start:{line:159,column:8},end:{line:159,column:83}},40:{start:{line:168,column:25},end:{line:168,column:39}},41:{start:{line:168,column:53},end:{line:168,column:122}},42:{start:{line:169,column:8},end:{line:176,column:9}},43:{start:{line:171,column:16},end:{line:171,column:33}},44:{start:{line:172,column:16},end:{line:172,column:22}},45:{start:{line:174,column:16},end:{line:174,column:32}},46:{start:{line:175,column:16},end:{line:175,column:22}},47:{start:{line:184,column:8},end:{line:186,column:9}},48:{start:{line:185,column:12},end:{line:185,column:19}},49:{start:{line:187,column:8},end:{line:189,column:9}},50:{start:{line:188,column:12},end:{line:188,column:46}},51:{start:{line:190,column:8},end:{line:192,column:9}},52:{start:{line:191,column:12},end:{line:191,column:61}},53:{start:{line:193,column:8},end:{line:193,column:31}},54:{start:{line:194,column:8},end:{line:194,column:32}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:25},end:{line:66,column:5}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:34,column:25},end:{line:34,column:26}},loc:{start:{line:34,column:36},end:{line:62,column:9}},line:34},2:{name:"(anonymous_2)",decl:{start:{line:73,column:4},end:{line:73,column:5}},loc:{start:{line:73,column:26},end:{line:82,column:5}},line:73},3:{name:"(anonymous_3)",decl:{start:{line:88,column:4},end:{line:88,column:5}},loc:{start:{line:88,column:20},end:{line:99,column:5}},line:88},4:{name:"(anonymous_4)",decl:{start:{line:103,column:4},end:{line:103,column:5}},loc:{start:{line:103,column:17},end:{line:107,column:5}},line:103},5:{name:"(anonymous_5)",decl:{start:{line:113,column:4},end:{line:113,column:5}},loc:{start:{line:113,column:22},end:{line:115,column:5}},line:113},6:{name:"(anonymous_6)",decl:{start:{line:119,column:4},end:{line:119,column:5}},loc:{start:{line:119,column:17},end:{line:122,column:5}},line:119},7:{name:"(anonymous_7)",decl:{start:{line:126,column:4},end:{line:126,column:5}},loc:{start:{line:126,column:15},end:{line:128,column:5}},line:126},8:{name:"(anonymous_8)",decl:{start:{line:132,column:4},end:{line:132,column:5}},loc:{start:{line:132,column:16},end:{line:134,column:5}},line:132},9:{name:"(anonymous_9)",decl:{start:{line:140,column:4},end:{line:140,column:5}},loc:{start:{line:140,column:17},end:{line:142,column:5}},line:140},10:{name:"(anonymous_10)",decl:{start:{line:150,column:4},end:{line:150,column:5}},loc:{start:{line:150,column:35},end:{line:160,column:5}},line:150},11:{name:"(anonymous_11)",decl:{start:{line:166,column:4},end:{line:166,column:5}},loc:{start:{line:166,column:26},end:{line:177,column:5}},line:166},12:{name:"(anonymous_12)",decl:{start:{line:183,column:4},end:{line:183,column:5}},loc:{start:{line:183,column:28},end:{line:195,column:5}},line:183}},branchMap:{0:{loc:{start:{line:36,column:12},end:{line:38,column:13}},type:"if",locations:[{start:{line:36,column:12},end:{line:38,column:13}},{start:{line:36,column:12},end:{line:38,column:13}}],line:36},1:{loc:{start:{line:43,column:12},end:{line:45,column:13}},type:"if",locations:[{start:{line:43,column:12},end:{line:45,column:13}},{start:{line:43,column:12},end:{line:45,column:13}}],line:43},2:{loc:{start:{line:46,column:12},end:{line:61,column:13}},type:"switch",locations:[{start:{line:47,column:16},end:{line:49,column:26}},{start:{line:50,column:16},end:{line:50,column:37}},{start:{line:51,column:16},end:{line:53,column:26}},{start:{line:54,column:16},end:{line:54,column:38}},{start:{line:55,column:16},end:{line:57,column:26}},{start:{line:58,column:16},end:{line:60,column:26}}],line:46},3:{loc:{start:{line:63,column:27},end:{line:63,column:96}},type:"cond-expr",locations:[{start:{line:63,column:70},end:{line:63,column:89}},{start:{line:63,column:92},end:{line:63,column:96}}],line:63},4:{loc:{start:{line:90,column:8},end:{line:92,column:9}},type:"if",locations:[{start:{line:90,column:8},end:{line:92,column:9}},{start:{line:90,column:8},end:{line:92,column:9}}],line:90},5:{loc:{start:{line:156,column:8},end:{line:158,column:9}},type:"if",locations:[{start:{line:156,column:8},end:{line:158,column:9}},{start:{line:156,column:8},end:{line:158,column:9}}],line:156},6:{loc:{start:{line:156,column:12},end:{line:156,column:60}},type:"binary-expr",locations:[{start:{line:156,column:12},end:{line:156,column:28}},{start:{line:156,column:32},end:{line:156,column:60}}],line:156},7:{loc:{start:{line:159,column:15},end:{line:159,column:82}},type:"binary-expr",locations:[{start:{line:159,column:15},end:{line:159,column:29}},{start:{line:159,column:33},end:{line:159,column:82}}],line:159},8:{loc:{start:{line:168,column:53},end:{line:168,column:122}},type:"cond-expr",locations:[{start:{line:168,column:64},end:{line:168,column:91}},{start:{line:168,column:94},end:{line:168,column:122}}],line:168},9:{loc:{start:{line:169,column:8},end:{line:176,column:9}},type:"switch",locations:[{start:{line:170,column:12},end:{line:172,column:22}},{start:{line:173,column:12},end:{line:175,column:22}}],line:169},10:{loc:{start:{line:184,column:8},end:{line:186,column:9}},type:"if",locations:[{start:{line:184,column:8},end:{line:186,column:9}},{start:{line:184,column:8},end:{line:186,column:9}}],line:184},11:{loc:{start:{line:187,column:8},end:{line:189,column:9}},type:"if",locations:[{start:{line:187,column:8},end:{line:189,column:9}},{start:{line:187,column:8},end:{line:189,column:9}}],line:187},12:{loc:{start:{line:190,column:8},end:{line:192,column:9}},type:"if",locations:[{start:{line:190,column:8},end:{line:192,column:9}},{start:{line:190,column:8},end:{line:192,column:9}}],line:190}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0,0,0,0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/flipper.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/flipper.ts"],names:[],mappings:"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",sourcesContent:["import DomIterator from './domIterator';\nimport * as _ from './utils';\n\n/**\n * Flipper construction options\n *\n * @interface FlipperOptions\n */\nexport interface FlipperOptions {\n  /**\n   * CSS-modifier for focused item\n   */\n  focusedItemClass?: string;\n\n  /**\n   * If flipping items are the same for all Block (for ex. Toolbox), ypu can pass it on constructing\n   */\n  items?: HTMLElement[];\n\n  /**\n   * Defines arrows usage. By default Flipper leafs items also via RIGHT/LEFT.\n   *\n   * true by default\n   *\n   * Pass 'false' if you don't need this behaviour\n   * (for example, Inline Toolbar should be closed by arrows,\n   * because it means caret moving with selection clearing)\n   */\n  allowArrows?: boolean;\n\n  /**\n   * Optional callback for button click\n   */\n  activateCallback?: (item: HTMLElement) => void;\n}\n\n/**\n * Flipper is a component that iterates passed items array by TAB or Arrows and clicks it by ENTER\n */\nexport default class Flipper {\n  /**\n   * Instance of flipper iterator\n   *\n   * @type {DomIterator|null}\n   */\n  private readonly iterator: DomIterator = null;\n\n  /**\n   * Flag that defines activation status\n   *\n   * @type {boolean}\n   */\n  private activated = false;\n\n  /**\n   * Flag that allows arrows usage to flip items\n   *\n   * @type {boolean}\n   */\n  private readonly allowArrows: boolean = true;\n\n  /**\n   * Call back for button click/enter\n   */\n  private readonly activateCallback: (item: HTMLElement) => void;\n\n  /**\n   * @param {FlipperOptions} options - different constructing settings\n   */\n  constructor(options: FlipperOptions) {\n    this.allowArrows = typeof options.allowArrows === 'boolean' ? options.allowArrows : true;\n    this.iterator = new DomIterator(options.items, options.focusedItemClass);\n    this.activateCallback = options.activateCallback;\n  }\n\n  /**\n   * Array of keys (codes) that is handled by Flipper\n   * Used to:\n   *  - preventDefault only for this keys, not all keydowns (@see constructor)\n   *  - to skip external behaviours only for these keys, when filler is activated (@see BlockEvents@arrowRightAndDown)\n   */\n  public static get usedKeys(): number[] {\n    return [\n      _.keyCodes.TAB,\n      _.keyCodes.LEFT,\n      _.keyCodes.RIGHT,\n      _.keyCodes.ENTER,\n      _.keyCodes.UP,\n      _.keyCodes.DOWN,\n    ];\n  }\n\n  /**\n   * Active tab/arrows handling by flipper\n   *\n   * @param {HTMLElement[]} items - Some modules (like, InlineToolbar, BlockSettings) might refresh buttons dynamically\n   */\n  public activate(items?: HTMLElement[]): void {\n    this.activated = true;\n\n    if (items) {\n      this.iterator.setItems(items);\n    }\n\n    /**\n     * Listening all keydowns on document and react on TAB/Enter press\n     * TAB will leaf iterator items\n     * ENTER will click the focused item\n     */\n    document.addEventListener('keydown', this.onKeyDown);\n  }\n\n  /**\n   * Disable tab/arrows handling by flipper\n   */\n  public deactivate(): void {\n    this.activated = false;\n    this.dropCursor();\n\n    document.removeEventListener('keydown', this.onKeyDown);\n  }\n\n  /**\n   * Return current focused button\n   *\n   * @returns {HTMLElement|null}\n   */\n  public get currentItem(): HTMLElement|null {\n    return this.iterator.currentItem;\n  }\n\n  /**\n   * Focus first item\n   */\n  public focusFirst(): void {\n    this.dropCursor();\n    this.flipRight();\n  }\n\n  /**\n   * Focuses previous flipper iterator item\n   */\n  public flipLeft(): void {\n    this.iterator.previous();\n  }\n\n  /**\n   * Focuses next flipper iterator item\n   */\n  public flipRight(): void {\n    this.iterator.next();\n  }\n\n  /**\n   * Drops flipper's iterator cursor\n   *\n   * @see DomIterator#dropCursor\n   */\n  private dropCursor(): void {\n    this.iterator.dropCursor();\n  }\n\n  /**\n   * KeyDown event handler\n   *\n   * @param event - keydown event\n   */\n  private onKeyDown = (event): void => {\n    const isReady = this.isEventReadyForHandling(event);\n\n    if (!isReady) {\n      return;\n    }\n\n    /**\n     * Prevent only used keys default behaviour\n     * (allows to navigate by ARROW DOWN, for example)\n     */\n    if (Flipper.usedKeys.includes(event.keyCode)) {\n      event.preventDefault();\n    }\n\n    switch (event.keyCode) {\n      case _.keyCodes.TAB:\n        this.handleTabPress(event);\n        break;\n      case _.keyCodes.LEFT:\n      case _.keyCodes.UP:\n        this.flipLeft();\n        break;\n      case _.keyCodes.RIGHT:\n      case _.keyCodes.DOWN:\n        this.flipRight();\n        break;\n      case _.keyCodes.ENTER:\n        this.handleEnterPress(event);\n        break;\n    }\n  };\n\n  /**\n   * This function is fired before handling flipper keycodes\n   * The result of this function defines if it is need to be handled or not\n   *\n   * @param {KeyboardEvent} event - keydown keyboard event\n   * @returns {boolean}\n   */\n  private isEventReadyForHandling(event: KeyboardEvent): boolean {\n    const handlingKeyCodeList = [\n      _.keyCodes.TAB,\n      _.keyCodes.ENTER,\n    ];\n\n    const isCurrentItemIsFocusedInput = this.iterator.currentItem == document.activeElement;\n\n    if (this.allowArrows && !isCurrentItemIsFocusedInput) {\n      handlingKeyCodeList.push(\n        _.keyCodes.LEFT,\n        _.keyCodes.RIGHT,\n        _.keyCodes.UP,\n        _.keyCodes.DOWN\n      );\n    }\n\n    return this.activated && handlingKeyCodeList.indexOf(event.keyCode) !== -1;\n  }\n\n  /**\n   * When flipper is activated tab press will leaf the items\n   *\n   * @param {KeyboardEvent} event - tab keydown event\n   */\n  private handleTabPress(event: KeyboardEvent): void {\n    /** this property defines leaf direction */\n    const shiftKey = event.shiftKey,\n        direction = shiftKey ? DomIterator.directions.LEFT : DomIterator.directions.RIGHT;\n\n    switch (direction) {\n      case DomIterator.directions.RIGHT:\n        this.flipRight();\n        break;\n      case DomIterator.directions.LEFT:\n        this.flipLeft();\n        break;\n    }\n  }\n\n  /**\n   * Enter press will click current item if flipper is activated\n   *\n   * @param {KeyboardEvent} event - enter keydown event\n   */\n  private handleEnterPress(event: KeyboardEvent): void {\n    if (!this.activated) {\n      return;\n    }\n\n    if (this.iterator.currentItem) {\n      this.iterator.currentItem.click();\n    }\n\n    if (_.isFunction(this.activateCallback)) {\n      this.activateCallback(this.iterator.currentItem);\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ee08db5a8b714cc88b8acbc8bd36ae2b56b02fc"});var l=t[n];return C=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=r(l),o=r(o),i=r(i),c=s(c),C();var a=function(){function n(A){var e=this;(0,l.default)(this,n),C().f[0]++,C().s[0]++,this.iterator=null,C().s[1]++,this.activated=!1,C().s[2]++,this.allowArrows=!0,C().s[3]++,this.onKeyDown=function(A){C().f[1]++;var t=(C().s[4]++,e.isEventReadyForHandling(A));if(C().s[5]++,!t)return C().b[0][0]++,void C().s[6]++;switch(C().b[0][1]++,C().s[7]++,n.usedKeys.includes(A.keyCode)?(C().b[1][0]++,C().s[8]++,A.preventDefault()):C().b[1][1]++,C().s[9]++,A.keyCode){case c.keyCodes.TAB:C().b[2][0]++,C().s[10]++,e.handleTabPress(A),C().s[11]++;break;case c.keyCodes.LEFT:C().b[2][1]++;case c.keyCodes.UP:C().b[2][2]++,C().s[12]++,e.flipLeft(),C().s[13]++;break;case c.keyCodes.RIGHT:C().b[2][3]++;case c.keyCodes.DOWN:C().b[2][4]++,C().s[14]++,e.flipRight(),C().s[15]++;break;case c.keyCodes.ENTER:C().b[2][5]++,C().s[16]++,e.handleEnterPress(A),C().s[17]++}},C().s[18]++,this.allowArrows="boolean"==typeof A.allowArrows?(C().b[3][0]++,A.allowArrows):(C().b[3][1]++,!0),C().s[19]++,this.iterator=new i.default(A.items,A.focusedItemClass),C().s[20]++,this.activateCallback=A.activateCallback}return(0,o.default)(n,[{key:"activate",value:function(n){C().f[3]++,C().s[22]++,this.activated=!0,C().s[23]++,n?(C().b[4][0]++,C().s[24]++,this.iterator.setItems(n)):C().b[4][1]++,C().s[25]++,document.addEventListener("keydown",this.onKeyDown)}},{key:"deactivate",value:function(){C().f[4]++,C().s[26]++,this.activated=!1,C().s[27]++,this.dropCursor(),C().s[28]++,document.removeEventListener("keydown",this.onKeyDown)}},{key:"focusFirst",value:function(){C().f[6]++,C().s[30]++,this.dropCursor(),C().s[31]++,this.flipRight()}},{key:"flipLeft",value:function(){C().f[7]++,C().s[32]++,this.iterator.previous()}},{key:"flipRight",value:function(){C().f[8]++,C().s[33]++,this.iterator.next()}},{key:"dropCursor",value:function(){C().f[9]++,C().s[34]++,this.iterator.dropCursor()}},{key:"isEventReadyForHandling",value:function(n){C().f[10]++;var A=(C().s[35]++,[c.keyCodes.TAB,c.keyCodes.ENTER]),e=(C().s[36]++,this.iterator.currentItem==document.activeElement);return C().s[37]++,C().b[6][0]++,this.allowArrows&&(C().b[6][1]++,!e)?(C().b[5][0]++,C().s[38]++,A.push(c.keyCodes.LEFT,c.keyCodes.RIGHT,c.keyCodes.UP,c.keyCodes.DOWN)):C().b[5][1]++,C().s[39]++,C().b[7][0]++,this.activated&&(C().b[7][1]++,-1!==A.indexOf(n.keyCode))}},{key:"handleTabPress",value:function(n){C().f[11]++;var A=(C().s[40]++,n.shiftKey),e=(C().s[41]++,A?(C().b[8][0]++,i.default.directions.LEFT):(C().b[8][1]++,i.default.directions.RIGHT));switch(C().s[42]++,e){case i.default.directions.RIGHT:C().b[9][0]++,C().s[43]++,this.flipRight(),C().s[44]++;break;case i.default.directions.LEFT:C().b[9][1]++,C().s[45]++,this.flipLeft(),C().s[46]++}}},{key:"handleEnterPress",value:function(n){if(C().f[12]++,C().s[47]++,!this.activated)return C().b[10][0]++,void C().s[48]++;C().b[10][1]++,C().s[49]++,this.iterator.currentItem?(C().b[11][0]++,C().s[50]++,this.iterator.currentItem.click()):C().b[11][1]++,C().s[51]++,c.isFunction(this.activateCallback)?(C().b[12][0]++,C().s[52]++,this.activateCallback(this.iterator.currentItem)):C().b[12][1]++,C().s[53]++,n.preventDefault(),C().s[54]++,n.stopPropagation()}},{key:"currentItem",get:function(){return C().f[5]++,C().s[29]++,this.iterator.currentItem}}],[{key:"usedKeys",get:function(){return C().f[2]++,C().s[21]++,[c.keyCodes.TAB,c.keyCodes.LEFT,c.keyCodes.RIGHT,c.keyCodes.ENTER,c.keyCodes.UP,c.keyCodes.DOWN]}}]),n}();t.default=a,a.displayName="Flipper",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(21),e(22),e(2),e(3),e(15),e(8),e(146),e(67),e(380),e(381),e(382),e(25)],void 0===(o="function"==typeof(t=function(n,A,t,l,o,i,c,s,r,C,a,u,m){"use strict";var d,f=e(13),p=e(1);function E(){var n="/home/hata/editor.js/src/components/block/index.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"d541de0301fc1b4df45c8132ab83082107e20b36"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/block/index.ts",statementMap:{0:{start:{line:22,column:0},end:{line:33,column:40}},1:{start:{line:27,column:4},end:{line:27,column:55}},2:{start:{line:28,column:4},end:{line:28,column:42}},3:{start:{line:29,column:4},end:{line:29,column:36}},4:{start:{line:30,column:4},end:{line:30,column:40}},5:{start:{line:31,column:4},end:{line:31,column:40}},6:{start:{line:32,column:4},end:{line:32,column:41}},7:{start:{line:57,column:8},end:{line:57,column:31}},8:{start:{line:63,column:8},end:{line:63,column:28}},9:{start:{line:69,column:8},end:{line:69,column:45}},10:{start:{line:73,column:8},end:{line:83,column:43}},11:{start:{line:77,column:12},end:{line:77,column:35}},12:{start:{line:81,column:12},end:{line:81,column:38}},13:{start:{line:82,column:12},end:{line:82,column:44}},14:{start:{line:87,column:8},end:{line:96,column:10}},15:{start:{line:91,column:12},end:{line:91,column:35}},16:{start:{line:95,column:12},end:{line:95,column:38}},17:{start:{line:97,column:8},end:{line:97,column:25}},18:{start:{line:98,column:8},end:{line:98,column:26}},19:{start:{line:99,column:8},end:{line:99,column:33}},20:{start:{line:100,column:8},end:{line:100,column:44}},21:{start:{line:101,column:8},end:{line:101,column:23}},22:{start:{line:102,column:8},end:{line:102,column:43}},23:{start:{line:103,column:8},end:{line:103,column:70}},24:{start:{line:104,column:8},end:{line:110,column:11}},25:{start:{line:111,column:8},end:{line:111,column:37}},26:{start:{line:115,column:8},end:{line:115,column:38}},27:{start:{line:123,column:8},end:{line:130,column:10}},28:{start:{line:141,column:8},end:{line:143,column:9}},29:{start:{line:142,column:12},end:{line:142,column:37}},30:{start:{line:144,column:23},end:{line:144,column:51}},31:{start:{line:148,column:8},end:{line:150,column:9}},32:{start:{line:149,column:12},end:{line:149,column:48}},33:{start:{line:154,column:8},end:{line:154,column:35}},34:{start:{line:155,column:8},end:{line:155,column:22}},35:{start:{line:163,column:8},end:{line:163,column:44}},36:{start:{line:171,column:22},end:{line:171,column:100}},37:{start:{line:171,column:55},end:{line:171,column:99}},38:{start:{line:172,column:8},end:{line:174,column:9}},39:{start:{line:173,column:12},end:{line:173,column:36}},40:{start:{line:182,column:8},end:{line:182,column:30}},41:{start:{line:190,column:23},end:{line:190,column:34}},42:{start:{line:191,column:8},end:{line:191,column:41}},43:{start:{line:199,column:8},end:{line:199,column:48}},44:{start:{line:207,column:8},end:{line:207,column:48}},45:{start:{line:215,column:8},end:{line:222,column:11}},46:{start:{line:216,column:12},end:{line:221,column:13}},47:{start:{line:217,column:16},end:{line:217,column:40}},48:{start:{line:220,column:16},end:{line:220,column:26}},49:{start:{line:230,column:8},end:{line:230,column:34}},50:{start:{line:239,column:8},end:{line:239,column:45}},51:{start:{line:247,column:26},end:{line:247,column:56}},52:{start:{line:248,column:27},end:{line:248,column:41}},53:{start:{line:249,column:8},end:{line:249,column:39}},54:{start:{line:262,column:26},end:{line:271,column:9}},55:{start:{line:272,column:8},end:{line:272,column:64}},56:{start:{line:280,column:8},end:{line:280,column:63}},57:{start:{line:286,column:8},end:{line:286,column:65}},58:{start:{line:295,column:8},end:{line:300,column:9}},59:{start:{line:296,column:12},end:{line:296,column:58}},60:{start:{line:299,column:12},end:{line:299,column:61}},61:{start:{line:308,column:8},end:{line:308,column:66}},62:{start:{line:316,column:8},end:{line:316,column:72}},63:{start:{line:324,column:8},end:{line:324,column:74}},64:{start:{line:332,column:8},end:{line:332,column:66}},65:{start:{line:340,column:34},end:{line:340,column:84}},66:{start:{line:341,column:8},end:{line:352,column:9}},67:{start:{line:346,column:12},end:{line:351,column:13}},68:{start:{line:346,column:29},end:{line:346,column:68}},69:{start:{line:347,column:36},end:{line:347,column:71}},70:{start:{line:348,column:16},end:{line:350,column:17}},71:{start:{line:349,column:20},end:{line:349,column:39}},72:{start:{line:353,column:8},end:{line:353,column:20}},73:{start:{line:367,column:8},end:{line:379,column:9}},74:{start:{line:368,column:12},end:{line:371,column:13}},75:{start:{line:369,column:16},end:{line:370,column:59}},76:{start:{line:372,column:12},end:{line:378,column:13}},77:{start:{line:374,column:16},end:{line:374,column:62}},78:{start:{line:377,column:16},end:{line:377,column:82}},79:{start:{line:387,column:8},end:{line:387,column:36}},80:{start:{line:396,column:31},end:{line:396,column:72}},81:{start:{line:400,column:31},end:{line:400,column:55}},82:{start:{line:402,column:8},end:{line:414,column:11}},83:{start:{line:405,column:12},end:{line:405,column:52}},84:{start:{line:406,column:12},end:{line:410,column:14}},85:{start:{line:413,column:12},end:{line:413,column:100}},86:{start:{line:426,column:22},end:{line:426,column:26}},87:{start:{line:427,column:8},end:{line:429,column:9}},88:{start:{line:428,column:12},end:{line:428,column:53}},89:{start:{line:430,column:8},end:{line:430,column:23}},90:{start:{line:439,column:26},end:{line:452,column:9}},91:{start:{line:454,column:8},end:{line:459,column:11}},92:{start:{line:455,column:12},end:{line:458,column:15}},93:{start:{line:467,column:29},end:{line:467,column:62}},94:{start:{line:468,column:8},end:{line:470,column:11}},95:{start:{line:469,column:12},end:{line:469,column:50}},96:{start:{line:471,column:8},end:{line:471,column:28}},97:{start:{line:483,column:8},end:{line:485,column:40}},98:{start:{line:494,column:8},end:{line:499,column:11}},99:{start:{line:504,column:8},end:{line:504,column:30}},100:{start:{line:510,column:8},end:{line:510,column:43}},101:{start:{line:511,column:8},end:{line:511,column:33}},102:{start:{line:519,column:24},end:{line:519,column:56}},103:{start:{line:519,column:72},end:{line:519,column:104}},104:{start:{line:519,column:123},end:{line:519,column:141}},105:{start:{line:520,column:8},end:{line:520,column:48}},106:{start:{line:521,column:8},end:{line:521,column:41}},107:{start:{line:522,column:8},end:{line:522,column:23}},108:{start:{line:528,column:8},end:{line:530,column:11}},109:{start:{line:529,column:12},end:{line:529,column:62}},110:{start:{line:536,column:8},end:{line:538,column:11}},111:{start:{line:537,column:12},end:{line:537,column:65}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:22,column:1},end:{line:22,column:2}},loc:{start:{line:22,column:25},end:{line:33,column:1}},line:22},1:{name:"(anonymous_1)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:64},end:{line:116,column:5}},line:51},2:{name:"(anonymous_2)",decl:{start:{line:73,column:37},end:{line:73,column:38}},loc:{start:{line:73,column:43},end:{line:83,column:9}},line:73},3:{name:"(anonymous_3)",decl:{start:{line:87,column:27},end:{line:87,column:28}},loc:{start:{line:87,column:33},end:{line:96,column:9}},line:87},4:{name:"(anonymous_4)",decl:{start:{line:122,column:4},end:{line:122,column:5}},loc:{start:{line:122,column:21},end:{line:131,column:5}},line:122},5:{name:"(anonymous_5)",decl:{start:{line:137,column:4},end:{line:137,column:5}},loc:{start:{line:137,column:17},end:{line:156,column:5}},line:137},6:{name:"(anonymous_6)",decl:{start:{line:162,column:4},end:{line:162,column:5}},loc:{start:{line:162,column:23},end:{line:164,column:5}},line:162},7:{name:"(anonymous_7)",decl:{start:{line:170,column:4},end:{line:170,column:5}},loc:{start:{line:170,column:30},end:{line:175,column:5}},line:170},8:{name:"(anonymous_8)",decl:{start:{line:171,column:44},end:{line:171,column:45}},loc:{start:{line:171,column:55},end:{line:171,column:99}},line:171},9:{name:"(anonymous_9)",decl:{start:{line:181,column:4},end:{line:181,column:5}},loc:{start:{line:181,column:21},end:{line:183,column:5}},line:181},10:{name:"(anonymous_10)",decl:{start:{line:189,column:4},end:{line:189,column:5}},loc:{start:{line:189,column:20},end:{line:192,column:5}},line:189},11:{name:"(anonymous_11)",decl:{start:{line:198,column:4},end:{line:198,column:5}},loc:{start:{line:198,column:20},end:{line:200,column:5}},line:198},12:{name:"(anonymous_12)",decl:{start:{line:206,column:4},end:{line:206,column:5}},loc:{start:{line:206,column:24},end:{line:208,column:5}},line:206},13:{name:"(anonymous_13)",decl:{start:{line:214,column:4},end:{line:214,column:5}},loc:{start:{line:214,column:15},end:{line:223,column:5}},line:214},14:{name:"(anonymous_14)",decl:{start:{line:215,column:32},end:{line:215,column:33}},loc:{start:{line:215,column:49},end:{line:222,column:9}},line:215},15:{name:"(anonymous_15)",decl:{start:{line:229,column:4},end:{line:229,column:5}},loc:{start:{line:229,column:19},end:{line:231,column:5}},line:229},16:{name:"(anonymous_16)",decl:{start:{line:238,column:4},end:{line:238,column:5}},loc:{start:{line:238,column:16},end:{line:240,column:5}},line:238},17:{name:"(anonymous_17)",decl:{start:{line:246,column:4},end:{line:246,column:5}},loc:{start:{line:246,column:18},end:{line:250,column:5}},line:246},18:{name:"(anonymous_18)",decl:{start:{line:256,column:4},end:{line:256,column:5}},loc:{start:{line:256,column:19},end:{line:273,column:5}},line:256},19:{name:"(anonymous_19)",decl:{start:{line:279,column:4},end:{line:279,column:5}},loc:{start:{line:279,column:23},end:{line:281,column:5}},line:279},20:{name:"(anonymous_20)",decl:{start:{line:285,column:4},end:{line:285,column:5}},loc:{start:{line:285,column:18},end:{line:287,column:5}},line:285},21:{name:"(anonymous_21)",decl:{start:{line:294,column:4},end:{line:294,column:5}},loc:{start:{line:294,column:24},end:{line:301,column:5}},line:294},22:{name:"(anonymous_22)",decl:{start:{line:307,column:4},end:{line:307,column:5}},loc:{start:{line:307,column:19},end:{line:309,column:5}},line:307},23:{name:"(anonymous_23)",decl:{start:{line:315,column:4},end:{line:315,column:5}},loc:{start:{line:315,column:25},end:{line:317,column:5}},line:315},24:{name:"(anonymous_24)",decl:{start:{line:323,column:4},end:{line:323,column:5}},loc:{start:{line:323,column:20},end:{line:325,column:5}},line:323},25:{name:"(anonymous_25)",decl:{start:{line:331,column:4},end:{line:331,column:5}},loc:{start:{line:331,column:26},end:{line:333,column:5}},line:331},26:{name:"(anonymous_26)",decl:{start:{line:339,column:4},end:{line:339,column:5}},loc:{start:{line:339,column:25},end:{line:354,column:5}},line:339},27:{name:"(anonymous_27)",decl:{start:{line:363,column:4},end:{line:363,column:5}},loc:{start:{line:363,column:29},end:{line:380,column:5}},line:363},28:{name:"(anonymous_28)",decl:{start:{line:386,column:4},end:{line:386,column:5}},loc:{start:{line:386,column:26},end:{line:388,column:5}},line:386},29:{name:"(anonymous_29)",decl:{start:{line:395,column:4},end:{line:395,column:5}},loc:{start:{line:395,column:17},end:{line:415,column:5}},line:395},30:{name:"(anonymous_30)",decl:{start:{line:403,column:18},end:{line:403,column:19}},loc:{start:{line:403,column:42},end:{line:411,column:9}},line:403},31:{name:"(anonymous_31)",decl:{start:{line:412,column:19},end:{line:412,column:20}},loc:{start:{line:412,column:30},end:{line:414,column:9}},line:412},32:{name:"(anonymous_32)",decl:{start:{line:425,column:4},end:{line:425,column:5}},loc:{start:{line:425,column:25},end:{line:431,column:5}},line:425},33:{name:"(anonymous_33)",decl:{start:{line:438,column:4},end:{line:438,column:5}},loc:{start:{line:438,column:16},end:{line:460,column:5}},line:438},34:{name:"(anonymous_34)",decl:{start:{line:454,column:29},end:{line:454,column:30}},loc:{start:{line:454,column:49},end:{line:459,column:9}},line:454},35:{name:"(anonymous_35)",decl:{start:{line:466,column:4},end:{line:466,column:5}},loc:{start:{line:466,column:18},end:{line:472,column:5}},line:466},36:{name:"(anonymous_36)",decl:{start:{line:468,column:27},end:{line:468,column:28}},loc:{start:{line:468,column:37},end:{line:470,column:9}},line:468},37:{name:"(anonymous_37)",decl:{start:{line:476,column:4},end:{line:476,column:5}},loc:{start:{line:476,column:25},end:{line:486,column:5}},line:476},38:{name:"(anonymous_38)",decl:{start:{line:490,column:4},end:{line:490,column:5}},loc:{start:{line:490,column:17},end:{line:505,column:5}},line:490},39:{name:"(anonymous_39)",decl:{start:{line:509,column:4},end:{line:509,column:5}},loc:{start:{line:509,column:19},end:{line:512,column:5}},line:509},40:{name:"(anonymous_40)",decl:{start:{line:518,column:4},end:{line:518,column:5}},loc:{start:{line:518,column:14},end:{line:523,column:5}},line:518},41:{name:"(anonymous_41)",decl:{start:{line:527,column:4},end:{line:527,column:5}},loc:{start:{line:527,column:21},end:{line:531,column:5}},line:527},42:{name:"(anonymous_42)",decl:{start:{line:528,column:28},end:{line:528,column:29}},loc:{start:{line:528,column:37},end:{line:530,column:9}},line:528},43:{name:"(anonymous_43)",decl:{start:{line:535,column:4},end:{line:535,column:5}},loc:{start:{line:535,column:24},end:{line:539,column:5}},line:535},44:{name:"(anonymous_44)",decl:{start:{line:536,column:28},end:{line:536,column:29}},loc:{start:{line:536,column:37},end:{line:538,column:9}},line:536}},branchMap:{0:{loc:{start:{line:33,column:3},end:{line:33,column:38}},type:"binary-expr",locations:[{start:{line:33,column:3},end:{line:33,column:15}},{start:{line:33,column:20},end:{line:33,column:37}}],line:33},1:{loc:{start:{line:100,column:22},end:{line:100,column:43}},type:"binary-expr",locations:[{start:{line:100,column:22},end:{line:100,column:37}},{start:{line:100,column:41},end:{line:100,column:43}}],line:100},2:{loc:{start:{line:141,column:8},end:{line:143,column:9}},type:"if",locations:[{start:{line:141,column:8},end:{line:143,column:9}},{start:{line:141,column:8},end:{line:143,column:9}}],line:141},3:{loc:{start:{line:148,column:8},end:{line:150,column:9}},type:"if",locations:[{start:{line:148,column:8},end:{line:150,column:9}},{start:{line:148,column:8},end:{line:150,column:9}}],line:148},4:{loc:{start:{line:171,column:55},end:{line:171,column:99}},type:"binary-expr",locations:[{start:{line:171,column:55},end:{line:171,column:72}},{start:{line:171,column:76},end:{line:171,column:99}}],line:171},5:{loc:{start:{line:172,column:8},end:{line:174,column:9}},type:"if",locations:[{start:{line:172,column:8},end:{line:174,column:9}},{start:{line:172,column:8},end:{line:174,column:9}}],line:172},6:{loc:{start:{line:216,column:12},end:{line:221,column:13}},type:"if",locations:[{start:{line:216,column:12},end:{line:221,column:13}},{start:{line:216,column:12},end:{line:221,column:13}}],line:216},7:{loc:{start:{line:216,column:16},end:{line:216,column:59}},type:"binary-expr",locations:[{start:{line:216,column:16},end:{line:216,column:27}},{start:{line:216,column:31},end:{line:216,column:59}}],line:216},8:{loc:{start:{line:249,column:15},end:{line:249,column:38}},type:"binary-expr",locations:[{start:{line:249,column:15},end:{line:249,column:24}},{start:{line:249,column:28},end:{line:249,column:38}}],line:249},9:{loc:{start:{line:295,column:8},end:{line:300,column:9}},type:"if",locations:[{start:{line:295,column:8},end:{line:300,column:9}},{start:{line:295,column:8},end:{line:300,column:9}}],line:295},10:{loc:{start:{line:341,column:8},end:{line:352,column:9}},type:"if",locations:[{start:{line:341,column:8},end:{line:352,column:9}},{start:{line:341,column:8},end:{line:352,column:9}}],line:341},11:{loc:{start:{line:341,column:12},end:{line:341,column:68}},type:"binary-expr",locations:[{start:{line:341,column:12},end:{line:341,column:29}},{start:{line:341,column:33},end:{line:341,column:68}}],line:341},12:{loc:{start:{line:348,column:16},end:{line:350,column:17}},type:"if",locations:[{start:{line:348,column:16},end:{line:350,column:17}},{start:{line:348,column:16},end:{line:350,column:17}}],line:348},13:{loc:{start:{line:367,column:8},end:{line:379,column:9}},type:"if",locations:[{start:{line:367,column:8},end:{line:379,column:9}},{start:{line:367,column:8},end:{line:379,column:9}}],line:367},14:{loc:{start:{line:367,column:12},end:{line:367,column:78}},type:"binary-expr",locations:[{start:{line:367,column:12},end:{line:367,column:33}},{start:{line:367,column:37},end:{line:367,column:78}}],line:367},15:{loc:{start:{line:368,column:12},end:{line:371,column:13}},type:"if",locations:[{start:{line:368,column:12},end:{line:371,column:13}},{start:{line:368,column:12},end:{line:371,column:13}}],line:368},16:{loc:{start:{line:427,column:8},end:{line:429,column:9}},type:"if",locations:[{start:{line:427,column:8},end:{line:429,column:9}},{start:{line:427,column:8},end:{line:429,column:9}}],line:427},17:{loc:{start:{line:483,column:28},end:{line:485,column:39}},type:"cond-expr",locations:[{start:{line:484,column:14},end:{line:484,column:36}},{start:{line:485,column:14},end:{line:485,column:39}}],line:483},18:{loc:{start:{line:483,column:28},end:{line:483,column:97}},type:"binary-expr",locations:[{start:{line:483,column:28},end:{line:483,column:67}},{start:{line:483,column:71},end:{line:483,column:97}}],line:483}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/block/index.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/block/index.ts"],names:[],mappings:"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",sourcesContent:["import {\n  BlockAPI as BlockAPIInterface,\n  BlockTool,\n  BlockToolConstructable,\n  BlockToolData,\n  BlockTune,\n  BlockTuneConstructable,\n  SanitizerConfig,\n  ToolConfig,\n  ToolSettings\n} from '../../../types';\n\nimport { SavedData } from '../../../types/data-formats';\nimport $ from '../dom';\nimport * as _ from '../utils';\nimport ApiModules from '../modules/api';\nimport BlockAPI from './api';\nimport { ToolType } from '../modules/tools';\n\n/** Import default tunes */\nimport MoveUpTune from '../block-tunes/block-tune-move-up';\nimport DeleteTune from '../block-tunes/block-tune-delete';\nimport MoveDownTune from '../block-tunes/block-tune-move-down';\nimport SelectionUtils from '../selection';\n\n/**\n * Interface describes Block class constructor argument\n */\ninterface BlockConstructorOptions {\n  /**\n   * Tool's name\n   */\n  name: string;\n\n  /**\n   * Initial Block data\n   */\n  data: BlockToolData;\n\n  /**\n   * Tool's class or constructor function\n   */\n  Tool: BlockToolConstructable;\n\n  /**\n   * Tool settings from initial config\n   */\n  settings: ToolSettings;\n\n  /**\n   * Editor's API methods\n   */\n  api: ApiModules;\n\n  /**\n   * This flag indicates that the Block should be constructed in the read-only mode.\n   */\n  readOnly: boolean;\n}\n\n/**\n * @class Block\n * @classdesc This class describes editor`s block, including block`s HTMLElement, data and tool\n *\n * @property {BlockTool} tool — current block tool (Paragraph, for example)\n * @property {object} CSS — block`s css classes\n *\n */\n\n/**\n * Available Block Tool API methods\n */\nexport enum BlockToolAPI {\n  /**\n   * @todo remove method in 3.0.0\n   * @deprecated — use 'rendered' hook instead\n   */\n  APPEND_CALLBACK = 'appendCallback',\n  RENDERED = 'rendered',\n  MOVED = 'moved',\n  UPDATED = 'updated',\n  REMOVED = 'removed',\n  ON_PASTE = 'onPaste',\n}\n\n/**\n * @classdesc Abstract Block class that contains Block information, Tool name and Tool class instance\n *\n * @property {BlockTool} tool - Tool instance\n * @property {HTMLElement} holder - Div element that wraps block content with Tool's content. Has `ce-block` CSS class\n * @property {HTMLElement} pluginsContent - HTML content that returns by Tool's render function\n */\nexport default class Block {\n  /**\n   * CSS classes for the Block\n   *\n   * @returns {{wrapper: string, content: string}}\n   */\n  public static get CSS(): {[name: string]: string} {\n    return {\n      wrapper: 'ce-block',\n      wrapperStretched: 'ce-block--stretched',\n      content: 'ce-block__content',\n      focused: 'ce-block--focused',\n      selected: 'ce-block--selected',\n      dropTarget: 'ce-block--drop-target',\n    };\n  }\n\n  /**\n   * Block Tool`s name\n   */\n  public name: string;\n\n  /**\n   * Instance of the Tool Block represents\n   */\n  public tool: BlockTool;\n\n  /**\n   * Class blueprint of the ool Block represents\n   */\n  public class: BlockToolConstructable;\n\n  /**\n   * User Tool configuration\n   */\n  public settings: ToolConfig;\n\n  /**\n   * Wrapper for Block`s content\n   */\n  public holder: HTMLDivElement;\n\n  /**\n   * Tunes used by Tool\n   */\n  public tunes: BlockTune[];\n\n  /**\n   * Tool's user configuration\n   */\n  public readonly config: ToolConfig;\n\n  /**\n   * Cached inputs\n   *\n   * @type {HTMLElement[]}\n   */\n  private cachedInputs: HTMLElement[] = [];\n\n  /**\n   * Editor`s API module\n   */\n  private readonly api: ApiModules;\n\n  /**\n   * Focused input index\n   *\n   * @type {number}\n   */\n  private inputIndex = 0;\n\n  /**\n   * Mutation observer to handle DOM mutations\n   *\n   * @type {MutationObserver}\n   */\n  private mutationObserver: MutationObserver;\n\n  /**\n   * Debounce Timer\n   *\n   * @type {number}\n   */\n  private readonly modificationDebounceTimer = 450;\n\n  /**\n   * Is fired when DOM mutation has been happened\n   */\n  private didMutated = _.debounce((): void => {\n    /**\n     * Drop cache\n     */\n    this.cachedInputs = [];\n\n    /**\n     * Update current input\n     */\n    this.updateCurrentInput();\n\n    this.call(BlockToolAPI.UPDATED);\n  }, this.modificationDebounceTimer);\n\n  /**\n   * Current block API interface\n   */\n  private readonly blockAPI: BlockAPIInterface;\n\n  /**\n   * @param {object} options - block constructor options\n   * @param {string} options.name - Tool name that passed on initialization\n   * @param {BlockToolData} options.data - Tool's initial data\n   * @param {BlockToolConstructable} options.Tool — Tool's class\n   * @param {ToolSettings} options.settings - default tool's config\n   * @param {Module} options.api - Editor API module for pass it to the Block Tunes\n   * @param {boolean} options.readOnly - Read-Only flag\n   */\n  constructor({\n    name,\n    data,\n    Tool,\n    settings,\n    api,\n    readOnly,\n  }: BlockConstructorOptions) {\n    this.name = name;\n    this.class = Tool;\n    this.settings = settings;\n    this.config = settings.config || {};\n    this.api = api;\n    this.blockAPI = new BlockAPI(this);\n\n    this.mutationObserver = new MutationObserver(this.didMutated);\n\n    this.tool = new Tool({\n      data,\n      config: this.config,\n      api: this.api.getMethodsForTool(name, ToolType.Block),\n      block: this.blockAPI,\n      readOnly,\n    });\n\n    this.holder = this.compose();\n    /**\n     * @type {BlockTune[]}\n     */\n    this.tunes = this.makeTunes();\n  }\n\n  /**\n   * Find and return all editable elements (contenteditables and native inputs) in the Tool HTML\n   *\n   * @returns {HTMLElement[]}\n   */\n  public get inputs(): HTMLElement[] {\n    /**\n     * Return from cache if existed\n     */\n    if (this.cachedInputs.length !== 0) {\n      return this.cachedInputs;\n    }\n\n    const inputs = $.findAllInputs(this.holder);\n\n    /**\n     * If inputs amount was changed we need to check if input index is bigger then inputs array length\n     */\n    if (this.inputIndex > inputs.length - 1) {\n      this.inputIndex = inputs.length - 1;\n    }\n\n    /**\n     * Cache inputs\n     */\n    this.cachedInputs = inputs;\n\n    return inputs;\n  }\n\n  /**\n   * Return current Tool`s input\n   *\n   * @returns {HTMLElement}\n   */\n  public get currentInput(): HTMLElement | Node {\n    return this.inputs[this.inputIndex];\n  }\n\n  /**\n   * Set input index to the passed element\n   *\n   * @param {HTMLElement | Node} element - HTML Element to set as current input\n   */\n  public set currentInput(element: HTMLElement | Node) {\n    const index = this.inputs.findIndex((input) => input === element || input.contains(element));\n\n    if (index !== -1) {\n      this.inputIndex = index;\n    }\n  }\n\n  /**\n   * Return first Tool`s input\n   *\n   * @returns {HTMLElement}\n   */\n  public get firstInput(): HTMLElement {\n    return this.inputs[0];\n  }\n\n  /**\n   * Return first Tool`s input\n   *\n   * @returns {HTMLElement}\n   */\n  public get lastInput(): HTMLElement {\n    const inputs = this.inputs;\n\n    return inputs[inputs.length - 1];\n  }\n\n  /**\n   * Return next Tool`s input or undefined if it doesn't exist\n   *\n   * @returns {HTMLElement}\n   */\n  public get nextInput(): HTMLElement {\n    return this.inputs[this.inputIndex + 1];\n  }\n\n  /**\n   * Return previous Tool`s input or undefined if it doesn't exist\n   *\n   * @returns {HTMLElement}\n   */\n  public get previousInput(): HTMLElement {\n    return this.inputs[this.inputIndex - 1];\n  }\n\n  /**\n   * Get Block's JSON data\n   *\n   * @returns {object}\n   */\n  public get data(): Promise<BlockToolData> {\n    return this.save().then((savedObject) => {\n      if (savedObject && !_.isEmpty(savedObject.data)) {\n        return savedObject.data;\n      } else {\n        return {};\n      }\n    });\n  }\n\n  /**\n   * Returns tool's sanitizer config\n   *\n   * @returns {object}\n   */\n  public get sanitize(): SanitizerConfig {\n    return this.tool.sanitize;\n  }\n\n  /**\n   * is block mergeable\n   * We plugin have merge function then we call it mergable\n   *\n   * @returns {boolean}\n   */\n  public mergeable(): boolean {\n    return _.isFunction(this.tool.merge);\n  }\n\n  /**\n   * Check block for emptiness\n   *\n   * @returns {boolean}\n   */\n  public get isEmpty(): boolean {\n    const emptyText = $.isEmpty(this.pluginsContent);\n    const emptyMedia = !this.hasMedia;\n\n    return emptyText && emptyMedia;\n  }\n\n  /**\n   * Check if block has a media content such as images, iframes and other\n   *\n   * @returns {boolean}\n   */\n  public get hasMedia(): boolean {\n    /**\n     * This tags represents media-content\n     *\n     * @type {string[]}\n     */\n    const mediaTags = [\n      'img',\n      'iframe',\n      'video',\n      'audio',\n      'source',\n      'input',\n      'textarea',\n      'twitterwidget',\n    ];\n\n    return !!this.holder.querySelector(mediaTags.join(','));\n  }\n\n  /**\n   * Set focused state\n   *\n   * @param {boolean} state - 'true' to select, 'false' to remove selection\n   */\n  public set focused(state: boolean) {\n    this.holder.classList.toggle(Block.CSS.focused, state);\n  }\n\n  /**\n   * Get Block's focused state\n   */\n  public get focused(): boolean {\n    return this.holder.classList.contains(Block.CSS.focused);\n  }\n\n  /**\n   * Set selected state\n   * We don't need to mark Block as Selected when it is empty\n   *\n   * @param {boolean} state - 'true' to select, 'false' to remove selection\n   */\n  public set selected(state: boolean) {\n    if (state) {\n      this.holder.classList.add(Block.CSS.selected);\n    } else {\n      this.holder.classList.remove(Block.CSS.selected);\n    }\n  }\n\n  /**\n   * Returns True if it is Selected\n   *\n   * @returns {boolean}\n   */\n  public get selected(): boolean {\n    return this.holder.classList.contains(Block.CSS.selected);\n  }\n\n  /**\n   * Set stretched state\n   *\n   * @param {boolean} state - 'true' to enable, 'false' to disable stretched statte\n   */\n  public set stretched(state: boolean) {\n    this.holder.classList.toggle(Block.CSS.wrapperStretched, state);\n  }\n\n  /**\n   * Return Block's stretched state\n   *\n   * @returns {boolean}\n   */\n  public get stretched(): boolean {\n    return this.holder.classList.contains(Block.CSS.wrapperStretched);\n  }\n\n  /**\n   * Toggle drop target state\n   *\n   * @param {boolean} state - 'true' if block is drop target, false otherwise\n   */\n  public set dropTarget(state) {\n    this.holder.classList.toggle(Block.CSS.dropTarget, state);\n  }\n\n  /**\n   * Returns Plugins content\n   *\n   * @returns {HTMLElement}\n   */\n  public get pluginsContent(): HTMLElement {\n    const blockContentNodes = this.holder.querySelector(`.${Block.CSS.content}`);\n\n    if (blockContentNodes && blockContentNodes.childNodes.length) {\n      /**\n       * Editors Block content can contain different Nodes from extensions\n       * We use DOM isExtensionNode to ignore such Nodes and return first Block that does not match filtering list\n       */\n      for (let child = blockContentNodes.childNodes.length - 1; child >= 0; child--) {\n        const contentNode = blockContentNodes.childNodes[child];\n\n        if (!$.isExtensionNode(contentNode)) {\n          return contentNode as HTMLElement;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Calls Tool's method\n   *\n   * Method checks tool property {MethodName}. Fires method with passes params If it is instance of Function\n   *\n   * @param {string} methodName - method to call\n   * @param {object} params - method argument\n   */\n  public call(methodName: string, params?: object): void {\n    /**\n     * call Tool's method with the instance context\n     */\n    if (this.tool[methodName] && this.tool[methodName] instanceof Function) {\n      if (methodName === BlockToolAPI.APPEND_CALLBACK) {\n        _.log(\n          '`appendCallback` hook is deprecated and will be removed in the next major release. ' +\n          'Use `rendered` hook instead',\n          'warn'\n        );\n      }\n\n      try {\n        // eslint-disable-next-line no-useless-call\n        this.tool[methodName].call(this.tool, params);\n      } catch (e) {\n        _.log(`Error during '${methodName}' call: ${e.message}`, 'error');\n      }\n    }\n  }\n\n  /**\n   * Call plugins merge method\n   *\n   * @param {BlockToolData} data - data to merge\n   */\n  public async mergeWith(data: BlockToolData): Promise<void> {\n    await this.tool.merge(data);\n  }\n\n  /**\n   * Extracts data from Block\n   * Groups Tool's save processing time\n   *\n   * @returns {object}\n   */\n  public async save(): Promise<void|SavedData> {\n    const extractedBlock = await this.tool.save(this.pluginsContent as HTMLElement);\n\n    /**\n     * Measuring execution time\n     */\n    const measuringStart = window.performance.now();\n    let measuringEnd;\n\n    return Promise.resolve(extractedBlock)\n      .then((finishedExtraction) => {\n        /** measure promise execution */\n        measuringEnd = window.performance.now();\n\n        return {\n          tool: this.name,\n          data: finishedExtraction,\n          time: measuringEnd - measuringStart,\n        };\n      })\n      .catch((error) => {\n        _.log(`Saving proccess for ${this.name} tool failed due to the ${error}`, 'log', 'red');\n      });\n  }\n\n  /**\n   * Uses Tool's validation method to check the correctness of output data\n   * Tool's validation method is optional\n   *\n   * @description Method returns true|false whether data passed the validation or not\n   *\n   * @param {BlockToolData} data - data to validate\n   * @returns {Promise<boolean>} valid\n   */\n  public async validate(data: BlockToolData): Promise<boolean> {\n    let isValid = true;\n\n    if (this.tool.validate instanceof Function) {\n      isValid = await this.tool.validate(data);\n    }\n\n    return isValid;\n  }\n\n  /**\n   * Make an array with default settings\n   * Each block has default tune instance that have states\n   *\n   * @returns {BlockTune[]}\n   */\n  public makeTunes(): BlockTune[] {\n    const tunesList = [\n      {\n        name: 'moveUp',\n        Tune: MoveUpTune,\n      },\n      {\n        name: 'delete',\n        Tune: DeleteTune,\n      },\n      {\n        name: 'moveDown',\n        Tune: MoveDownTune,\n      },\n    ];\n\n    // Pluck tunes list and return tune instances with passed Editor API and settings\n    return tunesList.map(({ name, Tune }: {name: string; Tune: BlockTuneConstructable}) => {\n      return new Tune({\n        api: this.api.getMethodsForTool(name, ToolType.Tune),\n        settings: this.config,\n      });\n    });\n  }\n\n  /**\n   * Enumerates initialized tunes and returns fragment that can be appended to the toolbars area\n   *\n   * @returns {DocumentFragment}\n   */\n  public renderTunes(): DocumentFragment {\n    const tunesElement = document.createDocumentFragment();\n\n    this.tunes.forEach((tune) => {\n      $.append(tunesElement, tune.render());\n    });\n\n    return tunesElement;\n  }\n\n  /**\n   * Update current input index with selection anchor node\n   */\n  public updateCurrentInput(): void {\n    /**\n     * If activeElement is native input, anchorNode points to its parent.\n     * So if it is native input use it instead of anchorNode\n     *\n     * If anchorNode is undefined, also use activeElement\n     */\n    this.currentInput = $.isNativeInput(document.activeElement) || !SelectionUtils.anchorNode\n      ? document.activeElement\n      : SelectionUtils.anchorNode;\n  }\n\n  /**\n   * Is fired when Block will be selected as current\n   */\n  public willSelect(): void {\n    /**\n     * Observe DOM mutations to update Block inputs\n     */\n    this.mutationObserver.observe(\n      this.holder.firstElementChild,\n      {\n        childList: true,\n        subtree: true,\n        characterData: true,\n        attributes: true,\n      }\n    );\n\n    /**\n     * Mutation observer doesn't track changes in \"<input>\" and \"<textarea>\"\n     * so we need to track focus events to update current input and clear cache.\n     */\n    this.addInputEvents();\n  }\n\n  /**\n   * Is fired when Block will be unselected\n   */\n  public willUnselect(): void {\n    this.mutationObserver.disconnect();\n    this.removeInputEvents();\n  }\n\n  /**\n   * Make default Block wrappers and put Tool`s content there\n   *\n   * @returns {HTMLDivElement}\n   */\n  private compose(): HTMLDivElement {\n    const wrapper = $.make('div', Block.CSS.wrapper) as HTMLDivElement,\n        contentNode = $.make('div', Block.CSS.content),\n        pluginsContent = this.tool.render();\n\n    contentNode.appendChild(pluginsContent);\n    wrapper.appendChild(contentNode);\n\n    return wrapper;\n  }\n\n  /**\n   * Is fired when text input or contentEditable is focused\n   */\n  private handleFocus = (): void => {\n    /**\n     * Drop cache\n     */\n    this.cachedInputs = [];\n\n    /**\n     * Update current input\n     */\n    this.updateCurrentInput();\n  }\n\n  /**\n   * Adds focus event listeners to all inputs and contentEditables\n   */\n  private addInputEvents(): void {\n    this.inputs.forEach(input => {\n      input.addEventListener('focus', this.handleFocus);\n    });\n  }\n\n  /**\n   * removes focus event listeners from all inputs and contentEditables\n   */\n  private removeInputEvents(): void {\n    this.inputs.forEach(input => {\n      input.removeEventListener('focus', this.handleFocus);\n    });\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d541de0301fc1b4df45c8132ab83082107e20b36"});var l=t[n];return E=function(){return l},l}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockToolAPI=void 0,A=p(A),t=p(t),l=p(l),o=p(o),i=p(i),c=f(c),s=p(s),C=p(C),a=p(a),u=p(u),m=p(m),E(),n.BlockToolAPI=d,E().s[0]++,function(n){E().f[0]++,E().s[1]++,n.APPEND_CALLBACK="appendCallback",E().s[2]++,n.RENDERED="rendered",E().s[3]++,n.MOVED="moved",E().s[4]++,n.UPDATED="updated",E().s[5]++,n.REMOVED="removed",E().s[6]++,n.ON_PASTE="onPaste"}((E().b[0][0]++,d||(E().b[0][1]++,n.BlockToolAPI=d={})));var I=function(){function n(A){var e=this,t=A.name,o=A.data,i=A.Tool,C=A.settings,a=A.api,u=A.readOnly;(0,l.default)(this,n),E().f[1]++,E().s[7]++,this.cachedInputs=[],E().s[8]++,this.inputIndex=0,E().s[9]++,this.modificationDebounceTimer=450,E().s[10]++,this.didMutated=c.debounce((function(){E().f[2]++,E().s[11]++,e.cachedInputs=[],E().s[12]++,e.updateCurrentInput(),E().s[13]++,e.call(d.UPDATED)}),this.modificationDebounceTimer),E().s[14]++,this.handleFocus=function(){E().f[3]++,E().s[15]++,e.cachedInputs=[],E().s[16]++,e.updateCurrentInput()},E().s[17]++,this.name=t,E().s[18]++,this.class=i,E().s[19]++,this.settings=C,E().s[20]++,this.config=(E().b[1][0]++,C.config||(E().b[1][1]++,{})),E().s[21]++,this.api=a,E().s[22]++,this.blockAPI=new s.default(this),E().s[23]++,this.mutationObserver=new MutationObserver(this.didMutated),E().s[24]++,this.tool=new i({data:o,config:this.config,api:this.api.getMethodsForTool(t,r.ToolType.Block),block:this.blockAPI,readOnly:u}),E().s[25]++,this.holder=this.compose(),E().s[26]++,this.tunes=this.makeTunes()}var e,f,p;return(0,o.default)(n,[{key:"mergeable",value:function(){return E().f[16]++,E().s[50]++,c.isFunction(this.tool.merge)}},{key:"call",value:function(n,A){if(E().f[27]++,E().s[73]++,E().b[14][0]++,this.tool[n]&&(E().b[14][1]++,this.tool[n]instanceof Function)){E().b[13][0]++,E().s[74]++,n===d.APPEND_CALLBACK?(E().b[15][0]++,E().s[75]++,c.log("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn")):E().b[15][1]++,E().s[76]++;try{E().s[77]++,this.tool[n].call(this.tool,A)}catch(A){E().s[78]++,c.log("Error during '".concat(n,"' call: ").concat(A.message),"error")}}else E().b[13][1]++}},{key:"mergeWith",value:(p=(0,t.default)(A.default.mark((function n(e){return A.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return E().f[28]++,E().s[79]++,n.next=4,this.tool.merge(e);case 4:case"end":return n.stop()}}),n,this)}))),function(n){return p.apply(this,arguments)})},{key:"save",value:(f=(0,t.default)(A.default.mark((function n(){var e,t,l,o=this;return A.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return E().f[29]++,E().s[80]++,n.next=4,this.tool.save(this.pluginsContent);case 4:return e=n.sent,E().s[81]++,t=window.performance.now(),E().s[82]++,n.abrupt("return",Promise.resolve(e).then((function(n){return E().f[30]++,E().s[83]++,l=window.performance.now(),E().s[84]++,{tool:o.name,data:n,time:l-t}})).catch((function(n){E().f[31]++,E().s[85]++,c.log("Saving proccess for ".concat(o.name," tool failed due to the ").concat(n),"log","red")})));case 8:case"end":return n.stop()}}),n,this)}))),function(){return f.apply(this,arguments)})},{key:"validate",value:(e=(0,t.default)(A.default.mark((function n(e){var t;return A.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(E().f[32]++,E().s[86]++,t=!0,E().s[87]++,!(this.tool.validate instanceof Function)){n.next=11;break}return E().b[16][0]++,E().s[88]++,n.next=8,this.tool.validate(e);case 8:t=n.sent,n.next=12;break;case 11:E().b[16][1]++;case 12:return E().s[89]++,n.abrupt("return",t);case 14:case"end":return n.stop()}}),n,this)}))),function(n){return e.apply(this,arguments)})},{key:"makeTunes",value:function(){var n=this;E().f[33]++;var A=(E().s[90]++,[{name:"moveUp",Tune:C.default},{name:"delete",Tune:a.default},{name:"moveDown",Tune:u.default}]);return E().s[91]++,A.map((function(A){var e=A.name,t=A.Tune;return E().f[34]++,E().s[92]++,new t({api:n.api.getMethodsForTool(e,r.ToolType.Tune),settings:n.config})}))}},{key:"renderTunes",value:function(){E().f[35]++;var n=(E().s[93]++,document.createDocumentFragment());return E().s[94]++,this.tunes.forEach((function(A){E().f[36]++,E().s[95]++,i.default.append(n,A.render())})),E().s[96]++,n}},{key:"updateCurrentInput",value:function(){E().f[37]++,E().s[97]++,this.currentInput=(E().b[18][0]++,i.default.isNativeInput(document.activeElement)||(E().b[18][1]++,!m.default.anchorNode)?(E().b[17][0]++,document.activeElement):(E().b[17][1]++,m.default.anchorNode))}},{key:"willSelect",value:function(){E().f[38]++,E().s[98]++,this.mutationObserver.observe(this.holder.firstElementChild,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),E().s[99]++,this.addInputEvents()}},{key:"willUnselect",value:function(){E().f[39]++,E().s[100]++,this.mutationObserver.disconnect(),E().s[101]++,this.removeInputEvents()}},{key:"compose",value:function(){E().f[40]++;var A=(E().s[102]++,i.default.make("div",n.CSS.wrapper)),e=(E().s[103]++,i.default.make("div",n.CSS.content)),t=(E().s[104]++,this.tool.render());return E().s[105]++,e.appendChild(t),E().s[106]++,A.appendChild(e),E().s[107]++,A}},{key:"addInputEvents",value:function(){var n=this;E().f[41]++,E().s[108]++,this.inputs.forEach((function(A){E().f[42]++,E().s[109]++,A.addEventListener("focus",n.handleFocus)}))}},{key:"removeInputEvents",value:function(){var n=this;E().f[43]++,E().s[110]++,this.inputs.forEach((function(A){E().f[44]++,E().s[111]++,A.removeEventListener("focus",n.handleFocus)}))}},{key:"inputs",get:function(){if(E().f[5]++,E().s[28]++,0!==this.cachedInputs.length)return E().b[2][0]++,E().s[29]++,this.cachedInputs;E().b[2][1]++;var n=(E().s[30]++,i.default.findAllInputs(this.holder));return E().s[31]++,this.inputIndex>n.length-1?(E().b[3][0]++,E().s[32]++,this.inputIndex=n.length-1):E().b[3][1]++,E().s[33]++,this.cachedInputs=n,E().s[34]++,n}},{key:"currentInput",get:function(){return E().f[6]++,E().s[35]++,this.inputs[this.inputIndex]},set:function(n){E().f[7]++;var A=(E().s[36]++,this.inputs.findIndex((function(A){return E().f[8]++,E().s[37]++,E().b[4][0]++,A===n||(E().b[4][1]++,A.contains(n))})));E().s[38]++,-1!==A?(E().b[5][0]++,E().s[39]++,this.inputIndex=A):E().b[5][1]++}},{key:"firstInput",get:function(){return E().f[9]++,E().s[40]++,this.inputs[0]}},{key:"lastInput",get:function(){E().f[10]++;var n=(E().s[41]++,this.inputs);return E().s[42]++,n[n.length-1]}},{key:"nextInput",get:function(){return E().f[11]++,E().s[43]++,this.inputs[this.inputIndex+1]}},{key:"previousInput",get:function(){return E().f[12]++,E().s[44]++,this.inputs[this.inputIndex-1]}},{key:"data",get:function(){return E().f[13]++,E().s[45]++,this.save().then((function(n){return E().f[14]++,E().s[46]++,E().b[7][0]++,n&&(E().b[7][1]++,!c.isEmpty(n.data))?(E().b[6][0]++,E().s[47]++,n.data):(E().b[6][1]++,E().s[48]++,{})}))}},{key:"sanitize",get:function(){return E().f[15]++,E().s[49]++,this.tool.sanitize}},{key:"isEmpty",get:function(){E().f[17]++;var n=(E().s[51]++,i.default.isEmpty(this.pluginsContent)),A=(E().s[52]++,!this.hasMedia);return E().s[53]++,E().b[8][0]++,n&&(E().b[8][1]++,A)}},{key:"hasMedia",get:function(){E().f[18]++;var n=(E().s[54]++,["img","iframe","video","audio","source","input","textarea","twitterwidget"]);return E().s[55]++,!!this.holder.querySelector(n.join(","))}},{key:"focused",set:function(A){E().f[19]++,E().s[56]++,this.holder.classList.toggle(n.CSS.focused,A)},get:function(){return E().f[20]++,E().s[57]++,this.holder.classList.contains(n.CSS.focused)}},{key:"selected",set:function(A){E().f[21]++,E().s[58]++,A?(E().b[9][0]++,E().s[59]++,this.holder.classList.add(n.CSS.selected)):(E().b[9][1]++,E().s[60]++,this.holder.classList.remove(n.CSS.selected))},get:function(){return E().f[22]++,E().s[61]++,this.holder.classList.contains(n.CSS.selected)}},{key:"stretched",set:function(A){E().f[23]++,E().s[62]++,this.holder.classList.toggle(n.CSS.wrapperStretched,A)},get:function(){return E().f[24]++,E().s[63]++,this.holder.classList.contains(n.CSS.wrapperStretched)}},{key:"dropTarget",set:function(A){E().f[25]++,E().s[64]++,this.holder.classList.toggle(n.CSS.dropTarget,A)}},{key:"pluginsContent",get:function(){E().f[26]++;var A=(E().s[65]++,this.holder.querySelector(".".concat(n.CSS.content)));if(E().s[66]++,E().b[11][0]++,A&&(E().b[11][1]++,A.childNodes.length)){E().b[10][0]++,E().s[67]++;for(var e=(E().s[68]++,A.childNodes.length-1);e>=0;e--){var t=(E().s[69]++,A.childNodes[e]);if(E().s[70]++,!i.default.isExtensionNode(t))return E().b[12][0]++,E().s[71]++,t;E().b[12][1]++}}else E().b[10][1]++;return E().s[72]++,null}}],[{key:"CSS",get:function(){return E().f[4]++,E().s[27]++,{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}}]),n}();n.default=I,I.displayName="Block"})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t=e(36);n.exports=Object("z").propertyIsEnumerable(0)?Object:function(n){return"String"==t(n)?n.split(""):Object(n)}},function(n,A){A.f={}.propertyIsEnumerable},function(n,A,e){var t=e(36),l=e(14)("toStringTag"),o="Arguments"==t(function(){return arguments}());n.exports=function(n){var A,e,i;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(e=function(n,A){try{return n[A]}catch(n){}}(A=Object(n),l))?e:o?t(A):"Object"==(i=t(A))&&"function"==typeof A.callee?"Arguments":i}},function(n,A,e){var t=e(11),l=e(31),o=e(14)("species");n.exports=function(n,A){var e,i=t(n).constructor;return void 0===i||null==(e=t(i)[o])?A:l(e)}},function(n,A,e){var t=e(364),l=e(365),o=e(141),i=e(366);n.exports=function(n){return t(n)||l(n)||o(n)||i()}},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(39),e(21),e(22),e(52),e(2),e(3),e(5),e(6),e(4),e(374),e(7),e(8),e(375),e(376),e(377),e(378)],void 0===(o="function"==typeof(t=function(n,A,t,l,o,i,c,s,r,C,a,u,m,d,f,p,E){"use strict";var I=e(13),h=e(1);function b(){var n="/home/hata/editor.js/src/components/modules/tools.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"073af79c5d3cd66d174b4392548b7546bbcab87f"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/tools.ts",statementMap:{0:{start:{line:30,column:8},end:{line:30,column:26}},1:{start:{line:37,column:8},end:{line:37,column:31}},2:{start:{line:44,column:8},end:{line:44,column:31}},3:{start:{line:48,column:8},end:{line:48,column:33}},4:{start:{line:52,column:8},end:{line:52,column:35}},5:{start:{line:58,column:8},end:{line:58,column:32}},6:{start:{line:65,column:8},end:{line:65,column:31}},7:{start:{line:66,column:8},end:{line:66,column:31}},8:{start:{line:67,column:8},end:{line:67,column:32}},9:{start:{line:74,column:8},end:{line:74,column:33}},10:{start:{line:81,column:8},end:{line:81,column:35}},11:{start:{line:82,column:8},end:{line:82,column:33}},12:{start:{line:90,column:8},end:{line:90,column:35}},13:{start:{line:98,column:8},end:{line:98,column:37}},14:{start:{line:106,column:8},end:{line:108,column:9}},15:{start:{line:107,column:12},end:{line:107,column:37}},16:{start:{line:109,column:22},end:{line:123,column:10}},17:{start:{line:110,column:12},end:{line:112,column:13}},18:{start:{line:111,column:16},end:{line:111,column:29}},19:{start:{line:116,column:46},end:{line:116,column:82}},20:{start:{line:117,column:42},end:{line:117,column:129}},21:{start:{line:117,column:87},end:{line:117,column:128}},22:{start:{line:118,column:12},end:{line:121,column:13}},23:{start:{line:119,column:16},end:{line:119,column:140}},24:{start:{line:120,column:16},end:{line:120,column:29}},25:{start:{line:122,column:12},end:{line:122,column:24}},26:{start:{line:127,column:23},end:{line:127,column:25}},27:{start:{line:128,column:8},end:{line:130,column:11}},28:{start:{line:129,column:12},end:{line:129,column:32}},29:{start:{line:134,column:8},end:{line:134,column:35}},30:{start:{line:135,column:8},end:{line:135,column:33}},31:{start:{line:141,column:22},end:{line:143,column:10}},32:{start:{line:142,column:12},end:{line:142,column:59}},33:{start:{line:147,column:23},end:{line:147,column:25}},34:{start:{line:148,column:8},end:{line:150,column:11}},35:{start:{line:149,column:12},end:{line:149,column:32}},36:{start:{line:151,column:8},end:{line:151,column:22}},37:{start:{line:159,column:8},end:{line:168,column:10}},38:{start:{line:176,column:8},end:{line:181,column:10}},39:{start:{line:189,column:8},end:{line:189,column:29}},40:{start:{line:193,column:8},end:{line:193,column:83}},41:{start:{line:194,column:8},end:{line:196,column:9}},42:{start:{line:195,column:12},end:{line:195,column:54}},43:{start:{line:200,column:8},end:{line:237,column:9}},44:{start:{line:205,column:12},end:{line:236,column:13}},45:{start:{line:211,column:16},end:{line:211,column:80}},46:{start:{line:217,column:16},end:{line:217,column:75}},47:{start:{line:221,column:16},end:{line:221,column:58}},48:{start:{line:229,column:16},end:{line:229,column:74}},49:{start:{line:235,column:16},end:{line:235,column:86}},50:{start:{line:241,column:29},end:{line:241,column:61}},51:{start:{line:245,column:8},end:{line:247,column:9}},52:{start:{line:246,column:12},end:{line:246,column:37}},53:{start:{line:251,column:8},end:{line:255,column:11}},54:{start:{line:252,column:12},end:{line:252,column:31}},55:{start:{line:254,column:12},end:{line:254,column:32}},56:{start:{line:263,column:8},end:{line:263,column:78}},57:{start:{line:271,column:8},end:{line:271,column:80}},58:{start:{line:283,column:35},end:{line:286,column:9}},59:{start:{line:288,column:8},end:{line:288,column:44}},60:{start:{line:298,column:8},end:{line:298,column:72}},61:{start:{line:308,column:25},end:{line:308,column:53}},62:{start:{line:309,column:23},end:{line:309,column:64}},63:{start:{line:311,column:8},end:{line:314,column:9}},64:{start:{line:312,column:12},end:{line:312,column:57}},65:{start:{line:313,column:12},end:{line:313,column:57}},66:{start:{line:315,column:8},end:{line:315,column:24}},67:{start:{line:322,column:8},end:{line:331,column:10}},68:{start:{line:339,column:8},end:{line:339,column:76}},69:{start:{line:345,column:8},end:{line:349,column:11}},70:{start:{line:346,column:12},end:{line:348,column:13}},71:{start:{line:347,column:16},end:{line:347,column:35}},72:{start:{line:357,column:36},end:{line:357,column:38}},73:{start:{line:358,column:8},end:{line:376,column:9}},74:{start:{line:359,column:12},end:{line:375,column:13}},75:{start:{line:360,column:34},end:{line:360,column:61}},76:{start:{line:361,column:35},end:{line:361,column:90}},77:{start:{line:367,column:16},end:{line:374,column:19}},78:{start:{line:377,column:8},end:{line:377,column:35}},79:{start:{line:386,column:8},end:{line:396,column:9}},80:{start:{line:387,column:12},end:{line:395,column:13}},81:{start:{line:388,column:16},end:{line:390,column:17}},82:{start:{line:389,column:20},end:{line:389,column:27}},83:{start:{line:391,column:29},end:{line:391,column:56}},84:{start:{line:392,column:16},end:{line:394,column:17}},85:{start:{line:393,column:20},end:{line:393,column:136}},86:{start:{line:403,column:0},end:{line:416,column:32}},87:{start:{line:407,column:4},end:{line:407,column:46}},88:{start:{line:411,column:4},end:{line:411,column:48}},89:{start:{line:415,column:4},end:{line:415,column:44}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:28},end:{line:83,column:5}},line:29},1:{name:"(anonymous_1)",decl:{start:{line:89,column:4},end:{line:89,column:5}},loc:{start:{line:89,column:20},end:{line:91,column:5}},line:89},2:{name:"(anonymous_2)",decl:{start:{line:97,column:4},end:{line:97,column:5}},loc:{start:{line:97,column:22},end:{line:99,column:5}},line:97},3:{name:"(anonymous_3)",decl:{start:{line:105,column:4},end:{line:105,column:5}},loc:{start:{line:105,column:17},end:{line:136,column:5}},line:105},4:{name:"(anonymous_4)",decl:{start:{line:109,column:60},end:{line:109,column:61}},loc:{start:{line:109,column:78},end:{line:123,column:9}},line:109},5:{name:"(anonymous_5)",decl:{start:{line:117,column:75},end:{line:117,column:76}},loc:{start:{line:117,column:87},end:{line:117,column:128}},line:117},6:{name:"(anonymous_6)",decl:{start:{line:128,column:22},end:{line:128,column:23}},loc:{start:{line:128,column:40},end:{line:130,column:9}},line:128},7:{name:"(anonymous_7)",decl:{start:{line:140,column:4},end:{line:140,column:5}},loc:{start:{line:140,column:21},end:{line:152,column:5}},line:140},8:{name:"(anonymous_8)",decl:{start:{line:141,column:60},end:{line:141,column:61}},loc:{start:{line:141,column:74},end:{line:143,column:9}},line:141},9:{name:"(anonymous_9)",decl:{start:{line:148,column:22},end:{line:148,column:23}},loc:{start:{line:148,column:40},end:{line:150,column:9}},line:148},10:{name:"(anonymous_10)",decl:{start:{line:158,column:4},end:{line:158,column:5}},loc:{start:{line:158,column:28},end:{line:169,column:5}},line:158},11:{name:"(anonymous_11)",decl:{start:{line:175,column:4},end:{line:175,column:5}},loc:{start:{line:175,column:24},end:{line:182,column:5}},line:175},12:{name:"(anonymous_12)",decl:{start:{line:188,column:4},end:{line:188,column:5}},loc:{start:{line:188,column:14},end:{line:256,column:5}},line:188},13:{name:"(anonymous_13)",decl:{start:{line:251,column:40},end:{line:251,column:41}},loc:{start:{line:251,column:50},end:{line:253,column:9}},line:251},14:{name:"(anonymous_14)",decl:{start:{line:253,column:11},end:{line:253,column:12}},loc:{start:{line:253,column:21},end:{line:255,column:9}},line:253},15:{name:"(anonymous_15)",decl:{start:{line:262,column:4},end:{line:262,column:5}},loc:{start:{line:262,column:18},end:{line:264,column:5}},line:262},16:{name:"(anonymous_16)",decl:{start:{line:270,column:4},end:{line:270,column:5}},loc:{start:{line:270,column:19},end:{line:272,column:5}},line:270},17:{name:"(anonymous_17)",decl:{start:{line:282,column:4},end:{line:282,column:5}},loc:{start:{line:282,column:51},end:{line:289,column:5}},line:282},18:{name:"(anonymous_18)",decl:{start:{line:297,column:4},end:{line:297,column:5}},loc:{start:{line:297,column:20},end:{line:299,column:5}},line:297},19:{name:"(anonymous_19)",decl:{start:{line:307,column:4},end:{line:307,column:5}},loc:{start:{line:307,column:30},end:{line:316,column:5}},line:307},20:{name:"(anonymous_20)",decl:{start:{line:321,column:4},end:{line:321,column:5}},loc:{start:{line:321,column:24},end:{line:332,column:5}},line:321},21:{name:"(anonymous_21)",decl:{start:{line:338,column:4},end:{line:338,column:5}},loc:{start:{line:338,column:30},end:{line:340,column:5}},line:338},22:{name:"(anonymous_22)",decl:{start:{line:344,column:4},end:{line:344,column:5}},loc:{start:{line:344,column:14},end:{line:350,column:5}},line:344},23:{name:"(anonymous_23)",decl:{start:{line:345,column:46},end:{line:345,column:47}},loc:{start:{line:345,column:62},end:{line:349,column:9}},line:345},24:{name:"(anonymous_24)",decl:{start:{line:356,column:4},end:{line:356,column:5}},loc:{start:{line:356,column:32},end:{line:378,column:5}},line:356},25:{name:"(anonymous_25)",decl:{start:{line:369,column:84},end:{line:369,column:85}},loc:{start:{line:369,column:90},end:{line:369,column:93}},line:369},26:{name:"(anonymous_26)",decl:{start:{line:382,column:4},end:{line:382,column:5}},loc:{start:{line:382,column:20},end:{line:397,column:5}},line:382},27:{name:"(anonymous_27)",decl:{start:{line:403,column:1},end:{line:403,column:2}},loc:{start:{line:403,column:21},end:{line:416,column:1}},line:403}},branchMap:{0:{loc:{start:{line:106,column:8},end:{line:108,column:9}},type:"if",locations:[{start:{line:106,column:8},end:{line:108,column:9}},{start:{line:106,column:8},end:{line:108,column:9}}],line:106},1:{loc:{start:{line:110,column:12},end:{line:112,column:13}},type:"if",locations:[{start:{line:110,column:12},end:{line:112,column:13}},{start:{line:110,column:12},end:{line:112,column:13}}],line:110},2:{loc:{start:{line:118,column:12},end:{line:121,column:13}},type:"if",locations:[{start:{line:118,column:12},end:{line:121,column:13}},{start:{line:118,column:12},end:{line:121,column:13}}],line:118},3:{loc:{start:{line:194,column:8},end:{line:196,column:9}},type:"if",locations:[{start:{line:194,column:8},end:{line:196,column:9}},{start:{line:194,column:8},end:{line:196,column:9}}],line:194},4:{loc:{start:{line:194,column:12},end:{line:194,column:118}},type:"binary-expr",locations:[{start:{line:194,column:12},end:{line:194,column:71}},{start:{line:194,column:75},end:{line:194,column:118}}],line:194},5:{loc:{start:{line:205,column:12},end:{line:236,column:13}},type:"if",locations:[{start:{line:205,column:12},end:{line:236,column:13}},{start:{line:205,column:12},end:{line:236,column:13}}],line:205},6:{loc:{start:{line:245,column:8},end:{line:247,column:9}},type:"if",locations:[{start:{line:245,column:8},end:{line:247,column:9}},{start:{line:245,column:8},end:{line:247,column:9}}],line:245},7:{loc:{start:{line:282,column:32},end:{line:282,column:49}},type:"default-arg",locations:[{start:{line:282,column:47},end:{line:282,column:49}}],line:282},8:{loc:{start:{line:285,column:21},end:{line:285,column:66}},type:"binary-expr",locations:[{start:{line:285,column:21},end:{line:285,column:60}},{start:{line:285,column:64},end:{line:285,column:66}}],line:285},9:{loc:{start:{line:309,column:23},end:{line:309,column:64}},type:"binary-expr",locations:[{start:{line:309,column:23},end:{line:309,column:58}},{start:{line:309,column:62},end:{line:309,column:64}}],line:309},10:{loc:{start:{line:311,column:8},end:{line:314,column:9}},type:"if",locations:[{start:{line:311,column:8},end:{line:314,column:9}},{start:{line:311,column:8},end:{line:314,column:9}}],line:311},11:{loc:{start:{line:311,column:12},end:{line:311,column:72}},type:"binary-expr",locations:[{start:{line:311,column:12},end:{line:311,column:49}},{start:{line:311,column:53},end:{line:311,column:72}}],line:311},12:{loc:{start:{line:346,column:12},end:{line:348,column:13}},type:"if",locations:[{start:{line:346,column:12},end:{line:348,column:13}},{start:{line:346,column:12},end:{line:348,column:13}}],line:346},13:{loc:{start:{line:359,column:12},end:{line:375,column:13}},type:"if",locations:[{start:{line:359,column:12},end:{line:375,column:13}},{start:{line:359,column:12},end:{line:375,column:13}}],line:359},14:{loc:{start:{line:369,column:30},end:{line:369,column:93}},type:"cond-expr",locations:[{start:{line:369,column:64},end:{line:369,column:81}},{start:{line:369,column:84},end:{line:369,column:93}}],line:369},15:{loc:{start:{line:387,column:12},end:{line:395,column:13}},type:"if",locations:[{start:{line:387,column:12},end:{line:395,column:13}},{start:{line:387,column:12},end:{line:395,column:13}}],line:387},16:{loc:{start:{line:388,column:16},end:{line:390,column:17}},type:"if",locations:[{start:{line:388,column:16},end:{line:390,column:17}},{start:{line:388,column:16},end:{line:390,column:17}}],line:388},17:{loc:{start:{line:392,column:16},end:{line:394,column:17}},type:"if",locations:[{start:{line:392,column:16},end:{line:394,column:17}},{start:{line:392,column:16},end:{line:394,column:17}}],line:392},18:{loc:{start:{line:392,column:20},end:{line:392,column:68}},type:"binary-expr",locations:[{start:{line:392,column:20},end:{line:392,column:39}},{start:{line:392,column:43},end:{line:392,column:68}}],line:392},19:{loc:{start:{line:416,column:3},end:{line:416,column:30}},type:"binary-expr",locations:[{start:{line:416,column:3},end:{line:416,column:11}},{start:{line:416,column:16},end:{line:416,column:29}}],line:416}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/tools.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/tools.ts"],names:[],mappings:"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",sourcesContent:["import Paragraph from '../tools/paragraph/dist/bundle';\nimport Module from '../__module';\nimport * as _ from '../utils';\nimport {\n  BlockToolConstructable,\n  EditorConfig,\n  InlineTool,\n  InlineToolConstructable, Tool,\n  ToolConfig,\n  ToolConstructable,\n  ToolSettings\n} from '../../../types';\nimport BoldInlineTool from '../inline-tools/inline-tool-bold';\nimport ItalicInlineTool from '../inline-tools/inline-tool-italic';\nimport LinkInlineTool from '../inline-tools/inline-tool-link';\nimport Stub from '../tools/stub';\n\n/**\n * @module Editor.js Tools Submodule\n *\n * Creates Instances from Plugins and binds external config to the instances\n */\n\n/**\n * Class properties:\n *\n * @typedef {Tools} Tools\n * @property {Tools[]} toolsAvailable - available Tools\n * @property {Tools[]} toolsUnavailable - unavailable Tools\n * @property {object} toolsClasses - all classes\n * @property {object} toolsSettings - Tools settings\n * @property {EditorConfig} config - Editor config\n */\nexport default class Tools extends Module {\n  /**\n   * Name of Stub Tool\n   * Stub Tool is used to substitute unavailable block Tools and store their data\n   *\n   * @type {string}\n   */\n  public stubTool = 'stub';\n\n  /**\n   * Returns available Tools\n   *\n   * @returns {object<Tool>}\n   */\n  public get available(): { [name: string]: ToolConstructable } {\n    return this.toolsAvailable;\n  }\n\n  /**\n   * Returns unavailable Tools\n   *\n   * @returns {Tool[]}\n   */\n  public get unavailable(): { [name: string]: ToolConstructable } {\n    return this.toolsUnavailable;\n  }\n\n  /**\n   * Return Tools for the Inline Toolbar\n   *\n   * @returns {object} - object of Inline Tool's classes\n   */\n  public get inline(): { [name: string]: InlineToolConstructable } {\n    if (this._inlineTools) {\n      return this._inlineTools;\n    }\n\n    const tools = Object.entries(this.available).filter(([name, tool]) => {\n      if (!tool[this.INTERNAL_SETTINGS.IS_INLINE]) {\n        return false;\n      }\n\n      /**\n       * Some Tools validation\n       */\n      const inlineToolRequiredMethods = ['render', 'surround', 'checkState'];\n      const notImplementedMethods = inlineToolRequiredMethods.filter((method) => !this.constructInline(tool, name)[method]);\n\n      if (notImplementedMethods.length) {\n        _.log(\n          `Incorrect Inline Tool: ${tool.name}. Some of required methods is not implemented %o`,\n          'warn',\n          notImplementedMethods\n        );\n\n        return false;\n      }\n\n      return true;\n    });\n\n    /**\n     * collected inline tools with key of tool name\n     */\n    const result = {};\n\n    tools.forEach(([name, tool]) => {\n      result[name] = tool;\n    });\n\n    /**\n     * Cache prepared Tools\n     */\n    this._inlineTools = result;\n\n    return this._inlineTools;\n  }\n\n  /**\n   * Return editor block tools\n   */\n  public get blockTools(): { [name: string]: BlockToolConstructable } {\n    const tools = Object.entries(this.available).filter(([, tool]) => {\n      return !tool[this.INTERNAL_SETTINGS.IS_INLINE];\n    });\n\n    /**\n     * collected block tools with key of tool name\n     */\n    const result = {};\n\n    tools.forEach(([name, tool]) => {\n      result[name] = tool;\n    });\n\n    return result;\n  }\n\n  /**\n   * Constant for available Tools internal settings provided by Tool developer\n   *\n   * @returns {object}\n   */\n  public get INTERNAL_SETTINGS(): { [name: string]: string } {\n    return {\n      IS_ENABLED_LINE_BREAKS: 'enableLineBreaks',\n      IS_INLINE: 'isInline',\n      TITLE: 'title', // for Inline Tools. Block Tools can pass title along with icon through the 'toolbox' static prop.\n      SHORTCUT: 'shortcut',\n      TOOLBOX: 'toolbox',\n      SANITIZE_CONFIG: 'sanitize',\n      CONVERSION_CONFIG: 'conversionConfig',\n      IS_READ_ONLY_SUPPORTED: 'isReadOnlySupported',\n    };\n  }\n\n  /**\n   * Constant for available Tools settings provided by user\n   *\n   * return {object}\n   */\n  public get USER_SETTINGS(): { [name: string]: string } {\n    return {\n      SHORTCUT: 'shortcut',\n      TOOLBOX: 'toolbox',\n      ENABLED_INLINE_TOOLS: 'inlineToolbar',\n      CONFIG: 'config',\n    };\n  }\n\n  /**\n   * Map {name: Class, ...} where:\n   *  name — block type name in JSON. Got from EditorConfig.tools keys\n   *\n   * @type {object}\n   */\n  public readonly toolsClasses: { [name: string]: ToolConstructable } = {};\n\n  /**\n   * Tools` classes available to use\n   */\n  private readonly toolsAvailable: { [name: string]: ToolConstructable } = {};\n\n  /**\n   * Tools` classes not available to use because of preparation failure\n   */\n  private readonly toolsUnavailable: { [name: string]: ToolConstructable } = {};\n\n  /**\n   * Tools settings in a map {name: settings, ...}\n   *\n   * @type {object}\n   */\n  private readonly toolsSettings: { [name: string]: ToolSettings } = {};\n\n  /**\n   * Cache for the prepared inline tools\n   *\n   * @type {null|object}\n   * @private\n   */\n  private _inlineTools: { [name: string]: ToolConstructable } = {};\n\n  /**\n   * @class\n   *\n   * @param {EditorConfig} config - Editor's configuration\n   */\n  constructor({ config }) {\n    super({ config });\n\n    this.toolsClasses = {};\n\n    this.toolsSettings = {};\n\n    /**\n     * Available tools list\n     * {name: Class, ...}\n     *\n     * @type {object}\n     */\n    this.toolsAvailable = {};\n\n    /**\n     * Tools that rejected a prepare method\n     * {name: Class, ... }\n     *\n     * @type {object}\n     */\n    this.toolsUnavailable = {};\n\n    this._inlineTools = null;\n  }\n\n  /**\n   * Creates instances via passed or default configuration\n   *\n   * @returns {Promise<void>}\n   */\n  public prepare(): Promise<void> {\n    this.validateTools();\n\n    /**\n     * Assign internal tools\n     */\n    this.config.tools = _.deepMerge({}, this.internalTools, this.config.tools);\n\n    if (!Object.prototype.hasOwnProperty.call(this.config, 'tools') || Object.keys(this.config.tools).length === 0) {\n      throw Error('Can\\'t start without tools');\n    }\n\n    /**\n     * Save Tools settings to a map\n     */\n    for (const toolName in this.config.tools) {\n      /**\n       * If Tool is an object not a Tool's class then\n       * save class and settings separately\n       */\n      if (typeof this.config.tools[toolName] === 'object') {\n        /**\n         * Save Tool's class from 'class' field\n         *\n         * @type {Tool}\n         */\n        this.toolsClasses[toolName] = (this.config.tools[toolName] as ToolSettings).class;\n\n        /**\n         * Save Tool's settings\n         *\n         * @type {ToolSettings}\n         */\n        this.toolsSettings[toolName] = this.config.tools[toolName] as ToolSettings;\n\n        /**\n         * Remove Tool's class from settings\n         */\n        delete this.toolsSettings[toolName].class;\n      } else {\n        /**\n         * Save Tool's class\n         *\n         * @type {Tool}\n         */\n        this.toolsClasses[toolName] = this.config.tools[toolName] as ToolConstructable;\n\n        /**\n         * Set empty settings for Block by default\n         *\n         * @type {{}}\n         */\n        this.toolsSettings[toolName] = { class: this.config.tools[toolName] as ToolConstructable };\n      }\n    }\n\n    /**\n     * getting classes that has prepare method\n     */\n    const sequenceData = this.getListOfPrepareFunctions();\n\n    /**\n     * if sequence data contains nothing then resolve current chain and run other module prepare\n     */\n    if (sequenceData.length === 0) {\n      return Promise.resolve();\n    }\n\n    /**\n     * to see how it works {@link '../utils.ts#sequence'}\n     */\n    return _.sequence(sequenceData, (data: { toolName: string }) => {\n      this.success(data);\n    }, (data: { toolName: string }) => {\n      this.fallback(data);\n    });\n  }\n\n  /**\n   * Success callback\n   *\n   * @param {object} data - append tool to available list\n   */\n  public success(data: { toolName: string }): void {\n    this.toolsAvailable[data.toolName] = this.toolsClasses[data.toolName];\n  }\n\n  /**\n   * Fail callback\n   *\n   * @param {object} data - append tool to unavailable list\n   */\n  public fallback(data: { toolName: string }): void {\n    this.toolsUnavailable[data.toolName] = this.toolsClasses[data.toolName];\n  }\n\n  /**\n   * Return Inline Tool's instance\n   *\n   * @param {InlineTool} tool - Inline Tool instance\n   * @param {string} name - tool name\n   * @param {ToolSettings} toolSettings - tool settings\n   *\n   * @returns {InlineTool} — instance\n   */\n  public constructInline(\n    tool: InlineToolConstructable,\n    name: string,\n    toolSettings: ToolSettings = {} as ToolSettings\n  ): InlineTool {\n    const constructorOptions = {\n      api: this.Editor.API.getMethodsForTool(name),\n      config: (toolSettings[this.USER_SETTINGS.CONFIG] || {}) as ToolSettings,\n    };\n\n    // eslint-disable-next-line new-cap\n    return new tool(constructorOptions) as InlineTool;\n  }\n\n  /**\n   * Check if passed Tool is an instance of Default Block Tool\n   *\n   * @param {Tool} tool - Tool to check\n   *\n   * @returns {boolean}\n   */\n  public isDefault(tool): boolean {\n    return tool instanceof this.available[this.config.defaultBlock];\n  }\n\n  /**\n   * Return Tool's config by name\n   *\n   * @param {string} toolName - name of tool\n   *\n   * @returns {ToolSettings}\n   */\n  public getToolSettings(toolName): ToolSettings {\n    const settings = this.toolsSettings[toolName];\n    const config = settings[this.USER_SETTINGS.CONFIG] || {};\n\n    // Pass placeholder to default Block config\n    if (toolName === this.config.defaultBlock && !config.placeholder) {\n      config.placeholder = this.config.placeholder;\n      settings[this.USER_SETTINGS.CONFIG] = config;\n    }\n\n    return settings;\n  }\n\n  /**\n   * Returns internal tools\n   * Includes Bold, Italic, Link and Paragraph\n   */\n  public get internalTools(): { [toolName: string]: ToolConstructable | ToolSettings } {\n    return {\n      bold: { class: BoldInlineTool },\n      italic: { class: ItalicInlineTool },\n      link: { class: LinkInlineTool },\n      paragraph: {\n        class: Paragraph,\n        inlineToolbar: true,\n      },\n      stub: { class: Stub },\n    };\n  }\n\n  /**\n   * Returns true if tool supports read-only mode\n   *\n   * @param tool - tool to check\n   */\n  public isReadOnlySupported(tool: BlockToolConstructable): boolean {\n    return tool[this.INTERNAL_SETTINGS.IS_READ_ONLY_SUPPORTED] === true;\n  }\n\n  /**\n   * Calls each Tool reset method to clean up anything set by Tool\n   */\n  public destroy(): void {\n    Object.values(this.available).forEach(async tool => {\n      if (_.isFunction(tool.reset)) {\n        await tool.reset();\n      }\n    });\n  }\n\n  /**\n   * Binds prepare function of plugins with user or default config\n   *\n   * @returns {Array} list of functions that needs to be fired sequentially\n   */\n  private getListOfPrepareFunctions(): Array<{\n    function: (data: { toolName: string; config: ToolConfig }) => void;\n    data: { toolName: string; config: ToolConfig };\n  }> {\n    const toolPreparationList: Array<{\n      function: (data: { toolName: string; config: ToolConfig }) => void;\n      data: { toolName: string; config: ToolConfig };\n    }\n    > = [];\n\n    for (const toolName in this.toolsClasses) {\n      if (Object.prototype.hasOwnProperty.call(this.toolsClasses, toolName)) {\n        const toolClass = this.toolsClasses[toolName];\n        const toolConfig = this.toolsSettings[toolName][this.USER_SETTINGS.CONFIG];\n\n        /**\n         * If Tool hasn't a prepare method,\n         * still push it to tool preparation list to save tools order in Toolbox.\n         * As Tool's prepare method might be async, _.sequence util helps to save the order.\n         */\n        toolPreparationList.push({\n          // eslint-disable-next-line @typescript-eslint/no-empty-function\n          function: _.isFunction(toolClass.prepare) ? toolClass.prepare : (): void => { },\n          data: {\n            toolName,\n            config: toolConfig,\n          },\n        });\n      }\n    }\n\n    return toolPreparationList;\n  }\n\n  /**\n   * Validate Tools configuration objects and throw Error for user if it is invalid\n   */\n  private validateTools(): void {\n    /**\n     * Check Tools for a class containing\n     */\n    for (const toolName in this.config.tools) {\n      if (Object.prototype.hasOwnProperty.call(this.config.tools, toolName)) {\n        if (toolName in this.internalTools) {\n          return;\n        }\n\n        const tool = this.config.tools[toolName];\n\n        if (!_.isFunction(tool) && !_.isFunction((tool as ToolSettings).class)) {\n          throw Error(\n            `Tool «${toolName}» must be a constructor function or an object with function in the «class» property`\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * What kind of plugins developers can create\n */\nexport enum ToolType {\n  /**\n   * Block tool\n   */\n  Block,\n  /**\n   * Inline tool\n   */\n  Inline,\n\n  /**\n   * Block tune\n   */\n  Tune,\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"073af79c5d3cd66d174b4392548b7546bbcab87f"});var l=t[n];return b=function(){return l},l}function B(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.ToolType=n.default=void 0,A=h(A),t=h(t),l=h(l),o=h(o),i=h(i),c=h(c),s=h(s),r=h(r),C=h(C),a=h(a),u=h(u),m=I(m),d=h(d),f=h(f),p=h(p),E=h(E),b();var g,M=function(n){(0,s.default)(I,n);var e,u=(e=I,function(){var n,A=(0,C.default)(e);if(B()){var t=(0,C.default)(this).constructor;n=Reflect.construct(A,arguments,t)}else n=A.apply(this,arguments);return(0,r.default)(this,n)});function I(n){var A,e=n.config;return(0,i.default)(this,I),b().f[0]++,b().s[0]++,A=u.call(this,{config:e}),b().s[1]++,A.stubTool="stub",b().s[2]++,A.toolsClasses={},b().s[3]++,A.toolsAvailable={},b().s[4]++,A.toolsUnavailable={},b().s[5]++,A.toolsSettings={},b().s[6]++,A._inlineTools={},b().s[7]++,A.toolsClasses={},b().s[8]++,A.toolsSettings={},b().s[9]++,A.toolsAvailable={},b().s[10]++,A.toolsUnavailable={},b().s[11]++,A._inlineTools=null,A}return(0,c.default)(I,[{key:"prepare",value:function(){var n=this;if(b().f[12]++,b().s[39]++,this.validateTools(),b().s[40]++,this.config.tools=m.deepMerge({},this.internalTools,this.config.tools),b().s[41]++,b().b[4][0]++,!Object.prototype.hasOwnProperty.call(this.config,"tools")||(b().b[4][1]++,0===Object.keys(this.config.tools).length))throw b().b[3][0]++,b().s[42]++,Error("Can't start without tools");for(var A in b().b[3][1]++,b().s[43]++,this.config.tools)b().s[44]++,"object"===(0,o.default)(this.config.tools[A])?(b().b[5][0]++,b().s[45]++,this.toolsClasses[A]=this.config.tools[A].class,b().s[46]++,this.toolsSettings[A]=this.config.tools[A],b().s[47]++,delete this.toolsSettings[A].class):(b().b[5][1]++,b().s[48]++,this.toolsClasses[A]=this.config.tools[A],b().s[49]++,this.toolsSettings[A]={class:this.config.tools[A]});var e=(b().s[50]++,this.getListOfPrepareFunctions());return b().s[51]++,0===e.length?(b().b[6][0]++,b().s[52]++,Promise.resolve()):(b().b[6][1]++,b().s[53]++,m.sequence(e,(function(A){b().f[13]++,b().s[54]++,n.success(A)}),(function(A){b().f[14]++,b().s[55]++,n.fallback(A)})))}},{key:"success",value:function(n){b().f[15]++,b().s[56]++,this.toolsAvailable[n.toolName]=this.toolsClasses[n.toolName]}},{key:"fallback",value:function(n){b().f[16]++,b().s[57]++,this.toolsUnavailable[n.toolName]=this.toolsClasses[n.toolName]}},{key:"constructInline",value:function(n,A){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(b().b[7][0]++,{});b().f[17]++;var t=(b().s[58]++,{api:this.Editor.API.getMethodsForTool(A),config:(b().b[8][0]++,e[this.USER_SETTINGS.CONFIG]||(b().b[8][1]++,{}))});return b().s[59]++,new n(t)}},{key:"isDefault",value:function(n){return b().f[18]++,b().s[60]++,n instanceof this.available[this.config.defaultBlock]}},{key:"getToolSettings",value:function(n){b().f[19]++;var A=(b().s[61]++,this.toolsSettings[n]),e=(b().s[62]++,b().b[9][0]++,A[this.USER_SETTINGS.CONFIG]||(b().b[9][1]++,{}));return b().s[63]++,b().b[11][0]++,n!==this.config.defaultBlock||(b().b[11][1]++,e.placeholder)?b().b[10][1]++:(b().b[10][0]++,b().s[64]++,e.placeholder=this.config.placeholder,b().s[65]++,A[this.USER_SETTINGS.CONFIG]=e),b().s[66]++,A}},{key:"isReadOnlySupported",value:function(n){return b().f[21]++,b().s[68]++,!0===n[this.INTERNAL_SETTINGS.IS_READ_ONLY_SUPPORTED]}},{key:"destroy",value:function(){b().f[22]++,b().s[69]++,Object.values(this.available).forEach(function(){var n=(0,l.default)(t.default.mark((function n(A){return t.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b().f[23]++,b().s[70]++,!m.isFunction(A.reset)){n.next=9;break}return b().b[12][0]++,b().s[71]++,n.next=7,A.reset();case 7:n.next=10;break;case 9:b().b[12][1]++;case 10:case"end":return n.stop()}}),n)})));return function(A){return n.apply(this,arguments)}}())}},{key:"getListOfPrepareFunctions",value:function(){b().f[24]++;var n=(b().s[72]++,[]);for(var A in b().s[73]++,this.toolsClasses)if(b().s[74]++,Object.prototype.hasOwnProperty.call(this.toolsClasses,A)){b().b[13][0]++;var e=(b().s[75]++,this.toolsClasses[A]),t=(b().s[76]++,this.toolsSettings[A][this.USER_SETTINGS.CONFIG]);b().s[77]++,n.push({function:m.isFunction(e.prepare)?(b().b[14][0]++,e.prepare):(b().b[14][1]++,function(){b().f[25]++}),data:{toolName:A,config:t}})}else b().b[13][1]++;return b().s[78]++,n}},{key:"validateTools",value:function(){for(var n in b().f[26]++,b().s[79]++,this.config.tools)if(b().s[80]++,Object.prototype.hasOwnProperty.call(this.config.tools,n)){if(b().b[15][0]++,b().s[81]++,n in this.internalTools)return b().b[16][0]++,void b().s[82]++;b().b[16][1]++;var A=(b().s[83]++,this.config.tools[n]);if(b().s[84]++,b().b[18][0]++,!m.isFunction(A)&&(b().b[18][1]++,!m.isFunction(A.class)))throw b().b[17][0]++,b().s[85]++,Error("Tool «".concat(n,"» must be a constructor function or an object with function in the «class» property"));b().b[17][1]++}else b().b[15][1]++}},{key:"available",get:function(){return b().f[1]++,b().s[12]++,this.toolsAvailable}},{key:"unavailable",get:function(){return b().f[2]++,b().s[13]++,this.toolsUnavailable}},{key:"inline",get:function(){var n=this;if(b().f[3]++,b().s[14]++,this._inlineTools)return b().b[0][0]++,b().s[15]++,this._inlineTools;b().b[0][1]++;var e=(b().s[16]++,Object.entries(this.available).filter((function(e){var t=(0,A.default)(e,2),l=t[0],o=t[1];if(b().f[4]++,b().s[17]++,!o[n.INTERNAL_SETTINGS.IS_INLINE])return b().b[1][0]++,b().s[18]++,!1;b().b[1][1]++;var i=(b().s[19]++,["render","surround","checkState"]),c=(b().s[20]++,i.filter((function(A){return b().f[5]++,b().s[21]++,!n.constructInline(o,l)[A]})));return b().s[22]++,c.length?(b().b[2][0]++,b().s[23]++,m.log("Incorrect Inline Tool: ".concat(o.name,". Some of required methods is not implemented %o"),"warn",c),b().s[24]++,!1):(b().b[2][1]++,b().s[25]++,!0)}))),t=(b().s[26]++,{});return b().s[27]++,e.forEach((function(n){var e=(0,A.default)(n,2),l=e[0],o=e[1];b().f[6]++,b().s[28]++,t[l]=o})),b().s[29]++,this._inlineTools=t,b().s[30]++,this._inlineTools}},{key:"blockTools",get:function(){var n=this;b().f[7]++;var e=(b().s[31]++,Object.entries(this.available).filter((function(e){var t=(0,A.default)(e,2)[1];return b().f[8]++,b().s[32]++,!t[n.INTERNAL_SETTINGS.IS_INLINE]}))),t=(b().s[33]++,{});return b().s[34]++,e.forEach((function(n){var e=(0,A.default)(n,2),l=e[0],o=e[1];b().f[9]++,b().s[35]++,t[l]=o})),b().s[36]++,t}},{key:"INTERNAL_SETTINGS",get:function(){return b().f[10]++,b().s[37]++,{IS_ENABLED_LINE_BREAKS:"enableLineBreaks",IS_INLINE:"isInline",TITLE:"title",SHORTCUT:"shortcut",TOOLBOX:"toolbox",SANITIZE_CONFIG:"sanitize",CONVERSION_CONFIG:"conversionConfig",IS_READ_ONLY_SUPPORTED:"isReadOnlySupported"}}},{key:"USER_SETTINGS",get:function(){return b().f[11]++,b().s[38]++,{SHORTCUT:"shortcut",TOOLBOX:"toolbox",ENABLED_INLINE_TOOLS:"inlineToolbar",CONFIG:"config"}}},{key:"internalTools",get:function(){return b().f[20]++,b().s[67]++,{bold:{class:d.default},italic:{class:f.default},link:{class:p.default},paragraph:{class:a.default,inlineToolbar:!0},stub:{class:E.default}}}}]),I}(u.default);n.default=M,M.displayName="Tools",n.ToolType=g,b().s[86]++,function(n){b().f[27]++,b().s[87]++,n[n.Block=0]="Block",b().s[88]++,n[n.Inline=1]="Inline",b().s[89]++,n[n.Tune=2]="Tune"}((b().b[19][0]++,g||(b().b[19][1]++,n.ToolType=g={})))})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t=e(17),l=e(9),o=l["__core-js_shared__"]||(l["__core-js_shared__"]={});(n.exports=function(n,A){return o[n]||(o[n]=void 0!==A?A:{})})("versions",[]).push({version:t.version,mode:e(44)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(n,A,e){var t=e(28),l=e(16),o=e(46);n.exports=function(n){return function(A,e,i){var c,s=t(A),r=l(s.length),C=o(i,r);if(n&&e!=e){for(;r>C;)if((c=s[C++])!=c)return!0}else for(;r>C;C++)if((n||C in s)&&s[C]===e)return n||C||0;return!n&&-1}}},function(n,A){A.f=Object.getOwnPropertySymbols},function(n,A,e){var t=e(36);n.exports=Array.isArray||function(n){return"Array"==t(n)}},function(n,A,e){var t=e(14)("iterator"),l=!1;try{var o=[7][t]();o.return=function(){l=!0},Array.from(o,(function(){throw 2}))}catch(n){}n.exports=function(n,A){if(!A&&!l)return!1;var e=!1;try{var o=[7],i=o[t]();i.next=function(){return{done:e=!0}},o[t]=function(){return i},n(o)}catch(n){}return e}},function(n,A,e){"use strict";var t=e(11);n.exports=function(){var n=t(this),A="";return n.global&&(A+="g"),n.ignoreCase&&(A+="i"),n.multiline&&(A+="m"),n.unicode&&(A+="u"),n.sticky&&(A+="y"),A}},function(n,A,e){"use strict";var t=e(64),l=RegExp.prototype.exec;n.exports=function(n,A){var e=n.exec;if("function"==typeof e){var o=e.call(n,A);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==t(n))throw new TypeError("RegExp#exec called on incompatible receiver");return l.call(n,A)}},function(n,A,e){"use strict";e(129);var t=e(23),l=e(27),o=e(10),i=e(37),c=e(14),s=e(104),r=c("species"),C=!o((function(){var n=/./;return n.exec=function(){var n=[];return n.groups={a:"7"},n},"7"!=="".replace(n,"$<a>")})),a=function(){var n=/(?:)/,A=n.exec;n.exec=function(){return A.apply(this,arguments)};var e="ab".split(n);return 2===e.length&&"a"===e[0]&&"b"===e[1]}();n.exports=function(n,A,e){var u=c(n),m=!o((function(){var A={};return A[u]=function(){return 7},7!=""[n](A)})),d=m?!o((function(){var A=!1,e=/a/;return e.exec=function(){return A=!0,null},"split"===n&&(e.constructor={},e.constructor[r]=function(){return e}),e[u](""),!A})):void 0;if(!m||!d||"replace"===n&&!C||"split"===n&&!a){var f=/./[u],p=e(i,u,""[n],(function(n,A,e,t,l){return A.exec===s?m&&!l?{done:!0,value:f.call(A,e,t)}:{done:!0,value:n.call(e,A,t)}:{done:!1}})),E=p[0],I=p[1];t(String.prototype,n,E),l(RegExp.prototype,u,2==A?function(n,A){return I.call(n,this,A)}:function(n){return I.call(n,this)})}}},function(n,A,e){var t=e(30),l=e(124),o=e(99),i=e(11),c=e(16),s=e(101),r={},C={};(A=n.exports=function(n,A,e,a,u){var m,d,f,p,E=u?function(){return n}:s(n),I=t(e,a,A?2:1),h=0;if("function"!=typeof E)throw TypeError(n+" is not iterable!");if(o(E)){for(m=c(n.length);m>h;h++)if((p=A?I(i(d=n[h])[0],d[1]):I(n[h]))===r||p===C)return p}else for(f=E.call(n);!(d=f.next()).done;)if((p=l(f,I,d.value,A))===r||p===C)return p}).BREAK=r,A.RETURN=C},function(n,A,e){var t=e(9).navigator;n.exports=t&&t.userAgent||""},function(n,A,e){"use strict";var t=e(9),l=e(0),o=e(23),i=e(58),c=e(41),s=e(76),r=e(57),C=e(12),a=e(10),u=e(72),m=e(53),d=e(90);n.exports=function(n,A,e,f,p,E){var I=t[n],h=I,b=p?"set":"add",B=h&&h.prototype,g={},M=function(n){var A=B[n];o(B,n,"delete"==n||"has"==n?function(n){return!(E&&!C(n))&&A.call(this,0===n?0:n)}:"get"==n?function(n){return E&&!C(n)?void 0:A.call(this,0===n?0:n)}:"add"==n?function(n){return A.call(this,0===n?0:n),this}:function(n,e){return A.call(this,0===n?0:n,e),this})};if("function"==typeof h&&(E||B.forEach&&!a((function(){(new h).entries().next()})))){var v=new h,y=v[b](E?{}:-0,1)!=v,O=a((function(){v.has(1)})),S=u((function(n){new h(n)})),G=!E&&a((function(){for(var n=new h,A=5;A--;)n[b](A,A);return!n.has(-0)}));S||((h=A((function(A,e){r(A,h,n);var t=d(new I,A,h);return null!=e&&s(e,p,t[b],t),t}))).prototype=B,B.constructor=h),(O||G)&&(M("delete"),M("has"),p&&M("get")),(G||y)&&M(b),E&&B.clear&&delete B.clear}else h=f.getConstructor(A,n,p,b),i(h.prototype,e),c.NEED=!0;return m(h,n),g[n]=h,l(l.G+l.W+l.F*(h!=I),g),E||f.setStrong(h,n,p),h}},function(n,A,e){for(var t,l=e(9),o=e(27),i=e(43),c=i("typed_array"),s=i("view"),r=!(!l.ArrayBuffer||!l.DataView),C=r,a=0,u="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");a<9;)(t=l[u[a++]])?(o(t.prototype,c,!0),o(t.prototype,s,!0)):C=!1;n.exports={ABV:r,CONSTR:C,TYPED:c,VIEW:s}},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7),e(67)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C){"use strict";var a=e(1);function u(){var n="/home/hata/editor.js/src/components/modules/api/index.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"c6e1026dff8a7762efa3f5d97196120c025bad6d"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/index.ts",statementMap:{0:{start:{line:18,column:8},end:{line:33,column:10}},1:{start:{line:44,column:8},end:{line:46,column:11}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:18},end:{line:34,column:5}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:59},end:{line:47,column:5}},line:43}},branchMap:{0:{loc:{start:{line:43,column:32},end:{line:43,column:57}},type:"default-arg",locations:[{start:{line:43,column:43},end:{line:43,column:57}}],line:43}},s:{0:0,1:0},f:{0:0,1:0},b:{0:[0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/index.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/index.ts"],names:[],mappings:"AAAA;;;;;;GAMG;AACH,OAAO,MAAM,MAAM,gBAAgB,CAAC;AAEpC,OAAO,EAAE,QAAQ,EAAE,MAAM,UAAU,CAAC;AAEpC;;GAEG;AACH,MAAM,CAAC,OAAO,OAAO,GAAI,SAAQ,MAAM;IACrC;;OAEG;IACH,IAAW,OAAO;QAChB,OAAO;YACL,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO;YACrC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO;YACnC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO;YACrC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO;YAC3C,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO;YACzC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO;YAC3C,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO;YACnC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO;YAC3C,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO;YACrC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO;YACvC,aAAa,EAAE,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,OAAO;YACnD,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO;YACvC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO;YACjC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO;SAC1C,CAAC;IACJ,CAAC;IAED;;;;;;;OAOG;IACI,iBAAiB,CAAC,QAAgB,EAAE,QAAQ,GAAG,QAAQ,CAAC,KAAK;QAClE,OAAO,MAAM,CAAC,MAAM,CAClB,IAAI,CAAC,OAAO,EACZ;YACE,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,EAAE,QAAQ,CAAC;SAChE,CACe,CAAC;IACrB,CAAC;CACF",sourcesContent:["/**\n * @module API\n * @copyright <CodeX> 2018\n *\n * Each block has an Editor API instance to use provided public methods\n * if you cant to read more about how API works, please see docs\n */\nimport Module from '../../__module';\nimport { API as APIInterfaces } from '../../../../types';\nimport { ToolType } from '../tools';\n\n/**\n * @class API\n */\nexport default class API extends Module {\n  /**\n   * Editor.js Core API modules\n   */\n  public get methods(): APIInterfaces {\n    return {\n      blocks: this.Editor.BlocksAPI.methods,\n      caret: this.Editor.CaretAPI.methods,\n      events: this.Editor.EventsAPI.methods,\n      listeners: this.Editor.ListenersAPI.methods,\n      notifier: this.Editor.NotifierAPI.methods,\n      sanitizer: this.Editor.SanitizerAPI.methods,\n      saver: this.Editor.SaverAPI.methods,\n      selection: this.Editor.SelectionAPI.methods,\n      styles: this.Editor.StylesAPI.classes,\n      toolbar: this.Editor.ToolbarAPI.methods,\n      inlineToolbar: this.Editor.InlineToolbarAPI.methods,\n      tooltip: this.Editor.TooltipAPI.methods,\n      i18n: this.Editor.I18nAPI.methods,\n      readOnly: this.Editor.ReadOnlyAPI.methods,\n    };\n  }\n\n  /**\n   * Returns Editor.js Core API methods for passed tool\n   *\n   * @param toolName - how user name tool. It can be used in some API logic,\n   *                   for example in i18n to provide namespaced dictionary\n   *\n   * @param toolType - 'block' for Block Tool, 'inline' for Inline Tool, 'tune' for Block Tunes\n   */\n  public getMethodsForTool(toolName: string, toolType = ToolType.Block): APIInterfaces {\n    return Object.assign(\n      this.methods,\n      {\n        i18n: this.Editor.I18nAPI.getMethodsForTool(toolName, toolType),\n      }\n    ) as APIInterfaces;\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c6e1026dff8a7762efa3f5d97196120c025bad6d"});var l=t[n];return u=function(){return l},l}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=a(l),o=a(o),i=a(i),c=a(c),s=a(s),r=a(r),u();var d=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(m()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"getMethodsForTool",value:function(n){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(u().b[0][0]++,C.ToolType.Block);return u().f[1]++,u().s[1]++,Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(n,A)})}},{key:"methods",get:function(){return u().f[0]++,u().s[0]++,{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods}}}]),t}(r.default);t.default=d,d.displayName="API",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7),e(15),e(8),e(59),e(82)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u,m){"use strict";var d=e(13),f=e(1);function p(){var n="/home/hata/editor.js/src/components/modules/toolbar/index.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"2e1bd37ce66bfde3bce8e4fbfb4e453ce236171d"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/toolbar/index.ts",statementMap:{0:{start:{line:65,column:8},end:{line:78,column:10}},1:{start:{line:86,column:8},end:{line:86,column:77}},2:{start:{line:94,column:8},end:{line:102,column:10}},3:{start:{line:95,column:24},end:{line:95,column:86}},4:{start:{line:97,column:16},end:{line:99,column:17}},5:{start:{line:98,column:20},end:{line:98,column:27}},6:{start:{line:100,column:16},end:{line:100,column:82}},7:{start:{line:110,column:8},end:{line:117,column:10}},8:{start:{line:112,column:16},end:{line:112,column:76}},9:{start:{line:115,column:16},end:{line:115,column:73}},10:{start:{line:125,column:8},end:{line:132,column:9}},11:{start:{line:126,column:12},end:{line:126,column:26}},12:{start:{line:127,column:12},end:{line:127,column:40}},13:{start:{line:130,column:12},end:{line:130,column:27}},14:{start:{line:131,column:12},end:{line:131,column:41}},15:{start:{line:140,column:8},end:{line:144,column:9}},16:{start:{line:142,column:12},end:{line:142,column:40}},17:{start:{line:143,column:12},end:{line:143,column:46}},18:{start:{line:145,column:29},end:{line:145,column:73}},19:{start:{line:149,column:8},end:{line:151,column:9}},20:{start:{line:150,column:12},end:{line:150,column:19}},21:{start:{line:152,column:29},end:{line:152,column:43}},22:{start:{line:153,column:28},end:{line:153,column:53}},23:{start:{line:154,column:23},end:{line:154,column:45}},24:{start:{line:159,column:8},end:{line:166,column:9}},25:{start:{line:160,column:34},end:{line:160,column:61}},26:{start:{line:161,column:12},end:{line:161,column:104}},27:{start:{line:162,column:12},end:{line:162,column:116}},28:{start:{line:165,column:12},end:{line:165,column:36}},29:{start:{line:170,column:8},end:{line:170,column:92}},30:{start:{line:183,column:8},end:{line:192,column:17}},31:{start:{line:184,column:12},end:{line:184,column:42}},32:{start:{line:185,column:12},end:{line:185,column:69}},33:{start:{line:186,column:12},end:{line:191,column:13}},34:{start:{line:187,column:16},end:{line:187,column:41}},35:{start:{line:190,column:16},end:{line:190,column:41}},36:{start:{line:198,column:8},end:{line:198,column:68}},37:{start:{line:200,column:8},end:{line:200,column:33}},38:{start:{line:201,column:8},end:{line:201,column:36}},39:{start:{line:202,column:8},end:{line:202,column:42}},40:{start:{line:208,column:8},end:{line:208,column:61}},41:{start:{line:212,column:8},end:{line:214,column:11}},42:{start:{line:213,column:12},end:{line:213,column:57}},43:{start:{line:218,column:8},end:{line:218,column:57}},44:{start:{line:219,column:8},end:{line:219,column:57}},45:{start:{line:225,column:8},end:{line:225,column:67}},46:{start:{line:226,column:8},end:{line:226,column:63}},47:{start:{line:227,column:8},end:{line:227,column:60}},48:{start:{line:228,column:8},end:{line:230,column:18}},49:{start:{line:229,column:12},end:{line:229,column:37}},50:{start:{line:234,column:31},end:{line:234,column:44}},51:{start:{line:235,column:8},end:{line:235,column:111}},52:{start:{line:236,column:8},end:{line:238,column:12}},53:{start:{line:239,column:8},end:{line:239,column:75}},54:{start:{line:246,column:8},end:{line:246,column:85}},55:{start:{line:247,column:8},end:{line:247,column:78}},56:{start:{line:248,column:29},end:{line:248,column:48}},57:{start:{line:249,column:8},end:{line:249,column:59}},58:{start:{line:250,column:8},end:{line:250,column:77}},59:{start:{line:251,column:8},end:{line:251,column:69}},60:{start:{line:252,column:8},end:{line:254,column:11}},61:{start:{line:258,column:8},end:{line:258,column:72}},62:{start:{line:259,column:8},end:{line:259,column:78}},63:{start:{line:263,column:8},end:{line:263,column:67}},64:{start:{line:269,column:8},end:{line:269,column:37}},65:{start:{line:278,column:8},end:{line:280,column:11}},66:{start:{line:279,column:12},end:{line:279,column:42}},67:{start:{line:286,column:8},end:{line:286,column:49}},68:{start:{line:292,column:8},end:{line:297,column:9}},69:{start:{line:293,column:12},end:{line:293,column:46}},70:{start:{line:296,column:12},end:{line:296,column:45}},71:{start:{line:314,column:8},end:{line:314,column:41}},72:{start:{line:318,column:8},end:{line:318,column:35}},73:{start:{line:322,column:8},end:{line:322,column:20}},74:{start:{line:329,column:8},end:{line:329,column:38}},75:{start:{line:330,column:8},end:{line:330,column:44}},76:{start:{line:331,column:8},end:{line:331,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:64,column:4},end:{line:64,column:5}},loc:{start:{line:64,column:14},end:{line:79,column:5}},line:64},1:{name:"(anonymous_1)",decl:{start:{line:85,column:4},end:{line:85,column:5}},loc:{start:{line:85,column:17},end:{line:87,column:5}},line:85},2:{name:"(anonymous_2)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:21},end:{line:103,column:5}},line:93},3:{name:"(anonymous_3)",decl:{start:{line:95,column:18},end:{line:95,column:19}},loc:{start:{line:95,column:24},end:{line:95,column:86}},line:95},4:{name:"(anonymous_4)",decl:{start:{line:96,column:18},end:{line:96,column:19}},loc:{start:{line:96,column:24},end:{line:101,column:13}},line:96},5:{name:"(anonymous_5)",decl:{start:{line:109,column:4},end:{line:109,column:5}},loc:{start:{line:109,column:23},end:{line:118,column:5}},line:109},6:{name:"(anonymous_6)",decl:{start:{line:111,column:18},end:{line:111,column:19}},loc:{start:{line:111,column:24},end:{line:113,column:13}},line:111},7:{name:"(anonymous_7)",decl:{start:{line:114,column:18},end:{line:114,column:19}},loc:{start:{line:114,column:24},end:{line:116,column:13}},line:114},8:{name:"(anonymous_8)",decl:{start:{line:124,column:4},end:{line:124,column:5}},loc:{start:{line:124,column:36},end:{line:133,column:5}},line:124},9:{name:"(anonymous_9)",decl:{start:{line:139,column:4},end:{line:139,column:5}},loc:{start:{line:139,column:28},end:{line:171,column:5}},line:139},10:{name:"(anonymous_10)",decl:{start:{line:182,column:4},end:{line:182,column:5}},loc:{start:{line:182,column:61},end:{line:193,column:5}},line:182},11:{name:"(anonymous_11)",decl:{start:{line:183,column:16},end:{line:183,column:17}},loc:{start:{line:183,column:22},end:{line:192,column:9}},line:183},12:{name:"(anonymous_12)",decl:{start:{line:197,column:4},end:{line:197,column:5}},loc:{start:{line:197,column:12},end:{line:203,column:5}},line:197},13:{name:"(anonymous_13)",decl:{start:{line:207,column:4},end:{line:207,column:5}},loc:{start:{line:207,column:11},end:{line:264,column:5}},line:207},14:{name:"(anonymous_14)",decl:{start:{line:212,column:39},end:{line:212,column:40}},loc:{start:{line:212,column:47},end:{line:214,column:9}},line:212},15:{name:"(anonymous_15)",decl:{start:{line:228,column:73},end:{line:228,column:74}},loc:{start:{line:228,column:79},end:{line:230,column:9}},line:228},16:{name:"(anonymous_16)",decl:{start:{line:268,column:4},end:{line:268,column:5}},loc:{start:{line:268,column:24},end:{line:270,column:5}},line:268},17:{name:"(anonymous_17)",decl:{start:{line:274,column:4},end:{line:274,column:5}},loc:{start:{line:274,column:27},end:{line:281,column:5}},line:274},18:{name:"(anonymous_18)",decl:{start:{line:278,column:78},end:{line:278,column:79}},loc:{start:{line:278,column:84},end:{line:280,column:9}},line:278},19:{name:"(anonymous_19)",decl:{start:{line:285,column:4},end:{line:285,column:5}},loc:{start:{line:285,column:28},end:{line:287,column:5}},line:285},20:{name:"(anonymous_20)",decl:{start:{line:291,column:4},end:{line:291,column:5}},loc:{start:{line:291,column:29},end:{line:298,column:5}},line:291},21:{name:"(anonymous_21)",decl:{start:{line:310,column:4},end:{line:310,column:5}},loc:{start:{line:310,column:13},end:{line:323,column:5}},line:310},22:{name:"(anonymous_22)",decl:{start:{line:328,column:4},end:{line:328,column:5}},loc:{start:{line:328,column:14},end:{line:332,column:5}},line:328}},branchMap:{0:{loc:{start:{line:97,column:16},end:{line:99,column:17}},type:"if",locations:[{start:{line:97,column:16},end:{line:99,column:17}},{start:{line:97,column:16},end:{line:99,column:17}}],line:97},1:{loc:{start:{line:125,column:8},end:{line:132,column:9}},type:"if",locations:[{start:{line:125,column:8},end:{line:132,column:9}},{start:{line:125,column:8},end:{line:132,column:9}}],line:125},2:{loc:{start:{line:139,column:9},end:{line:139,column:26}},type:"default-arg",locations:[{start:{line:139,column:22},end:{line:139,column:26}}],line:139},3:{loc:{start:{line:140,column:8},end:{line:144,column:9}},type:"if",locations:[{start:{line:140,column:8},end:{line:144,column:9}},{start:{line:140,column:8},end:{line:144,column:9}}],line:140},4:{loc:{start:{line:149,column:8},end:{line:151,column:9}},type:"if",locations:[{start:{line:149,column:8},end:{line:151,column:9}},{start:{line:149,column:8},end:{line:151,column:9}}],line:149},5:{loc:{start:{line:159,column:8},end:{line:166,column:9}},type:"if",locations:[{start:{line:159,column:8},end:{line:166,column:9}},{start:{line:159,column:8},end:{line:166,column:9}}],line:159},6:{loc:{start:{line:182,column:9},end:{line:182,column:32}},type:"default-arg",locations:[{start:{line:182,column:28},end:{line:182,column:32}}],line:182},7:{loc:{start:{line:182,column:34},end:{line:182,column:59}},type:"default-arg",locations:[{start:{line:182,column:55},end:{line:182,column:59}}],line:182},8:{loc:{start:{line:186,column:12},end:{line:191,column:13}},type:"if",locations:[{start:{line:186,column:12},end:{line:191,column:13}},{start:{line:186,column:12},end:{line:191,column:13}}],line:186},9:{loc:{start:{line:292,column:8},end:{line:297,column:9}},type:"if",locations:[{start:{line:292,column:8},end:{line:297,column:9}},{start:{line:292,column:8},end:{line:297,column:9}}],line:292}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},b:{0:[0,0],1:[0,0],2:[0],3:[0,0],4:[0,0],5:[0,0],6:[0],7:[0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/toolbar/index.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/toolbar/index.ts"],names:[],mappings:"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",sourcesContent:["import Module from '../../__module';\nimport $ from '../../dom';\nimport * as _ from '../../utils';\nimport I18n from '../../i18n';\nimport { I18nInternalNS } from '../../i18n/namespace-internal';\n\n/**\n * HTML Elements used for Toolbar UI\n */\ninterface ToolbarNodes {\n  wrapper: HTMLElement;\n  content: HTMLElement;\n  actions: HTMLElement;\n\n  // Content Zone\n  plusButton: HTMLElement;\n\n  // Actions Zone\n  blockActionsButtons: HTMLElement;\n  settingsToggler: HTMLElement;\n}\n/**\n *\n * «Toolbar» is the node that moves up/down over current block\n *\n *  ______________________________________ Toolbar ____________________________________________\n * |                                                                                           |\n * |  ..................... Content .........................................................  |\n * |  .                                                   ........ Block Actions ...........   |\n * |  .                                                   .        [Open Settings]         .   |\n * |  .  [Plus Button]  [Toolbox: {Tool1}, {Tool2}]       .                                .   |\n * |  .                                                   .        [Settings Panel]        .   |\n * |  .                                                   ..................................   |\n * |  .......................................................................................  |\n * |                                                                                           |\n * |___________________________________________________________________________________________|\n *\n *\n * Toolbox — its an Element contains tools buttons. Can be shown by Plus Button.\n *\n *  _______________ Toolbox _______________\n * |                                       |\n * | [Header] [Image] [List] [Quote] ...   |\n * |_______________________________________|\n *\n *\n * Settings Panel — is an Element with block settings:\n *\n *   ____ Settings Panel ____\n *  | ...................... |\n *  | .   Tool Settings    . |\n *  | ...................... |\n *  | .  Default Settings  . |\n *  | ...................... |\n *  |________________________|\n *\n *\n * @class\n * @classdesc Toolbar module\n *\n * @typedef {Toolbar} Toolbar\n * @property {object} nodes - Toolbar nodes\n * @property {Element} nodes.wrapper        - Toolbar main element\n * @property {Element} nodes.content        - Zone with Plus button and toolbox.\n * @property {Element} nodes.actions        - Zone with Block Settings and Remove Button\n * @property {Element} nodes.blockActionsButtons   - Zone with Block Buttons: [Settings]\n * @property {Element} nodes.plusButton     - Button that opens or closes Toolbox\n * @property {Element} nodes.toolbox        - Container for tools\n * @property {Element} nodes.settingsToggler - open/close Settings Panel button\n * @property {Element} nodes.settings          - Settings Panel\n * @property {Element} nodes.pluginSettings    - Plugin Settings section of Settings Panel\n * @property {Element} nodes.defaultSettings   - Default Settings section of Settings Panel\n */\nexport default class Toolbar extends Module<ToolbarNodes> {\n  /**\n   * CSS styles\n   *\n   * @returns {object}\n   */\n  public get CSS(): {[name: string]: string} {\n    return {\n      toolbar: 'ce-toolbar',\n      content: 'ce-toolbar__content',\n      actions: 'ce-toolbar__actions',\n      actionsOpened: 'ce-toolbar__actions--opened',\n\n      toolbarOpened: 'ce-toolbar--opened',\n\n      // Content Zone\n      plusButton: 'ce-toolbar__plus',\n      plusButtonShortcut: 'ce-toolbar__plus-shortcut',\n      plusButtonHidden: 'ce-toolbar__plus--hidden',\n\n      // Actions Zone\n      blockActionsButtons: 'ce-toolbar__actions-buttons',\n      settingsToggler: 'ce-toolbar__settings-btn',\n    };\n  }\n\n  /**\n   * Returns the Toolbar opening state\n   *\n   * @returns {boolean}\n   */\n  public get opened(): boolean {\n    return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened);\n  }\n\n  /**\n   * Plus Button public methods\n   *\n   * @returns {{hide: function(): void, show: function(): void}}\n   */\n  public get plusButton(): {hide: () => void; show: () => void} {\n    return {\n      hide: (): void => this.nodes.plusButton.classList.add(this.CSS.plusButtonHidden),\n      show: (): void => {\n        if (this.Editor.Toolbox.isEmpty) {\n          return;\n        }\n        this.nodes.plusButton.classList.remove(this.CSS.plusButtonHidden);\n      },\n    };\n  }\n\n  /**\n   * Block actions appearance manipulations\n   *\n   * @returns {{hide: function(): void, show: function(): void}}\n   */\n  private get blockActions(): {hide: () => void; show: () => void} {\n    return {\n      hide: (): void => {\n        this.nodes.actions.classList.remove(this.CSS.actionsOpened);\n      },\n      show: (): void => {\n        this.nodes.actions.classList.add(this.CSS.actionsOpened);\n      },\n    };\n  }\n\n  /**\n   * Toggles read-only mode\n   *\n   * @param {boolean} readOnlyEnabled - read-only mode\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (!readOnlyEnabled) {\n      this.drawUI();\n      this.enableModuleBindings();\n    } else {\n      this.destroy();\n      this.disableModuleBindings();\n    }\n  }\n\n  /**\n   * Move Toolbar to the Current Block\n   *\n   * @param {boolean} forceClose - force close Toolbar Settings and Toolbar\n   */\n  public move(forceClose = true): void {\n    if (forceClose) {\n      /** Close Toolbox when we move toolbar */\n      this.Editor.Toolbox.close();\n      this.Editor.BlockSettings.close();\n    }\n\n    const currentBlock = this.Editor.BlockManager.currentBlock.holder;\n\n    /**\n     * If no one Block selected as a Current\n     */\n    if (!currentBlock) {\n      return;\n    }\n\n    const { isMobile } = this.Editor.UI;\n    const blockHeight = currentBlock.offsetHeight;\n    let toolbarY = currentBlock.offsetTop;\n\n    /**\n     * 1) On desktop — Toolbar at the top of Block, Plus/Toolbox moved the center of Block\n     * 2) On mobile — Toolbar at the bottom of Block\n     */\n    if (!isMobile) {\n      const contentOffset = Math.floor(blockHeight / 2);\n\n      this.nodes.plusButton.style.transform = `translate3d(0, calc(${contentOffset}px - 50%), 0)`;\n      this.Editor.Toolbox.nodes.toolbox.style.transform = `translate3d(0, calc(${contentOffset}px - 50%), 0)`;\n    } else {\n      toolbarY += blockHeight;\n    }\n\n    /**\n     * Move Toolbar to the Top coordinate of Block\n     */\n    this.nodes.wrapper.style.transform = `translate3D(0, ${Math.floor(toolbarY)}px, 0)`;\n  }\n\n  /**\n   * Open Toolbar with Plus Button and Actions\n   *\n   * @param {boolean} withBlockActions - by default, Toolbar opens with Block Actions.\n   *                                     This flag allows to open Toolbar without Actions.\n   * @param {boolean} needToCloseToolbox - by default, Toolbar will be moved with opening\n   *                                      (by click on Block, or by enter)\n   *                                      with closing Toolbox and Block Settings\n   *                                      This flag allows to open Toolbar with Toolbox\n   */\n  public open(withBlockActions = true, needToCloseToolbox = true): void {\n    _.delay(() => {\n      this.move(needToCloseToolbox);\n      this.nodes.wrapper.classList.add(this.CSS.toolbarOpened);\n\n      if (withBlockActions) {\n        this.blockActions.show();\n      } else {\n        this.blockActions.hide();\n      }\n    }, 50)();\n  }\n\n  /**\n   * Close the Toolbar\n   */\n  public close(): void {\n    this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened);\n\n    /** Close components */\n    this.blockActions.hide();\n    this.Editor.Toolbox.close();\n    this.Editor.BlockSettings.close();\n  }\n\n  /**\n   * Draws Toolbar elements\n   */\n  private make(): void {\n    this.nodes.wrapper = $.make('div', this.CSS.toolbar);\n\n    /**\n     * Make Content Zone and Actions Zone\n     */\n    ['content', 'actions'].forEach((el) => {\n      this.nodes[el] = $.make('div', this.CSS[el]);\n    });\n\n    /**\n     * Actions will be included to the toolbar content so we can align in to the right of the content\n     */\n    $.append(this.nodes.wrapper, this.nodes.content);\n    $.append(this.nodes.content, this.nodes.actions);\n\n    /**\n     * Fill Content Zone:\n     *  - Plus Button\n     *  - Toolbox\n     */\n    this.nodes.plusButton = $.make('div', this.CSS.plusButton);\n    $.append(this.nodes.plusButton, $.svg('plus', 14, 14));\n    $.append(this.nodes.content, this.nodes.plusButton);\n\n    this.readOnlyMutableListeners.on(this.nodes.plusButton, 'click', () => {\n      this.plusButtonClicked();\n    }, false);\n\n    /**\n     * Add events to show/hide tooltip for plus button\n     */\n    const tooltipContent = $.make('div');\n\n    tooltipContent.appendChild(document.createTextNode(I18n.ui(I18nInternalNS.ui.toolbar.toolbox, 'Add')));\n    tooltipContent.appendChild($.make('div', this.CSS.plusButtonShortcut, {\n      textContent: '⇥ Tab',\n    }));\n\n    this.Editor.Tooltip.onHover(this.nodes.plusButton, tooltipContent);\n\n    /**\n     * Fill Actions Zone:\n     *  - Settings Toggler\n     *  - Remove Block Button\n     *  - Settings Panel\n     */\n    this.nodes.blockActionsButtons = $.make('div', this.CSS.blockActionsButtons);\n    this.nodes.settingsToggler = $.make('span', this.CSS.settingsToggler);\n    const settingsIcon = $.svg('dots', 8, 8);\n\n    $.append(this.nodes.settingsToggler, settingsIcon);\n    $.append(this.nodes.blockActionsButtons, this.nodes.settingsToggler);\n    $.append(this.nodes.actions, this.nodes.blockActionsButtons);\n\n    this.Editor.Tooltip.onHover(\n      this.nodes.settingsToggler,\n      I18n.ui(I18nInternalNS.ui.blockTunes.toggler, 'Click to tune'),\n      {\n        placement: 'top',\n      }\n    );\n\n    /**\n     * Appending Toolbar components to itself\n     */\n    $.append(this.nodes.content, this.Editor.Toolbox.nodes.toolbox);\n    $.append(this.nodes.actions, this.Editor.BlockSettings.nodes.wrapper);\n\n    /**\n     * Append toolbar to the Editor\n     */\n    $.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);\n  }\n\n  /**\n   * Handler for Plus Button\n   */\n  private plusButtonClicked(): void {\n    this.Editor.Toolbox.toggle();\n  }\n\n  /**\n   * Enable bindings\n   */\n  private enableModuleBindings(): void {\n    /**\n     * Settings toggler\n     */\n    this.readOnlyMutableListeners.on(this.nodes.settingsToggler, 'click', () => {\n      this.settingsTogglerClicked();\n    });\n  }\n\n  /**\n   * Disable bindings\n   */\n  private disableModuleBindings(): void {\n    this.readOnlyMutableListeners.clearAll();\n  }\n\n  /**\n   * Clicks on the Block Settings toggler\n   */\n  private settingsTogglerClicked(): void {\n    if (this.Editor.BlockSettings.opened) {\n      this.Editor.BlockSettings.close();\n    } else {\n      this.Editor.BlockSettings.open();\n    }\n  }\n\n  /**\n   * Draws Toolbar UI\n   *\n   * Toolbar contains BlockSettings and Toolbox.\n   * Thats why at first we draw its components and then Toolbar itself\n   *\n   * Steps:\n   *  - Make Toolbar dependent components like BlockSettings, Toolbox and so on\n   *  - Make itself and append dependent nodes to itself\n   *\n   */\n  private drawUI(): void {\n    /**\n     * Make BlockSettings Panel\n     */\n    this.Editor.BlockSettings.make();\n\n    /**\n     * Make Toolbox\n     */\n    this.Editor.Toolbox.make();\n\n    /**\n     * Make Toolbar\n     */\n    this.make();\n  }\n\n  /**\n   * Removes all created and saved HTMLElements\n   * It is used in Read-Only mode\n   */\n  private destroy(): void {\n    this.Editor.Toolbox.destroy();\n    this.Editor.BlockSettings.destroy();\n    this.removeAllNodes();\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2e1bd37ce66bfde3bce8e4fbfb4e453ce236171d"});var l=t[n];return p=function(){return l},l}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=f(l),o=f(o),i=f(i),c=f(c),s=f(s),r=f(r),C=f(C),a=d(a),u=f(u),p();var I=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(E()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"toggleReadOnly",value:function(n){p().f[8]++,p().s[10]++,n?(p().b[1][1]++,p().s[13]++,this.destroy(),p().s[14]++,this.disableModuleBindings()):(p().b[1][0]++,p().s[11]++,this.drawUI(),p().s[12]++,this.enableModuleBindings())}},{key:"move",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(p().b[2][0]++,!0);p().f[9]++,p().s[15]++,n?(p().b[3][0]++,p().s[16]++,this.Editor.Toolbox.close(),p().s[17]++,this.Editor.BlockSettings.close()):p().b[3][1]++;var A=(p().s[18]++,this.Editor.BlockManager.currentBlock.holder);if(p().s[19]++,!A)return p().b[4][0]++,void p().s[20]++;p().b[4][1]++;var e=(p().s[21]++,this.Editor.UI),t=e.isMobile,l=(p().s[22]++,A.offsetHeight),o=(p().s[23]++,A.offsetTop);if(p().s[24]++,t)p().b[5][1]++,p().s[28]++,o+=l;else{p().b[5][0]++;var i=(p().s[25]++,Math.floor(l/2));p().s[26]++,this.nodes.plusButton.style.transform="translate3d(0, calc(".concat(i,"px - 50%), 0)"),p().s[27]++,this.Editor.Toolbox.nodes.toolbox.style.transform="translate3d(0, calc(".concat(i,"px - 50%), 0)")}p().s[29]++,this.nodes.wrapper.style.transform="translate3D(0, ".concat(Math.floor(o),"px, 0)")}},{key:"open",value:function(){var n=this,A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(p().b[6][0]++,!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(p().b[7][0]++,!0);p().f[10]++,p().s[30]++,a.delay((function(){p().f[11]++,p().s[31]++,n.move(e),p().s[32]++,n.nodes.wrapper.classList.add(n.CSS.toolbarOpened),p().s[33]++,A?(p().b[8][0]++,p().s[34]++,n.blockActions.show()):(p().b[8][1]++,p().s[35]++,n.blockActions.hide())}),50)()}},{key:"close",value:function(){p().f[12]++,p().s[36]++,this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),p().s[37]++,this.blockActions.hide(),p().s[38]++,this.Editor.Toolbox.close(),p().s[39]++,this.Editor.BlockSettings.close()}},{key:"make",value:function(){var n=this;p().f[13]++,p().s[40]++,this.nodes.wrapper=C.default.make("div",this.CSS.toolbar),p().s[41]++,["content","actions"].forEach((function(A){p().f[14]++,p().s[42]++,n.nodes[A]=C.default.make("div",n.CSS[A])})),p().s[43]++,C.default.append(this.nodes.wrapper,this.nodes.content),p().s[44]++,C.default.append(this.nodes.content,this.nodes.actions),p().s[45]++,this.nodes.plusButton=C.default.make("div",this.CSS.plusButton),p().s[46]++,C.default.append(this.nodes.plusButton,C.default.svg("plus",14,14)),p().s[47]++,C.default.append(this.nodes.content,this.nodes.plusButton),p().s[48]++,this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",(function(){p().f[15]++,p().s[49]++,n.plusButtonClicked()}),!1);var A=(p().s[50]++,C.default.make("div"));p().s[51]++,A.appendChild(document.createTextNode(u.default.ui(m.I18nInternalNS.ui.toolbar.toolbox,"Add"))),p().s[52]++,A.appendChild(C.default.make("div",this.CSS.plusButtonShortcut,{textContent:"⇥ Tab"})),p().s[53]++,this.Editor.Tooltip.onHover(this.nodes.plusButton,A),p().s[54]++,this.nodes.blockActionsButtons=C.default.make("div",this.CSS.blockActionsButtons),p().s[55]++,this.nodes.settingsToggler=C.default.make("span",this.CSS.settingsToggler);var e=(p().s[56]++,C.default.svg("dots",8,8));p().s[57]++,C.default.append(this.nodes.settingsToggler,e),p().s[58]++,C.default.append(this.nodes.blockActionsButtons,this.nodes.settingsToggler),p().s[59]++,C.default.append(this.nodes.actions,this.nodes.blockActionsButtons),p().s[60]++,this.Editor.Tooltip.onHover(this.nodes.settingsToggler,u.default.ui(m.I18nInternalNS.ui.blockTunes.toggler,"Click to tune"),{placement:"top"}),p().s[61]++,C.default.append(this.nodes.content,this.Editor.Toolbox.nodes.toolbox),p().s[62]++,C.default.append(this.nodes.actions,this.Editor.BlockSettings.nodes.wrapper),p().s[63]++,C.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}},{key:"plusButtonClicked",value:function(){p().f[16]++,p().s[64]++,this.Editor.Toolbox.toggle()}},{key:"enableModuleBindings",value:function(){var n=this;p().f[17]++,p().s[65]++,this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"click",(function(){p().f[18]++,p().s[66]++,n.settingsTogglerClicked()}))}},{key:"disableModuleBindings",value:function(){p().f[19]++,p().s[67]++,this.readOnlyMutableListeners.clearAll()}},{key:"settingsTogglerClicked",value:function(){p().f[20]++,p().s[68]++,this.Editor.BlockSettings.opened?(p().b[9][0]++,p().s[69]++,this.Editor.BlockSettings.close()):(p().b[9][1]++,p().s[70]++,this.Editor.BlockSettings.open())}},{key:"drawUI",value:function(){p().f[21]++,p().s[71]++,this.Editor.BlockSettings.make(),p().s[72]++,this.Editor.Toolbox.make(),p().s[73]++,this.make()}},{key:"destroy",value:function(){p().f[22]++,p().s[74]++,this.Editor.Toolbox.destroy(),p().s[75]++,this.Editor.BlockSettings.destroy(),p().s[76]++,this.removeAllNodes()}},{key:"CSS",get:function(){return p().f[0]++,p().s[0]++,{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",plusButtonHidden:"ce-toolbar__plus--hidden",blockActionsButtons:"ce-toolbar__actions-buttons",settingsToggler:"ce-toolbar__settings-btn"}}},{key:"opened",get:function(){return p().f[1]++,p().s[1]++,this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}},{key:"plusButton",get:function(){var n=this;return p().f[2]++,p().s[2]++,{hide:function(){return p().f[3]++,p().s[3]++,n.nodes.plusButton.classList.add(n.CSS.plusButtonHidden)},show:function(){if(p().f[4]++,p().s[4]++,n.Editor.Toolbox.isEmpty)return p().b[0][0]++,void p().s[5]++;p().b[0][1]++,p().s[6]++,n.nodes.plusButton.classList.remove(n.CSS.plusButtonHidden)}}}},{key:"blockActions",get:function(){var n=this;return p().f[5]++,p().s[7]++,{hide:function(){p().f[6]++,p().s[8]++,n.nodes.actions.classList.remove(n.CSS.actionsOpened)},show:function(){p().f[7]++,p().s[9]++,n.nodes.actions.classList.add(n.CSS.actionsOpened)}}}}]),t}(r.default);t.default=I,I.displayName="Toolbar",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(39),e(143),e(8)],void 0===(o="function"==typeof(t=function(n,A,t,l){"use strict";var o=e(1);function i(){var n="/home/hata/editor.js/src/components/i18n/namespace-internal.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"01666023f0925c860f66e3539e5d3c0b7da3c566"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/i18n/namespace-internal.ts",statementMap:{0:{start:{line:10,column:19},end:{line:10,column:21}},1:{start:{line:11,column:4},end:{line:36,column:7}},2:{start:{line:12,column:8},end:{line:34,column:9}},3:{start:{line:13,column:28},end:{line:13,column:63}},4:{start:{line:17,column:34},end:{line:19,column:14}},5:{start:{line:18,column:16},end:{line:18,column:57}},6:{start:{line:27,column:12},end:{line:32,column:13}},7:{start:{line:28,column:16},end:{line:28,column:38}},8:{start:{line:31,column:16},end:{line:31,column:62}},9:{start:{line:33,column:12},end:{line:33,column:19}},10:{start:{line:35,column:8},end:{line:35,column:30}},11:{start:{line:37,column:4},end:{line:37,column:18}},12:{start:{line:44,column:30},end:{line:44,column:62}}},fnMap:{0:{name:"getNamespaces",decl:{start:{line:9,column:9},end:{line:9,column:22}},loc:{start:{line:9,column:38},end:{line:38,column:1}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:11,column:33},end:{line:11,column:34}},loc:{start:{line:11,column:53},end:{line:36,column:5}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:17,column:63},end:{line:17,column:64}},loc:{start:{line:17,column:81},end:{line:19,column:13}},line:17}},branchMap:{0:{loc:{start:{line:12,column:8},end:{line:34,column:9}},type:"if",locations:[{start:{line:12,column:8},end:{line:34,column:9}},{start:{line:12,column:8},end:{line:34,column:9}}],line:12},1:{loc:{start:{line:13,column:28},end:{line:13,column:63}},type:"cond-expr",locations:[{start:{line:13,column:38},end:{line:13,column:57}},{start:{line:13,column:60},end:{line:13,column:63}}],line:13},2:{loc:{start:{line:27,column:12},end:{line:32,column:13}},type:"if",locations:[{start:{line:27,column:12},end:{line:32,column:13}},{start:{line:27,column:12},end:{line:32,column:13}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/i18n/namespace-internal.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/i18n/namespace-internal.ts"],names:[],mappings:"AAAA,OAAO,iBAAiB,MAAM,4BAA4B,CAAC;AAE3D,OAAO,EAAE,MAAM,EAAE,MAAM,UAAU,CAAC;AAElC;;;;;GAKG;AACH,SAAS,aAAa,CAAC,IAAY,EAAE,OAAgB;IACnD,MAAM,MAAM,GAAG,EAAE,CAAC;IAElB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,OAAO,CAAC,EAAE,EAAE;QAC9C,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,QAAQ,EAAE;YAChC,MAAM,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,OAAO,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;YAEpD;;eAEG;YACH,MAAM,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,YAAY,EAAE,EAAE;gBAClE,OAAO,MAAM,CAAC,YAAY,CAAC,KAAK,QAAQ,CAAC;YAC3C,CAAC,CAAC,CAAC;YAEH;;;;;;eAMG;YACH,IAAI,aAAa,EAAE;gBACjB,MAAM,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;aACvB;iBAAM;gBACL,MAAM,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;aAC/C;YAED,OAAO;SACR;QAED,MAAM,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;IACxB,CAAC,CAAC,CAAC;IAEH,OAAO,MAAkD,CAAC;AAC5D,CAAC;AAED;;;;GAIG;AACH,MAAM,CAAC,MAAM,cAAc,GAAG,aAAa,CAAC,iBAAiB,CAAC,CAAC",sourcesContent:["import defaultDictionary from './locales/en/messages.json';\nimport { DictNamespaces } from '../../types-internal/i18n-internal-namespace';\nimport { typeOf } from '../utils';\n\n/**\n * Evaluate messages dictionary and return object for namespace chaining\n *\n * @param dict - Messages dictionary\n * @param [keyPath] - subsection path (used in recursive call)\n */\nfunction getNamespaces(dict: object, keyPath?: string): DictNamespaces<typeof defaultDictionary> {\n  const result = {};\n\n  Object.entries(dict).forEach(([key, section]) => {\n    if (typeOf(section) === 'object') {\n      const newPath = keyPath ? `${keyPath}.${key}` : key;\n\n      /**\n       * Check current section values, if all of them are strings, so there is the last section\n       */\n      const isLastSection = Object.values(section).every((sectionValue) => {\n        return typeOf(sectionValue) === 'string';\n      });\n\n      /**\n       * In last section, we substitute namespace path instead of object with translates\n       *\n       * ui.toolbar.toolbox – \"ui.toolbar.toolbox\"\n       * instead of\n       * ui.toolbar.toolbox – {\"Add\": \"\"}\n       */\n      if (isLastSection) {\n        result[key] = newPath;\n      } else {\n        result[key] = getNamespaces(section, newPath);\n      }\n\n      return;\n    }\n\n    result[key] = section;\n  });\n\n  return result as DictNamespaces<typeof defaultDictionary>;\n}\n\n/**\n * Type safe access to the internal messages dictionary sections\n *\n * @example I18n.ui(I18nInternalNS.ui.blockTunes.toggler, 'Click to tune');\n */\nexport const I18nInternalNS = getNamespaces(defaultDictionary);\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"01666023f0925c860f66e3539e5d3c0b7da3c566"});var l=t[n];return i=function(){return l},l}Object.defineProperty(n,"__esModule",{value:!0}),n.I18nInternalNS=void 0,A=o(A),t=o(t),i();var c=(i().s[12]++,function n(e,t){i().f[0]++;var o=(i().s[0]++,{});return i().s[1]++,Object.entries(e).forEach((function(e){var c=(0,A.default)(e,2),s=c[0],r=c[1];if(i().f[1]++,i().s[2]++,"object"===(0,l.typeOf)(r)){i().b[0][0]++;var C=(i().s[3]++,t?(i().b[1][0]++,"".concat(t,".").concat(s)):(i().b[1][1]++,s)),a=(i().s[4]++,Object.values(r).every((function(n){return i().f[2]++,i().s[5]++,"string"===(0,l.typeOf)(n)})));return i().s[6]++,a?(i().b[2][0]++,i().s[7]++,o[s]=C):(i().b[2][1]++,i().s[8]++,o[s]=n(r,C)),void i().s[9]++}i().b[0][1]++,i().s[10]++,o[s]=r})),i().s[11]++,o}(t.default));n.I18nInternalNS=c})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t=e(12),l=e(9).document,o=t(l)&&t(l.createElement);n.exports=function(n){return o?l.createElement(n):{}}},function(n,A,e){A.f=e(14)},function(n,A,e){var t=e(68)("keys"),l=e(43);n.exports=function(n){return t[n]||(t[n]=l(n))}},function(n,A){n.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(n,A,e){var t=e(9).document;n.exports=t&&t.documentElement},function(n,A,e){var t=e(12),l=e(11),o=function(n,A){if(l(n),!t(A)&&null!==A)throw TypeError(A+": can't set as prototype!")};n.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(n,A,t){try{(t=e(30)(Function.call,e(33).f(Object.prototype,"__proto__").set,2))(n,[]),A=!(n instanceof Array)}catch(n){A=!0}return function(n,e){return o(n,e),A?n.__proto__=e:t(n,e),n}}({},!1):void 0),check:o}},function(n,A){n.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(n,A,e){var t=e(12),l=e(88).set;n.exports=function(n,A,e){var o,i=A.constructor;return i!==e&&"function"==typeof i&&(o=i.prototype)!==e.prototype&&t(o)&&l&&l(n,o),n}},function(n,A,e){"use strict";var t=e(32),l=e(37);n.exports=function(n){var A=String(l(this)),e="",o=t(n);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(A+=A))1&o&&(e+=A);return e}},function(n,A){n.exports=Math.sign||function(n){return 0==(n=+n)||n!=n?n:n<0?-1:1}},function(n,A){var e=Math.expm1;n.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(n){return 0==(n=+n)?n:n>-1e-6&&n<1e-6?n+n*n/2:Math.exp(n)-1}:e},function(n,A,e){var t=e(32),l=e(37);n.exports=function(n){return function(A,e){var o,i,c=String(l(A)),s=t(e),r=c.length;return s<0||s>=r?n?"":void 0:(o=c.charCodeAt(s))<55296||o>56319||s+1===r||(i=c.charCodeAt(s+1))<56320||i>57343?n?c.charAt(s):o:n?c.slice(s,s+2):i-56320+(o-55296<<10)+65536}}},function(n,A,e){"use strict";var t=e(44),l=e(0),o=e(23),i=e(27),c=e(55),s=e(123),r=e(53),C=e(49),a=e(14)("iterator"),u=!([].keys&&"next"in[].keys()),m=function(){return this};n.exports=function(n,A,e,d,f,p,E){s(e,A,d);var I,h,b,B=function(n){if(!u&&n in y)return y[n];switch(n){case"keys":case"values":return function(){return new e(this,n)}}return function(){return new e(this,n)}},g=A+" Iterator",M="values"==f,v=!1,y=n.prototype,O=y[a]||y["@@iterator"]||f&&y[f],S=O||B(f),G=f?M?B("entries"):S:void 0,k="Array"==A&&y.entries||O;if(k&&(b=C(k.call(new n)))!==Object.prototype&&b.next&&(r(b,g,!0),t||"function"==typeof b[a]||i(b,a,m)),M&&O&&"values"!==O.name&&(v=!0,S=function(){return O.call(this)}),t&&!E||!u&&!v&&y[a]||i(y,a,S),c[A]=S,c[g]=m,f)if(I={values:M?S:B("values"),keys:p?S:B("keys"),entries:G},E)for(h in I)h in y||o(y,h,I[h]);else l(l.P+l.F*(u||v),A,I);return I}},function(n,A,e){var t=e(97),l=e(37);n.exports=function(n,A,e){if(t(A))throw TypeError("String#"+e+" doesn't accept regex!");return String(l(n))}},function(n,A,e){var t=e(12),l=e(36),o=e(14)("match");n.exports=function(n){var A;return t(n)&&(void 0!==(A=n[o])?!!A:"RegExp"==l(n))}},function(n,A,e){var t=e(14)("match");n.exports=function(n){var A=/./;try{"/./"[n](A)}catch(e){try{return A[t]=!1,!"/./"[n](A)}catch(n){}}return!0}},function(n,A,e){var t=e(55),l=e(14)("iterator"),o=Array.prototype;n.exports=function(n){return void 0!==n&&(t.Array===n||o[l]===n)}},function(n,A,e){"use strict";var t=e(19),l=e(42);n.exports=function(n,A,e){A in n?t.f(n,A,l(0,e)):n[A]=e}},function(n,A,e){var t=e(64),l=e(14)("iterator"),o=e(55);n.exports=e(17).getIteratorMethod=function(n){if(null!=n)return n[l]||n["@@iterator"]||o[t(n)]}},function(n,A,e){"use strict";var t=e(20),l=e(46),o=e(16);n.exports=function(n){for(var A=t(this),e=o(A.length),i=arguments.length,c=l(i>1?arguments[1]:void 0,e),s=i>2?arguments[2]:void 0,r=void 0===s?e:l(s,e);r>c;)A[c++]=n;return A}},function(n,A,e){"use strict";var t=e(50),l=e(128),o=e(55),i=e(28);n.exports=e(95)(Array,"Array",(function(n,A){this._t=i(n),this._i=0,this._k=A}),(function(){var n=this._t,A=this._k,e=this._i++;return!n||e>=n.length?(this._t=void 0,l(1)):l(0,"keys"==A?e:"values"==A?n[e]:[e,n[e]])}),"values"),o.Arguments=o.Array,t("keys"),t("values"),t("entries")},function(n,A,e){"use strict";var t,l,o=e(73),i=RegExp.prototype.exec,c=String.prototype.replace,s=i,r=(t=/a/,l=/b*/g,i.call(t,"a"),i.call(l,"a"),0!==t.lastIndex||0!==l.lastIndex),C=void 0!==/()??/.exec("")[1];(r||C)&&(s=function(n){var A,e,t,l,s=this;return C&&(e=new RegExp("^"+s.source+"$(?!\\s)",o.call(s))),r&&(A=s.lastIndex),t=i.call(s,n),r&&t&&(s.lastIndex=s.global?t.index+t[0].length:A),C&&t&&t.length>1&&c.call(t[0],e,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(t[l]=void 0)})),t}),n.exports=s},function(n,A,e){"use strict";var t=e(94)(!0);n.exports=function(n,A,e){return A+(e?t(n,A).length:1)}},function(n,A,e){var t,l,o,i=e(30),c=e(117),s=e(87),r=e(83),C=e(9),a=C.process,u=C.setImmediate,m=C.clearImmediate,d=C.MessageChannel,f=C.Dispatch,p=0,E={},I=function(){var n=+this;if(E.hasOwnProperty(n)){var A=E[n];delete E[n],A()}},h=function(n){I.call(n.data)};u&&m||(u=function(n){for(var A=[],e=1;arguments.length>e;)A.push(arguments[e++]);return E[++p]=function(){c("function"==typeof n?n:Function(n),A)},t(p),p},m=function(n){delete E[n]},"process"==e(36)(a)?t=function(n){a.nextTick(i(I,n,1))}:f&&f.now?t=function(n){f.now(i(I,n,1))}:d?(o=(l=new d).port2,l.port1.onmessage=h,t=i(o.postMessage,o,1)):C.addEventListener&&"function"==typeof postMessage&&!C.importScripts?(t=function(n){C.postMessage(n+"","*")},C.addEventListener("message",h,!1)):t="onreadystatechange"in r("script")?function(n){s.appendChild(r("script")).onreadystatechange=function(){s.removeChild(this),I.call(n)}}:function(n){setTimeout(i(I,n,1),0)}),n.exports={set:u,clear:m}},function(n,A,e){"use strict";var t=e(9),l=e(18),o=e(44),i=e(79),c=e(27),s=e(58),r=e(10),C=e(57),a=e(32),u=e(16),m=e(136),d=e(48).f,f=e(19).f,p=e(102),E=e(53),I=t.ArrayBuffer,h=t.DataView,b=t.Math,B=t.RangeError,g=t.Infinity,M=I,v=b.abs,y=b.pow,O=b.floor,S=b.log,G=b.LN2,k=l?"_b":"buffer",K=l?"_l":"byteLength",Q=l?"_o":"byteOffset";function T(n,A,e){var t,l,o,i=new Array(e),c=8*e-A-1,s=(1<<c)-1,r=s>>1,C=23===A?y(2,-24)-y(2,-77):0,a=0,u=n<0||0===n&&1/n<0?1:0;for((n=v(n))!=n||n===g?(l=n!=n?1:0,t=s):(t=O(S(n)/G),n*(o=y(2,-t))<1&&(t--,o*=2),(n+=t+r>=1?C/o:C*y(2,1-r))*o>=2&&(t++,o/=2),t+r>=s?(l=0,t=s):t+r>=1?(l=(n*o-1)*y(2,A),t+=r):(l=n*y(2,r-1)*y(2,A),t=0));A>=8;i[a++]=255&l,l/=256,A-=8);for(t=t<<A|l,c+=A;c>0;i[a++]=255&t,t/=256,c-=8);return i[--a]|=128*u,i}function x(n,A,e){var t,l=8*e-A-1,o=(1<<l)-1,i=o>>1,c=l-7,s=e-1,r=n[s--],C=127&r;for(r>>=7;c>0;C=256*C+n[s],s--,c-=8);for(t=C&(1<<-c)-1,C>>=-c,c+=A;c>0;t=256*t+n[s],s--,c-=8);if(0===C)C=1-i;else{if(C===o)return t?NaN:r?-g:g;t+=y(2,A),C-=i}return(r?-1:1)*t*y(2,C-A)}function Y(n){return n[3]<<24|n[2]<<16|n[1]<<8|n[0]}function w(n){return[255&n]}function _(n){return[255&n,n>>8&255]}function D(n){return[255&n,n>>8&255,n>>16&255,n>>24&255]}function W(n){return T(n,52,8)}function N(n){return T(n,23,4)}function L(n,A,e){f(n.prototype,A,{get:function(){return this[e]}})}function U(n,A,e,t){var l=m(+e);if(l+A>n[K])throw B("Wrong index!");var o=n[k]._b,i=l+n[Q],c=o.slice(i,i+A);return t?c:c.reverse()}function R(n,A,e,t,l,o){var i=m(+e);if(i+A>n[K])throw B("Wrong index!");for(var c=n[k]._b,s=i+n[Q],r=t(+l),C=0;C<A;C++)c[s+C]=r[o?C:A-C-1]}if(i.ABV){if(!r((function(){I(1)}))||!r((function(){new I(-1)}))||r((function(){return new I,new I(1.5),new I(NaN),"ArrayBuffer"!=I.name}))){for(var H,P=(I=function(n){return C(this,I),new M(m(n))}).prototype=M.prototype,j=d(M),F=0;j.length>F;)(H=j[F++])in I||c(I,H,M[H]);o||(P.constructor=I)}var z=new h(new I(2)),q=h.prototype.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||s(h.prototype,{setInt8:function(n,A){q.call(this,n,A<<24>>24)},setUint8:function(n,A){q.call(this,n,A<<24>>24)}},!0)}else I=function(n){C(this,I,"ArrayBuffer");var A=m(n);this._b=p.call(new Array(A),0),this[K]=A},h=function(n,A,e){C(this,h,"DataView"),C(n,I,"DataView");var t=n[K],l=a(A);if(l<0||l>t)throw B("Wrong offset!");if(l+(e=void 0===e?t-l:u(e))>t)throw B("Wrong length!");this[k]=n,this[Q]=l,this[K]=e},l&&(L(I,"byteLength","_l"),L(h,"buffer","_b"),L(h,"byteLength","_l"),L(h,"byteOffset","_o")),s(h.prototype,{getInt8:function(n){return U(this,1,n)[0]<<24>>24},getUint8:function(n){return U(this,1,n)[0]},getInt16:function(n){var A=U(this,2,n,arguments[1]);return(A[1]<<8|A[0])<<16>>16},getUint16:function(n){var A=U(this,2,n,arguments[1]);return A[1]<<8|A[0]},getInt32:function(n){return Y(U(this,4,n,arguments[1]))},getUint32:function(n){return Y(U(this,4,n,arguments[1]))>>>0},getFloat32:function(n){return x(U(this,4,n,arguments[1]),23,4)},getFloat64:function(n){return x(U(this,8,n,arguments[1]),52,8)},setInt8:function(n,A){R(this,1,n,w,A)},setUint8:function(n,A){R(this,1,n,w,A)},setInt16:function(n,A){R(this,2,n,_,A,arguments[2])},setUint16:function(n,A){R(this,2,n,_,A,arguments[2])},setInt32:function(n,A){R(this,4,n,D,A,arguments[2])},setUint32:function(n,A){R(this,4,n,D,A,arguments[2])},setFloat32:function(n,A){R(this,4,n,N,A,arguments[2])},setFloat64:function(n,A){R(this,8,n,W,A,arguments[2])}});E(I,"ArrayBuffer"),E(h,"DataView"),c(h.prototype,i.VIEW,!0),A.ArrayBuffer=I,A.DataView=h},function(n,A){function e(A,t){return n.exports=e=Object.setPrototypeOf||function(n,A){return n.__proto__=A,n},e(A,t)}n.exports=e},function(n,A,e){n.exports=!e(18)&&!e(10)((function(){return 7!=Object.defineProperty(e(83)("div"),"a",{get:function(){return 7}}).a}))},function(n,A,e){var t=e(9),l=e(17),o=e(44),i=e(84),c=e(19).f;n.exports=function(n){var A=l.Symbol||(l.Symbol=o?{}:t.Symbol||{});"_"==n.charAt(0)||n in A||c(A,n,{value:i.f(n)})}},function(n,A,e){var t=e(26),l=e(28),o=e(69)(!1),i=e(85)("IE_PROTO");n.exports=function(n,A){var e,c=l(n),s=0,r=[];for(e in c)e!=i&&t(c,e)&&r.push(e);for(;A.length>s;)t(c,e=A[s++])&&(~o(r,e)||r.push(e));return r}},function(n,A,e){var t=e(19),l=e(11),o=e(45);n.exports=e(18)?Object.defineProperties:function(n,A){l(n);for(var e,i=o(A),c=i.length,s=0;c>s;)t.f(n,e=i[s++],A[e]);return n}},function(n,A,e){var t=e(28),l=e(48).f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(n){return i&&"[object Window]"==o.call(n)?function(n){try{return l(n)}catch(n){return i.slice()}}(n):l(t(n))}},function(n,A,e){"use strict";var t=e(18),l=e(45),o=e(70),i=e(63),c=e(20),s=e(62),r=Object.assign;n.exports=!r||e(10)((function(){var n={},A={},e=Symbol(),t="abcdefghijklmnopqrst";return n[e]=7,t.split("").forEach((function(n){A[n]=n})),7!=r({},n)[e]||Object.keys(r({},A)).join("")!=t}))?function(n,A){for(var e=c(n),r=arguments.length,C=1,a=o.f,u=i.f;r>C;)for(var m,d=s(arguments[C++]),f=a?l(d).concat(a(d)):l(d),p=f.length,E=0;p>E;)m=f[E++],t&&!u.call(d,m)||(e[m]=d[m]);return e}:r},function(n,A){n.exports=Object.is||function(n,A){return n===A?0!==n||1/n==1/A:n!=n&&A!=A}},function(n,A,e){"use strict";var t=e(31),l=e(12),o=e(117),i=[].slice,c={},s=function(n,A,e){if(!(A in c)){for(var t=[],l=0;l<A;l++)t[l]="a["+l+"]";c[A]=Function("F,a","return new F("+t.join(",")+")")}return c[A](n,e)};n.exports=Function.bind||function(n){var A=t(this),e=i.call(arguments,1),c=function(){var t=e.concat(i.call(arguments));return this instanceof c?s(A,t.length,t):o(A,t,n)};return l(A.prototype)&&(c.prototype=A.prototype),c}},function(n,A){n.exports=function(n,A,e){var t=void 0===e;switch(A.length){case 0:return t?n():n.call(e);case 1:return t?n(A[0]):n.call(e,A[0]);case 2:return t?n(A[0],A[1]):n.call(e,A[0],A[1]);case 3:return t?n(A[0],A[1],A[2]):n.call(e,A[0],A[1],A[2]);case 4:return t?n(A[0],A[1],A[2],A[3]):n.call(e,A[0],A[1],A[2],A[3])}return n.apply(e,A)}},function(n,A,e){var t=e(9).parseInt,l=e(54).trim,o=e(89),i=/^[-+]?0[xX]/;n.exports=8!==t(o+"08")||22!==t(o+"0x16")?function(n,A){var e=l(String(n),3);return t(e,A>>>0||(i.test(e)?16:10))}:t},function(n,A,e){var t=e(9).parseFloat,l=e(54).trim;n.exports=1/t(e(89)+"-0")!=-1/0?function(n){var A=l(String(n),3),e=t(A);return 0===e&&"-"==A.charAt(0)?-0:e}:t},function(n,A,e){var t=e(36);n.exports=function(n,A){if("number"!=typeof n&&"Number"!=t(n))throw TypeError(A);return+n}},function(n,A,e){var t=e(12),l=Math.floor;n.exports=function(n){return!t(n)&&isFinite(n)&&l(n)===n}},function(n,A){n.exports=Math.log1p||function(n){return(n=+n)>-1e-8&&n<1e-8?n-n*n/2:Math.log(1+n)}},function(n,A,e){"use strict";var t=e(47),l=e(42),o=e(53),i={};e(27)(i,e(14)("iterator"),(function(){return this})),n.exports=function(n,A,e){n.prototype=t(i,{next:l(1,e)}),o(n,A+" Iterator")}},function(n,A,e){var t=e(11);n.exports=function(n,A,e,l){try{return l?A(t(e)[0],e[1]):A(e)}catch(A){var o=n.return;throw void 0!==o&&t(o.call(n)),A}}},function(n,A,e){var t=e(278);n.exports=function(n,A){return new(t(n))(A)}},function(n,A,e){var t=e(31),l=e(20),o=e(62),i=e(16);n.exports=function(n,A,e,c,s){t(A);var r=l(n),C=o(r),a=i(r.length),u=s?a-1:0,m=s?-1:1;if(e<2)for(;;){if(u in C){c=C[u],u+=m;break}if(u+=m,s?u<0:a<=u)throw TypeError("Reduce of empty array with no initial value")}for(;s?u>=0:a>u;u+=m)u in C&&(c=A(c,C[u],u,r));return c}},function(n,A,e){"use strict";var t=e(20),l=e(46),o=e(16);n.exports=[].copyWithin||function(n,A){var e=t(this),i=o(e.length),c=l(n,i),s=l(A,i),r=arguments.length>2?arguments[2]:void 0,C=Math.min((void 0===r?i:l(r,i))-s,i-c),a=1;for(s<c&&c<s+C&&(a=-1,s+=C-1,c+=C-1);C-- >0;)s in e?e[c]=e[s]:delete e[c],c+=a,s+=a;return e}},function(n,A){n.exports=function(n,A){return{value:A,done:!!n}}},function(n,A,e){"use strict";var t=e(104);e(0)({target:"RegExp",proto:!0,forced:t!==/./.exec},{exec:t})},function(n,A,e){e(18)&&"g"!=/./g.flags&&e(19).f(RegExp.prototype,"flags",{configurable:!0,get:e(73)})},function(n,A,e){"use strict";var t,l,o,i,c=e(44),s=e(9),r=e(30),C=e(64),a=e(0),u=e(12),m=e(31),d=e(57),f=e(76),p=e(65),E=e(106).set,I=e(298)(),h=e(132),b=e(299),B=e(77),g=e(133),M=s.TypeError,v=s.process,y=v&&v.versions,O=y&&y.v8||"",S=s.Promise,G="process"==C(v),k=function(){},K=l=h.f,Q=!!function(){try{var n=S.resolve(1),A=(n.constructor={})[e(14)("species")]=function(n){n(k,k)};return(G||"function"==typeof PromiseRejectionEvent)&&n.then(k)instanceof A&&0!==O.indexOf("6.6")&&-1===B.indexOf("Chrome/66")}catch(n){}}(),T=function(n){var A;return!(!u(n)||"function"!=typeof(A=n.then))&&A},x=function(n,A){if(!n._n){n._n=!0;var e=n._c;I((function(){for(var t=n._v,l=1==n._s,o=0,i=function(A){var e,o,i,c=l?A.ok:A.fail,s=A.resolve,r=A.reject,C=A.domain;try{c?(l||(2==n._h&&_(n),n._h=1),!0===c?e=t:(C&&C.enter(),e=c(t),C&&(C.exit(),i=!0)),e===A.promise?r(M("Promise-chain cycle")):(o=T(e))?o.call(e,s,r):s(e)):r(t)}catch(n){C&&!i&&C.exit(),r(n)}};e.length>o;)i(e[o++]);n._c=[],n._n=!1,A&&!n._h&&Y(n)}))}},Y=function(n){E.call(s,(function(){var A,e,t,l=n._v,o=w(n);if(o&&(A=b((function(){G?v.emit("unhandledRejection",l,n):(e=s.onunhandledrejection)?e({promise:n,reason:l}):(t=s.console)&&t.error&&t.error("Unhandled promise rejection",l)})),n._h=G||w(n)?2:1),n._a=void 0,o&&A.e)throw A.v}))},w=function(n){return 1!==n._h&&0===(n._a||n._c).length},_=function(n){E.call(s,(function(){var A;G?v.emit("rejectionHandled",n):(A=s.onrejectionhandled)&&A({promise:n,reason:n._v})}))},D=function(n){var A=this;A._d||(A._d=!0,(A=A._w||A)._v=n,A._s=2,A._a||(A._a=A._c.slice()),x(A,!0))},W=function(n){var A,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===n)throw M("Promise can't be resolved itself");(A=T(n))?I((function(){var t={_w:e,_d:!1};try{A.call(n,r(W,t,1),r(D,t,1))}catch(n){D.call(t,n)}})):(e._v=n,e._s=1,x(e,!1))}catch(n){D.call({_w:e,_d:!1},n)}}};Q||(S=function(n){d(this,S,"Promise","_h"),m(n),t.call(this);try{n(r(W,this,1),r(D,this,1))}catch(n){D.call(this,n)}},(t=function(n){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(58)(S.prototype,{then:function(n,A){var e=K(p(this,S));return e.ok="function"!=typeof n||n,e.fail="function"==typeof A&&A,e.domain=G?v.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&x(this,!1),e.promise},catch:function(n){return this.then(void 0,n)}}),o=function(){var n=new t;this.promise=n,this.resolve=r(W,n,1),this.reject=r(D,n,1)},h.f=K=function(n){return n===S||n===i?new o(n):l(n)}),a(a.G+a.W+a.F*!Q,{Promise:S}),e(53)(S,"Promise"),e(56)("Promise"),i=e(17).Promise,a(a.S+a.F*!Q,"Promise",{reject:function(n){var A=K(this);return(0,A.reject)(n),A.promise}}),a(a.S+a.F*(c||!Q),"Promise",{resolve:function(n){return g(c&&this===i?S:this,n)}}),a(a.S+a.F*!(Q&&e(72)((function(n){S.all(n).catch(k)}))),"Promise",{all:function(n){var A=this,e=K(A),t=e.resolve,l=e.reject,o=b((function(){var e=[],o=0,i=1;f(n,!1,(function(n){var c=o++,s=!1;e.push(void 0),i++,A.resolve(n).then((function(n){s||(s=!0,e[c]=n,--i||t(e))}),l)})),--i||t(e)}));return o.e&&l(o.v),e.promise},race:function(n){var A=this,e=K(A),t=e.reject,l=b((function(){f(n,!1,(function(n){A.resolve(n).then(e.resolve,t)}))}));return l.e&&t(l.v),e.promise}})},function(n,A,e){"use strict";var t=e(31);function l(n){var A,e;this.promise=new n((function(n,t){if(void 0!==A||void 0!==e)throw TypeError("Bad Promise constructor");A=n,e=t})),this.resolve=t(A),this.reject=t(e)}n.exports.f=function(n){return new l(n)}},function(n,A,e){var t=e(11),l=e(12),o=e(132);n.exports=function(n,A){if(t(n),l(A)&&A.constructor===n)return A;var e=o.f(n);return(0,e.resolve)(A),e.promise}},function(n,A,e){"use strict";var t=e(19).f,l=e(47),o=e(58),i=e(30),c=e(57),s=e(76),r=e(95),C=e(128),a=e(56),u=e(18),m=e(41).fastKey,d=e(51),f=u?"_s":"size",p=function(n,A){var e,t=m(A);if("F"!==t)return n._i[t];for(e=n._f;e;e=e.n)if(e.k==A)return e};n.exports={getConstructor:function(n,A,e,r){var C=n((function(n,t){c(n,C,A,"_i"),n._t=A,n._i=l(null),n._f=void 0,n._l=void 0,n[f]=0,null!=t&&s(t,e,n[r],n)}));return o(C.prototype,{clear:function(){for(var n=d(this,A),e=n._i,t=n._f;t;t=t.n)t.r=!0,t.p&&(t.p=t.p.n=void 0),delete e[t.i];n._f=n._l=void 0,n[f]=0},delete:function(n){var e=d(this,A),t=p(e,n);if(t){var l=t.n,o=t.p;delete e._i[t.i],t.r=!0,o&&(o.n=l),l&&(l.p=o),e._f==t&&(e._f=l),e._l==t&&(e._l=o),e[f]--}return!!t},forEach:function(n){d(this,A);for(var e,t=i(n,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(t(e.v,e.k,this);e&&e.r;)e=e.p},has:function(n){return!!p(d(this,A),n)}}),u&&t(C.prototype,"size",{get:function(){return d(this,A)[f]}}),C},def:function(n,A,e){var t,l,o=p(n,A);return o?o.v=e:(n._l=o={i:l=m(A,!0),k:A,v:e,p:t=n._l,n:void 0,r:!1},n._f||(n._f=o),t&&(t.n=o),n[f]++,"F"!==l&&(n._i[l]=o)),n},getEntry:p,setStrong:function(n,A,e){r(n,A,(function(n,e){this._t=d(n,A),this._k=e,this._l=void 0}),(function(){for(var n=this._k,A=this._l;A&&A.r;)A=A.p;return this._t&&(this._l=A=A?A.n:this._t._f)?C(0,"keys"==n?A.k:"values"==n?A.v:[A.k,A.v]):(this._t=void 0,C(1))}),e?"entries":"values",!e,!0),a(A)}}},function(n,A,e){"use strict";var t=e(58),l=e(41).getWeak,o=e(11),i=e(12),c=e(57),s=e(76),r=e(35),C=e(26),a=e(51),u=r(5),m=r(6),d=0,f=function(n){return n._l||(n._l=new p)},p=function(){this.a=[]},E=function(n,A){return u(n.a,(function(n){return n[0]===A}))};p.prototype={get:function(n){var A=E(this,n);if(A)return A[1]},has:function(n){return!!E(this,n)},set:function(n,A){var e=E(this,n);e?e[1]=A:this.a.push([n,A])},delete:function(n){var A=m(this.a,(function(A){return A[0]===n}));return~A&&this.a.splice(A,1),!!~A}},n.exports={getConstructor:function(n,A,e,o){var r=n((function(n,t){c(n,r,A,"_i"),n._t=A,n._i=d++,n._l=void 0,null!=t&&s(t,e,n[o],n)}));return t(r.prototype,{delete:function(n){if(!i(n))return!1;var e=l(n);return!0===e?f(a(this,A)).delete(n):e&&C(e,this._i)&&delete e[this._i]},has:function(n){if(!i(n))return!1;var e=l(n);return!0===e?f(a(this,A)).has(n):e&&C(e,this._i)}}),r},def:function(n,A,e){var t=l(o(A),!0);return!0===t?f(n).set(A,e):t[n._i]=e,n},ufstore:f}},function(n,A,e){var t=e(32),l=e(16);n.exports=function(n){if(void 0===n)return 0;var A=t(n),e=l(A);if(A!==e)throw RangeError("Wrong length!");return e}},function(n,A,e){var t=e(48),l=e(70),o=e(11),i=e(9).Reflect;n.exports=i&&i.ownKeys||function(n){var A=t.f(o(n)),e=l.f;return e?A.concat(e(n)):A}},function(n,A,e){var t=e(16),l=e(91),o=e(37);n.exports=function(n,A,e,i){var c=String(o(n)),s=c.length,r=void 0===e?" ":String(e),C=t(A);if(C<=s||""==r)return c;var a=C-s,u=l.call(r,Math.ceil(a/r.length));return u.length>a&&(u=u.slice(0,a)),i?u+c:c+u}},function(n,A,e){var t=e(18),l=e(45),o=e(28),i=e(63).f;n.exports=function(n){return function(A){for(var e,c=o(A),s=l(c),r=s.length,C=0,a=[];r>C;)e=s[C++],t&&!i.call(c,e)||a.push(n?[e,c[e]]:c[e]);return a}}},function(n,A,e){var t=function(n){"use strict";var A=Object.prototype,e=A.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},l=t.iterator||"@@iterator",o=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function c(n,A,e,t){var l=A&&A.prototype instanceof C?A:C,o=Object.create(l.prototype),i=new g(t||[]);return o._invoke=function(n,A,e){var t="suspendedStart";return function(l,o){if("executing"===t)throw new Error("Generator is already running");if("completed"===t){if("throw"===l)throw o;return v()}for(e.method=l,e.arg=o;;){var i=e.delegate;if(i){var c=h(i,e);if(c){if(c===r)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===t)throw t="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);t="executing";var C=s(n,A,e);if("normal"===C.type){if(t=e.done?"completed":"suspendedYield",C.arg===r)continue;return{value:C.arg,done:e.done}}"throw"===C.type&&(t="completed",e.method="throw",e.arg=C.arg)}}}(n,e,i),o}function s(n,A,e){try{return{type:"normal",arg:n.call(A,e)}}catch(n){return{type:"throw",arg:n}}}n.wrap=c;var r={};function C(){}function a(){}function u(){}var m={};m[l]=function(){return this};var d=Object.getPrototypeOf,f=d&&d(d(M([])));f&&f!==A&&e.call(f,l)&&(m=f);var p=u.prototype=C.prototype=Object.create(m);function E(n){["next","throw","return"].forEach((function(A){n[A]=function(n){return this._invoke(A,n)}}))}function I(n,A){var t;this._invoke=function(l,o){function i(){return new A((function(t,i){!function t(l,o,i,c){var r=s(n[l],n,o);if("throw"!==r.type){var C=r.arg,a=C.value;return a&&"object"==typeof a&&e.call(a,"__await")?A.resolve(a.__await).then((function(n){t("next",n,i,c)}),(function(n){t("throw",n,i,c)})):A.resolve(a).then((function(n){C.value=n,i(C)}),(function(n){return t("throw",n,i,c)}))}c(r.arg)}(l,o,t,i)}))}return t=t?t.then(i,i):i()}}function h(n,A){var e=n.iterator[A.method];if(void 0===e){if(A.delegate=null,"throw"===A.method){if(n.iterator.return&&(A.method="return",A.arg=void 0,h(n,A),"throw"===A.method))return r;A.method="throw",A.arg=new TypeError("The iterator does not provide a 'throw' method")}return r}var t=s(e,n.iterator,A.arg);if("throw"===t.type)return A.method="throw",A.arg=t.arg,A.delegate=null,r;var l=t.arg;return l?l.done?(A[n.resultName]=l.value,A.next=n.nextLoc,"return"!==A.method&&(A.method="next",A.arg=void 0),A.delegate=null,r):l:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,r)}function b(n){var A={tryLoc:n[0]};1 in n&&(A.catchLoc=n[1]),2 in n&&(A.finallyLoc=n[2],A.afterLoc=n[3]),this.tryEntries.push(A)}function B(n){var A=n.completion||{};A.type="normal",delete A.arg,n.completion=A}function g(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(b,this),this.reset(!0)}function M(n){if(n){var A=n[l];if(A)return A.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var t=-1,o=function A(){for(;++t<n.length;)if(e.call(n,t))return A.value=n[t],A.done=!1,A;return A.value=void 0,A.done=!0,A};return o.next=o}}return{next:v}}function v(){return{value:void 0,done:!0}}return a.prototype=p.constructor=u,u.constructor=a,u[i]=a.displayName="GeneratorFunction",n.isGeneratorFunction=function(n){var A="function"==typeof n&&n.constructor;return!!A&&(A===a||"GeneratorFunction"===(A.displayName||A.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,i in n||(n[i]="GeneratorFunction")),n.prototype=Object.create(p),n},n.awrap=function(n){return{__await:n}},E(I.prototype),I.prototype[o]=function(){return this},n.AsyncIterator=I,n.async=function(A,e,t,l,o){void 0===o&&(o=Promise);var i=new I(c(A,e,t,l),o);return n.isGeneratorFunction(e)?i:i.next().then((function(n){return n.done?n.value:i.next()}))},E(p),p[i]="Generator",p[l]=function(){return this},p.toString=function(){return"[object Generator]"},n.keys=function(n){var A=[];for(var e in n)A.push(e);return A.reverse(),function e(){for(;A.length;){var t=A.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},n.values=M,g.prototype={constructor:g,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(B),!n)for(var A in this)"t"===A.charAt(0)&&e.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var A=this;function t(e,t){return i.type="throw",i.arg=n,A.next=e,t&&(A.method="next",A.arg=void 0),!!t}for(var l=this.tryEntries.length-1;l>=0;--l){var o=this.tryEntries[l],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var c=e.call(o,"catchLoc"),s=e.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(n,A){for(var t=this.tryEntries.length-1;t>=0;--t){var l=this.tryEntries[t];if(l.tryLoc<=this.prev&&e.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var o=l;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=A&&A<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=n,i.arg=A,o?(this.method="next",this.next=o.finallyLoc,r):this.complete(i)},complete:function(n,A){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&A&&(this.next=A),r},finish:function(n){for(var A=this.tryEntries.length-1;A>=0;--A){var e=this.tryEntries[A];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),B(e),r}},catch:function(n){for(var A=this.tryEntries.length-1;A>=0;--A){var e=this.tryEntries[A];if(e.tryLoc===n){var t=e.completion;if("throw"===t.type){var l=t.arg;B(e)}return l}}throw new Error("illegal catch attempt")},delegateYield:function(n,A,e){return this.delegate={iterator:M(n),resultName:A,nextLoc:e},"next"===this.method&&(this.arg=void 0),r}},n}(n.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}},function(n,A,e){var t=e(142);n.exports=function(n,A){if(n){if("string"==typeof n)return t(n,A);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?t(n,A):void 0}}},function(n,A){n.exports=function(n,A){(null==A||A>n.length)&&(A=n.length);for(var e=0,t=new Array(A);e<A;e++)t[e]=n[e];return t}},function(n){n.exports=JSON.parse('{"ui":{"blockTunes":{"toggler":{"Click to tune":"","or drag to move":""}},"inlineToolbar":{"converter":{"Convert to":""}},"toolbar":{"toolbox":{"Add":""}}},"toolNames":{"Text":"","Link":"","Bold":"","Italic":""},"tools":{"link":{"Add a link":""},"stub":{"The block can not be displayed correctly.":""}},"blockTunes":{"delete":{"Delete":""},"moveUp":{"Move up":""},"moveDown":{"Move down":""}}}')},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(5),e(6),e(4),e(369)],void 0===(o="function"==typeof(t=function(n,A,t,l,o,i){"use strict";var c=e(1);function s(){var n="/home/hata/editor.js/src/components/errors/critical.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"ef814f882807f8b00b9b5d4d8f36f45b1321be04"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/errors/critical.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/errors/critical.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/errors/critical.ts"],names:[],mappings:"AAAA;;GAEG;AACH,MAAM,OAAO,aAAc,SAAQ,KAAK;CACvC",sourcesContent:["/**\n * This type of exception will destroy the Editor! Be careful when using it\n */\nexport class CriticalError extends Error {\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ef814f882807f8b00b9b5d4d8f36f45b1321be04"});var l=t[n];return s=function(){return l},l}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.CriticalError=void 0,A=c(A),t=c(t),l=c(l),o=c(o),i=c(i),s();var C=function(n){(0,t.default)(c,n);var e,i=(e=c,function(){var n,A=(0,o.default)(e);if(r()){var t=(0,o.default)(this).constructor;n=Reflect.construct(A,arguments,t)}else n=A.apply(this,arguments);return(0,l.default)(this,n)});function c(){return(0,A.default)(this,c),i.apply(this,arguments)}return c}((0,i.default)(Error));n.CriticalError=C,C.displayName="CriticalError"})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(8),e(146),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a){"use strict";var u=e(13),m=e(1);function d(){var n="/home/hata/editor.js/src/components/modules/api/blocks.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"e4fe8393f3294de13c591d27671101c635f83c71"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/blocks.ts",statementMap:{0:{start:{line:10,column:8},end:{line:10,column:28}},1:{start:{line:20,column:8},end:{line:27,column:10}},2:{start:{line:21,column:12},end:{line:26,column:15}},3:{start:{line:35,column:8},end:{line:48,column:10}},4:{start:{line:36,column:25},end:{line:36,column:37}},5:{start:{line:37,column:30},end:{line:37,column:47}},6:{start:{line:38,column:38},end:{line:38,column:63}},7:{start:{line:39,column:31},end:{line:39,column:49}},8:{start:{line:40,column:42},end:{line:40,column:71}},9:{start:{line:41,column:42},end:{line:41,column:71}},10:{start:{line:42,column:40},end:{line:42,column:67}},11:{start:{line:43,column:40},end:{line:43,column:67}},12:{start:{line:44,column:34},end:{line:44,column:55}},13:{start:{line:45,column:52},end:{line:45,column:84}},14:{start:{line:46,column:34},end:{line:46,column:55}},15:{start:{line:56,column:8},end:{line:56,column:54}},16:{start:{line:64,column:8},end:{line:64,column:58}},17:{start:{line:72,column:22},end:{line:72,column:69}},18:{start:{line:73,column:8},end:{line:76,column:9}},19:{start:{line:74,column:12},end:{line:74,column:79}},20:{start:{line:75,column:12},end:{line:75,column:19}},21:{start:{line:77,column:8},end:{line:77,column:35}},22:{start:{line:87,column:8},end:{line:88,column:57}},23:{start:{line:89,column:8},end:{line:89,column:58}},24:{start:{line:94,column:8},end:{line:94,column:40}},25:{start:{line:103,column:8},end:{line:103,column:58}},26:{start:{line:108,column:8},end:{line:108,column:40}},27:{start:{line:116,column:8},end:{line:122,column:9}},28:{start:{line:117,column:12},end:{line:117,column:61}},29:{start:{line:120,column:12},end:{line:120,column:36}},30:{start:{line:121,column:12},end:{line:121,column:19}},31:{start:{line:127,column:8},end:{line:129,column:9}},32:{start:{line:128,column:12},end:{line:128,column:46}},33:{start:{line:133,column:8},end:{line:135,column:9}},34:{start:{line:134,column:12},end:{line:134,column:113}},35:{start:{line:136,column:8},end:{line:136,column:36}},36:{start:{line:142,column:8},end:{line:142,column:45}},37:{start:{line:143,column:8},end:{line:143,column:42}},38:{start:{line:151,column:8},end:{line:151,column:41}},39:{start:{line:152,column:8},end:{line:152,column:56}},40:{start:{line:161,column:8},end:{line:161,column:41}},41:{start:{line:162,column:8},end:{line:162,column:57}},42:{start:{line:173,column:8},end:{line:173,column:71}},43:{start:{line:174,column:22},end:{line:174,column:69}},44:{start:{line:175,column:8},end:{line:177,column:9}},45:{start:{line:176,column:12},end:{line:176,column:19}},46:{start:{line:178,column:8},end:{line:178,column:33}},47:{start:{line:189,column:8},end:{line:190,column:52}},48:{start:{line:191,column:8},end:{line:191,column:22}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:18},end:{line:28,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:20,column:22},end:{line:20,column:23}},loc:{start:{line:20,column:103},end:{line:27,column:9}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:18},end:{line:49,column:5}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:36,column:19},end:{line:36,column:20}},loc:{start:{line:36,column:25},end:{line:36,column:37}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:37,column:20},end:{line:37,column:21}},loc:{start:{line:37,column:30},end:{line:37,column:47}},line:37},5:{name:"(anonymous_5)",decl:{start:{line:38,column:28},end:{line:38,column:29}},loc:{start:{line:38,column:38},end:{line:38,column:63}},line:38},6:{name:"(anonymous_6)",decl:{start:{line:39,column:20},end:{line:39,column:21}},loc:{start:{line:39,column:31},end:{line:39,column:49}},line:39},7:{name:"(anonymous_7)",decl:{start:{line:40,column:18},end:{line:40,column:19}},loc:{start:{line:40,column:42},end:{line:40,column:71}},line:40},8:{name:"(anonymous_8)",decl:{start:{line:41,column:18},end:{line:41,column:19}},loc:{start:{line:41,column:42},end:{line:41,column:71}},line:41},9:{name:"(anonymous_9)",decl:{start:{line:42,column:29},end:{line:42,column:30}},loc:{start:{line:42,column:40},end:{line:42,column:67}},line:42},10:{name:"(anonymous_10)",decl:{start:{line:43,column:34},end:{line:43,column:35}},loc:{start:{line:43,column:40},end:{line:43,column:67}},line:43},11:{name:"(anonymous_11)",decl:{start:{line:44,column:28},end:{line:44,column:29}},loc:{start:{line:44,column:34},end:{line:44,column:55}},line:44},12:{name:"(anonymous_12)",decl:{start:{line:45,column:26},end:{line:45,column:27}},loc:{start:{line:45,column:52},end:{line:45,column:84}},line:45},13:{name:"(anonymous_13)",decl:{start:{line:46,column:28},end:{line:46,column:29}},loc:{start:{line:46,column:34},end:{line:46,column:55}},line:46},14:{name:"(anonymous_14)",decl:{start:{line:55,column:4},end:{line:55,column:5}},loc:{start:{line:55,column:21},end:{line:57,column:5}},line:55},15:{name:"(anonymous_15)",decl:{start:{line:63,column:4},end:{line:63,column:5}},loc:{start:{line:63,column:27},end:{line:65,column:5}},line:63},16:{name:"(anonymous_16)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:27},end:{line:78,column:5}},line:71},17:{name:"(anonymous_17)",decl:{start:{line:86,column:4},end:{line:86,column:5}},loc:{start:{line:86,column:29},end:{line:95,column:5}},line:86},18:{name:"(anonymous_18)",decl:{start:{line:102,column:4},end:{line:102,column:5}},loc:{start:{line:102,column:29},end:{line:109,column:5}},line:102},19:{name:"(anonymous_19)",decl:{start:{line:115,column:4},end:{line:115,column:5}},loc:{start:{line:115,column:23},end:{line:137,column:5}},line:115},20:{name:"(anonymous_20)",decl:{start:{line:141,column:4},end:{line:141,column:5}},loc:{start:{line:141,column:12},end:{line:144,column:5}},line:141},21:{name:"(anonymous_21)",decl:{start:{line:150,column:4},end:{line:150,column:5}},loc:{start:{line:150,column:17},end:{line:153,column:5}},line:150},22:{name:"(anonymous_22)",decl:{start:{line:160,column:4},end:{line:160,column:5}},loc:{start:{line:160,column:25},end:{line:163,column:5}},line:160},23:{name:"(anonymous_23)",decl:{start:{line:172,column:4},end:{line:172,column:5}},loc:{start:{line:172,column:39},end:{line:179,column:5}},line:172},24:{name:"(anonymous_24)",decl:{start:{line:188,column:4},end:{line:188,column:5}},loc:{start:{line:188,column:21},end:{line:192,column:5}},line:188}},branchMap:{0:{loc:{start:{line:20,column:23},end:{line:20,column:54}},type:"default-arg",locations:[{start:{line:20,column:30},end:{line:20,column:54}}],line:20},1:{loc:{start:{line:20,column:56},end:{line:20,column:65}},type:"default-arg",locations:[{start:{line:20,column:63},end:{line:20,column:65}}],line:20},2:{loc:{start:{line:20,column:67},end:{line:20,column:78}},type:"default-arg",locations:[{start:{line:20,column:76},end:{line:20,column:78}}],line:20},3:{loc:{start:{line:45,column:34},end:{line:45,column:47}},type:"default-arg",locations:[{start:{line:45,column:43},end:{line:45,column:47}}],line:45},4:{loc:{start:{line:73,column:8},end:{line:76,column:9}},type:"if",locations:[{start:{line:73,column:8},end:{line:76,column:9}},{start:{line:73,column:8},end:{line:76,column:9}}],line:73},5:{loc:{start:{line:127,column:8},end:{line:129,column:9}},type:"if",locations:[{start:{line:127,column:8},end:{line:129,column:9}},{start:{line:127,column:8},end:{line:129,column:9}}],line:127},6:{loc:{start:{line:133,column:8},end:{line:135,column:9}},type:"if",locations:[{start:{line:133,column:8},end:{line:135,column:9}},{start:{line:133,column:8},end:{line:135,column:9}}],line:133},7:{loc:{start:{line:172,column:24},end:{line:172,column:37}},type:"default-arg",locations:[{start:{line:172,column:33},end:{line:172,column:37}}],line:172},8:{loc:{start:{line:175,column:8},end:{line:177,column:9}},type:"if",locations:[{start:{line:175,column:8},end:{line:177,column:9}},{start:{line:175,column:8},end:{line:177,column:9}}],line:175}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},b:{0:[0],1:[0],2:[0],3:[0],4:[0,0],5:[0,0],6:[0,0],7:[0],8:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/blocks.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/blocks.ts"],names:[],mappings:"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",sourcesContent:["import { BlockAPI as BlockAPIInterface, Blocks } from '../../../../types/api';\nimport { BlockToolData, OutputData, ToolConfig } from '../../../../types';\nimport * as _ from './../../utils';\nimport BlockAPI from '../../block/api';\nimport Module from '../../__module';\n\n/**\n * @class BlocksAPI\n * provides with methods working with Block\n */\nexport default class BlocksAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Blocks}\n   */\n  public get methods(): Blocks {\n    return {\n      clear: (): void => this.clear(),\n      render: (data: OutputData): Promise<void> => this.render(data),\n      renderFromHTML: (data: string): Promise<void> => this.renderFromHTML(data),\n      delete: (index?: number): void => this.delete(index),\n      swap: (fromIndex: number, toIndex: number): void => this.swap(fromIndex, toIndex),\n      move: (toIndex: number, fromIndex?: number): void => this.move(toIndex, fromIndex),\n      getBlockByIndex: (index: number): BlockAPIInterface | void => this.getBlockByIndex(index),\n      getCurrentBlockIndex: (): number => this.getCurrentBlockIndex(),\n      getBlocksCount: (): number => this.getBlocksCount(),\n      stretchBlock: (index: number, status = true): void => this.stretchBlock(index, status),\n      insertNewBlock: (): void => this.insertNewBlock(),\n      insert: this.insert,\n    };\n  }\n\n  /**\n   * Returns Blocks count\n   *\n   * @returns {number}\n   */\n  public getBlocksCount(): number {\n    return this.Editor.BlockManager.blocks.length;\n  }\n\n  /**\n   * Returns current block index\n   *\n   * @returns {number}\n   */\n  public getCurrentBlockIndex(): number {\n    return this.Editor.BlockManager.currentBlockIndex;\n  }\n\n  /**\n   * Returns BlockAPI object by Block index\n   *\n   * @param {number} index - index to get\n   */\n  public getBlockByIndex(index: number): BlockAPIInterface | void {\n    const block = this.Editor.BlockManager.getBlockByIndex(index);\n\n    if (block === undefined) {\n      _.logLabeled('There is no block at index `' + index + '`', 'warn');\n\n      return;\n    }\n\n    return new BlockAPI(block);\n  }\n\n  /**\n   * Call Block Manager method that swap Blocks\n   *\n   * @param {number} fromIndex - position of first Block\n   * @param {number} toIndex - position of second Block\n   * @deprecated — use 'move' instead\n   */\n  public swap(fromIndex: number, toIndex: number): void {\n    _.log(\n      '`blocks.swap()` method is deprecated and will be removed in the next major release. ' +\n      'Use `block.move()` method instead',\n      'info'\n    );\n\n    this.Editor.BlockManager.swap(fromIndex, toIndex);\n\n    /**\n     * Move toolbar\n     * DO not close the settings\n     */\n    this.Editor.Toolbar.move(false);\n  }\n\n  /**\n   * Move block from one index to another\n   *\n   * @param {number} toIndex - index to move to\n   * @param {number} fromIndex - index to move from\n   */\n  public move(toIndex: number, fromIndex?: number): void {\n    this.Editor.BlockManager.move(toIndex, fromIndex);\n\n    /**\n     * Move toolbar\n     * DO not close the settings\n     */\n    this.Editor.Toolbar.move(false);\n  }\n\n  /**\n   * Deletes Block\n   *\n   * @param {number} blockIndex - index of Block to delete\n   */\n  public delete(blockIndex?: number): void {\n    try {\n      this.Editor.BlockManager.removeBlock(blockIndex);\n    } catch (e) {\n      _.logLabeled(e, 'warn');\n\n      return;\n    }\n\n    /**\n     * in case of last block deletion\n     * Insert the new default empty block\n     */\n    if (this.Editor.BlockManager.blocks.length === 0) {\n      this.Editor.BlockManager.insert();\n    }\n\n    /**\n     * After Block deletion currentBlock is updated\n     */\n    if (this.Editor.BlockManager.currentBlock) {\n      this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock, this.Editor.Caret.positions.END);\n    }\n\n    this.Editor.Toolbar.close();\n  }\n\n  /**\n   * Clear Editor's area\n   */\n  public clear(): void {\n    this.Editor.BlockManager.clear(true);\n    this.Editor.InlineToolbar.close();\n  }\n\n  /**\n   * Fills Editor with Blocks data\n   *\n   * @param {OutputData} data — Saved Editor data\n   */\n  public render(data: OutputData): Promise<void> {\n    this.Editor.BlockManager.clear();\n\n    return this.Editor.Renderer.render(data.blocks);\n  }\n\n  /**\n   * Render passed HTML string\n   *\n   * @param {string} data - HTML string to render\n   * @returns {Promise<void>}\n   */\n  public renderFromHTML(data: string): Promise<void> {\n    this.Editor.BlockManager.clear();\n\n    return this.Editor.Paste.processText(data, true);\n  }\n\n  /**\n   * Stretch Block's content\n   *\n   * @param {number} index - index of Block to stretch\n   * @param {boolean} status - true to enable, false to disable\n   *\n   * @deprecated Use BlockAPI interface to stretch Blocks\n   */\n  public stretchBlock(index: number, status = true): void {\n    _.deprecationAssert(\n      true,\n      'blocks.stretchBlock()',\n      'BlockAPI'\n    );\n\n    const block = this.Editor.BlockManager.getBlockByIndex(index);\n\n    if (!block) {\n      return;\n    }\n\n    block.stretched = status;\n  }\n\n  /**\n   * Insert new Block\n   *\n   * @param {string} type — Tool name\n   * @param {BlockToolData} data — Tool data to insert\n   * @param {ToolConfig} config — Tool config\n   * @param {number?} index — index where to insert new Block\n   * @param {boolean?} needToFocus - flag to focus inserted Block\n   */\n  public insert = (\n    type: string = this.config.defaultBlock,\n    data: BlockToolData = {},\n    config: ToolConfig = {},\n    index?: number,\n    needToFocus?: boolean\n  ): void => {\n    this.Editor.BlockManager.insert({\n      tool: type,\n      data,\n      index,\n      needToFocus,\n    });\n  }\n\n  /**\n   * Insert new Block\n   * After set caret to this Block\n   *\n   * @todo remove in 3.0.0\n   *\n   * @deprecated with insert() method\n   */\n  public insertNewBlock(): void {\n    _.log('Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. ' +\n      'Use blocks.insert() instead.', 'warn');\n    this.insert();\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e4fe8393f3294de13c591d27671101c635f83c71"});var l=t[n];return d=function(){return l},l}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=m(l),o=m(o),i=m(i),c=m(c),s=m(s),r=u(r),C=m(C),a=m(a),d();var p=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(f()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){var n;return(0,l.default)(this,t),d().f[0]++,d().s[0]++,n=e.apply(this,arguments),d().s[1]++,n.insert=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(d().b[0][0]++,n.config.defaultBlock),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(d().b[1][0]++,{}),t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:d().b[2][0]++,arguments.length>3?arguments[3]:void 0),l=arguments.length>4?arguments[4]:void 0;d().f[1]++,d().s[2]++,n.Editor.BlockManager.insert({tool:A,data:e,index:t,needToFocus:l})},n}return(0,o.default)(t,[{key:"getBlocksCount",value:function(){return d().f[14]++,d().s[15]++,this.Editor.BlockManager.blocks.length}},{key:"getCurrentBlockIndex",value:function(){return d().f[15]++,d().s[16]++,this.Editor.BlockManager.currentBlockIndex}},{key:"getBlockByIndex",value:function(n){d().f[16]++;var A=(d().s[17]++,this.Editor.BlockManager.getBlockByIndex(n));return d().s[18]++,void 0===A?(d().b[4][0]++,d().s[19]++,r.logLabeled("There is no block at index `"+n+"`","warn"),void d().s[20]++):(d().b[4][1]++,d().s[21]++,new C.default(A))}},{key:"swap",value:function(n,A){d().f[17]++,d().s[22]++,r.log("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),d().s[23]++,this.Editor.BlockManager.swap(n,A),d().s[24]++,this.Editor.Toolbar.move(!1)}},{key:"move",value:function(n,A){d().f[18]++,d().s[25]++,this.Editor.BlockManager.move(n,A),d().s[26]++,this.Editor.Toolbar.move(!1)}},{key:"delete",value:function(n){d().f[19]++,d().s[27]++;try{d().s[28]++,this.Editor.BlockManager.removeBlock(n)}catch(n){return d().s[29]++,r.logLabeled(n,"warn"),void d().s[30]++}d().s[31]++,0===this.Editor.BlockManager.blocks.length?(d().b[5][0]++,d().s[32]++,this.Editor.BlockManager.insert()):d().b[5][1]++,d().s[33]++,this.Editor.BlockManager.currentBlock?(d().b[6][0]++,d().s[34]++,this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):d().b[6][1]++,d().s[35]++,this.Editor.Toolbar.close()}},{key:"clear",value:function(){d().f[20]++,d().s[36]++,this.Editor.BlockManager.clear(!0),d().s[37]++,this.Editor.InlineToolbar.close()}},{key:"render",value:function(n){return d().f[21]++,d().s[38]++,this.Editor.BlockManager.clear(),d().s[39]++,this.Editor.Renderer.render(n.blocks)}},{key:"renderFromHTML",value:function(n){return d().f[22]++,d().s[40]++,this.Editor.BlockManager.clear(),d().s[41]++,this.Editor.Paste.processText(n,!0)}},{key:"stretchBlock",value:function(n){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(d().b[7][0]++,!0);d().f[23]++,d().s[42]++,r.deprecationAssert(!0,"blocks.stretchBlock()","BlockAPI");var e=(d().s[43]++,this.Editor.BlockManager.getBlockByIndex(n));if(d().s[44]++,!e)return d().b[8][0]++,void d().s[45]++;d().b[8][1]++,d().s[46]++,e.stretched=A}},{key:"insertNewBlock",value:function(){d().f[24]++,d().s[47]++,r.log("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),d().s[48]++,this.insert()}},{key:"methods",get:function(){var n=this;return d().f[2]++,d().s[3]++,{clear:function(){return d().f[3]++,d().s[4]++,n.clear()},render:function(A){return d().f[4]++,d().s[5]++,n.render(A)},renderFromHTML:function(A){return d().f[5]++,d().s[6]++,n.renderFromHTML(A)},delete:function(A){return d().f[6]++,d().s[7]++,n.delete(A)},swap:function(A,e){return d().f[7]++,d().s[8]++,n.swap(A,e)},move:function(A,e){return d().f[8]++,d().s[9]++,n.move(A,e)},getBlockByIndex:function(A){return d().f[9]++,d().s[10]++,n.getBlockByIndex(A)},getCurrentBlockIndex:function(){return d().f[10]++,d().s[11]++,n.getCurrentBlockIndex()},getBlocksCount:function(){return d().f[11]++,d().s[12]++,n.getBlocksCount()},stretchBlock:function(A){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(d().b[3][0]++,!0);return d().f[12]++,d().s[13]++,n.stretchBlock(A,e)},insertNewBlock:function(){return d().f[13]++,d().s[14]++,n.insertNewBlock()},insert:this.insert}}}]),t}(a.default);t.default=p,p.displayName="BlocksAPI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A],void 0===(o="function"==typeof(t=function(e){"use strict";function t(){var n="/home/hata/editor.js/src/components/block/api.ts",A=new Function("return this")(),e="__coverage__",l=A[e]||(A[e]={});l[n]&&"5dcac3d9da38dbbf51916701e4f0e9a411a82521"===l[n].hash||(l[n]={path:"/home/hata/editor.js/src/components/block/api.ts",statementMap:{0:{start:{line:9,column:21},end:{line:95,column:5}},1:{start:{line:16,column:12},end:{line:16,column:30}},2:{start:{line:24,column:12},end:{line:24,column:32}},3:{start:{line:32,column:12},end:{line:32,column:32}},4:{start:{line:40,column:12},end:{line:40,column:33}},5:{start:{line:48,column:12},end:{line:48,column:34}},6:{start:{line:56,column:12},end:{line:56,column:36}},7:{start:{line:64,column:12},end:{line:64,column:35}},8:{start:{line:75,column:12},end:{line:75,column:49}},9:{start:{line:83,column:12},end:{line:83,column:32}},10:{start:{line:93,column:12},end:{line:93,column:40}},11:{start:{line:96,column:4},end:{line:96,column:42}}},fnMap:{0:{name:"BlockAPI",decl:{start:{line:8,column:9},end:{line:8,column:17}},loc:{start:{line:8,column:25},end:{line:97,column:1}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:15,column:8},end:{line:15,column:9}},loc:{start:{line:15,column:19},end:{line:17,column:9}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:23,column:8},end:{line:23,column:9}},loc:{start:{line:23,column:21},end:{line:25,column:9}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:31,column:8},end:{line:31,column:9}},loc:{start:{line:31,column:21},end:{line:33,column:9}},line:31},4:{name:"(anonymous_4)",decl:{start:{line:39,column:8},end:{line:39,column:9}},loc:{start:{line:39,column:22},end:{line:41,column:9}},line:39},5:{name:"(anonymous_5)",decl:{start:{line:47,column:8},end:{line:47,column:9}},loc:{start:{line:47,column:23},end:{line:49,column:9}},line:47},6:{name:"(anonymous_6)",decl:{start:{line:55,column:8},end:{line:55,column:9}},loc:{start:{line:55,column:29},end:{line:57,column:9}},line:55},7:{name:"(anonymous_7)",decl:{start:{line:63,column:8},end:{line:63,column:9}},loc:{start:{line:63,column:24},end:{line:65,column:9}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:74,column:8},end:{line:74,column:9}},loc:{start:{line:74,column:32},end:{line:76,column:9}},line:74},9:{name:"(anonymous_9)",decl:{start:{line:82,column:8},end:{line:82,column:9}},loc:{start:{line:82,column:15},end:{line:84,column:9}},line:82},10:{name:"(anonymous_10)",decl:{start:{line:92,column:8},end:{line:92,column:9}},loc:{start:{line:92,column:23},end:{line:94,column:9}},line:92}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/block/api.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/block/api.ts"],names:[],mappings:"AAKA;;;;;;GAMG;AACH,SAAS,QAAQ,CACf,KAAY;IAEZ,MAAM,QAAQ,GAAsB;QAClC;;;;WAIG;QACH,IAAI,IAAI;YACN,OAAO,KAAK,CAAC,IAAI,CAAC;QACpB,CAAC;QAED;;;;WAIG;QACH,IAAI,MAAM;YACR,OAAO,KAAK,CAAC,MAAM,CAAC;QACtB,CAAC;QAED;;;;WAIG;QACH,IAAI,MAAM;YACR,OAAO,KAAK,CAAC,MAAM,CAAC;QACtB,CAAC;QAED;;;;WAIG;QACH,IAAI,OAAO;YACT,OAAO,KAAK,CAAC,OAAO,CAAC;QACvB,CAAC;QAED;;;;WAIG;QACH,IAAI,QAAQ;YACV,OAAO,KAAK,CAAC,QAAQ,CAAC;QACxB,CAAC;QAED;;;;WAIG;QACH,IAAI,SAAS,CAAC,KAAc;YAC1B,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;QAC1B,CAAC;QAED;;;;WAIG;QACH,IAAI,SAAS;YACX,OAAO,KAAK,CAAC,SAAS,CAAC;QACzB,CAAC;QAED;;;;;;;WAOG;QACH,IAAI,CAAC,UAAkB,EAAE,KAAc;YACrC,OAAO,KAAK,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QACvC,CAAC;QAED;;;;WAIG;QACH,IAAI;YACF,OAAO,KAAK,CAAC,IAAI,EAAE,CAAC;QACtB,CAAC;QAED;;;;;;WAMG;QACH,QAAQ,CAAC,IAAmB;YAC1B,OAAO,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC;KACF,CAAC;IAEF,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;AACxC,CAAC;AAED,eAAe,QAAQ,CAAC",sourcesContent:["import Block from './index';\nimport { BlockToolData, ToolConfig } from '../../../types/tools';\nimport { SavedData } from '../../../types/data-formats';\nimport { BlockAPI as BlockAPIInterface } from '../../../types/api';\n\n/**\n * Constructs new BlockAPI object\n *\n * @class\n *\n * @param {Block} block - Block to expose\n */\nfunction BlockAPI(\n  block: Block\n): void {\n  const blockAPI: BlockAPIInterface = {\n    /**\n     * Tool name\n     *\n     * @returns {string}\n     */\n    get name(): string {\n      return block.name;\n    },\n\n    /**\n     * Tool config passed on Editor's initialization\n     *\n     * @returns {ToolConfig}\n     */\n    get config(): ToolConfig {\n      return block.config;\n    },\n\n    /**\n     * .ce-block element, that wraps plugin contents\n     *\n     * @returns {HTMLElement}\n     */\n    get holder(): HTMLElement {\n      return block.holder;\n    },\n\n    /**\n     * True if Block content is empty\n     *\n     * @returns {boolean}\n     */\n    get isEmpty(): boolean {\n      return block.isEmpty;\n    },\n\n    /**\n     * True if Block is selected with Cross-Block selection\n     *\n     * @returns {boolean}\n     */\n    get selected(): boolean {\n      return block.selected;\n    },\n\n    /**\n     * Set Block's stretch state\n     *\n     * @param {boolean} state — state to set\n     */\n    set stretched(state: boolean) {\n      block.stretched = state;\n    },\n\n    /**\n     * True if Block is stretched\n     *\n     * @returns {boolean}\n     */\n    get stretched(): boolean {\n      return block.stretched;\n    },\n\n    /**\n     * Call Tool method with errors handler under-the-hood\n     *\n     * @param {string} methodName - method to call\n     * @param {object} param - object with parameters\n     *\n     * @returns {unknown}\n     */\n    call(methodName: string, param?: object): unknown {\n      return block.call(methodName, param);\n    },\n\n    /**\n     * Save Block content\n     *\n     * @returns {Promise<void|SavedData>}\n     */\n    save(): Promise<void|SavedData> {\n      return block.save();\n    },\n\n    /**\n     * Validate Block data\n     *\n     * @param {BlockToolData} data - data to validate\n     *\n     * @returns {Promise<boolean>}\n     */\n    validate(data: BlockToolData): Promise<boolean> {\n      return block.validate(data);\n    },\n  };\n\n  Object.setPrototypeOf(this, blockAPI);\n}\n\nexport default BlockAPI;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5dcac3d9da38dbbf51916701e4f0e9a411a82521"});var o=l[n];return t=function(){return o},o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t();var l=function(n){t().f[0]++;var A=(t().s[0]++,{get name(){return t().f[1]++,t().s[1]++,n.name},get config(){return t().f[2]++,t().s[2]++,n.config},get holder(){return t().f[3]++,t().s[3]++,n.holder},get isEmpty(){return t().f[4]++,t().s[4]++,n.isEmpty},get selected(){return t().f[5]++,t().s[5]++,n.selected},set stretched(A){t().f[6]++,t().s[6]++,n.stretched=A},get stretched(){return t().f[7]++,t().s[7]++,n.stretched},call:function(A,e){return t().f[8]++,t().s[8]++,n.call(A,e)},save:function(){return t().f[9]++,t().s[9]++,n.save()},validate:function(A){return t().f[10]++,t().s[10]++,n.validate(A)}});t().s[11]++,Object.setPrototypeOf(this,A)};e.default=l,n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r){"use strict";var C=e(1);function a(){var n="/home/hata/editor.js/src/components/modules/api/caret.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"2fb3676dd36f57302bc87bd46ead60256044e666"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/caret.ts",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:28}},1:{start:{line:17,column:8},end:{line:23,column:10}},2:{start:{line:18,column:12},end:{line:20,column:13}},3:{start:{line:19,column:16},end:{line:19,column:29}},4:{start:{line:21,column:12},end:{line:21,column:96}},5:{start:{line:22,column:12},end:{line:22,column:24}},6:{start:{line:32,column:8},end:{line:38,column:10}},7:{start:{line:33,column:12},end:{line:35,column:13}},8:{start:{line:34,column:16},end:{line:34,column:29}},9:{start:{line:36,column:12},end:{line:36,column:95}},10:{start:{line:37,column:12},end:{line:37,column:24}},11:{start:{line:47,column:8},end:{line:53,column:10}},12:{start:{line:48,column:12},end:{line:50,column:13}},13:{start:{line:49,column:16},end:{line:49,column:29}},14:{start:{line:51,column:12},end:{line:51,column:99}},15:{start:{line:52,column:12},end:{line:52,column:24}},16:{start:{line:62,column:8},end:{line:68,column:10}},17:{start:{line:63,column:12},end:{line:65,column:13}},18:{start:{line:64,column:16},end:{line:64,column:29}},19:{start:{line:66,column:12},end:{line:66,column:95}},20:{start:{line:67,column:12},end:{line:67,column:24}},21:{start:{line:78,column:8},end:{line:84,column:10}},22:{start:{line:79,column:12},end:{line:81,column:13}},23:{start:{line:80,column:16},end:{line:80,column:29}},24:{start:{line:82,column:12},end:{line:82,column:99}},25:{start:{line:83,column:12},end:{line:83,column:24}},26:{start:{line:92,column:8},end:{line:97,column:10}},27:{start:{line:93,column:12},end:{line:95,column:13}},28:{start:{line:94,column:16},end:{line:94,column:76}},29:{start:{line:96,column:12},end:{line:96,column:75}},30:{start:{line:105,column:8},end:{line:112,column:10}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:18},end:{line:98,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:17,column:31},end:{line:17,column:32}},loc:{start:{line:17,column:95},end:{line:23,column:9}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:32,column:30},end:{line:32,column:31}},loc:{start:{line:32,column:94},end:{line:38,column:9}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:47,column:34},end:{line:47,column:35}},loc:{start:{line:47,column:98},end:{line:53,column:9}},line:47},4:{name:"(anonymous_4)",decl:{start:{line:62,column:30},end:{line:62,column:31}},loc:{start:{line:62,column:94},end:{line:68,column:9}},line:62},5:{name:"(anonymous_5)",decl:{start:{line:78,column:26},end:{line:78,column:27}},loc:{start:{line:78,column:97},end:{line:84,column:9}},line:78},6:{name:"(anonymous_6)",decl:{start:{line:92,column:21},end:{line:92,column:22}},loc:{start:{line:92,column:40},end:{line:97,column:9}},line:92},7:{name:"(anonymous_7)",decl:{start:{line:104,column:4},end:{line:104,column:5}},loc:{start:{line:104,column:18},end:{line:113,column:5}},line:104}},branchMap:{0:{loc:{start:{line:17,column:32},end:{line:17,column:78}},type:"default-arg",locations:[{start:{line:17,column:43},end:{line:17,column:78}}],line:17},1:{loc:{start:{line:17,column:80},end:{line:17,column:90}},type:"default-arg",locations:[{start:{line:17,column:89},end:{line:17,column:90}}],line:17},2:{loc:{start:{line:18,column:12},end:{line:20,column:13}},type:"if",locations:[{start:{line:18,column:12},end:{line:20,column:13}},{start:{line:18,column:12},end:{line:20,column:13}}],line:18},3:{loc:{start:{line:32,column:31},end:{line:32,column:77}},type:"default-arg",locations:[{start:{line:32,column:42},end:{line:32,column:77}}],line:32},4:{loc:{start:{line:32,column:79},end:{line:32,column:89}},type:"default-arg",locations:[{start:{line:32,column:88},end:{line:32,column:89}}],line:32},5:{loc:{start:{line:33,column:12},end:{line:35,column:13}},type:"if",locations:[{start:{line:33,column:12},end:{line:35,column:13}},{start:{line:33,column:12},end:{line:35,column:13}}],line:33},6:{loc:{start:{line:47,column:35},end:{line:47,column:81}},type:"default-arg",locations:[{start:{line:47,column:46},end:{line:47,column:81}}],line:47},7:{loc:{start:{line:47,column:83},end:{line:47,column:93}},type:"default-arg",locations:[{start:{line:47,column:92},end:{line:47,column:93}}],line:47},8:{loc:{start:{line:48,column:12},end:{line:50,column:13}},type:"if",locations:[{start:{line:48,column:12},end:{line:50,column:13}},{start:{line:48,column:12},end:{line:50,column:13}}],line:48},9:{loc:{start:{line:62,column:31},end:{line:62,column:77}},type:"default-arg",locations:[{start:{line:62,column:42},end:{line:62,column:77}}],line:62},10:{loc:{start:{line:62,column:79},end:{line:62,column:89}},type:"default-arg",locations:[{start:{line:62,column:88},end:{line:62,column:89}}],line:62},11:{loc:{start:{line:63,column:12},end:{line:65,column:13}},type:"if",locations:[{start:{line:63,column:12},end:{line:65,column:13}},{start:{line:63,column:12},end:{line:65,column:13}}],line:63},12:{loc:{start:{line:78,column:34},end:{line:78,column:80}},type:"default-arg",locations:[{start:{line:78,column:45},end:{line:78,column:80}}],line:78},13:{loc:{start:{line:78,column:82},end:{line:78,column:92}},type:"default-arg",locations:[{start:{line:78,column:91},end:{line:78,column:92}}],line:78},14:{loc:{start:{line:79,column:12},end:{line:81,column:13}},type:"if",locations:[{start:{line:79,column:12},end:{line:81,column:13}},{start:{line:79,column:12},end:{line:81,column:13}}],line:79},15:{loc:{start:{line:92,column:22},end:{line:92,column:35}},type:"default-arg",locations:[{start:{line:92,column:30},end:{line:92,column:35}}],line:92},16:{loc:{start:{line:93,column:12},end:{line:95,column:13}},type:"if",locations:[{start:{line:93,column:12},end:{line:95,column:13}},{start:{line:93,column:12},end:{line:95,column:13}}],line:93}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0],1:[0],2:[0,0],3:[0],4:[0],5:[0,0],6:[0],7:[0],8:[0,0],9:[0],10:[0],11:[0,0],12:[0],13:[0],14:[0,0],15:[0],16:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/caret.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/caret.ts"],names:[],mappings:"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",sourcesContent:["import { Caret } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n * @class CaretAPI\n * provides with methods to work with caret\n */\nexport default class CaretAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Caret}\n   */\n  public get methods(): Caret {\n    return {\n      setToFirstBlock: this.setToFirstBlock,\n      setToLastBlock: this.setToLastBlock,\n      setToPreviousBlock: this.setToPreviousBlock,\n      setToNextBlock: this.setToNextBlock,\n      setToBlock: this.setToBlock,\n      focus: this.focus,\n    };\n  }\n\n  /**\n   * Sets caret to the first Block\n   *\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   *\n   * @returns {boolean}\n   */\n  private setToFirstBlock = (position: string = this.Editor.Caret.positions.DEFAULT, offset = 0): boolean => {\n    if (!this.Editor.BlockManager.firstBlock) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock, position, offset);\n\n    return true;\n  }\n\n  /**\n   * Sets caret to the last Block\n   *\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   *\n   * @returns {boolean}\n   */\n  private setToLastBlock = (position: string = this.Editor.Caret.positions.DEFAULT, offset = 0): boolean => {\n    if (!this.Editor.BlockManager.lastBlock) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock, position, offset);\n\n    return true;\n  }\n\n  /**\n   * Sets caret to the previous Block\n   *\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   *\n   * @returns {boolean}\n   */\n  private setToPreviousBlock = (\n    position: string = this.Editor.Caret.positions.DEFAULT,\n    offset = 0\n  ): boolean => {\n    if (!this.Editor.BlockManager.previousBlock) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock, position, offset);\n\n    return true;\n  }\n\n  /**\n   * Sets caret to the next Block\n   *\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   *\n   * @returns {boolean}\n   */\n  private setToNextBlock = (position: string = this.Editor.Caret.positions.DEFAULT, offset = 0): boolean => {\n    if (!this.Editor.BlockManager.nextBlock) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock, position, offset);\n\n    return true;\n  }\n\n  /**\n   * Sets caret to the Block by passed index\n   *\n   * @param {number} index - index of Block where to set caret\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   *\n   * @returns {boolean}\n   */\n  private setToBlock = (\n    index: number,\n    position: string = this.Editor.Caret.positions.DEFAULT,\n    offset = 0\n  ): boolean => {\n    if (!this.Editor.BlockManager.blocks[index]) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[index], position, offset);\n\n    return true;\n  }\n\n  /**\n   * Sets caret to the Editor\n   *\n   * @param {boolean} atEnd - if true, set Caret to the end of the Editor\n   *\n   * @returns {boolean}\n   */\n  private focus = (atEnd = false): boolean => {\n    if (atEnd) {\n      return this.setToLastBlock(this.Editor.Caret.positions.END);\n    }\n\n    return this.setToFirstBlock(this.Editor.Caret.positions.START);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2fb3676dd36f57302bc87bd46ead60256044e666"});var l=t[n];return a=function(){return l},l}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=C(i),c=C(c),s=C(s),r=C(r),a();var m=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(u()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){var n;return(0,l.default)(this,t),a().f[0]++,a().s[0]++,n=e.apply(this,arguments),a().s[1]++,n.setToFirstBlock=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(a().b[0][0]++,n.Editor.Caret.positions.DEFAULT),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(a().b[1][0]++,0);return a().f[1]++,a().s[2]++,n.Editor.BlockManager.firstBlock?(a().b[2][1]++,a().s[4]++,n.Editor.Caret.setToBlock(n.Editor.BlockManager.firstBlock,A,e),a().s[5]++,!0):(a().b[2][0]++,a().s[3]++,!1)},a().s[6]++,n.setToLastBlock=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(a().b[3][0]++,n.Editor.Caret.positions.DEFAULT),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(a().b[4][0]++,0);return a().f[2]++,a().s[7]++,n.Editor.BlockManager.lastBlock?(a().b[5][1]++,a().s[9]++,n.Editor.Caret.setToBlock(n.Editor.BlockManager.lastBlock,A,e),a().s[10]++,!0):(a().b[5][0]++,a().s[8]++,!1)},a().s[11]++,n.setToPreviousBlock=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(a().b[6][0]++,n.Editor.Caret.positions.DEFAULT),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(a().b[7][0]++,0);return a().f[3]++,a().s[12]++,n.Editor.BlockManager.previousBlock?(a().b[8][1]++,a().s[14]++,n.Editor.Caret.setToBlock(n.Editor.BlockManager.previousBlock,A,e),a().s[15]++,!0):(a().b[8][0]++,a().s[13]++,!1)},a().s[16]++,n.setToNextBlock=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(a().b[9][0]++,n.Editor.Caret.positions.DEFAULT),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(a().b[10][0]++,0);return a().f[4]++,a().s[17]++,n.Editor.BlockManager.nextBlock?(a().b[11][1]++,a().s[19]++,n.Editor.Caret.setToBlock(n.Editor.BlockManager.nextBlock,A,e),a().s[20]++,!0):(a().b[11][0]++,a().s[18]++,!1)},a().s[21]++,n.setToBlock=function(A){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(a().b[12][0]++,n.Editor.Caret.positions.DEFAULT),t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(a().b[13][0]++,0);return a().f[5]++,a().s[22]++,n.Editor.BlockManager.blocks[A]?(a().b[14][1]++,a().s[24]++,n.Editor.Caret.setToBlock(n.Editor.BlockManager.blocks[A],e,t),a().s[25]++,!0):(a().b[14][0]++,a().s[23]++,!1)},a().s[26]++,n.focus=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(a().b[15][0]++,!1);return a().f[6]++,a().s[27]++,A?(a().b[16][0]++,a().s[28]++,n.setToLastBlock(n.Editor.Caret.positions.END)):(a().b[16][1]++,a().s[29]++,n.setToFirstBlock(n.Editor.Caret.positions.START))},n}return(0,o.default)(t,[{key:"methods",get:function(){return a().f[7]++,a().s[30]++,{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}]),t}(r.default);t.default=m,m.displayName="CaretAPI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r){"use strict";var C=e(1);function a(){var n="/home/hata/editor.js/src/components/modules/api/events.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"1652659aaf1090319c84298a65c932cdceafe3c0"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/events.ts",statementMap:{0:{start:{line:13,column:8},end:{line:17,column:10}},1:{start:{line:14,column:39},end:{line:14,column:65}},2:{start:{line:15,column:42},end:{line:15,column:71}},3:{start:{line:16,column:41},end:{line:16,column:69}},4:{start:{line:26,column:8},end:{line:26,column:51}},5:{start:{line:35,column:8},end:{line:35,column:49}},6:{start:{line:44,column:8},end:{line:44,column:52}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:18},end:{line:18,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:14,column:18},end:{line:14,column:19}},loc:{start:{line:14,column:39},end:{line:14,column:65}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:15,column:17},end:{line:15,column:18}},loc:{start:{line:15,column:42},end:{line:15,column:71}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:16,column:16},end:{line:16,column:17}},loc:{start:{line:16,column:41},end:{line:16,column:69}},line:16},4:{name:"(anonymous_4)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:28},end:{line:27,column:5}},line:25},5:{name:"(anonymous_5)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:26},end:{line:36,column:5}},line:34},6:{name:"(anonymous_6)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:29},end:{line:45,column:5}},line:43}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/events.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/events.ts"],names:[],mappings:"AACA,OAAO,MAAM,MAAM,gBAAgB,CAAC;AAEpC;;;GAGG;AACH,MAAM,CAAC,OAAO,OAAO,SAAU,SAAQ,MAAM;IAC3C;;;;OAIG;IACH,IAAW,OAAO;QAChB,OAAO;YACL,IAAI,EAAE,CAAC,SAAiB,EAAE,IAAY,EAAQ,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC;YAC3E,GAAG,EAAE,CAAC,SAAiB,EAAE,QAAoB,EAAQ,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,QAAQ,CAAC;YACrF,EAAE,EAAE,CAAC,SAAiB,EAAE,QAAoB,EAAQ,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE,QAAQ,CAAC;SACpF,CAAC;IACJ,CAAC;IAED;;;;;OAKG;IACI,EAAE,CAAC,SAAS,EAAE,QAAQ;QAC3B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;IAC7C,CAAC;IAED;;;;;OAKG;IACI,IAAI,CAAC,SAAS,EAAE,IAAI;QACzB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC3C,CAAC;IAED;;;;;OAKG;IACI,GAAG,CAAC,SAAS,EAAE,QAAQ;QAC5B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;IAC9C,CAAC;CACF",sourcesContent:["import { Events } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n * @class EventsAPI\n * provides with methods working with Toolbar\n */\nexport default class EventsAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Events}\n   */\n  public get methods(): Events {\n    return {\n      emit: (eventName: string, data: object): void => this.emit(eventName, data),\n      off: (eventName: string, callback: () => void): void => this.off(eventName, callback),\n      on: (eventName: string, callback: () => void): void => this.on(eventName, callback),\n    };\n  }\n\n  /**\n   * Subscribe on Events\n   *\n   * @param {string} eventName - event name to subscribe\n   * @param {Function} callback - event handler\n   */\n  public on(eventName, callback): void {\n    this.Editor.Events.on(eventName, callback);\n  }\n\n  /**\n   * Emit event with data\n   *\n   * @param {string} eventName - event to emit\n   * @param {object} data - event's data\n   */\n  public emit(eventName, data): void {\n    this.Editor.Events.emit(eventName, data);\n  }\n\n  /**\n   * Unsubscribe from Event\n   *\n   * @param {string} eventName - event to unsubscribe\n   * @param {Function} callback - event handler\n   */\n  public off(eventName, callback): void {\n    this.Editor.Events.off(eventName, callback);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1652659aaf1090319c84298a65c932cdceafe3c0"});var l=t[n];return a=function(){return l},l}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=C(i),c=C(c),s=C(s),r=C(r),a();var m=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(u()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"on",value:function(n,A){a().f[4]++,a().s[4]++,this.Editor.Events.on(n,A)}},{key:"emit",value:function(n,A){a().f[5]++,a().s[5]++,this.Editor.Events.emit(n,A)}},{key:"off",value:function(n,A){a().f[6]++,a().s[6]++,this.Editor.Events.off(n,A)}},{key:"methods",get:function(){var n=this;return a().f[0]++,a().s[0]++,{emit:function(A,e){return a().f[1]++,a().s[1]++,n.emit(A,e)},off:function(A,e){return a().f[2]++,a().s[2]++,n.off(A,e)},on:function(A,e){return a().f[3]++,a().s[3]++,n.on(A,e)}}}}]),t}(r.default);t.default=m,m.displayName="EventsAPI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(59),e(67),e(8),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u){"use strict";var m=e(1);function d(){var n="/home/hata/editor.js/src/components/modules/api/i18n.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"c2d436003ba6d7daa75d6c18d18c331e4b12b06b"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/i18n.ts",statementMap:{0:{start:{line:16,column:8},end:{line:22,column:9}},1:{start:{line:19,column:16},end:{line:19,column:43}},2:{start:{line:21,column:16},end:{line:21,column:48}},3:{start:{line:28,column:8},end:{line:33,column:10}},4:{start:{line:30,column:16},end:{line:30,column:86}},5:{start:{line:31,column:16},end:{line:31,column:33}},6:{start:{line:42,column:8},end:{line:46,column:11}},7:{start:{line:44,column:16},end:{line:44,column:89}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:44},end:{line:23,column:5}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:18},end:{line:34,column:5}},line:27},2:{name:"(anonymous_2)",decl:{start:{line:29,column:15},end:{line:29,column:16}},loc:{start:{line:29,column:21},end:{line:32,column:13}},line:29},3:{name:"(anonymous_3)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:42},end:{line:47,column:5}},line:41},4:{name:"(anonymous_4)",decl:{start:{line:43,column:15},end:{line:43,column:16}},loc:{start:{line:43,column:28},end:{line:45,column:13}},line:43}},branchMap:{0:{loc:{start:{line:16,column:8},end:{line:22,column:9}},type:"switch",locations:[{start:{line:17,column:12},end:{line:17,column:32}},{start:{line:18,column:12},end:{line:19,column:43}},{start:{line:20,column:12},end:{line:21,column:48}}],line:16}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/i18n.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/i18n.ts"],names:[],mappings:"AACA,OAAO,YAAY,MAAM,YAAY,CAAC;AACtC,OAAO,EAAE,QAAQ,EAAE,MAAM,UAAU,CAAC;AACpC,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,MAAM,MAAM,gBAAgB,CAAC;AAEpC;;GAEG;AACH,MAAM,CAAC,OAAO,OAAO,OAAQ,SAAQ,MAAM;IACzC;;;;;OAKG;IACK,MAAM,CAAC,YAAY,CAAC,QAAgB,EAAE,QAAkB;QAC9D,QAAQ,QAAQ,EAAE;YAChB,KAAK,QAAQ,CAAC,KAAK,CAAC;YACpB,KAAK,QAAQ,CAAC,MAAM;gBAClB,OAAO,SAAS,QAAQ,EAAE,CAAC;YAC7B,KAAK,QAAQ,CAAC,IAAI;gBAChB,OAAO,cAAc,QAAQ,EAAE,CAAC;SACnC;IACH,CAAC;IAED;;OAEG;IACH,IAAW,OAAO;QAChB,OAAO;YACL,CAAC,EAAE,GAAuB,EAAE;gBAC1B,UAAU,CAAC,iDAAiD,EAAE,MAAM,CAAC,CAAC;gBAEtE,OAAO,SAAS,CAAC;YACnB,CAAC;SACF,CAAC;IACJ,CAAC;IAED;;;;;OAKG;IACI,iBAAiB,CAAC,QAAgB,EAAE,QAAkB;QAC3D,OAAO,MAAM,CAAC,MAAM,CAClB,IAAI,CAAC,OAAO,EACZ;YACE,CAAC,EAAE,CAAC,OAAe,EAAU,EAAE;gBAC7B,OAAO,YAAY,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAE,OAAO,CAAC,CAAC;YAC3E,CAAC;SACF,CAAC,CAAC;IACP,CAAC;CACF",sourcesContent:["import { I18n } from '../../../../types/api';\nimport I18nInternal from '../../i18n';\nimport { ToolType } from '../tools';\nimport { logLabeled } from '../../utils';\nimport Module from '../../__module';\n\n/**\n * Provides methods for working with i18n\n */\nexport default class I18nAPI extends Module {\n  /**\n   * Return namespace section for tool or block tune\n   *\n   * @param toolName - name of tool. Used to provide dictionary only for this tool\n   * @param toolType - 'block' for Block Tool, 'inline' for Inline Tool, 'tune' for Block Tunes\n   */\n  private static getNamespace(toolName: string, toolType: ToolType): string {\n    switch (toolType) {\n      case ToolType.Block:\n      case ToolType.Inline:\n        return `tools.${toolName}`;\n      case ToolType.Tune:\n        return `blockTunes.${toolName}`;\n    }\n  }\n\n  /**\n   * Return I18n API methods with global dictionary access\n   */\n  public get methods(): I18n {\n    return {\n      t: (): string | undefined => {\n        logLabeled('I18n.t() method can be accessed only from Tools', 'warn');\n\n        return undefined;\n      },\n    };\n  }\n\n  /**\n   * Return I18n API methods with tool namespaced dictionary\n   *\n   * @param toolName - name of tool. Used to provide dictionary only for this tool\n   * @param toolType - 'block' for Block Tool, 'inline' for Inline Tool, 'tune' for Block Tunes\n   */\n  public getMethodsForTool(toolName: string, toolType: ToolType): I18n {\n    return Object.assign(\n      this.methods,\n      {\n        t: (dictKey: string): string => {\n          return I18nInternal.t(I18nAPI.getNamespace(toolName, toolType), dictKey);\n        },\n      });\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c2d436003ba6d7daa75d6c18d18c331e4b12b06b"});var l=t[n];return d=function(){return l},l}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=m(l),o=m(o),i=m(i),c=m(c),s=m(s),r=m(r),u=m(u),d();var p=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(f()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"getMethodsForTool",value:function(n,A){return d().f[3]++,d().s[6]++,Object.assign(this.methods,{t:function(e){return d().f[4]++,d().s[7]++,r.default.t(t.getNamespace(n,A),e)}})}},{key:"methods",get:function(){return d().f[1]++,d().s[3]++,{t:function(){d().f[2]++,d().s[4]++,(0,a.logLabeled)("I18n.t() method can be accessed only from Tools","warn"),d().s[5]++}}}}],[{key:"getNamespace",value:function(n,A){switch(d().f[0]++,d().s[0]++,A){case C.ToolType.Block:d().b[0][0]++;case C.ToolType.Inline:return d().b[0][1]++,d().s[1]++,"tools.".concat(n);case C.ToolType.Tune:return d().b[0][2]++,d().s[2]++,"blockTunes.".concat(n)}}}]),t}(u.default);t.default=p,p.displayName="I18nAPI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r){"use strict";var C=e(1);function a(){var n="/home/hata/editor.js/src/components/modules/api/inlineToolbar.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"02b553906a66580eb7ae195885cfa1f7498548c3"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/inlineToolbar.ts",statementMap:{0:{start:{line:13,column:8},end:{line:16,column:10}},1:{start:{line:14,column:25},end:{line:14,column:37}},2:{start:{line:15,column:24},end:{line:15,column:35}},3:{start:{line:22,column:8},end:{line:22,column:46}},4:{start:{line:28,column:8},end:{line:28,column:42}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:18},end:{line:17,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:14,column:19},end:{line:14,column:20}},loc:{start:{line:14,column:25},end:{line:14,column:37}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:15,column:18},end:{line:15,column:19}},loc:{start:{line:15,column:24},end:{line:15,column:35}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:11},end:{line:23,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:12},end:{line:29,column:5}},line:27}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/inlineToolbar.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/inlineToolbar.ts"],names:[],mappings:"AACA,OAAO,MAAM,MAAM,gBAAgB,CAAC;AAEpC;;;GAGG;AACH,MAAM,CAAC,OAAO,OAAO,gBAAiB,SAAQ,MAAM;IAClD;;;;OAIG;IACH,IAAW,OAAO;QAChB,OAAO;YACL,KAAK,EAAE,GAAS,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE;YAC/B,IAAI,EAAE,GAAS,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE;SAC9B,CAAC;IACJ,CAAC;IAED;;OAEG;IACI,IAAI;QACT,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,SAAS,EAAE,CAAC;IACxC,CAAC;IAED;;OAEG;IACI,KAAK;QACV,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;IACpC,CAAC;CACF",sourcesContent:["import { InlineToolbar } from '../../../../types/api/inline-toolbar';\nimport Module from '../../__module';\n\n/**\n * @class InlineToolbarAPI\n * Provides methods for working with the Inline Toolbar\n */\nexport default class InlineToolbarAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {InlineToolbar}\n   */\n  public get methods(): InlineToolbar {\n    return {\n      close: (): void => this.close(),\n      open: (): void => this.open(),\n    };\n  }\n\n  /**\n   * Open Inline Toolbar\n   */\n  public open(): void {\n    this.Editor.InlineToolbar.tryToShow();\n  }\n\n  /**\n   * Close Inline Toolbar\n   */\n  public close(): void {\n    this.Editor.InlineToolbar.close();\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"02b553906a66580eb7ae195885cfa1f7498548c3"});var l=t[n];return a=function(){return l},l}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=C(i),c=C(c),s=C(s),r=C(r),a();var m=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(u()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"open",value:function(){a().f[3]++,a().s[3]++,this.Editor.InlineToolbar.tryToShow()}},{key:"close",value:function(){a().f[4]++,a().s[4]++,this.Editor.InlineToolbar.close()}},{key:"methods",get:function(){var n=this;return a().f[0]++,a().s[0]++,{close:function(){return a().f[1]++,a().s[1]++,n.close()},open:function(){return a().f[2]++,a().s[2]++,n.open()}}}}]),t}(r.default);t.default=m,m.displayName="InlineToolbarAPI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r){"use strict";var C=e(1);function a(){var n="/home/hata/editor.js/src/components/modules/api/listeners.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"17dbc46367caf0d94dc9d45f47b38c569600f2bf"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/listeners.ts",statementMap:{0:{start:{line:13,column:8},end:{line:16,column:10}},1:{start:{line:14,column:61},end:{line:14,column:109}},2:{start:{line:15,column:62},end:{line:15,column:111}},3:{start:{line:27,column:8},end:{line:27,column:74}},4:{start:{line:38,column:8},end:{line:38,column:75}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:18},end:{line:17,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:14,column:16},end:{line:14,column:17}},loc:{start:{line:14,column:61},end:{line:14,column:109}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:15,column:17},end:{line:15,column:18}},loc:{start:{line:15,column:62},end:{line:15,column:111}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:48},end:{line:28,column:5}},line:26},4:{name:"(anonymous_4)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:49},end:{line:39,column:5}},line:37}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/listeners.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/listeners.ts"],names:[],mappings:"AACA,OAAO,MAAM,MAAM,gBAAgB,CAAC;AAEpC;;;GAGG;AACH,MAAM,CAAC,OAAO,OAAO,YAAa,SAAQ,MAAM;IAC9C;;;;OAIG;IACH,IAAW,OAAO;QAChB,OAAO;YACL,EAAE,EAAE,CAAC,OAAoB,EAAE,SAAS,EAAE,OAAO,EAAE,UAAU,EAAQ,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,UAAU,CAAC;YACpH,GAAG,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,UAAU,EAAQ,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,UAAU,CAAC;SAC1G,CAAC;IACJ,CAAC;IAED;;;;;;;OAOG;IACI,EAAE,CAAC,OAAoB,EAAE,SAAiB,EAAE,OAAmB,EAAE,UAAoB;QAC1F,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;IACpE,CAAC;IAED;;;;;;;OAOG;IACI,GAAG,CAAC,OAAgB,EAAE,SAAiB,EAAE,OAAmB,EAAE,UAAoB;QACvF,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;IACrE,CAAC;CACF",sourcesContent:["import { Listeners } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n * @class ListenersAPI\n * Provides with methods working with DOM Listener\n */\nexport default class ListenersAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Listeners}\n   */\n  public get methods(): Listeners {\n    return {\n      on: (element: HTMLElement, eventType, handler, useCapture): void => this.on(element, eventType, handler, useCapture),\n      off: (element, eventType, handler, useCapture): void => this.off(element, eventType, handler, useCapture),\n    };\n  }\n\n  /**\n   * adds DOM event listener\n   *\n   * @param {HTMLElement} element - Element to set handler to\n   * @param {string} eventType - event type\n   * @param {() => void} handler - event handler\n   * @param {boolean} useCapture - capture event or not\n   */\n  public on(element: HTMLElement, eventType: string, handler: () => void, useCapture?: boolean): void {\n    this.Editor.Listeners.on(element, eventType, handler, useCapture);\n  }\n\n  /**\n   * Removes DOM listener from element\n   *\n   * @param {Element} element - Element to remove handler from\n   * @param eventType - event type\n   * @param handler - event handler\n   * @param {boolean} useCapture - capture event or not\n   */\n  public off(element: Element, eventType: string, handler: () => void, useCapture?: boolean): void {\n    this.Editor.Listeners.off(element, eventType, handler, useCapture);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"17dbc46367caf0d94dc9d45f47b38c569600f2bf"});var l=t[n];return a=function(){return l},l}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=C(i),c=C(c),s=C(s),r=C(r),a();var m=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(u()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"on",value:function(n,A,e,t){a().f[3]++,a().s[3]++,this.Editor.Listeners.on(n,A,e,t)}},{key:"off",value:function(n,A,e,t){a().f[4]++,a().s[4]++,this.Editor.Listeners.off(n,A,e,t)}},{key:"methods",get:function(){var n=this;return a().f[0]++,a().s[0]++,{on:function(A,e,t,l){return a().f[1]++,a().s[1]++,n.on(A,e,t,l)},off:function(A,e,t,l){return a().f[2]++,a().s[2]++,n.off(A,e,t,l)}}}}]),t}(r.default);t.default=m,m.displayName="ListenersAPI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r){"use strict";var C=e(1);function a(){var n="/home/hata/editor.js/src/components/modules/api/notifier.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"017f3ae9686bd58374efe0a052085d49b4449a44"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/notifier.ts",statementMap:{0:{start:{line:10,column:8},end:{line:12,column:10}},1:{start:{line:11,column:31},end:{line:11,column:49}},2:{start:{line:20,column:8},end:{line:20,column:50}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:18},end:{line:13,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:11,column:18},end:{line:11,column:19}},loc:{start:{line:11,column:31},end:{line:11,column:49}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:18},end:{line:21,column:5}},line:19}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/notifier.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/notifier.ts"],names:[],mappings:"AAEA,OAAO,MAAM,MAAM,gBAAgB,CAAC;AAEpC;;GAEG;AACH,MAAM,CAAC,OAAO,OAAO,WAAY,SAAQ,MAAM;IAC7C;;OAEG;IACH,IAAW,OAAO;QAChB,OAAO;YACL,IAAI,EAAE,CAAC,OAAyE,EAAQ,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;SAC9G,CAAC;IACJ,CAAC;IAED;;;;OAIG;IACI,IAAI,CAAC,OAAyE;QACnF,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC5C,CAAC;CACF",sourcesContent:["import { Notifier } from '../../../../types/api';\nimport { ConfirmNotifierOptions, NotifierOptions, PromptNotifierOptions } from 'codex-notifier';\nimport Module from '../../__module';\n\n/**\n *\n */\nexport default class NotifierAPI extends Module {\n  /**\n   * Available methods\n   */\n  public get methods(): Notifier {\n    return {\n      show: (options: NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions): void => this.show(options),\n    };\n  }\n\n  /**\n   * Show notification\n   *\n   * @param {NotifierOptions} options - message option\n   */\n  public show(options: NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions): void {\n    return this.Editor.Notifier.show(options);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"017f3ae9686bd58374efe0a052085d49b4449a44"});var l=t[n];return a=function(){return l},l}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=C(i),c=C(c),s=C(s),r=C(r),a();var m=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(u()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"show",value:function(n){return a().f[2]++,a().s[2]++,this.Editor.Notifier.show(n)}},{key:"methods",get:function(){var n=this;return a().f[0]++,a().s[0]++,{show:function(A){return a().f[1]++,a().s[1]++,n.show(A)}}}}]),t}(r.default);t.default=m,m.displayName="NotifierAPI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r){"use strict";var C=e(1);function a(){var n="/home/hata/editor.js/src/components/modules/api/readonly.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"d48aa4b4ef0586f284d6eaab5fcee239eab4d17e"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/readonly.ts",statementMap:{0:{start:{line:11,column:8},end:{line:13,column:10}},1:{start:{line:12,column:31},end:{line:12,column:49}},2:{start:{line:23,column:8},end:{line:23,column:50}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:18},end:{line:14,column:5}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:12,column:20},end:{line:12,column:21}},loc:{start:{line:12,column:31},end:{line:12,column:49}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:18},end:{line:24,column:5}},line:22}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/readonly.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/readonly.ts"],names:[],mappings:"AACA,OAAO,MAAM,MAAM,gBAAgB,CAAC;AAEpC;;;GAGG;AACH,MAAM,CAAC,OAAO,OAAO,WAAY,SAAQ,MAAM;IAC7C;;OAEG;IACH,IAAW,OAAO;QAChB,OAAO;YACL,MAAM,EAAE,CAAC,KAAK,EAAoB,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;SACxD,CAAC;IACJ,CAAC;IAED;;;;;;OAMG;IACI,MAAM,CAAC,KAAe;QAC3B,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC5C,CAAC;CACF",sourcesContent:["import { ReadOnly } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n * @class ReadOnlyAPI\n * @classdesc ReadOnly API\n */\nexport default class ReadOnlyAPI extends Module {\n  /**\n   * Available methods\n   */\n  public get methods(): ReadOnly {\n    return {\n      toggle: (state): Promise<boolean> => this.toggle(state),\n    };\n  }\n\n  /**\n   * Set or toggle read-only state\n   *\n   * @param {boolean|undefined} state - set or toggle state\n   *\n   * @returns {boolean} current value\n   */\n  public toggle(state?: boolean): Promise<boolean> {\n    return this.Editor.ReadOnly.toggle(state);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d48aa4b4ef0586f284d6eaab5fcee239eab4d17e"});var l=t[n];return a=function(){return l},l}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=C(i),c=C(c),s=C(s),r=C(r),a();var m=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(u()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"toggle",value:function(n){return a().f[2]++,a().s[2]++,this.Editor.ReadOnly.toggle(n)}},{key:"methods",get:function(){var n=this;return a().f[0]++,a().s[0]++,{toggle:function(A){return a().f[1]++,a().s[1]++,n.toggle(A)}}}}]),t}(r.default);t.default=m,m.displayName="ReadOnlyAPI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r){"use strict";var C=e(1);function a(){var n="/home/hata/editor.js/src/components/modules/api/sanitizer.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"d0ad84859d015c23e02050a98fa6aceadea51ce0"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/sanitizer.ts",statementMap:{0:{start:{line:13,column:8},end:{line:15,column:10}},1:{start:{line:14,column:44},end:{line:14,column:75}},2:{start:{line:26,column:8},end:{line:26,column:64}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:18},end:{line:16,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:14,column:19},end:{line:14,column:20}},loc:{start:{line:14,column:44},end:{line:14,column:75}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:31},end:{line:27,column:5}},line:25}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/sanitizer.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/sanitizer.ts"],names:[],mappings:"AAEA,OAAO,MAAM,MAAM,gBAAgB,CAAC;AAEpC;;;GAGG;AACH,MAAM,CAAC,OAAO,OAAO,YAAa,SAAQ,MAAM;IAC9C;;;;OAIG;IACH,IAAW,OAAO;QAChB,OAAO;YACL,KAAK,EAAE,CAAC,WAAW,EAAE,MAAM,EAAU,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,MAAM,CAAC;SACxE,CAAC;IACJ,CAAC;IAED;;;;;;;OAOG;IACI,KAAK,CAAC,WAAmB,EAAE,MAAuB;QACvD,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;IAC1D,CAAC;CACF",sourcesContent:["import { Sanitizer } from '../../../../types/api';\nimport { SanitizerConfig } from '../../../../types/configs';\nimport Module from '../../__module';\n\n/**\n * @class SanitizerAPI\n * Provides Editor.js Sanitizer that allows developers to clean their HTML\n */\nexport default class SanitizerAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Sanitizer}\n   */\n  public get methods(): Sanitizer {\n    return {\n      clean: (taintString, config): string => this.clean(taintString, config),\n    };\n  }\n\n  /**\n   * Perform sanitizing of a string\n   *\n   * @param {string} taintString - what to sanitize\n   * @param {SanitizerConfig} config - sanitizer config\n   *\n   * @returns {string}\n   */\n  public clean(taintString: string, config: SanitizerConfig): string {\n    return this.Editor.Sanitizer.clean(taintString, config);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d0ad84859d015c23e02050a98fa6aceadea51ce0"});var l=t[n];return a=function(){return l},l}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=C(i),c=C(c),s=C(s),r=C(r),a();var m=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(u()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"clean",value:function(n,A){return a().f[2]++,a().s[2]++,this.Editor.Sanitizer.clean(n,A)}},{key:"methods",get:function(){var n=this;return a().f[0]++,a().s[0]++,{clean:function(A,e){return a().f[1]++,a().s[1]++,n.clean(A,e)}}}}]),t}(r.default);t.default=m,m.displayName="SanitizerAPI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(8),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C){"use strict";var a=e(13),u=e(1);function m(){var n="/home/hata/editor.js/src/components/modules/api/saver.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"d8793238e2058f4d19f840e8f696183265f9663f"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/saver.ts",statementMap:{0:{start:{line:14,column:8},end:{line:16,column:10}},1:{start:{line:15,column:24},end:{line:15,column:35}},2:{start:{line:24,column:26},end:{line:24,column:80}},3:{start:{line:25,column:8},end:{line:28,column:9}},4:{start:{line:26,column:12},end:{line:26,column:44}},5:{start:{line:27,column:12},end:{line:27,column:56}},6:{start:{line:29,column:8},end:{line:29,column:40}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:18},end:{line:17,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:15,column:18},end:{line:15,column:19}},loc:{start:{line:15,column:24},end:{line:15,column:35}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:11},end:{line:30,column:5}},line:23}},branchMap:{0:{loc:{start:{line:25,column:8},end:{line:28,column:9}},type:"if",locations:[{start:{line:25,column:8},end:{line:28,column:9}},{start:{line:25,column:8},end:{line:28,column:9}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/saver.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/saver.ts"],names:[],mappings:"AAEA,OAAO,KAAK,CAAC,MAAM,aAAa,CAAC;AACjC,OAAO,MAAM,MAAM,gBAAgB,CAAC;AAEpC;;;GAGG;AACH,MAAM,CAAC,OAAO,OAAO,QAAS,SAAQ,MAAM;IAC1C;;;;OAIG;IACH,IAAW,OAAO;QAChB,OAAO;YACL,IAAI,EAAE,GAAwB,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE;SAC7C,CAAC;IACJ,CAAC;IAED;;;;OAIG;IACI,IAAI;QACT,MAAM,SAAS,GAAG,sDAAsD,CAAC;QAEzE,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,EAAE;YAClC,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;YAEhC,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;SAC7C;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IAClC,CAAC;CACF",sourcesContent:["import { Saver } from '../../../../types/api';\nimport { OutputData } from '../../../../types';\nimport * as _ from '../../utils';\nimport Module from '../../__module';\n\n/**\n * @class SaverAPI\n * provides with methods to save data\n */\nexport default class SaverAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Saver}\n   */\n  public get methods(): Saver {\n    return {\n      save: (): Promise<OutputData> => this.save(),\n    };\n  }\n\n  /**\n   * Return Editor's data\n   *\n   * @returns {OutputData}\n   */\n  public save(): Promise<OutputData> {\n    const errorText = 'Editor\\'s content can not be saved in read-only mode';\n\n    if (this.Editor.ReadOnly.isEnabled) {\n      _.logLabeled(errorText, 'warn');\n\n      return Promise.reject(new Error(errorText));\n    }\n\n    return this.Editor.Saver.save();\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d8793238e2058f4d19f840e8f696183265f9663f"});var l=t[n];return m=function(){return l},l}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=u(l),o=u(o),i=u(i),c=u(c),s=u(s),r=a(r),C=u(C),m();var f=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(d()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"save",value:function(){m().f[2]++;var n=(m().s[2]++,"Editor's content can not be saved in read-only mode");return m().s[3]++,this.Editor.ReadOnly.isEnabled?(m().b[0][0]++,m().s[4]++,r.logLabeled(n,"warn"),m().s[5]++,Promise.reject(new Error(n))):(m().b[0][1]++,m().s[6]++,this.Editor.Saver.save())}},{key:"methods",get:function(){var n=this;return m().f[0]++,m().s[0]++,{save:function(){return m().f[1]++,m().s[1]++,n.save()}}}}]),t}(C.default);t.default=f,f.displayName="SaverAPI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(25),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C){"use strict";var a=e(1);function u(){var n="/home/hata/editor.js/src/components/modules/api/selection.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"81e9df6ceb776031f482991cc9915df6bd1e046d"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/selection.ts",statementMap:{0:{start:{line:14,column:8},end:{line:17,column:10}},1:{start:{line:15,column:51},end:{line:15,column:89}},2:{start:{line:16,column:35},end:{line:16,column:57}},3:{start:{line:28,column:8},end:{line:28,column:70}},4:{start:{line:36,column:8},end:{line:36,column:47}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:18},end:{line:18,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:15,column:27},end:{line:15,column:28}},loc:{start:{line:15,column:51},end:{line:15,column:89}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:16,column:25},end:{line:16,column:26}},loc:{start:{line:16,column:35},end:{line:16,column:57}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:38},end:{line:29,column:5}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:22},end:{line:37,column:5}},line:35}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/selection.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/selection.ts"],names:[],mappings:"AAAA,OAAO,cAAc,MAAM,iBAAiB,CAAC;AAE7C,OAAO,MAAM,MAAM,gBAAgB,CAAC;AAEpC;;;GAGG;AACH,MAAM,CAAC,OAAO,OAAO,YAAa,SAAQ,MAAM;IAC9C;;;;OAIG;IACH,IAAW,OAAO;QAChB,OAAO;YACL,aAAa,EAAE,CAAC,OAAe,EAAE,SAAkB,EAAsB,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,SAAS,CAAC;YAClH,WAAW,EAAE,CAAC,IAAiB,EAAQ,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;SACjE,CAAC;IACJ,CAAC;IAED;;;;;;;OAOG;IACI,aAAa,CAAC,OAAe,EAAE,SAAkB;QACtD,OAAO,IAAI,cAAc,EAAE,CAAC,aAAa,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;IAChE,CAAC;IAED;;;;OAIG;IACI,WAAW,CAAC,IAAiB;QAClC,IAAI,cAAc,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;CACF",sourcesContent:["import SelectionUtils from '../../selection';\nimport { Selection as SelectionAPIInterface } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n * @class SelectionAPI\n * Provides with methods working with SelectionUtils\n */\nexport default class SelectionAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {SelectionAPIInterface}\n   */\n  public get methods(): SelectionAPIInterface {\n    return {\n      findParentTag: (tagName: string, className?: string): HTMLElement | null => this.findParentTag(tagName, className),\n      expandToTag: (node: HTMLElement): void => this.expandToTag(node),\n    };\n  }\n\n  /**\n   * Looks ahead from selection and find passed tag with class name\n   *\n   * @param {string} tagName - tag to find\n   * @param {string} className - tag's class name\n   *\n   * @returns {HTMLElement|null}\n   */\n  public findParentTag(tagName: string, className?: string): HTMLElement | null {\n    return new SelectionUtils().findParentTag(tagName, className);\n  }\n\n  /**\n   * Expand selection to passed tag\n   *\n   * @param {HTMLElement} node - tag that should contain selection\n   */\n  public expandToTag(node: HTMLElement): void {\n    new SelectionUtils().expandToTag(node);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"81e9df6ceb776031f482991cc9915df6bd1e046d"});var l=t[n];return u=function(){return l},l}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=a(l),o=a(o),i=a(i),c=a(c),s=a(s),r=a(r),C=a(C),u();var d=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(m()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"findParentTag",value:function(n,A){return u().f[3]++,u().s[3]++,(new r.default).findParentTag(n,A)}},{key:"expandToTag",value:function(n){u().f[4]++,u().s[4]++,(new r.default).expandToTag(n)}},{key:"methods",get:function(){var n=this;return u().f[0]++,u().s[0]++,{findParentTag:function(A,e){return u().f[1]++,u().s[1]++,n.findParentTag(A,e)},expandToTag:function(A){return u().f[2]++,u().s[2]++,n.expandToTag(A)}}}}]),t}(C.default);t.default=d,d.displayName="SelectionAPI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r){"use strict";var C=e(1);function a(){var n="/home/hata/editor.js/src/components/modules/api/styles.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"ea09668f07da8e36aff860394972e7d4bc0dcd9d"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/styles.ts",statementMap:{0:{start:{line:10,column:8},end:{line:31,column:10}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:18},end:{line:32,column:5}},line:9}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/styles.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/styles.ts"],names:[],mappings:"AACA,OAAO,MAAM,MAAM,gBAAgB,CAAC;AAEpC;;GAEG;AACH,MAAM,CAAC,OAAO,OAAO,SAAU,SAAQ,MAAM;IAC3C;;OAEG;IACH,IAAW,OAAO;QAChB,OAAO;YACL;;eAEG;YACH,KAAK,EAAE,WAAW;YAElB;;eAEG;YACH,gBAAgB,EAAE,gBAAgB;YAClC,sBAAsB,EAAE,wBAAwB;YAEhD;;eAEG;YACH,KAAK,EAAE,WAAW;YAClB,MAAM,EAAE,YAAY;YACpB,MAAM,EAAE,YAAY;YAEpB;;eAEG;YACH,cAAc,EAAE,qBAAqB;YACrC,oBAAoB,EAAE,6BAA6B;SACpD,CAAC;IACJ,CAAC;CACF",sourcesContent:["import { Styles } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n *\n */\nexport default class StylesAPI extends Module {\n  /**\n   * Exported classes\n   */\n  public get classes(): Styles {\n    return {\n      /**\n       * Base Block styles\n       */\n      block: 'cdx-block',\n\n      /**\n       * Inline Tools styles\n       */\n      inlineToolButton: 'ce-inline-tool',\n      inlineToolButtonActive: 'ce-inline-tool--active',\n\n      /**\n       * UI elements\n       */\n      input: 'cdx-input',\n      loader: 'cdx-loader',\n      button: 'cdx-button',\n\n      /**\n       * Settings styles\n       */\n      settingsButton: 'cdx-settings-button',\n      settingsButtonActive: 'cdx-settings-button--active',\n    };\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ea09668f07da8e36aff860394972e7d4bc0dcd9d"});var l=t[n];return a=function(){return l},l}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=C(i),c=C(c),s=C(s),r=C(r),a();var m=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(u()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"classes",get:function(){return a().f[0]++,a().s[0]++,{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}]),t}(r.default);t.default=m,m.displayName="StylesAPI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r){"use strict";var C=e(1);function a(){var n="/home/hata/editor.js/src/components/modules/api/toolbar.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"52c9db48736631089f0a4b1f6a767db7d820b240"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/toolbar.ts",statementMap:{0:{start:{line:13,column:8},end:{line:16,column:10}},1:{start:{line:14,column:25},end:{line:14,column:37}},2:{start:{line:15,column:24},end:{line:15,column:35}},3:{start:{line:22,column:8},end:{line:22,column:35}},4:{start:{line:28,column:8},end:{line:28,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:18},end:{line:17,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:14,column:19},end:{line:14,column:20}},loc:{start:{line:14,column:25},end:{line:14,column:37}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:15,column:18},end:{line:15,column:19}},loc:{start:{line:15,column:24},end:{line:15,column:35}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:11},end:{line:23,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:12},end:{line:29,column:5}},line:27}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/toolbar.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/toolbar.ts"],names:[],mappings:"AACA,OAAO,MAAM,MAAM,gBAAgB,CAAC;AAEpC;;;GAGG;AACH,MAAM,CAAC,OAAO,OAAO,UAAW,SAAQ,MAAM;IAC5C;;;;OAIG;IACH,IAAW,OAAO;QAChB,OAAO;YACL,KAAK,EAAE,GAAS,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE;YAC/B,IAAI,EAAE,GAAS,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE;SAC9B,CAAC;IACJ,CAAC;IAED;;OAEG;IACI,IAAI;QACT,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IAC7B,CAAC;IAED;;OAEG;IACI,KAAK;QACV,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;IAC9B,CAAC;CACF",sourcesContent:["import { Toolbar } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n * @class ToolbarAPI\n * Provides methods for working with the Toolbar\n */\nexport default class ToolbarAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Toolbar}\n   */\n  public get methods(): Toolbar {\n    return {\n      close: (): void => this.close(),\n      open: (): void => this.open(),\n    };\n  }\n\n  /**\n   * Open toolbar\n   */\n  public open(): void {\n    this.Editor.Toolbar.open();\n  }\n\n  /**\n   * Close toolbar and all included elements\n   */\n  public close(): void {\n    this.Editor.Toolbar.close();\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"52c9db48736631089f0a4b1f6a767db7d820b240"});var l=t[n];return a=function(){return l},l}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=C(i),c=C(c),s=C(s),r=C(r),a();var m=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(u()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"open",value:function(){a().f[3]++,a().s[3]++,this.Editor.Toolbar.open()}},{key:"close",value:function(){a().f[4]++,a().s[4]++,this.Editor.Toolbar.close()}},{key:"methods",get:function(){var n=this;return a().f[0]++,a().s[0]++,{close:function(){return a().f[1]++,a().s[1]++,n.close()},open:function(){return a().f[2]++,a().s[2]++,n.open()}}}}]),t}(r.default);t.default=m,m.displayName="ToolbarAPI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r){"use strict";var C=e(1);function a(){var n="/home/hata/editor.js/src/components/modules/api/tooltip.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"399a129a178589c3d96df654cbfdffbe1431aade"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/api/tooltip.ts",statementMap:{0:{start:{line:11,column:8},end:{line:15,column:10}},1:{start:{line:12,column:49},end:{line:12,column:85}},2:{start:{line:13,column:24},end:{line:13,column:35}},3:{start:{line:14,column:52},end:{line:14,column:91}},4:{start:{line:25,column:8},end:{line:25,column:60}},5:{start:{line:31,column:8},end:{line:31,column:35}},6:{start:{line:41,column:8},end:{line:41,column:63}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:18},end:{line:16,column:5}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:12,column:18},end:{line:12,column:19}},loc:{start:{line:12,column:49},end:{line:12,column:85}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:13,column:18},end:{line:13,column:19}},loc:{start:{line:13,column:24},end:{line:13,column:35}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:14,column:21},end:{line:14,column:22}},loc:{start:{line:14,column:52},end:{line:14,column:91}},line:14},4:{name:"(anonymous_4)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:36},end:{line:26,column:5}},line:24},5:{name:"(anonymous_5)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:11},end:{line:32,column:5}},line:30},6:{name:"(anonymous_6)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:39},end:{line:42,column:5}},line:40}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/api/tooltip.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/api/tooltip.ts"],names:[],mappings:"AAEA,OAAO,MAAM,MAAM,gBAAgB,CAAC;AAEpC;;;GAGG;AACH,MAAM,CAAC,OAAO,OAAO,UAAW,SAAQ,MAAM;IAC5C;;OAEG;IACH,IAAW,OAAO;QAChB,OAAO;YACL,IAAI,EAAE,CAAC,OAAoB,EACzB,OAAuB,EACvB,OAAwB,EAClB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;YAC/C,IAAI,EAAE,GAAS,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE;YAC7B,OAAO,EAAE,CAAC,OAAoB,EAC5B,OAAuB,EACvB,OAAwB,EAClB,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;SACnD,CAAC;IACJ,CAAC;IAED;;;;;;OAMG;IACI,IAAI,CAAC,OAAoB,EAAE,OAAuB,EAAE,OAAwB;QACjF,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IACtD,CAAC;IAED;;OAEG;IACI,IAAI;QACT,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IAC7B,CAAC;IAED;;;;;;OAMG;IACI,OAAO,CAAC,OAAoB,EAAE,OAAuB,EAAE,OAAwB;QACpF,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IACzD,CAAC;CACF",sourcesContent:["import { Tooltip } from '../../../../types/api';\nimport { TooltipContent, TooltipOptions } from 'codex-tooltip';\nimport Module from '../../__module';\n\n/**\n * @class TooltipAPI\n * @classdesc Tooltip API\n */\nexport default class TooltipAPI extends Module {\n  /**\n   * Available methods\n   */\n  public get methods(): Tooltip {\n    return {\n      show: (element: HTMLElement,\n        content: TooltipContent,\n        options?: TooltipOptions\n      ): void => this.show(element, content, options),\n      hide: (): void => this.hide(),\n      onHover: (element: HTMLElement,\n        content: TooltipContent,\n        options?: TooltipOptions\n      ): void => this.onHover(element, content, options),\n    };\n  }\n\n  /**\n   * Method show tooltip on element with passed HTML content\n   *\n   * @param {HTMLElement} element - element on which tooltip should be shown\n   * @param {TooltipContent} content - tooltip content\n   * @param {TooltipOptions} options - tooltip options\n   */\n  public show(element: HTMLElement, content: TooltipContent, options?: TooltipOptions): void {\n    this.Editor.Tooltip.show(element, content, options);\n  }\n\n  /**\n   * Method hides tooltip on HTML page\n   */\n  public hide(): void {\n    this.Editor.Tooltip.hide();\n  }\n\n  /**\n   * Decorator for showing Tooltip by mouseenter/mouseleave\n   *\n   * @param {HTMLElement} element - element on which tooltip should be shown\n   * @param {TooltipContent} content - tooltip content\n   * @param {TooltipOptions} options - tooltip options\n   */\n  public onHover(element: HTMLElement, content: TooltipContent, options?: TooltipOptions): void {\n    this.Editor.Tooltip.onHover(element, content, options);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"399a129a178589c3d96df654cbfdffbe1431aade"});var l=t[n];return a=function(){return l},l}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=C(i),c=C(c),s=C(s),r=C(r),a();var m=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(u()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"show",value:function(n,A,e){a().f[4]++,a().s[4]++,this.Editor.Tooltip.show(n,A,e)}},{key:"hide",value:function(){a().f[5]++,a().s[5]++,this.Editor.Tooltip.hide()}},{key:"onHover",value:function(n,A,e){a().f[6]++,a().s[6]++,this.Editor.Tooltip.onHover(n,A,e)}},{key:"methods",get:function(){var n=this;return a().f[0]++,a().s[0]++,{show:function(A,e,t){return a().f[1]++,a().s[1]++,n.show(A,e,t)},hide:function(){return a().f[2]++,a().s[2]++,n.hide()},onHover:function(A,e,t){return a().f[3]++,a().s[3]++,n.onHover(A,e,t)}}}}]),t}(r.default);t.default=m,m.displayName="TooltipAPI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7),e(8),e(25),e(60)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u){"use strict";var m=e(13),d=e(1);function f(){var n="/home/hata/editor.js/src/components/modules/blockEvents.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"28b86f9ee9eace3b5073b9505e9d8c5ebad0c407"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/blockEvents.ts",statementMap:{0:{start:{line:21,column:8},end:{line:21,column:44}},1:{start:{line:25,column:8},end:{line:43,column:9}},2:{start:{line:27,column:16},end:{line:27,column:38}},3:{start:{line:28,column:16},end:{line:28,column:22}},4:{start:{line:30,column:16},end:{line:30,column:34}},5:{start:{line:31,column:16},end:{line:31,column:22}},6:{start:{line:34,column:16},end:{line:34,column:46}},7:{start:{line:35,column:16},end:{line:35,column:22}},8:{start:{line:38,column:16},end:{line:38,column:43}},9:{start:{line:39,column:16},end:{line:39,column:22}},10:{start:{line:41,column:16},end:{line:41,column:39}},11:{start:{line:42,column:16},end:{line:42,column:22}},12:{start:{line:54,column:8},end:{line:56,column:9}},13:{start:{line:55,column:12},end:{line:55,column:19}},14:{start:{line:63,column:8},end:{line:76,column:9}},15:{start:{line:64,column:12},end:{line:64,column:40}},16:{start:{line:65,column:12},end:{line:65,column:50}},17:{start:{line:71,column:31},end:{line:71,column:95}},18:{start:{line:72,column:12},end:{line:75,column:13}},19:{start:{line:73,column:16},end:{line:73,column:56}},20:{start:{line:74,column:16},end:{line:74,column:65}},21:{start:{line:89,column:8},end:{line:91,column:9}},22:{start:{line:90,column:12},end:{line:90,column:19}},23:{start:{line:95,column:8},end:{line:95,column:40}},24:{start:{line:106,column:8},end:{line:106,column:57}},25:{start:{line:107,column:74},end:{line:107,column:85}},26:{start:{line:108,column:29},end:{line:108,column:54}},27:{start:{line:109,column:8},end:{line:111,column:9}},28:{start:{line:110,column:12},end:{line:110,column:19}},29:{start:{line:112,column:31},end:{line:112,column:89}},30:{start:{line:113,column:40},end:{line:113,column:89}},31:{start:{line:114,column:36},end:{line:114,column:112}},32:{start:{line:118,column:8},end:{line:123,column:9}},33:{start:{line:119,column:12},end:{line:119,column:35}},34:{start:{line:121,column:13},end:{line:123,column:9}},35:{start:{line:122,column:12},end:{line:122,column:41}},36:{start:{line:131,column:22},end:{line:131,column:80}},37:{start:{line:132,column:8},end:{line:132,column:32}},38:{start:{line:140,column:22},end:{line:140,column:80}},39:{start:{line:141,column:8},end:{line:141,column:33}},40:{start:{line:150,column:35},end:{line:150,column:46}},41:{start:{line:151,column:8},end:{line:153,column:9}},42:{start:{line:152,column:12},end:{line:152,column:19}},43:{start:{line:155,column:8},end:{line:155,column:49}},44:{start:{line:163,column:56},end:{line:163,column:67}},45:{start:{line:164,column:8},end:{line:166,column:9}},46:{start:{line:165,column:12},end:{line:165,column:19}},47:{start:{line:167,column:8},end:{line:167,column:49}},48:{start:{line:168,column:39},end:{line:168,column:74}},49:{start:{line:169,column:8},end:{line:169,column:118}},50:{start:{line:171,column:8},end:{line:171,column:45}},51:{start:{line:179,column:44},end:{line:179,column:55}},52:{start:{line:180,column:29},end:{line:180,column:54}},53:{start:{line:181,column:21},end:{line:181,column:55}},54:{start:{line:186,column:8},end:{line:188,column:9}},55:{start:{line:187,column:12},end:{line:187,column:19}},56:{start:{line:193,column:8},end:{line:195,column:9}},57:{start:{line:194,column:12},end:{line:194,column:19}},58:{start:{line:199,column:8},end:{line:201,column:9}},59:{start:{line:200,column:12},end:{line:200,column:19}},60:{start:{line:202,column:25},end:{line:202,column:62}},61:{start:{line:206,column:8},end:{line:215,column:9}},62:{start:{line:207,column:12},end:{line:207,column:107}},63:{start:{line:214,column:12},end:{line:214,column:58}},64:{start:{line:216,column:8},end:{line:216,column:49}},65:{start:{line:220,column:8},end:{line:229,column:9}},66:{start:{line:224,column:12},end:{line:224,column:44}},67:{start:{line:228,column:12},end:{line:228,column:50}},68:{start:{line:230,column:8},end:{line:230,column:31}},69:{start:{line:238,column:56},end:{line:238,column:67}},70:{start:{line:239,column:29},end:{line:239,column:54}},71:{start:{line:240,column:21},end:{line:240,column:67}},72:{start:{line:244,column:8},end:{line:261,column:9}},73:{start:{line:245,column:12},end:{line:245,column:35}},74:{start:{line:246,column:26},end:{line:246,column:56}},75:{start:{line:247,column:12},end:{line:254,column:13}},76:{start:{line:249,column:16},end:{line:249,column:52}},77:{start:{line:253,column:16},end:{line:253,column:43}},78:{start:{line:255,column:12},end:{line:255,column:109}},79:{start:{line:257,column:12},end:{line:257,column:40}},80:{start:{line:259,column:12},end:{line:259,column:49}},81:{start:{line:260,column:12},end:{line:260,column:19}},82:{start:{line:268,column:8},end:{line:270,column:9}},83:{start:{line:269,column:12},end:{line:269,column:19}},84:{start:{line:271,column:29},end:{line:271,column:65}},85:{start:{line:272,column:31},end:{line:275,column:25}},86:{start:{line:276,column:8},end:{line:285,column:9}},87:{start:{line:280,column:12},end:{line:280,column:35}},88:{start:{line:284,column:12},end:{line:284,column:31}},89:{start:{line:291,column:49},end:{line:291,column:60}},90:{start:{line:292,column:28},end:{line:292,column:54}},91:{start:{line:293,column:29},end:{line:293,column:54}},92:{start:{line:301,column:8},end:{line:313,column:9}},93:{start:{line:303,column:12},end:{line:308,column:13}},94:{start:{line:304,column:16},end:{line:304,column:77}},95:{start:{line:305,column:16},end:{line:305,column:60}},96:{start:{line:306,column:16},end:{line:306,column:32}},97:{start:{line:307,column:16},end:{line:307,column:23}},98:{start:{line:309,column:12},end:{line:311,column:13}},99:{start:{line:310,column:16},end:{line:310,column:32}},100:{start:{line:312,column:12},end:{line:312,column:19}},101:{start:{line:314,column:8},end:{line:314,column:55}},102:{start:{line:315,column:8},end:{line:321,column:11}},103:{start:{line:318,column:12},end:{line:318,column:59}},104:{start:{line:319,column:12},end:{line:319,column:51}},105:{start:{line:320,column:12},end:{line:320,column:28}},106:{start:{line:329,column:37},end:{line:330,column:65}},107:{start:{line:335,column:8},end:{line:337,column:9}},108:{start:{line:336,column:12},end:{line:336,column:19}},109:{start:{line:341,column:8},end:{line:341,column:48}},110:{start:{line:342,column:8},end:{line:342,column:36}},111:{start:{line:343,column:32},end:{line:343,column:104}},112:{start:{line:344,column:8},end:{line:347,column:9}},113:{start:{line:345,column:12},end:{line:345,column:71}},114:{start:{line:346,column:12},end:{line:346,column:19}},115:{start:{line:348,column:29},end:{line:348,column:117}},116:{start:{line:349,column:28},end:{line:349,column:114}},117:{start:{line:350,column:8},end:{line:366,column:9}},118:{start:{line:354,column:12},end:{line:354,column:35}},119:{start:{line:360,column:12},end:{line:365,column:21}},120:{start:{line:362,column:16},end:{line:364,column:17}},121:{start:{line:363,column:20},end:{line:363,column:79}},122:{start:{line:370,column:8},end:{line:370,column:57}},123:{start:{line:382,column:8},end:{line:387,column:9}},124:{start:{line:383,column:12},end:{line:385,column:13}},125:{start:{line:384,column:16},end:{line:384,column:23}},126:{start:{line:386,column:12},end:{line:386,column:46}},127:{start:{line:391,column:8},end:{line:391,column:48}},128:{start:{line:392,column:8},end:{line:392,column:36}},129:{start:{line:393,column:32},end:{line:393,column:106}},130:{start:{line:394,column:8},end:{line:397,column:9}},131:{start:{line:395,column:12},end:{line:395,column:76}},132:{start:{line:396,column:12},end:{line:396,column:19}},133:{start:{line:398,column:33},end:{line:398,column:118}},134:{start:{line:399,column:28},end:{line:399,column:118}},135:{start:{line:400,column:8},end:{line:416,column:9}},136:{start:{line:404,column:12},end:{line:404,column:35}},137:{start:{line:410,column:12},end:{line:415,column:21}},138:{start:{line:412,column:16},end:{line:414,column:17}},139:{start:{line:413,column:20},end:{line:413,column:79}},140:{start:{line:420,column:8},end:{line:420,column:57}},141:{start:{line:428,column:37},end:{line:428,column:101}},142:{start:{line:428,column:133},end:{line:428,column:203}},143:{start:{line:428,column:235},end:{line:428,column:305}},144:{start:{line:428,column:341},end:{line:428,column:415}},145:{start:{line:428,column:441},end:{line:428,column:473}},146:{start:{line:435,column:8},end:{line:440,column:43}},147:{start:{line:446,column:8},end:{line:449,column:9}},148:{start:{line:447,column:12},end:{line:447,column:51}},149:{start:{line:448,column:12},end:{line:448,column:50}},150:{start:{line:450,column:8},end:{line:450,column:35}},151:{start:{line:456,column:8},end:{line:460,column:9}},152:{start:{line:457,column:12},end:{line:457,column:65}},153:{start:{line:458,column:12},end:{line:458,column:50}},154:{start:{line:459,column:12},end:{line:459,column:50}},155:{start:{line:465,column:8},end:{line:467,column:9}},156:{start:{line:466,column:12},end:{line:466,column:45}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:19},end:{line:44,column:5}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:50,column:4},end:{line:50,column:5}},loc:{start:{line:50,column:35},end:{line:77,column:5}},line:50},2:{name:"(anonymous_2)",decl:{start:{line:85,column:4},end:{line:85,column:5}},loc:{start:{line:85,column:17},end:{line:96,column:5}},line:85},3:{name:"(anonymous_3)",decl:{start:{line:102,column:4},end:{line:102,column:5}},loc:{start:{line:102,column:22},end:{line:124,column:5}},line:102},4:{name:"(anonymous_4)",decl:{start:{line:130,column:4},end:{line:130,column:5}},loc:{start:{line:130,column:20},end:{line:133,column:5}},line:130},5:{name:"(anonymous_5)",decl:{start:{line:139,column:4},end:{line:139,column:5}},loc:{start:{line:139,column:21},end:{line:142,column:5}},line:139},6:{name:"(anonymous_6)",decl:{start:{line:149,column:4},end:{line:149,column:5}},loc:{start:{line:149,column:26},end:{line:156,column:5}},line:149},7:{name:"(anonymous_7)",decl:{start:{line:162,column:4},end:{line:162,column:5}},loc:{start:{line:162,column:26},end:{line:172,column:5}},line:162},8:{name:"(anonymous_8)",decl:{start:{line:178,column:4},end:{line:178,column:5}},loc:{start:{line:178,column:17},end:{line:231,column:5}},line:178},9:{name:"(anonymous_9)",decl:{start:{line:237,column:4},end:{line:237,column:5}},loc:{start:{line:237,column:21},end:{line:286,column:5}},line:237},10:{name:"(anonymous_10)",decl:{start:{line:290,column:4},end:{line:290,column:5}},loc:{start:{line:290,column:18},end:{line:322,column:5}},line:290},11:{name:"(anonymous_11)",decl:{start:{line:316,column:18},end:{line:316,column:19}},loc:{start:{line:316,column:24},end:{line:321,column:9}},line:316},12:{name:"(anonymous_12)",decl:{start:{line:328,column:4},end:{line:328,column:5}},loc:{start:{line:328,column:29},end:{line:371,column:5}},line:328},13:{name:"(anonymous_13)",decl:{start:{line:360,column:20},end:{line:360,column:21}},loc:{start:{line:360,column:26},end:{line:365,column:13}},line:360},14:{name:"(anonymous_14)",decl:{start:{line:377,column:4},end:{line:377,column:5}},loc:{start:{line:377,column:26},end:{line:421,column:5}},line:377},15:{name:"(anonymous_15)",decl:{start:{line:410,column:20},end:{line:410,column:21}},loc:{start:{line:410,column:26},end:{line:415,column:13}},line:410},16:{name:"(anonymous_16)",decl:{start:{line:427,column:4},end:{line:427,column:5}},loc:{start:{line:427,column:30},end:{line:441,column:5}},line:427},17:{name:"(anonymous_17)",decl:{start:{line:445,column:4},end:{line:445,column:5}},loc:{start:{line:445,column:22},end:{line:451,column:5}},line:445},18:{name:"(anonymous_18)",decl:{start:{line:455,column:4},end:{line:455,column:5}},loc:{start:{line:455,column:28},end:{line:468,column:5}},line:455}},branchMap:{0:{loc:{start:{line:25,column:8},end:{line:43,column:9}},type:"switch",locations:[{start:{line:26,column:12},end:{line:28,column:22}},{start:{line:29,column:12},end:{line:31,column:22}},{start:{line:32,column:12},end:{line:32,column:33}},{start:{line:33,column:12},end:{line:35,column:22}},{start:{line:36,column:12},end:{line:36,column:31}},{start:{line:37,column:12},end:{line:39,column:22}},{start:{line:40,column:12},end:{line:42,column:22}}],line:25},1:{loc:{start:{line:54,column:8},end:{line:56,column:9}},type:"if",locations:[{start:{line:54,column:8},end:{line:56,column:9}},{start:{line:54,column:8},end:{line:56,column:9}}],line:54},2:{loc:{start:{line:63,column:8},end:{line:76,column:9}},type:"if",locations:[{start:{line:63,column:8},end:{line:76,column:9}},{start:{line:63,column:8},end:{line:76,column:9}}],line:63},3:{loc:{start:{line:71,column:31},end:{line:71,column:95}},type:"binary-expr",locations:[{start:{line:71,column:31},end:{line:71,column:44}},{start:{line:71,column:48},end:{line:71,column:61}},{start:{line:71,column:65},end:{line:71,column:77}},{start:{line:71,column:81},end:{line:71,column:95}}],line:71},4:{loc:{start:{line:72,column:12},end:{line:75,column:13}},type:"if",locations:[{start:{line:72,column:12},end:{line:75,column:13}},{start:{line:72,column:12},end:{line:75,column:13}}],line:72},5:{loc:{start:{line:89,column:8},end:{line:91,column:9}},type:"if",locations:[{start:{line:89,column:8},end:{line:91,column:9}},{start:{line:89,column:8},end:{line:91,column:9}}],line:89},6:{loc:{start:{line:109,column:8},end:{line:111,column:9}},type:"if",locations:[{start:{line:109,column:8},end:{line:111,column:9}},{start:{line:109,column:8},end:{line:111,column:9}}],line:109},7:{loc:{start:{line:112,column:31},end:{line:112,column:89}},type:"binary-expr",locations:[{start:{line:112,column:31},end:{line:112,column:65}},{start:{line:112,column:69},end:{line:112,column:89}}],line:112},8:{loc:{start:{line:113,column:40},end:{line:113,column:89}},type:"binary-expr",locations:[{start:{line:113,column:40},end:{line:113,column:61}},{start:{line:113,column:65},end:{line:113,column:89}}],line:113},9:{loc:{start:{line:114,column:36},end:{line:114,column:112}},type:"binary-expr",locations:[{start:{line:114,column:36},end:{line:114,column:57}},{start:{line:114,column:61},end:{line:114,column:88}},{start:{line:114,column:92},end:{line:114,column:112}}],line:114},10:{loc:{start:{line:118,column:8},end:{line:123,column:9}},type:"if",locations:[{start:{line:118,column:8},end:{line:123,column:9}},{start:{line:118,column:8},end:{line:123,column:9}}],line:118},11:{loc:{start:{line:121,column:13},end:{line:123,column:9}},type:"if",locations:[{start:{line:121,column:13},end:{line:123,column:9}},{start:{line:121,column:13},end:{line:123,column:9}}],line:121},12:{loc:{start:{line:121,column:17},end:{line:121,column:65}},type:"binary-expr",locations:[{start:{line:121,column:17},end:{line:121,column:41}},{start:{line:121,column:45},end:{line:121,column:65}}],line:121},13:{loc:{start:{line:151,column:8},end:{line:153,column:9}},type:"if",locations:[{start:{line:151,column:8},end:{line:153,column:9}},{start:{line:151,column:8},end:{line:153,column:9}}],line:151},14:{loc:{start:{line:164,column:8},end:{line:166,column:9}},type:"if",locations:[{start:{line:164,column:8},end:{line:166,column:9}},{start:{line:164,column:8},end:{line:166,column:9}}],line:164},15:{loc:{start:{line:186,column:8},end:{line:188,column:9}},type:"if",locations:[{start:{line:186,column:8},end:{line:188,column:9}},{start:{line:186,column:8},end:{line:188,column:9}}],line:186},16:{loc:{start:{line:186,column:12},end:{line:186,column:72}},type:"binary-expr",locations:[{start:{line:186,column:12},end:{line:186,column:16}},{start:{line:186,column:20},end:{line:186,column:72}}],line:186},17:{loc:{start:{line:193,column:8},end:{line:195,column:9}},type:"if",locations:[{start:{line:193,column:8},end:{line:195,column:9}},{start:{line:193,column:8},end:{line:195,column:9}}],line:193},18:{loc:{start:{line:193,column:12},end:{line:193,column:63}},type:"binary-expr",locations:[{start:{line:193,column:12},end:{line:193,column:32}},{start:{line:193,column:36},end:{line:193,column:63}}],line:193},19:{loc:{start:{line:199,column:8},end:{line:201,column:9}},type:"if",locations:[{start:{line:199,column:8},end:{line:201,column:9}},{start:{line:199,column:8},end:{line:201,column:9}}],line:199},20:{loc:{start:{line:206,column:8},end:{line:215,column:9}},type:"if",locations:[{start:{line:206,column:8},end:{line:215,column:9}},{start:{line:206,column:8},end:{line:215,column:9}}],line:206},21:{loc:{start:{line:206,column:12},end:{line:206,column:90}},type:"binary-expr",locations:[{start:{line:206,column:12},end:{line:206,column:39}},{start:{line:206,column:43},end:{line:206,column:90}}],line:206},22:{loc:{start:{line:220,column:8},end:{line:229,column:9}},type:"if",locations:[{start:{line:220,column:8},end:{line:229,column:9}},{start:{line:220,column:8},end:{line:229,column:9}}],line:220},23:{loc:{start:{line:220,column:12},end:{line:220,column:78}},type:"binary-expr",locations:[{start:{line:220,column:12},end:{line:220,column:56}},{start:{line:220,column:60},end:{line:220,column:78}}],line:220},24:{loc:{start:{line:244,column:8},end:{line:261,column:9}},type:"if",locations:[{start:{line:244,column:8},end:{line:261,column:9}},{start:{line:244,column:8},end:{line:261,column:9}}],line:244},25:{loc:{start:{line:244,column:12},end:{line:244,column:116}},type:"binary-expr",locations:[{start:{line:244,column:12},end:{line:244,column:33}},{start:{line:244,column:38},end:{line:244,column:58}},{start:{line:244,column:62},end:{line:244,column:115}}],line:244},26:{loc:{start:{line:247,column:12},end:{line:254,column:13}},type:"if",locations:[{start:{line:247,column:12},end:{line:254,column:13}},{start:{line:247,column:12},end:{line:254,column:13}}],line:247},27:{loc:{start:{line:247,column:16},end:{line:247,column:92}},type:"binary-expr",locations:[{start:{line:247,column:16},end:{line:247,column:42}},{start:{line:247,column:46},end:{line:247,column:92}}],line:247},28:{loc:{start:{line:255,column:56},end:{line:255,column:107}},type:"cond-expr",locations:[{start:{line:255,column:64},end:{line:255,column:83}},{start:{line:255,column:86},end:{line:255,column:107}}],line:255},29:{loc:{start:{line:268,column:8},end:{line:270,column:9}},type:"if",locations:[{start:{line:268,column:8},end:{line:270,column:9}},{start:{line:268,column:8},end:{line:270,column:9}}],line:268},30:{loc:{start:{line:268,column:12},end:{line:268,column:104}},type:"binary-expr",locations:[{start:{line:268,column:12},end:{line:268,column:16}},{start:{line:268,column:20},end:{line:268,column:84}},{start:{line:268,column:88},end:{line:268,column:104}}],line:268},31:{loc:{start:{line:272,column:31},end:{line:275,column:25}},type:"binary-expr",locations:[{start:{line:272,column:31},end:{line:272,column:46}},{start:{line:273,column:12},end:{line:273,column:38}},{start:{line:274,column:12},end:{line:274,column:65}},{start:{line:275,column:12},end:{line:275,column:25}}],line:272},32:{loc:{start:{line:276,column:8},end:{line:285,column:9}},type:"if",locations:[{start:{line:276,column:8},end:{line:285,column:9}},{start:{line:276,column:8},end:{line:285,column:9}}],line:276},33:{loc:{start:{line:301,column:8},end:{line:313,column:9}},type:"if",locations:[{start:{line:301,column:8},end:{line:313,column:9}},{start:{line:301,column:8},end:{line:313,column:9}}],line:301},34:{loc:{start:{line:301,column:12},end:{line:301,column:76}},type:"binary-expr",locations:[{start:{line:301,column:12},end:{line:301,column:50}},{start:{line:301,column:54},end:{line:301,column:76}}],line:301},35:{loc:{start:{line:303,column:12},end:{line:308,column:13}},type:"if",locations:[{start:{line:303,column:12},end:{line:308,column:13}},{start:{line:303,column:12},end:{line:308,column:13}}],line:303},36:{loc:{start:{line:303,column:16},end:{line:303,column:70}},type:"binary-expr",locations:[{start:{line:303,column:16},end:{line:303,column:47}},{start:{line:303,column:51},end:{line:303,column:70}}],line:303},37:{loc:{start:{line:309,column:12},end:{line:311,column:13}},type:"if",locations:[{start:{line:309,column:12},end:{line:311,column:13}},{start:{line:309,column:12},end:{line:311,column:13}}],line:309},38:{loc:{start:{line:329,column:37},end:{line:330,column:65}},type:"binary-expr",locations:[{start:{line:329,column:37},end:{line:329,column:77}},{start:{line:330,column:13},end:{line:330,column:28}},{start:{line:330,column:32},end:{line:330,column:64}}],line:329},39:{loc:{start:{line:335,column:8},end:{line:337,column:9}},type:"if",locations:[{start:{line:335,column:8},end:{line:337,column:9}},{start:{line:335,column:8},end:{line:337,column:9}}],line:335},40:{loc:{start:{line:335,column:12},end:{line:335,column:68}},type:"binary-expr",locations:[{start:{line:335,column:12},end:{line:335,column:44}},{start:{line:335,column:48},end:{line:335,column:68}}],line:335},41:{loc:{start:{line:343,column:32},end:{line:343,column:104}},type:"binary-expr",locations:[{start:{line:343,column:32},end:{line:343,column:57}},{start:{line:343,column:61},end:{line:343,column:104}}],line:343},42:{loc:{start:{line:344,column:8},end:{line:347,column:9}},type:"if",locations:[{start:{line:344,column:8},end:{line:347,column:9}},{start:{line:344,column:8},end:{line:347,column:9}}],line:344},43:{loc:{start:{line:344,column:12},end:{line:344,column:82}},type:"binary-expr",locations:[{start:{line:344,column:12},end:{line:344,column:26}},{start:{line:344,column:30},end:{line:344,column:63}},{start:{line:344,column:67},end:{line:344,column:82}}],line:344},44:{loc:{start:{line:348,column:29},end:{line:348,column:117}},type:"binary-expr",locations:[{start:{line:348,column:29},end:{line:348,column:62}},{start:{line:348,column:67},end:{line:348,column:101}},{start:{line:348,column:105},end:{line:348,column:116}}],line:348},45:{loc:{start:{line:349,column:28},end:{line:349,column:114}},type:"cond-expr",locations:[{start:{line:349,column:43},end:{line:349,column:75}},{start:{line:349,column:78},end:{line:349,column:114}}],line:349},46:{loc:{start:{line:350,column:8},end:{line:366,column:9}},type:"if",locations:[{start:{line:350,column:8},end:{line:366,column:9}},{start:{line:350,column:8},end:{line:366,column:9}}],line:350},47:{loc:{start:{line:362,column:16},end:{line:364,column:17}},type:"if",locations:[{start:{line:362,column:16},end:{line:364,column:17}},{start:{line:362,column:16},end:{line:364,column:17}}],line:362},48:{loc:{start:{line:382,column:8},end:{line:387,column:9}},type:"if",locations:[{start:{line:382,column:8},end:{line:387,column:9}},{start:{line:382,column:8},end:{line:387,column:9}}],line:382},49:{loc:{start:{line:383,column:12},end:{line:385,column:13}},type:"if",locations:[{start:{line:383,column:12},end:{line:385,column:13}},{start:{line:383,column:12},end:{line:385,column:13}}],line:383},50:{loc:{start:{line:383,column:16},end:{line:383,column:113}},type:"binary-expr",locations:[{start:{line:383,column:16},end:{line:383,column:56}},{start:{line:383,column:61},end:{line:383,column:76}},{start:{line:383,column:80},end:{line:383,column:112}}],line:383},51:{loc:{start:{line:393,column:32},end:{line:393,column:106}},type:"binary-expr",locations:[{start:{line:393,column:32},end:{line:393,column:59}},{start:{line:393,column:63},end:{line:393,column:106}}],line:393},52:{loc:{start:{line:394,column:8},end:{line:397,column:9}},type:"if",locations:[{start:{line:394,column:8},end:{line:397,column:9}},{start:{line:394,column:8},end:{line:397,column:9}}],line:394},53:{loc:{start:{line:394,column:12},end:{line:394,column:80}},type:"binary-expr",locations:[{start:{line:394,column:12},end:{line:394,column:26}},{start:{line:394,column:30},end:{line:394,column:61}},{start:{line:394,column:65},end:{line:394,column:80}}],line:394},54:{loc:{start:{line:398,column:33},end:{line:398,column:118}},type:"binary-expr",locations:[{start:{line:398,column:33},end:{line:398,column:64}},{start:{line:398,column:69},end:{line:398,column:102}},{start:{line:398,column:106},end:{line:398,column:117}}],line:398},55:{loc:{start:{line:399,column:28},end:{line:399,column:118}},type:"cond-expr",locations:[{start:{line:399,column:47},end:{line:399,column:83}},{start:{line:399,column:86},end:{line:399,column:118}}],line:399},56:{loc:{start:{line:400,column:8},end:{line:416,column:9}},type:"if",locations:[{start:{line:400,column:8},end:{line:416,column:9}},{start:{line:400,column:8},end:{line:416,column:9}}],line:400},57:{loc:{start:{line:412,column:16},end:{line:414,column:17}},type:"if",locations:[{start:{line:412,column:16},end:{line:414,column:17}},{start:{line:412,column:16},end:{line:414,column:17}}],line:412},58:{loc:{start:{line:428,column:37},end:{line:428,column:101}},type:"binary-expr",locations:[{start:{line:428,column:37},end:{line:428,column:71}},{start:{line:428,column:75},end:{line:428,column:101}}],line:428},59:{loc:{start:{line:428,column:133},end:{line:428,column:203}},type:"binary-expr",locations:[{start:{line:428,column:133},end:{line:428,column:167}},{start:{line:428,column:171},end:{line:428,column:203}}],line:428},60:{loc:{start:{line:428,column:235},end:{line:428,column:305}},type:"binary-expr",locations:[{start:{line:428,column:235},end:{line:428,column:269}},{start:{line:428,column:273},end:{line:428,column:305}}],line:428},61:{loc:{start:{line:428,column:341},end:{line:428,column:415}},type:"binary-expr",locations:[{start:{line:428,column:341},end:{line:428,column:375}},{start:{line:428,column:379},end:{line:428,column:415}}],line:428},62:{loc:{start:{line:435,column:17},end:{line:440,column:41}},type:"binary-expr",locations:[{start:{line:435,column:17},end:{line:435,column:31}},{start:{line:436,column:12},end:{line:436,column:32}},{start:{line:437,column:12},end:{line:437,column:31}},{start:{line:438,column:12},end:{line:438,column:37}},{start:{line:439,column:12},end:{line:439,column:37}},{start:{line:440,column:12},end:{line:440,column:41}}],line:435},63:{loc:{start:{line:446,column:8},end:{line:449,column:9}},type:"if",locations:[{start:{line:446,column:8},end:{line:449,column:9}},{start:{line:446,column:8},end:{line:449,column:9}}],line:446},64:{loc:{start:{line:456,column:8},end:{line:460,column:9}},type:"if",locations:[{start:{line:456,column:8},end:{line:460,column:9}},{start:{line:456,column:8},end:{line:460,column:9}}],line:456},65:{loc:{start:{line:465,column:8},end:{line:467,column:9}},type:"if",locations:[{start:{line:465,column:8},end:{line:467,column:9}},{start:{line:465,column:8},end:{line:467,column:9}}],line:465}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0,0,0,0,0,0],1:[0,0],2:[0,0],3:[0,0,0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0,0],31:[0,0,0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0,0],44:[0,0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0,0],51:[0,0],52:[0,0],53:[0,0,0],54:[0,0,0],55:[0,0],56:[0,0],57:[0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0],62:[0,0,0,0,0,0],63:[0,0],64:[0,0],65:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/blockEvents.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/blockEvents.ts"],names:[],mappings:"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",sourcesContent:["/**\n * Contains keyboard and mouse events binded on each Block by Block Manager\n */\nimport Module from '../__module';\nimport * as _ from '../utils';\nimport SelectionUtils from '../selection';\nimport Flipper from '../flipper';\n\n/**\n *\n */\nexport default class BlockEvents extends Module {\n  /**\n   * All keydowns on Block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  public keydown(event: KeyboardEvent): void {\n    /**\n     * Run common method for all keydown events\n     */\n    this.beforeKeydownProcessing(event);\n\n    /**\n     * Fire keydown processor by event.keyCode\n     */\n    switch (event.keyCode) {\n      case _.keyCodes.BACKSPACE:\n        this.backspace(event);\n        break;\n\n      case _.keyCodes.ENTER:\n        this.enter(event);\n        break;\n\n      case _.keyCodes.DOWN:\n      case _.keyCodes.RIGHT:\n        this.arrowRightAndDown(event);\n        break;\n\n      case _.keyCodes.UP:\n      case _.keyCodes.LEFT:\n        this.arrowLeftAndUp(event);\n        break;\n\n      case _.keyCodes.TAB:\n        this.tabPressed(event);\n        break;\n    }\n  }\n\n  /**\n   * Fires on keydown before event processing\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  public beforeKeydownProcessing(event: KeyboardEvent): void {\n    /**\n     * Do not close Toolbox on Tabs or on Enter with opened Toolbox\n     */\n    if (!this.needToolbarClosing(event)) {\n      return;\n    }\n\n    /**\n     * When user type something:\n     *  - close Toolbar\n     *  - close Conversion Toolbar\n     *  - clear block highlighting\n     */\n    if (_.isPrintableKey(event.keyCode)) {\n      this.Editor.Toolbar.close();\n      this.Editor.ConversionToolbar.close();\n\n      /**\n       * Allow to use shortcuts with selected blocks\n       *\n       * @type {boolean}\n       */\n      const isShortcut = event.ctrlKey || event.metaKey || event.altKey || event.shiftKey;\n\n      if (!isShortcut) {\n        this.Editor.BlockManager.clearFocused();\n        this.Editor.BlockSelection.clearSelection(event);\n      }\n    }\n  }\n\n  /**\n   * Key up on Block:\n   * - shows Inline Toolbar if something selected\n   * - shows conversion toolbar with 85% of block selection\n   *\n   * @param {KeyboardEvent} event - keyup event\n   */\n  public keyup(event: KeyboardEvent): void {\n    /**\n     * If shift key was pressed some special shortcut is used (eg. cross block selection via shift + arrows)\n     */\n    if (event.shiftKey) {\n      return;\n    }\n\n    /**\n     * Check if editor is empty on each keyup and add special css class to wrapper\n     */\n    this.Editor.UI.checkEmptiness();\n  }\n\n  /**\n   * Open Toolbox to leaf Tools\n   *\n   * @param {KeyboardEvent} event - tab keydown event\n   */\n  public tabPressed(event): void {\n    /**\n     * Clear blocks selection by tab\n     */\n    this.Editor.BlockSelection.clearSelection(event);\n\n    const { BlockManager, Tools, InlineToolbar, ConversionToolbar } = this.Editor;\n    const currentBlock = BlockManager.currentBlock;\n\n    if (!currentBlock) {\n      return;\n    }\n\n    const canOpenToolbox = Tools.isDefault(currentBlock.tool) && currentBlock.isEmpty;\n    const conversionToolbarOpened = !currentBlock.isEmpty && ConversionToolbar.opened;\n    const inlineToolbarOpened = !currentBlock.isEmpty && !SelectionUtils.isCollapsed && InlineToolbar.opened;\n\n    /**\n     * For empty Blocks we show Plus button via Toolbox only for default Blocks\n     */\n    if (canOpenToolbox) {\n      this.activateToolbox();\n    } else if (!conversionToolbarOpened && !inlineToolbarOpened) {\n      this.activateBlockSettings();\n    }\n  }\n\n  /**\n   * Add drop target styles\n   *\n   * @param {DragEvent} event - drag over event\n   */\n  public dragOver(event: DragEvent): void {\n    const block = this.Editor.BlockManager.getBlockByChildNode(event.target as Node);\n\n    block.dropTarget = true;\n  }\n\n  /**\n   * Remove drop target style\n   *\n   * @param {DragEvent} event - drag leave event\n   */\n  public dragLeave(event: DragEvent): void {\n    const block = this.Editor.BlockManager.getBlockByChildNode(event.target as Node);\n\n    block.dropTarget = false;\n  }\n\n  /**\n   * Copying selected blocks\n   * Before putting to the clipboard we sanitize all blocks and then copy to the clipboard\n   *\n   * @param {ClipboardEvent} event - clipboard event\n   */\n  public handleCommandC(event: ClipboardEvent): void {\n    const { BlockSelection } = this.Editor;\n\n    if (!BlockSelection.anyBlockSelected) {\n      return;\n    }\n\n    // Copy Selected Blocks\n    BlockSelection.copySelectedBlocks(event);\n  }\n\n  /**\n   * Copy and Delete selected Blocks\n   *\n   * @param {ClipboardEvent} event - clipboard event\n   */\n  public handleCommandX(event: ClipboardEvent): void {\n    const { BlockSelection, BlockManager, Caret } = this.Editor;\n\n    if (!BlockSelection.anyBlockSelected) {\n      return;\n    }\n\n    BlockSelection.copySelectedBlocks(event);\n\n    const selectionPositionIndex = BlockManager.removeSelectedBlocks();\n\n    Caret.setToBlock(BlockManager.insertDefaultBlockAtIndex(selectionPositionIndex, true), Caret.positions.START);\n\n    /** Clear selection */\n    BlockSelection.clearSelection(event);\n  }\n\n  /**\n   * ENTER pressed on block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  private enter(event: KeyboardEvent): void {\n    const { BlockManager, Tools, UI } = this.Editor;\n    const currentBlock = BlockManager.currentBlock;\n    const tool = Tools.available[currentBlock.name];\n\n    /**\n     * Don't handle Enter keydowns when Tool sets enableLineBreaks to true.\n     * Uses for Tools like <code> where line breaks should be handled by default behaviour.\n     */\n    if (tool && tool[Tools.INTERNAL_SETTINGS.IS_ENABLED_LINE_BREAKS]) {\n      return;\n    }\n\n    /**\n     * Opened Toolbars uses Flipper with own Enter handling\n     * Allow split block when no one button in Flipper is focused\n     */\n    if (UI.someToolbarOpened && UI.someFlipperButtonFocused) {\n      return;\n    }\n\n    /**\n     * Allow to create linebreaks by Shift+Enter\n     */\n    if (event.shiftKey) {\n      return;\n    }\n\n    let newCurrent = this.Editor.BlockManager.currentBlock;\n\n    /**\n     * If enter has been pressed at the start of the text, just insert paragraph Block above\n     */\n    if (this.Editor.Caret.isAtStart && !this.Editor.BlockManager.currentBlock.hasMedia) {\n      this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex);\n    } else {\n      /**\n       * Split the Current Block into two blocks\n       * Renew local current node after split\n       */\n      newCurrent = this.Editor.BlockManager.split();\n    }\n\n    this.Editor.Caret.setToBlock(newCurrent);\n\n    /**\n     * If new Block is empty\n     */\n    if (this.Editor.Tools.isDefault(newCurrent.tool) && newCurrent.isEmpty) {\n      /**\n       * Show Toolbar\n       */\n      this.Editor.Toolbar.open(false);\n\n      /**\n       * Show Plus Button\n       */\n      this.Editor.Toolbar.plusButton.show();\n    }\n\n    event.preventDefault();\n  }\n\n  /**\n   * Handle backspace keydown on Block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  private backspace(event: KeyboardEvent): void {\n    const { BlockManager, BlockSelection, Caret } = this.Editor;\n    const currentBlock = BlockManager.currentBlock;\n    const tool = this.Editor.Tools.available[currentBlock.name];\n\n    /**\n     * Check if Block should be removed by current Backspace keydown\n     */\n    if (currentBlock.selected || (currentBlock.isEmpty && currentBlock.currentInput === currentBlock.firstInput)) {\n      event.preventDefault();\n\n      const index = BlockManager.currentBlockIndex;\n\n      if (BlockManager.previousBlock && BlockManager.previousBlock.inputs.length === 0) {\n        /** If previous block doesn't contain inputs, remove it */\n        BlockManager.removeBlock(index - 1);\n      } else {\n        /** If block is empty, just remove it */\n        BlockManager.removeBlock();\n      }\n\n      Caret.setToBlock(\n        BlockManager.currentBlock,\n        index ? Caret.positions.END : Caret.positions.START\n      );\n\n      /** Close Toolbar */\n      this.Editor.Toolbar.close();\n\n      /** Clear selection */\n      BlockSelection.clearSelection(event);\n\n      return;\n    }\n\n    /**\n     * Don't handle Backspaces when Tool sets enableLineBreaks to true.\n     * Uses for Tools like <code> where line breaks should be handled by default behaviour.\n     *\n     * But if caret is at start of the block, we allow to remove it by backspaces\n     */\n    if (tool && tool[this.Editor.Tools.INTERNAL_SETTINGS.IS_ENABLED_LINE_BREAKS] && !Caret.isAtStart) {\n      return;\n    }\n\n    const isFirstBlock = BlockManager.currentBlockIndex === 0;\n    const canMergeBlocks = Caret.isAtStart &&\n      SelectionUtils.isCollapsed &&\n      currentBlock.currentInput === currentBlock.firstInput &&\n      !isFirstBlock;\n\n    if (canMergeBlocks) {\n      /**\n       * preventing browser default behaviour\n       */\n      event.preventDefault();\n\n      /**\n       * Merge Blocks\n       */\n      this.mergeBlocks();\n    }\n  }\n\n  /**\n   * Merge current and previous Blocks if they have the same type\n   */\n  private mergeBlocks(): void {\n    const { BlockManager, Caret, Toolbar } = this.Editor;\n    const targetBlock = BlockManager.previousBlock;\n    const blockToMerge = BlockManager.currentBlock;\n\n    /**\n     * Blocks that can be merged:\n     * 1) with the same Name\n     * 2) Tool has 'merge' method\n     *\n     * other case will handle as usual ARROW LEFT behaviour\n     */\n    if (blockToMerge.name !== targetBlock.name || !targetBlock.mergeable) {\n      /** If target Block doesn't contain inputs or empty, remove it */\n      if (targetBlock.inputs.length === 0 || targetBlock.isEmpty) {\n        BlockManager.removeBlock(BlockManager.currentBlockIndex - 1);\n\n        Caret.setToBlock(BlockManager.currentBlock);\n        Toolbar.close();\n\n        return;\n      }\n\n      if (Caret.navigatePrevious()) {\n        Toolbar.close();\n      }\n\n      return;\n    }\n\n    Caret.createShadow(targetBlock.pluginsContent);\n    BlockManager.mergeBlocks(targetBlock, blockToMerge)\n      .then(() => {\n        /** Restore caret position after merge */\n        Caret.restoreCaret(targetBlock.pluginsContent as HTMLElement);\n        targetBlock.pluginsContent.normalize();\n        Toolbar.close();\n      });\n  }\n\n  /**\n   * Handle right and down keyboard keys\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private arrowRightAndDown(event: KeyboardEvent): void {\n    const isFlipperCombination = Flipper.usedKeys.includes(event.keyCode) &&\n      (!event.shiftKey || event.keyCode === _.keyCodes.TAB);\n\n    /**\n     * Arrows might be handled on toolbars by flipper\n     * Check for Flipper.usedKeys to allow navigate by DOWN and disallow by RIGHT\n     */\n    if (this.Editor.UI.someToolbarOpened && isFlipperCombination) {\n      return;\n    }\n\n    /**\n     * Close Toolbar and highlighting when user moves cursor\n     */\n    this.Editor.BlockManager.clearFocused();\n    this.Editor.Toolbar.close();\n\n    const shouldEnableCBS = this.Editor.Caret.isAtEnd || this.Editor.BlockSelection.anyBlockSelected;\n\n    if (event.shiftKey && event.keyCode === _.keyCodes.DOWN && shouldEnableCBS) {\n      this.Editor.CrossBlockSelection.toggleBlockSelectedState();\n\n      return;\n    }\n\n    const navigateNext = event.keyCode === _.keyCodes.DOWN || (event.keyCode === _.keyCodes.RIGHT && !this.isRtl);\n    const isNavigated = navigateNext ? this.Editor.Caret.navigateNext() : this.Editor.Caret.navigatePrevious();\n\n    if (isNavigated) {\n      /**\n       * Default behaviour moves cursor by 1 character, we need to prevent it\n       */\n      event.preventDefault();\n    } else {\n      /**\n       * After caret is set, update Block input index\n       */\n      _.delay(() => {\n        /** Check currentBlock for case when user moves selection out of Editor */\n        if (this.Editor.BlockManager.currentBlock) {\n          this.Editor.BlockManager.currentBlock.updateCurrentInput();\n        }\n      }, 20)();\n    }\n\n    /**\n     * Clear blocks selection by arrows\n     */\n    this.Editor.BlockSelection.clearSelection(event);\n  }\n\n  /**\n   * Handle left and up keyboard keys\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private arrowLeftAndUp(event: KeyboardEvent): void {\n    /**\n     * Arrows might be handled on toolbars by flipper\n     * Check for Flipper.usedKeys to allow navigate by UP and disallow by LEFT\n     */\n    if (this.Editor.UI.someToolbarOpened) {\n      if (Flipper.usedKeys.includes(event.keyCode) && (!event.shiftKey || event.keyCode === _.keyCodes.TAB)) {\n        return;\n      }\n\n      this.Editor.UI.closeAllToolbars();\n    }\n\n    /**\n     * Close Toolbar and highlighting when user moves cursor\n     */\n    this.Editor.BlockManager.clearFocused();\n    this.Editor.Toolbar.close();\n\n    const shouldEnableCBS = this.Editor.Caret.isAtStart || this.Editor.BlockSelection.anyBlockSelected;\n\n    if (event.shiftKey && event.keyCode === _.keyCodes.UP && shouldEnableCBS) {\n      this.Editor.CrossBlockSelection.toggleBlockSelectedState(false);\n\n      return;\n    }\n\n    const navigatePrevious = event.keyCode === _.keyCodes.UP || (event.keyCode === _.keyCodes.LEFT && !this.isRtl);\n    const isNavigated = navigatePrevious ? this.Editor.Caret.navigatePrevious() : this.Editor.Caret.navigateNext();\n\n    if (isNavigated) {\n      /**\n       * Default behaviour moves cursor by 1 character, we need to prevent it\n       */\n      event.preventDefault();\n    } else {\n      /**\n       * After caret is set, update Block input index\n       */\n      _.delay(() => {\n        /** Check currentBlock for case when user ends selection out of Editor and then press arrow-key */\n        if (this.Editor.BlockManager.currentBlock) {\n          this.Editor.BlockManager.currentBlock.updateCurrentInput();\n        }\n      }, 20)();\n    }\n\n    /**\n     * Clear blocks selection by arrows\n     */\n    this.Editor.BlockSelection.clearSelection(event);\n  }\n\n  /**\n   * Cases when we need to close Toolbar\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private needToolbarClosing(event: KeyboardEvent): boolean {\n    const toolboxItemSelected = (event.keyCode === _.keyCodes.ENTER && this.Editor.Toolbox.opened),\n        blockSettingsItemSelected = (event.keyCode === _.keyCodes.ENTER && this.Editor.BlockSettings.opened),\n        inlineToolbarItemSelected = (event.keyCode === _.keyCodes.ENTER && this.Editor.InlineToolbar.opened),\n        conversionToolbarItemSelected = (event.keyCode === _.keyCodes.ENTER && this.Editor.ConversionToolbar.opened),\n        flippingToolbarItems = event.keyCode === _.keyCodes.TAB;\n\n    /**\n     * Do not close Toolbar in cases:\n     * 1. ShiftKey pressed (or combination with shiftKey)\n     * 2. When Toolbar is opened and Tab leafs its Tools\n     * 3. When Toolbar's component is opened and some its item selected\n     */\n    return !(event.shiftKey ||\n      flippingToolbarItems ||\n      toolboxItemSelected ||\n      blockSettingsItemSelected ||\n      inlineToolbarItemSelected ||\n      conversionToolbarItemSelected\n    );\n  }\n\n  /**\n   * If Toolbox is not open, then just open it and show plus button\n   */\n  private activateToolbox(): void {\n    if (!this.Editor.Toolbar.opened) {\n      this.Editor.Toolbar.open(false, false);\n      this.Editor.Toolbar.plusButton.show();\n    }\n\n    this.Editor.Toolbox.open();\n  }\n\n  /**\n   * Open Toolbar and show BlockSettings before flipping Tools\n   */\n  private activateBlockSettings(): void {\n    if (!this.Editor.Toolbar.opened) {\n      this.Editor.BlockManager.currentBlock.focused = true;\n      this.Editor.Toolbar.open(true, false);\n      this.Editor.Toolbar.plusButton.hide();\n    }\n\n    /**\n     * If BlockSettings is not open, then open BlockSettings\n     * Next Tab press will leaf Settings Buttons\n     */\n    if (!this.Editor.BlockSettings.opened) {\n      this.Editor.BlockSettings.open();\n    }\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"28b86f9ee9eace3b5073b9505e9d8c5ebad0c407"});var l=t[n];return f=function(){return l},l}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=d(l),o=d(o),i=d(i),c=d(c),s=d(s),r=d(r),C=m(C),a=d(a),u=d(u),f();var E=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(p()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"keydown",value:function(n){switch(f().f[0]++,f().s[0]++,this.beforeKeydownProcessing(n),f().s[1]++,n.keyCode){case C.keyCodes.BACKSPACE:f().b[0][0]++,f().s[2]++,this.backspace(n),f().s[3]++;break;case C.keyCodes.ENTER:f().b[0][1]++,f().s[4]++,this.enter(n),f().s[5]++;break;case C.keyCodes.DOWN:f().b[0][2]++;case C.keyCodes.RIGHT:f().b[0][3]++,f().s[6]++,this.arrowRightAndDown(n),f().s[7]++;break;case C.keyCodes.UP:f().b[0][4]++;case C.keyCodes.LEFT:f().b[0][5]++,f().s[8]++,this.arrowLeftAndUp(n),f().s[9]++;break;case C.keyCodes.TAB:f().b[0][6]++,f().s[10]++,this.tabPressed(n),f().s[11]++}}},{key:"beforeKeydownProcessing",value:function(n){if(f().f[1]++,f().s[12]++,!this.needToolbarClosing(n))return f().b[1][0]++,void f().s[13]++;if(f().b[1][1]++,f().s[14]++,C.isPrintableKey(n.keyCode)){f().b[2][0]++,f().s[15]++,this.Editor.Toolbar.close(),f().s[16]++,this.Editor.ConversionToolbar.close();var A=(f().s[17]++,f().b[3][0]++,n.ctrlKey||(f().b[3][1]++,n.metaKey)||(f().b[3][2]++,n.altKey)||(f().b[3][3]++,n.shiftKey));f().s[18]++,A?f().b[4][1]++:(f().b[4][0]++,f().s[19]++,this.Editor.BlockManager.clearFocused(),f().s[20]++,this.Editor.BlockSelection.clearSelection(n))}else f().b[2][1]++}},{key:"keyup",value:function(n){if(f().f[2]++,f().s[21]++,n.shiftKey)return f().b[5][0]++,void f().s[22]++;f().b[5][1]++,f().s[23]++,this.Editor.UI.checkEmptiness()}},{key:"tabPressed",value:function(n){f().f[3]++,f().s[24]++,this.Editor.BlockSelection.clearSelection(n);var A=(f().s[25]++,this.Editor),e=A.BlockManager,t=A.Tools,l=A.InlineToolbar,o=A.ConversionToolbar,i=(f().s[26]++,e.currentBlock);if(f().s[27]++,!i)return f().b[6][0]++,void f().s[28]++;f().b[6][1]++;var c=(f().s[29]++,f().b[7][0]++,t.isDefault(i.tool)&&(f().b[7][1]++,i.isEmpty)),s=(f().s[30]++,f().b[8][0]++,!i.isEmpty&&(f().b[8][1]++,o.opened)),r=(f().s[31]++,f().b[9][0]++,!i.isEmpty&&(f().b[9][1]++,!a.default.isCollapsed)&&(f().b[9][2]++,l.opened));f().s[32]++,c?(f().b[10][0]++,f().s[33]++,this.activateToolbox()):(f().b[10][1]++,f().s[34]++,f().b[12][0]++,s||(f().b[12][1]++,r)?f().b[11][1]++:(f().b[11][0]++,f().s[35]++,this.activateBlockSettings()))}},{key:"dragOver",value:function(n){f().f[4]++;var A=(f().s[36]++,this.Editor.BlockManager.getBlockByChildNode(n.target));f().s[37]++,A.dropTarget=!0}},{key:"dragLeave",value:function(n){f().f[5]++;var A=(f().s[38]++,this.Editor.BlockManager.getBlockByChildNode(n.target));f().s[39]++,A.dropTarget=!1}},{key:"handleCommandC",value:function(n){f().f[6]++;var A=(f().s[40]++,this.Editor).BlockSelection;if(f().s[41]++,!A.anyBlockSelected)return f().b[13][0]++,void f().s[42]++;f().b[13][1]++,f().s[43]++,A.copySelectedBlocks(n)}},{key:"handleCommandX",value:function(n){f().f[7]++;var A=(f().s[44]++,this.Editor),e=A.BlockSelection,t=A.BlockManager,l=A.Caret;if(f().s[45]++,!e.anyBlockSelected)return f().b[14][0]++,void f().s[46]++;f().b[14][1]++,f().s[47]++,e.copySelectedBlocks(n);var o=(f().s[48]++,t.removeSelectedBlocks());f().s[49]++,l.setToBlock(t.insertDefaultBlockAtIndex(o,!0),l.positions.START),f().s[50]++,e.clearSelection(n)}},{key:"enter",value:function(n){f().f[8]++;var A=(f().s[51]++,this.Editor),e=A.BlockManager,t=A.Tools,l=A.UI,o=(f().s[52]++,e.currentBlock),i=(f().s[53]++,t.available[o.name]);if(f().s[54]++,f().b[16][0]++,i&&(f().b[16][1]++,i[t.INTERNAL_SETTINGS.IS_ENABLED_LINE_BREAKS]))return f().b[15][0]++,void f().s[55]++;if(f().b[15][1]++,f().s[56]++,f().b[18][0]++,l.someToolbarOpened&&(f().b[18][1]++,l.someFlipperButtonFocused))return f().b[17][0]++,void f().s[57]++;if(f().b[17][1]++,f().s[58]++,n.shiftKey)return f().b[19][0]++,void f().s[59]++;f().b[19][1]++;var c=(f().s[60]++,this.Editor.BlockManager.currentBlock);f().s[61]++,f().b[21][0]++,this.Editor.Caret.isAtStart&&(f().b[21][1]++,!this.Editor.BlockManager.currentBlock.hasMedia)?(f().b[20][0]++,f().s[62]++,this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex)):(f().b[20][1]++,f().s[63]++,c=this.Editor.BlockManager.split()),f().s[64]++,this.Editor.Caret.setToBlock(c),f().s[65]++,f().b[23][0]++,this.Editor.Tools.isDefault(c.tool)&&(f().b[23][1]++,c.isEmpty)?(f().b[22][0]++,f().s[66]++,this.Editor.Toolbar.open(!1),f().s[67]++,this.Editor.Toolbar.plusButton.show()):f().b[22][1]++,f().s[68]++,n.preventDefault()}},{key:"backspace",value:function(n){f().f[9]++;var A=(f().s[69]++,this.Editor),e=A.BlockManager,t=A.BlockSelection,l=A.Caret,o=(f().s[70]++,e.currentBlock),i=(f().s[71]++,this.Editor.Tools.available[o.name]);if(f().s[72]++,f().b[25][0]++,o.selected||(f().b[25][1]++,o.isEmpty&&(f().b[25][2]++,o.currentInput===o.firstInput))){f().b[24][0]++,f().s[73]++,n.preventDefault();var c=(f().s[74]++,e.currentBlockIndex);return f().s[75]++,f().b[27][0]++,e.previousBlock&&(f().b[27][1]++,0===e.previousBlock.inputs.length)?(f().b[26][0]++,f().s[76]++,e.removeBlock(c-1)):(f().b[26][1]++,f().s[77]++,e.removeBlock()),f().s[78]++,l.setToBlock(e.currentBlock,c?(f().b[28][0]++,l.positions.END):(f().b[28][1]++,l.positions.START)),f().s[79]++,this.Editor.Toolbar.close(),f().s[80]++,t.clearSelection(n),void f().s[81]++}if(f().b[24][1]++,f().s[82]++,f().b[30][0]++,i&&(f().b[30][1]++,i[this.Editor.Tools.INTERNAL_SETTINGS.IS_ENABLED_LINE_BREAKS])&&(f().b[30][2]++,!l.isAtStart))return f().b[29][0]++,void f().s[83]++;f().b[29][1]++;var s=(f().s[84]++,0===e.currentBlockIndex),r=(f().s[85]++,f().b[31][0]++,l.isAtStart&&(f().b[31][1]++,a.default.isCollapsed)&&(f().b[31][2]++,o.currentInput===o.firstInput)&&(f().b[31][3]++,!s));f().s[86]++,r?(f().b[32][0]++,f().s[87]++,n.preventDefault(),f().s[88]++,this.mergeBlocks()):f().b[32][1]++}},{key:"mergeBlocks",value:function(){f().f[10]++;var n=(f().s[89]++,this.Editor),A=n.BlockManager,e=n.Caret,t=n.Toolbar,l=(f().s[90]++,A.previousBlock),o=(f().s[91]++,A.currentBlock);if(f().s[92]++,f().b[34][0]++,o.name!==l.name||(f().b[34][1]++,!l.mergeable))return f().b[33][0]++,f().s[93]++,f().b[36][0]++,0===l.inputs.length||(f().b[36][1]++,l.isEmpty)?(f().b[35][0]++,f().s[94]++,A.removeBlock(A.currentBlockIndex-1),f().s[95]++,e.setToBlock(A.currentBlock),f().s[96]++,t.close(),void f().s[97]++):(f().b[35][1]++,f().s[98]++,e.navigatePrevious()?(f().b[37][0]++,f().s[99]++,t.close()):f().b[37][1]++,void f().s[100]++);f().b[33][1]++,f().s[101]++,e.createShadow(l.pluginsContent),f().s[102]++,A.mergeBlocks(l,o).then((function(){f().f[11]++,f().s[103]++,e.restoreCaret(l.pluginsContent),f().s[104]++,l.pluginsContent.normalize(),f().s[105]++,t.close()}))}},{key:"arrowRightAndDown",value:function(n){var A=this;f().f[12]++;var e=(f().s[106]++,f().b[38][0]++,u.default.usedKeys.includes(n.keyCode)&&(f().b[38][1]++,!n.shiftKey||(f().b[38][2]++,n.keyCode===C.keyCodes.TAB)));if(f().s[107]++,f().b[40][0]++,this.Editor.UI.someToolbarOpened&&(f().b[40][1]++,e))return f().b[39][0]++,void f().s[108]++;f().b[39][1]++,f().s[109]++,this.Editor.BlockManager.clearFocused(),f().s[110]++,this.Editor.Toolbar.close();var t=(f().s[111]++,f().b[41][0]++,this.Editor.Caret.isAtEnd||(f().b[41][1]++,this.Editor.BlockSelection.anyBlockSelected));if(f().s[112]++,f().b[43][0]++,n.shiftKey&&(f().b[43][1]++,n.keyCode===C.keyCodes.DOWN)&&(f().b[43][2]++,t))return f().b[42][0]++,f().s[113]++,this.Editor.CrossBlockSelection.toggleBlockSelectedState(),void f().s[114]++;f().b[42][1]++;var l=(f().s[115]++,f().b[44][0]++,n.keyCode===C.keyCodes.DOWN||(f().b[44][1]++,n.keyCode===C.keyCodes.RIGHT&&(f().b[44][2]++,!this.isRtl))),o=(f().s[116]++,l?(f().b[45][0]++,this.Editor.Caret.navigateNext()):(f().b[45][1]++,this.Editor.Caret.navigatePrevious()));f().s[117]++,o?(f().b[46][0]++,f().s[118]++,n.preventDefault()):(f().b[46][1]++,f().s[119]++,C.delay((function(){f().f[13]++,f().s[120]++,A.Editor.BlockManager.currentBlock?(f().b[47][0]++,f().s[121]++,A.Editor.BlockManager.currentBlock.updateCurrentInput()):f().b[47][1]++}),20)()),f().s[122]++,this.Editor.BlockSelection.clearSelection(n)}},{key:"arrowLeftAndUp",value:function(n){var A=this;if(f().f[14]++,f().s[123]++,this.Editor.UI.someToolbarOpened){if(f().b[48][0]++,f().s[124]++,f().b[50][0]++,u.default.usedKeys.includes(n.keyCode)&&(f().b[50][1]++,!n.shiftKey||(f().b[50][2]++,n.keyCode===C.keyCodes.TAB)))return f().b[49][0]++,void f().s[125]++;f().b[49][1]++,f().s[126]++,this.Editor.UI.closeAllToolbars()}else f().b[48][1]++;f().s[127]++,this.Editor.BlockManager.clearFocused(),f().s[128]++,this.Editor.Toolbar.close();var e=(f().s[129]++,f().b[51][0]++,this.Editor.Caret.isAtStart||(f().b[51][1]++,this.Editor.BlockSelection.anyBlockSelected));if(f().s[130]++,f().b[53][0]++,n.shiftKey&&(f().b[53][1]++,n.keyCode===C.keyCodes.UP)&&(f().b[53][2]++,e))return f().b[52][0]++,f().s[131]++,this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1),void f().s[132]++;f().b[52][1]++;var t=(f().s[133]++,f().b[54][0]++,n.keyCode===C.keyCodes.UP||(f().b[54][1]++,n.keyCode===C.keyCodes.LEFT&&(f().b[54][2]++,!this.isRtl))),l=(f().s[134]++,t?(f().b[55][0]++,this.Editor.Caret.navigatePrevious()):(f().b[55][1]++,this.Editor.Caret.navigateNext()));f().s[135]++,l?(f().b[56][0]++,f().s[136]++,n.preventDefault()):(f().b[56][1]++,f().s[137]++,C.delay((function(){f().f[15]++,f().s[138]++,A.Editor.BlockManager.currentBlock?(f().b[57][0]++,f().s[139]++,A.Editor.BlockManager.currentBlock.updateCurrentInput()):f().b[57][1]++}),20)()),f().s[140]++,this.Editor.BlockSelection.clearSelection(n)}},{key:"needToolbarClosing",value:function(n){f().f[16]++;var A=(f().s[141]++,f().b[58][0]++,n.keyCode===C.keyCodes.ENTER&&(f().b[58][1]++,this.Editor.Toolbox.opened)),e=(f().s[142]++,f().b[59][0]++,n.keyCode===C.keyCodes.ENTER&&(f().b[59][1]++,this.Editor.BlockSettings.opened)),t=(f().s[143]++,f().b[60][0]++,n.keyCode===C.keyCodes.ENTER&&(f().b[60][1]++,this.Editor.InlineToolbar.opened)),l=(f().s[144]++,f().b[61][0]++,n.keyCode===C.keyCodes.ENTER&&(f().b[61][1]++,this.Editor.ConversionToolbar.opened)),o=(f().s[145]++,n.keyCode===C.keyCodes.TAB);return f().s[146]++,f().b[62][0]++,!(n.shiftKey||(f().b[62][1]++,o)||(f().b[62][2]++,A)||(f().b[62][3]++,e)||(f().b[62][4]++,t)||(f().b[62][5]++,l))}},{key:"activateToolbox",value:function(){f().f[17]++,f().s[147]++,this.Editor.Toolbar.opened?f().b[63][1]++:(f().b[63][0]++,f().s[148]++,this.Editor.Toolbar.open(!1,!1),f().s[149]++,this.Editor.Toolbar.plusButton.show()),f().s[150]++,this.Editor.Toolbox.open()}},{key:"activateBlockSettings",value:function(){f().f[18]++,f().s[151]++,this.Editor.Toolbar.opened?f().b[64][1]++:(f().b[64][0]++,f().s[152]++,this.Editor.BlockManager.currentBlock.focused=!0,f().s[153]++,this.Editor.Toolbar.open(!0,!1),f().s[154]++,this.Editor.Toolbar.plusButton.hide()),f().s[155]++,this.Editor.BlockSettings.opened?f().b[65][1]++:(f().b[65][0]++,f().s[156]++,this.Editor.BlockSettings.open())}}]),t}(r.default);t.default=E,E.displayName="BlockEvents",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(61),e(7),e(15),e(8),e(383)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u,m,d,f){"use strict";var p=e(13),E=e(1);function I(){var n="/home/hata/editor.js/src/components/modules/blockManager.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"f785a087cbed326e61cd89aa29ac1fbff53950ee"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/blockManager.ts",statementMap:{0:{start:{line:21,column:8},end:{line:21,column:28}},1:{start:{line:27,column:8},end:{line:27,column:37}},2:{start:{line:34,column:8},end:{line:34,column:28}},3:{start:{line:42,column:8},end:{line:42,column:39}},4:{start:{line:50,column:8},end:{line:52,column:9}},5:{start:{line:51,column:12},end:{line:51,column:65}},6:{start:{line:53,column:8},end:{line:55,column:9}},7:{start:{line:54,column:12},end:{line:54,column:48}},8:{start:{line:56,column:8},end:{line:56,column:43}},9:{start:{line:64,column:8},end:{line:64,column:31}},10:{start:{line:72,column:8},end:{line:72,column:53}},11:{start:{line:80,column:8},end:{line:80,column:52}},12:{start:{line:88,column:28},end:{line:88,column:80}},13:{start:{line:89,column:8},end:{line:91,column:9}},14:{start:{line:90,column:12},end:{line:90,column:24}},15:{start:{line:92,column:8},end:{line:92,column:56}},16:{start:{line:100,column:27},end:{line:100,column:72}},17:{start:{line:101,column:8},end:{line:101,column:65}},18:{start:{line:101,column:42},end:{line:101,column:63}},19:{start:{line:109,column:31},end:{line:109,column:85}},20:{start:{line:110,column:8},end:{line:110,column:69}},21:{start:{line:110,column:46},end:{line:110,column:67}},22:{start:{line:118,column:29},end:{line:118,column:57}},23:{start:{line:119,column:8},end:{line:121,column:9}},24:{start:{line:120,column:12},end:{line:120,column:24}},25:{start:{line:122,column:8},end:{line:122,column:56}},26:{start:{line:130,column:8},end:{line:130,column:34}},27:{start:{line:138,column:8},end:{line:138,column:59}},28:{start:{line:138,column:44},end:{line:138,column:57}},29:{start:{line:145,column:23},end:{line:145,column:64}},30:{start:{line:160,column:8},end:{line:163,column:11}},31:{start:{line:165,column:8},end:{line:165,column:101}},32:{start:{line:165,column:58},end:{line:165,column:99}},33:{start:{line:179,column:8},end:{line:184,column:9}},34:{start:{line:180,column:12},end:{line:180,column:40}},35:{start:{line:183,column:12},end:{line:183,column:41}},36:{start:{line:196,column:25},end:{line:196,column:55}},37:{start:{line:197,column:25},end:{line:197,column:64}},38:{start:{line:198,column:21},end:{line:198,column:54}},39:{start:{line:199,column:22},end:{line:206,column:10}},40:{start:{line:207,column:8},end:{line:209,column:9}},41:{start:{line:208,column:12},end:{line:208,column:40}},42:{start:{line:210,column:8},end:{line:210,column:21}},43:{start:{line:225,column:23},end:{line:225,column:28}},44:{start:{line:226,column:8},end:{line:228,column:9}},45:{start:{line:227,column:12},end:{line:227,column:66}},46:{start:{line:229,column:22},end:{line:232,column:10}},47:{start:{line:233,column:8},end:{line:233,column:54}},48:{start:{line:234,column:8},end:{line:239,column:9}},49:{start:{line:235,column:12},end:{line:235,column:46}},50:{start:{line:237,column:13},end:{line:239,column:9}},51:{start:{line:238,column:12},end:{line:238,column:37}},52:{start:{line:240,column:8},end:{line:240,column:21}},53:{start:{line:252,column:8},end:{line:257,column:11}},54:{start:{line:267,column:22},end:{line:270,column:10}},55:{start:{line:271,column:8},end:{line:276,column:9}},56:{start:{line:272,column:12},end:{line:272,column:58}},57:{start:{line:275,column:12},end:{line:275,column:78}},58:{start:{line:277,column:8},end:{line:277,column:21}},59:{start:{line:290,column:22},end:{line:290,column:75}},60:{start:{line:291,column:8},end:{line:291,column:36}},61:{start:{line:292,column:8},end:{line:297,column:9}},62:{start:{line:293,column:12},end:{line:293,column:43}},63:{start:{line:295,column:13},end:{line:297,column:9}},64:{start:{line:296,column:12},end:{line:296,column:37}},65:{start:{line:298,column:8},end:{line:298,column:21}},66:{start:{line:309,column:8},end:{line:309,column:56}},67:{start:{line:313,column:8},end:{line:313,column:29}},68:{start:{line:324,column:34},end:{line:324,column:68}},69:{start:{line:325,column:8},end:{line:327,column:9}},70:{start:{line:326,column:12},end:{line:326,column:19}},71:{start:{line:328,column:33},end:{line:328,column:56}},72:{start:{line:329,column:8},end:{line:331,column:9}},73:{start:{line:330,column:12},end:{line:330,column:58}},74:{start:{line:332,column:8},end:{line:332,column:44}},75:{start:{line:333,column:8},end:{line:333,column:67}},76:{start:{line:345,column:8},end:{line:347,column:9}},77:{start:{line:346,column:12},end:{line:346,column:61}},78:{start:{line:348,column:8},end:{line:348,column:35}},79:{start:{line:349,column:8},end:{line:351,column:9}},80:{start:{line:350,column:12},end:{line:350,column:37}},81:{start:{line:355,column:8},end:{line:361,column:9}},82:{start:{line:356,column:12},end:{line:356,column:40}},83:{start:{line:357,column:12},end:{line:357,column:26}},84:{start:{line:359,column:13},end:{line:361,column:9}},85:{start:{line:360,column:12},end:{line:360,column:39}},86:{start:{line:374,column:8},end:{line:380,column:9}},87:{start:{line:374,column:25},end:{line:374,column:47}},88:{start:{line:375,column:12},end:{line:377,column:13}},89:{start:{line:376,column:16},end:{line:376,column:25}},90:{start:{line:378,column:12},end:{line:378,column:36}},91:{start:{line:379,column:12},end:{line:379,column:44}},92:{start:{line:381,column:8},end:{line:381,column:39}},93:{start:{line:389,column:8},end:{line:391,column:9}},94:{start:{line:389,column:25},end:{line:389,column:47}},95:{start:{line:390,column:12},end:{line:390,column:39}},96:{start:{line:392,column:8},end:{line:392,column:36}},97:{start:{line:393,column:8},end:{line:393,column:22}},98:{start:{line:394,column:8},end:{line:394,column:45}},99:{start:{line:404,column:34},end:{line:404,column:86}},100:{start:{line:405,column:24},end:{line:405,column:37}},101:{start:{line:406,column:8},end:{line:406,column:47}},102:{start:{line:410,column:21},end:{line:412,column:9}},103:{start:{line:418,column:8},end:{line:418,column:37}},104:{start:{line:428,column:8},end:{line:428,column:35}},105:{start:{line:438,column:8},end:{line:440,column:9}},106:{start:{line:439,column:12},end:{line:439,column:41}},107:{start:{line:441,column:22},end:{line:441,column:40}},108:{start:{line:441,column:60},end:{line:441,column:100}},109:{start:{line:441,column:110},end:{line:441,column:140}},110:{start:{line:442,column:8},end:{line:444,column:9}},111:{start:{line:443,column:12},end:{line:443,column:39}},112:{start:{line:453,column:8},end:{line:453,column:28}},113:{start:{line:459,column:8},end:{line:459,column:41}},114:{start:{line:465,column:8},end:{line:467,column:11}},115:{start:{line:466,column:12},end:{line:466,column:34}},116:{start:{line:481,column:8},end:{line:483,column:9}},117:{start:{line:482,column:12},end:{line:482,column:45}},118:{start:{line:484,column:38},end:{line:484,column:80}},119:{start:{line:485,column:8},end:{line:500,column:9}},120:{start:{line:491,column:12},end:{line:491,column:87}},121:{start:{line:495,column:12},end:{line:495,column:51}},122:{start:{line:496,column:12},end:{line:496,column:37}},123:{start:{line:499,column:12},end:{line:499,column:73}},124:{start:{line:513,column:8},end:{line:515,column:9}},125:{start:{line:514,column:12},end:{line:514,column:45}},126:{start:{line:516,column:32},end:{line:516,column:74}},127:{start:{line:517,column:8},end:{line:517,column:77}},128:{start:{line:517,column:43},end:{line:517,column:75}},129:{start:{line:529,column:8},end:{line:529,column:46}},130:{start:{line:531,column:8},end:{line:531,column:41}},131:{start:{line:541,column:8},end:{line:544,column:9}},132:{start:{line:542,column:12},end:{line:542,column:85}},133:{start:{line:543,column:12},end:{line:543,column:19}},134:{start:{line:545,column:8},end:{line:548,column:9}},135:{start:{line:546,column:12},end:{line:546,column:126}},136:{start:{line:547,column:12},end:{line:547,column:19}},137:{start:{line:550,column:8},end:{line:550,column:46}},138:{start:{line:552,column:8},end:{line:552,column:41}},139:{start:{line:559,column:8},end:{line:559,column:36}},140:{start:{line:560,column:8},end:{line:560,column:28}},141:{start:{line:570,column:8},end:{line:570,column:33}},142:{start:{line:571,column:8},end:{line:571,column:27}},143:{start:{line:572,column:8},end:{line:574,column:9}},144:{start:{line:573,column:12},end:{line:573,column:26}},145:{start:{line:578,column:8},end:{line:578,column:40}},146:{start:{line:585,column:8},end:{line:589,column:12}},147:{start:{line:586,column:12},end:{line:588,column:13}},148:{start:{line:587,column:16},end:{line:587,column:44}},149:{start:{line:597,column:32},end:{line:597,column:43}},150:{start:{line:598,column:8},end:{line:600,column:17}},151:{start:{line:599,column:12},end:{line:599,column:39}},152:{start:{line:601,column:8},end:{line:603,column:11}},153:{start:{line:602,column:12},end:{line:602,column:37}},154:{start:{line:604,column:8},end:{line:606,column:11}},155:{start:{line:605,column:12},end:{line:605,column:40}},156:{start:{line:607,column:8},end:{line:609,column:11}},157:{start:{line:608,column:12},end:{line:608,column:41}},158:{start:{line:615,column:8},end:{line:615,column:49}},159:{start:{line:622,column:8},end:{line:622,column:108}},160:{start:{line:622,column:65},end:{line:622,column:106}},161:{start:{line:623,column:8},end:{line:625,column:11}},162:{start:{line:624,column:12},end:{line:624,column:40}},163:{start:{line:635,column:8},end:{line:635,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:18},end:{line:35,column:5}},line:20},1:{name:"(anonymous_1)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:28},end:{line:43,column:5}},line:41},2:{name:"(anonymous_2)",decl:{start:{line:49,column:4},end:{line:49,column:5}},loc:{start:{line:49,column:36},end:{line:57,column:5}},line:49},3:{name:"(anonymous_3)",decl:{start:{line:63,column:4},end:{line:63,column:5}},loc:{start:{line:63,column:21},end:{line:65,column:5}},line:63},4:{name:"(anonymous_4)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:20},end:{line:73,column:5}},line:71},5:{name:"(anonymous_5)",decl:{start:{line:79,column:4},end:{line:79,column:5}},loc:{start:{line:79,column:23},end:{line:81,column:5}},line:79},6:{name:"(anonymous_6)",decl:{start:{line:87,column:4},end:{line:87,column:5}},loc:{start:{line:87,column:20},end:{line:93,column:5}},line:87},7:{name:"(anonymous_7)",decl:{start:{line:99,column:4},end:{line:99,column:5}},loc:{start:{line:99,column:30},end:{line:102,column:5}},line:99},8:{name:"(anonymous_8)",decl:{start:{line:101,column:31},end:{line:101,column:32}},loc:{start:{line:101,column:42},end:{line:101,column:63}},line:101},9:{name:"(anonymous_9)",decl:{start:{line:108,column:4},end:{line:108,column:5}},loc:{start:{line:108,column:34},end:{line:111,column:5}},line:108},10:{name:"(anonymous_10)",decl:{start:{line:110,column:35},end:{line:110,column:36}},loc:{start:{line:110,column:46},end:{line:110,column:67}},line:110},11:{name:"(anonymous_11)",decl:{start:{line:117,column:4},end:{line:117,column:5}},loc:{start:{line:117,column:24},end:{line:123,column:5}},line:117},12:{name:"(anonymous_12)",decl:{start:{line:129,column:4},end:{line:129,column:5}},loc:{start:{line:129,column:17},end:{line:131,column:5}},line:129},13:{name:"(anonymous_13)",decl:{start:{line:137,column:4},end:{line:137,column:5}},loc:{start:{line:137,column:24},end:{line:139,column:5}},line:137},14:{name:"(anonymous_14)",decl:{start:{line:138,column:33},end:{line:138,column:34}},loc:{start:{line:138,column:44},end:{line:138,column:57}},line:138},15:{name:"(anonymous_15)",decl:{start:{line:144,column:4},end:{line:144,column:5}},loc:{start:{line:144,column:14},end:{line:166,column:5}},line:144},16:{name:"(anonymous_16)",decl:{start:{line:165,column:51},end:{line:165,column:52}},loc:{start:{line:165,column:58},end:{line:165,column:99}},line:165},17:{name:"(anonymous_17)",decl:{start:{line:178,column:4},end:{line:178,column:5}},loc:{start:{line:178,column:36},end:{line:185,column:5}},line:178},18:{name:"(anonymous_18)",decl:{start:{line:195,column:4},end:{line:195,column:5}},loc:{start:{line:195,column:38},end:{line:211,column:5}},line:195},19:{name:"(anonymous_19)",decl:{start:{line:224,column:4},end:{line:224,column:5}},loc:{start:{line:224,column:109},end:{line:241,column:5}},line:224},20:{name:"(anonymous_20)",decl:{start:{line:251,column:4},end:{line:251,column:5}},loc:{start:{line:251,column:61},end:{line:258,column:5}},line:251},21:{name:"(anonymous_21)",decl:{start:{line:266,column:4},end:{line:266,column:5}},loc:{start:{line:266,column:49},end:{line:278,column:5}},line:266},22:{name:"(anonymous_22)",decl:{start:{line:289,column:4},end:{line:289,column:5}},loc:{start:{line:289,column:58},end:{line:299,column:5}},line:289},23:{name:"(anonymous_23)",decl:{start:{line:305,column:4},end:{line:305,column:5}},loc:{start:{line:305,column:18},end:{line:314,column:5}},line:305},24:{name:"(anonymous_24)",decl:{start:{line:323,column:4},end:{line:323,column:5}},loc:{start:{line:323,column:49},end:{line:334,column:5}},line:323},25:{name:"(anonymous_25)",decl:{start:{line:341,column:4},end:{line:341,column:5}},loc:{start:{line:341,column:48},end:{line:362,column:5}},line:341},26:{name:"(anonymous_26)",decl:{start:{line:369,column:4},end:{line:369,column:5}},loc:{start:{line:369,column:27},end:{line:382,column:5}},line:369},27:{name:"(anonymous_27)",decl:{start:{line:388,column:4},end:{line:388,column:5}},loc:{start:{line:388,column:22},end:{line:395,column:5}},line:388},28:{name:"(anonymous_28)",decl:{start:{line:403,column:4},end:{line:403,column:5}},loc:{start:{line:403,column:12},end:{line:419,column:5}},line:403},29:{name:"(anonymous_29)",decl:{start:{line:427,column:4},end:{line:427,column:5}},loc:{start:{line:427,column:27},end:{line:429,column:5}},line:427},30:{name:"(anonymous_30)",decl:{start:{line:437,column:4},end:{line:437,column:5}},loc:{start:{line:437,column:22},end:{line:445,column:5}},line:437},31:{name:"(anonymous_31)",decl:{start:{line:449,column:4},end:{line:449,column:5}},loc:{start:{line:449,column:27},end:{line:460,column:5}},line:449},32:{name:"(anonymous_32)",decl:{start:{line:464,column:4},end:{line:464,column:5}},loc:{start:{line:464,column:19},end:{line:468,column:5}},line:464},33:{name:"(anonymous_33)",decl:{start:{line:465,column:28},end:{line:465,column:29}},loc:{start:{line:465,column:39},end:{line:467,column:9}},line:465},34:{name:"(anonymous_34)",decl:{start:{line:477,column:4},end:{line:477,column:5}},loc:{start:{line:477,column:42},end:{line:501,column:5}},line:477},35:{name:"(anonymous_35)",decl:{start:{line:509,column:4},end:{line:509,column:5}},loc:{start:{line:509,column:35},end:{line:518,column:5}},line:509},36:{name:"(anonymous_36)",decl:{start:{line:517,column:32},end:{line:517,column:33}},loc:{start:{line:517,column:43},end:{line:517,column:75}},line:517},37:{name:"(anonymous_37)",decl:{start:{line:527,column:4},end:{line:527,column:5}},loc:{start:{line:527,column:29},end:{line:532,column:5}},line:527},38:{name:"(anonymous_38)",decl:{start:{line:539,column:4},end:{line:539,column:5}},loc:{start:{line:539,column:54},end:{line:553,column:5}},line:539},39:{name:"(anonymous_39)",decl:{start:{line:558,column:4},end:{line:558,column:5}},loc:{start:{line:558,column:18},end:{line:561,column:5}},line:558},40:{name:"(anonymous_40)",decl:{start:{line:569,column:4},end:{line:569,column:5}},loc:{start:{line:569,column:41},end:{line:579,column:5}},line:569},41:{name:"(anonymous_41)",decl:{start:{line:584,column:4},end:{line:584,column:5}},loc:{start:{line:584,column:20},end:{line:590,column:5}},line:584},42:{name:"(anonymous_42)",decl:{start:{line:585,column:42},end:{line:585,column:43}},loc:{start:{line:585,column:53},end:{line:589,column:9}},line:585},43:{name:"(anonymous_43)",decl:{start:{line:596,column:4},end:{line:596,column:5}},loc:{start:{line:596,column:27},end:{line:610,column:5}},line:596},44:{name:"(anonymous_44)",decl:{start:{line:598,column:66},end:{line:598,column:67}},loc:{start:{line:598,column:77},end:{line:600,column:9}},line:598},45:{name:"(anonymous_45)",decl:{start:{line:601,column:64},end:{line:601,column:65}},loc:{start:{line:601,column:75},end:{line:603,column:9}},line:601},46:{name:"(anonymous_46)",decl:{start:{line:604,column:67},end:{line:604,column:68}},loc:{start:{line:604,column:78},end:{line:606,column:9}},line:604},47:{name:"(anonymous_47)",decl:{start:{line:607,column:68},end:{line:607,column:69}},loc:{start:{line:607,column:79},end:{line:609,column:9}},line:607},48:{name:"(anonymous_48)",decl:{start:{line:614,column:4},end:{line:614,column:5}},loc:{start:{line:614,column:28},end:{line:616,column:5}},line:614},49:{name:"(anonymous_49)",decl:{start:{line:620,column:4},end:{line:620,column:5}},loc:{start:{line:620,column:27},end:{line:626,column:5}},line:620},50:{name:"(anonymous_50)",decl:{start:{line:622,column:58},end:{line:622,column:59}},loc:{start:{line:622,column:65},end:{line:622,column:106}},line:622},51:{name:"(anonymous_51)",decl:{start:{line:623,column:28},end:{line:623,column:29}},loc:{start:{line:623,column:39},end:{line:625,column:9}},line:623},52:{name:"(anonymous_52)",decl:{start:{line:634,column:4},end:{line:634,column:5}},loc:{start:{line:634,column:25},end:{line:636,column:5}},line:634}},branchMap:{0:{loc:{start:{line:50,column:8},end:{line:52,column:9}},type:"if",locations:[{start:{line:50,column:8},end:{line:52,column:9}},{start:{line:50,column:8},end:{line:52,column:9}}],line:50},1:{loc:{start:{line:53,column:8},end:{line:55,column:9}},type:"if",locations:[{start:{line:53,column:8},end:{line:55,column:9}},{start:{line:53,column:8},end:{line:55,column:9}}],line:53},2:{loc:{start:{line:89,column:8},end:{line:91,column:9}},type:"if",locations:[{start:{line:89,column:8},end:{line:91,column:9}},{start:{line:89,column:8},end:{line:91,column:9}}],line:89},3:{loc:{start:{line:119,column:8},end:{line:121,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:121,column:9}},{start:{line:119,column:8},end:{line:121,column:9}}],line:119},4:{loc:{start:{line:179,column:8},end:{line:184,column:9}},type:"if",locations:[{start:{line:179,column:8},end:{line:184,column:9}},{start:{line:179,column:8},end:{line:184,column:9}}],line:179},5:{loc:{start:{line:195,column:25},end:{line:195,column:34}},type:"default-arg",locations:[{start:{line:195,column:32},end:{line:195,column:34}}],line:195},6:{loc:{start:{line:207,column:8},end:{line:209,column:9}},type:"if",locations:[{start:{line:207,column:8},end:{line:209,column:9}},{start:{line:207,column:8},end:{line:209,column:9}}],line:207},7:{loc:{start:{line:224,column:11},end:{line:224,column:107}},type:"default-arg",locations:[{start:{line:224,column:105},end:{line:224,column:107}}],line:224},8:{loc:{start:{line:224,column:13},end:{line:224,column:44}},type:"default-arg",locations:[{start:{line:224,column:20},end:{line:224,column:44}}],line:224},9:{loc:{start:{line:224,column:46},end:{line:224,column:55}},type:"default-arg",locations:[{start:{line:224,column:53},end:{line:224,column:55}}],line:224},10:{loc:{start:{line:224,column:64},end:{line:224,column:82}},type:"default-arg",locations:[{start:{line:224,column:78},end:{line:224,column:82}}],line:224},11:{loc:{start:{line:224,column:84},end:{line:224,column:99}},type:"default-arg",locations:[{start:{line:224,column:94},end:{line:224,column:99}}],line:224},12:{loc:{start:{line:226,column:8},end:{line:228,column:9}},type:"if",locations:[{start:{line:226,column:8},end:{line:228,column:9}},{start:{line:226,column:8},end:{line:228,column:9}}],line:226},13:{loc:{start:{line:227,column:49},end:{line:227,column:64}},type:"cond-expr",locations:[{start:{line:227,column:59},end:{line:227,column:60}},{start:{line:227,column:63},end:{line:227,column:64}}],line:227},14:{loc:{start:{line:234,column:8},end:{line:239,column:9}},type:"if",locations:[{start:{line:234,column:8},end:{line:239,column:9}},{start:{line:234,column:8},end:{line:239,column:9}}],line:234},15:{loc:{start:{line:237,column:13},end:{line:239,column:9}},type:"if",locations:[{start:{line:237,column:13},end:{line:239,column:9}},{start:{line:237,column:13},end:{line:239,column:9}}],line:237},16:{loc:{start:{line:251,column:14},end:{line:251,column:45}},type:"default-arg",locations:[{start:{line:251,column:21},end:{line:251,column:45}}],line:251},17:{loc:{start:{line:251,column:47},end:{line:251,column:56}},type:"default-arg",locations:[{start:{line:251,column:54},end:{line:251,column:56}}],line:251},18:{loc:{start:{line:266,column:32},end:{line:266,column:47}},type:"default-arg",locations:[{start:{line:266,column:42},end:{line:266,column:47}}],line:266},19:{loc:{start:{line:289,column:37},end:{line:289,column:56}},type:"default-arg",locations:[{start:{line:289,column:51},end:{line:289,column:56}}],line:289},20:{loc:{start:{line:292,column:8},end:{line:297,column:9}},type:"if",locations:[{start:{line:292,column:8},end:{line:297,column:9}},{start:{line:292,column:8},end:{line:297,column:9}}],line:292},21:{loc:{start:{line:295,column:13},end:{line:297,column:9}},type:"if",locations:[{start:{line:295,column:13},end:{line:297,column:9}},{start:{line:295,column:13},end:{line:297,column:9}}],line:295},22:{loc:{start:{line:325,column:8},end:{line:327,column:9}},type:"if",locations:[{start:{line:325,column:8},end:{line:327,column:9}},{start:{line:325,column:8},end:{line:327,column:9}}],line:325},23:{loc:{start:{line:329,column:8},end:{line:331,column:9}},type:"if",locations:[{start:{line:329,column:8},end:{line:331,column:9}},{start:{line:329,column:8},end:{line:331,column:9}}],line:329},24:{loc:{start:{line:341,column:16},end:{line:341,column:46}},type:"default-arg",locations:[{start:{line:341,column:24},end:{line:341,column:46}}],line:341},25:{loc:{start:{line:345,column:8},end:{line:347,column:9}},type:"if",locations:[{start:{line:345,column:8},end:{line:347,column:9}},{start:{line:345,column:8},end:{line:347,column:9}}],line:345},26:{loc:{start:{line:349,column:8},end:{line:351,column:9}},type:"if",locations:[{start:{line:349,column:8},end:{line:351,column:9}},{start:{line:349,column:8},end:{line:351,column:9}}],line:349},27:{loc:{start:{line:355,column:8},end:{line:361,column:9}},type:"if",locations:[{start:{line:355,column:8},end:{line:361,column:9}},{start:{line:355,column:8},end:{line:361,column:9}}],line:355},28:{loc:{start:{line:359,column:13},end:{line:361,column:9}},type:"if",locations:[{start:{line:359,column:13},end:{line:361,column:9}},{start:{line:359,column:13},end:{line:361,column:9}}],line:359},29:{loc:{start:{line:375,column:12},end:{line:377,column:13}},type:"if",locations:[{start:{line:375,column:12},end:{line:377,column:13}},{start:{line:375,column:12},end:{line:377,column:13}}],line:375},30:{loc:{start:{line:411,column:18},end:{line:411,column:61}},type:"cond-expr",locations:[{start:{line:411,column:39},end:{line:411,column:41}},{start:{line:411,column:44},end:{line:411,column:61}}],line:411},31:{loc:{start:{line:438,column:8},end:{line:440,column:9}},type:"if",locations:[{start:{line:438,column:8},end:{line:440,column:9}},{start:{line:438,column:8},end:{line:440,column:9}}],line:438},32:{loc:{start:{line:442,column:8},end:{line:444,column:9}},type:"if",locations:[{start:{line:442,column:8},end:{line:444,column:9}},{start:{line:442,column:8},end:{line:444,column:9}}],line:442},33:{loc:{start:{line:481,column:8},end:{line:483,column:9}},type:"if",locations:[{start:{line:481,column:8},end:{line:483,column:9}},{start:{line:481,column:8},end:{line:483,column:9}}],line:481},34:{loc:{start:{line:485,column:8},end:{line:500,column:9}},type:"if",locations:[{start:{line:485,column:8},end:{line:500,column:9}},{start:{line:485,column:8},end:{line:500,column:9}}],line:485},35:{loc:{start:{line:513,column:8},end:{line:515,column:9}},type:"if",locations:[{start:{line:513,column:8},end:{line:515,column:9}},{start:{line:513,column:8},end:{line:515,column:9}}],line:513},36:{loc:{start:{line:539,column:18},end:{line:539,column:52}},type:"default-arg",locations:[{start:{line:539,column:30},end:{line:539,column:52}}],line:539},37:{loc:{start:{line:541,column:8},end:{line:544,column:9}},type:"if",locations:[{start:{line:541,column:8},end:{line:544,column:9}},{start:{line:541,column:8},end:{line:544,column:9}}],line:541},38:{loc:{start:{line:541,column:12},end:{line:541,column:46}},type:"binary-expr",locations:[{start:{line:541,column:12},end:{line:541,column:26}},{start:{line:541,column:30},end:{line:541,column:46}}],line:541},39:{loc:{start:{line:545,column:8},end:{line:548,column:9}},type:"if",locations:[{start:{line:545,column:8},end:{line:548,column:9}},{start:{line:545,column:8},end:{line:548,column:9}}],line:545},40:{loc:{start:{line:545,column:12},end:{line:545,column:74}},type:"binary-expr",locations:[{start:{line:545,column:12},end:{line:545,column:40}},{start:{line:545,column:44},end:{line:545,column:74}}],line:545},41:{loc:{start:{line:569,column:10},end:{line:569,column:39}},type:"default-arg",locations:[{start:{line:569,column:34},end:{line:569,column:39}}],line:569},42:{loc:{start:{line:572,column:8},end:{line:574,column:9}},type:"if",locations:[{start:{line:572,column:8},end:{line:574,column:9}},{start:{line:572,column:8},end:{line:574,column:9}}],line:572},43:{loc:{start:{line:586,column:12},end:{line:588,column:13}},type:"if",locations:[{start:{line:586,column:12},end:{line:588,column:13}},{start:{line:586,column:12},end:{line:588,column:13}}],line:586},44:{loc:{start:{line:635,column:17},end:{line:635,column:58}},type:"binary-expr",locations:[{start:{line:635,column:17},end:{line:635,column:26}},{start:{line:635,column:30},end:{line:635,column:58}}],line:635}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0],6:[0,0],7:[0],8:[0],9:[0],10:[0],11:[0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0],17:[0],18:[0],19:[0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0],42:[0,0],43:[0,0],44:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/blockManager.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/blockManager.ts"],names:[],mappings:"AAAA;;;;;;;GAOG;AACH,OAAO,KAAK,EAAE,EAAE,YAAY,EAAE,MAAM,UAAU,CAAC;AAC/C,OAAO,MAAM,MAAM,aAAa,CAAC;AACjC,OAAO,CAAC,MAAM,QAAQ,CAAC;AACvB,OAAO,KAAK,CAAC,MAAM,UAAU,CAAC;AAC9B,OAAO,MAAM,MAAM,WAAW,CAAC;AAG/B;;;;GAIG;AACH,MAAM,CAAC,OAAO,OAAO,YAAa,SAAQ,MAAM;IAAhD;;QA4HE;;;;WAIG;QACK,uBAAkB,GAAG,CAAC,CAAC,CAAC;QAEhC;;;;;WAKG;QACK,YAAO,GAAW,IAAI,CAAC;IAwlBjC,CAAC;IAhuBC;;;;OAIG;IACH,IAAW,iBAAiB;QAC1B,OAAO,IAAI,CAAC,kBAAkB,CAAC;IACjC,CAAC;IAED;;;;OAIG;IACH,IAAW,iBAAiB,CAAC,QAAgB;QAC3C,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,EAAE;YACzC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,YAAY,EAAE,CAAC;SACtD;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;YAC1B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC;SACrC;QAED,IAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC;IACrC,CAAC;IAED;;;;OAIG;IACH,IAAW,UAAU;QACnB,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACzB,CAAC;IAED;;;;OAIG;IACH,IAAW,SAAS;QAClB,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IAC/C,CAAC;IAED;;;;OAIG;IACH,IAAW,YAAY;QACrB,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAC9C,CAAC;IAED;;;;OAIG;IACH,IAAW,SAAS;QAClB,MAAM,WAAW,GAAG,IAAI,CAAC,iBAAiB,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAEzE,IAAI,WAAW,EAAE;YACf,OAAO,IAAI,CAAC;SACb;QAED,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;IAClD,CAAC;IAED;;;;OAIG;IACH,IAAW,mBAAmB;QAC5B,MAAM,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;QAEjE,OAAO,UAAU,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC3D,CAAC;IAED;;;;OAIG;IACH,IAAW,uBAAuB;QAChC,MAAM,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC,OAAO,EAAE,CAAC;QAE9E,OAAO,cAAc,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC/D,CAAC;IAED;;;;OAIG;IACH,IAAW,aAAa;QACtB,MAAM,YAAY,GAAG,IAAI,CAAC,iBAAiB,KAAK,CAAC,CAAC;QAElD,IAAI,YAAY,EAAE;YAChB,OAAO,IAAI,CAAC;SACb;QAED,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;IAClD,CAAC;IAED;;;;OAIG;IACH,IAAW,MAAM;QACf,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;IAC5B,CAAC;IAED;;;;OAIG;IACH,IAAW,aAAa;QACtB,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IACrD,CAAC;IAiBD;;;OAGG;IACI,OAAO;QACZ,MAAM,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAEzD;;;;;;;;;;;;;WAaG;QACH,IAAI,CAAC,OAAO,GAAG,IAAI,KAAK,CAAC,MAAM,EAAE;YAC/B,GAAG,EAAE,MAAM,CAAC,GAAG;YACf,GAAG,EAAE,MAAM,CAAC,GAAG;SAChB,CAAC,CAAC;QAEH,iBAAiB;QACjB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CACtB,QAAQ,EACR,MAAM,EACN,CAAC,CAAiB,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,CAAC,CACjE,CAAC;IACJ,CAAC;IAED;;;;;;;;;;OAUG;IACI,cAAc,CAAC,eAAwB;QAC5C,IAAI,CAAC,eAAe,EAAE;YACpB,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B;aAAM;YACL,IAAI,CAAC,qBAAqB,EAAE,CAAC;SAC9B;IACH,CAAC;IAED;;;;;;;;OAQG;IACI,YAAY,CAAC,EAAE,IAAI,EAAE,IAAI,GAAG,EAAE,EAAwC;QAC3E,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC;QAChD,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QACzD,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAA2B,CAAC;QACzE,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC;YACtB,IAAI,EAAE,IAAI;YACV,IAAI;YACJ,IAAI;YACJ,QAAQ;YACR,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG;YACpB,QAAQ;SACT,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,EAAE;YACb,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;SAC7B;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;;;;;;;;OAWG;IACI,MAAM,CAAC,EACZ,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,EAC/B,IAAI,GAAG,EAAE,EACT,KAAK,EACL,WAAW,GAAG,IAAI,EAClB,OAAO,GAAG,KAAK,MAOb,EAAE;QACJ,IAAI,QAAQ,GAAG,KAAK,CAAC;QAErB,IAAI,QAAQ,KAAK,SAAS,EAAE;YAC1B,QAAQ,GAAG,IAAI,CAAC,iBAAiB,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SACvD;QAED,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;YAC9B,IAAI;YACJ,IAAI;SACL,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QAE9C,IAAI,WAAW,EAAE;YACf,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC;SACnC;aAAM,IAAI,QAAQ,IAAI,IAAI,CAAC,iBAAiB,EAAE;YAC7C,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC1B;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;;;;;OAQG;IACI,OAAO,CAAC,EACb,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,EAC/B,IAAI,GAAG,EAAE,GACV;QACC,OAAO,IAAI,CAAC,MAAM,CAAC;YACjB,IAAI;YACJ,IAAI;YACJ,KAAK,EAAE,IAAI,CAAC,iBAAiB;YAC7B,OAAO,EAAE,IAAI;SACd,CAAC,CAAC;IACL,CAAC;IAED;;;;;;OAMG;IACI,KAAK,CACV,QAAgB,EAChB,UAAsB,EACtB,OAAO,GAAG,KAAK;QAEf,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;YACxB,IAAI,EAAE,QAAQ;YACd,OAAO;SACR,CAAC,CAAC;QAEH,IAAI;YACF,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;SAC/C;QAAC,OAAO,CAAC,EAAE;YACV,CAAC,CAAC,GAAG,CAAC,GAAG,QAAQ,mCAAmC,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;SACnE;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;;;;;;OASG;IACI,yBAAyB,CAAC,KAAa,EAAE,WAAW,GAAG,KAAK;QACjE,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC;QAEpE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;QAE5B,IAAI,WAAW,EAAE;YACf,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;SAChC;aAAM,IAAI,KAAK,IAAI,IAAI,CAAC,iBAAiB,EAAE;YAC1C,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC1B;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;OAIG;IACI,WAAW;QAChB;;WAEG;QACH,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;QAEhD;;WAEG;QACH,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;IACvB,CAAC;IAED;;;;;;;OAOG;IACI,KAAK,CAAC,WAAW,CAAC,WAAkB,EAAE,YAAmB;QAC9D,MAAM,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QAE7D,IAAI,YAAY,CAAC,OAAO,EAAE;YACxB,OAAO;SACR;QAED,MAAM,gBAAgB,GAAG,MAAM,YAAY,CAAC,IAAI,CAAC;QAEjD,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,gBAAgB,CAAC,EAAE;YAChC,MAAM,WAAW,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;SAC/C;QAED,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;QACpC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;IAC7D,CAAC;IAED;;;;;OAKG;IACI,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB;QAC/C;;WAEG;QACH,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE;YAC9B,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;SAClD;QAED,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAE3B,IAAI,IAAI,CAAC,iBAAiB,IAAI,KAAK,EAAE;YACnC,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC1B;QAED;;WAEG;QACH,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;YACvB,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;aAAM,IAAI,KAAK,KAAK,CAAC,EAAE;YACtB,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;SAC5B;IACH,CAAC;IAED;;;;;OAKG;IACI,oBAAoB;QACzB,IAAI,uBAAuB,CAAC;QAE5B;;WAEG;QACH,KAAK,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE;YAC5D,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE;gBAChC,SAAS;aACV;YAED,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YACxB,uBAAuB,GAAG,KAAK,CAAC;SACjC;QAED,OAAO,uBAAuB,CAAC;IACjC,CAAC;IAED;;;;OAIG;IACI,eAAe;QACpB,KAAK,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE;YAC5D,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SAC5B;QAED,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;IACvC,CAAC;IAED;;;;;;OAMG;IACI,KAAK;QACV,MAAM,iBAAiB,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,EAAE,CAAC;QAC/E,MAAM,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE9B,OAAO,CAAC,WAAW,CAAC,iBAAqC,CAAC,CAAC;QAE3D;;WAEG;QACH,MAAM,IAAI,GAAG;YACX,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS;SAClD,CAAC;QAEF;;;;WAIG;QACH,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;IAC/B,CAAC;IAED;;;;;;OAMG;IACI,eAAe,CAAC,KAAK;QAC1B,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC7B,CAAC;IAED;;;;;;OAMG;IACI,QAAQ,CAAC,OAAoB;QAClC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,CAAY,EAAE;YACpC,OAAO,GAAG,OAAO,CAAC,UAAyB,CAAC;SAC7C;QAED,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAC5B,eAAe,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,EAC1D,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,eAA8B,CAAC,CAAC;QAE1D,IAAI,KAAK,IAAI,CAAC,EAAE;YACd,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SAC5B;IACH,CAAC;IAED;;OAEG;IACI,oBAAoB;QACzB;;WAEG;QACH,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB;;;;WAIG;QACH,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,IAAI,CAAC;IACnC,CAAC;IAED;;OAEG;IACI,YAAY;QACjB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YAC5B,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;QACxB,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;;;;;OAOG;IACI,0BAA0B,CAAC,SAAe;QAC/C;;WAEG;QACH,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;YAC3B,SAAS,GAAG,SAAS,CAAC,UAAU,CAAC;SAClC;QAED,MAAM,qBAAqB,GAAI,SAAyB,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;QAE1F,IAAI,qBAAqB,EAAE;YACzB;;;;eAIG;YACH,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,qBAAoC,CAAC,CAAC;YAE1F;;eAEG;YACH,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,CAAC;YAEvC,OAAO,IAAI,CAAC,YAAY,CAAC;SAC1B;aAAM;YACL,MAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC;SAC9D;IACH,CAAC;IAED;;;;;;OAMG;IACI,mBAAmB,CAAC,SAAe;QACxC;;WAEG;QACH,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;YAC3B,SAAS,GAAG,SAAS,CAAC,UAAU,CAAC;SAClC;QAED,MAAM,eAAe,GAAI,SAAyB,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;QAEpF,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,MAAM,KAAK,eAAe,CAAC,CAAC;IACvE,CAAC;IAED;;;;;;;OAOG;IACI,IAAI,CAAC,SAAS,EAAE,OAAO;QAC5B,4BAA4B;QAC5B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QAEtC,sEAAsE;QACtE,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC;IACnC,CAAC;IAED;;;;;OAKG;IACI,IAAI,CAAC,OAAO,EAAE,SAAS,GAAG,IAAI,CAAC,iBAAiB;QACrD,uDAAuD;QACvD,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC,EAAE;YACtC,CAAC,CAAC,GAAG,CAAC,yDAAyD,EAAE,MAAM,CAAC,CAAC;YAEzE,OAAO;SACR;QAED,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,EAAE;YAClE,CAAC,CAAC,GAAG,CAAC,kGAAkG,EAAE,MAAM,CAAC,CAAC;YAElH,OAAO;SACR;QAED,4BAA4B;QAC5B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;QAEtC,iEAAiE;QACjE,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC;IACnC,CAAC;IAED;;;OAGG;IACI,WAAW;QAChB,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED;;;;;;OAMG;IACI,KAAK,CAAC,qBAAqB,GAAG,KAAK;QACxC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;QACzB,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI,qBAAqB,EAAE;YACzB,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;QAED;;WAEG;QACH,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC;IAClC,CAAC;IAED;;;OAGG;IACI,KAAK,CAAC,OAAO;QAClB,MAAM,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE;YAC1C,IAAI,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;gBACpC,OAAO,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;aAC7B;QACH,CAAC,CAAC,CAAC,CAAC;IACN,CAAC;IAED;;;;OAIG;IACK,eAAe,CAAC,KAAY;QAClC,MAAM,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QAEpC,IAAI,CAAC,wBAAwB,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,SAAS,EAAE,CAAC,KAAoB,EAAE,EAAE;YACjF,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC7B,CAAC,EAAE,IAAI,CAAC,CAAC;QAET,IAAI,CAAC,wBAAwB,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,OAAO,EAAE,CAAC,KAAoB,EAAE,EAAE;YAC/E,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,wBAAwB,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,EAAE,CAAC,KAAgB,EAAE,EAAE;YAC9E,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,wBAAwB,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,WAAW,EAAE,CAAC,KAAgB,EAAE,EAAE;YAC/E,WAAW,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;OAEG;IACK,qBAAqB;QAC3B,IAAI,CAAC,wBAAwB,CAAC,QAAQ,EAAE,CAAC;IAC3C,CAAC;IAED;;OAEG;IACK,oBAAoB;QAC1B,gBAAgB;QAChB,IAAI,CAAC,wBAAwB,CAAC,EAAE,CAC9B,QAAQ,EACR,KAAK,EACL,CAAC,CAAiB,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,CAAC,CACjE,CAAC;QAEF,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAY,EAAE,EAAE;YACnC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;;;;OAMG;IACK,aAAa,CAAC,KAAa;QACjC,OAAO,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IACtD,CAAC;CACF",sourcesContent:["/**\n * @class BlockManager\n * @classdesc Manage editor`s blocks storage and appearance\n *\n * @module BlockManager\n *\n * @version 2.0.0\n */\nimport Block, { BlockToolAPI } from '../block';\nimport Module from '../__module';\nimport $ from '../dom';\nimport * as _ from '../utils';\nimport Blocks from '../blocks';\nimport { BlockToolConstructable, BlockToolData, PasteEvent } from '../../../types';\n\n/**\n * @typedef {BlockManager} BlockManager\n * @property {number} currentBlockIndex - Index of current working block\n * @property {Proxy} _blocks - Proxy for Blocks instance {@link Blocks}\n */\nexport default class BlockManager extends Module {\n  /**\n   * Returns current Block index\n   *\n   * @returns {number}\n   */\n  public get currentBlockIndex(): number {\n    return this._currentBlockIndex;\n  }\n\n  /**\n   * Set current Block index and fire Block lifecycle callbacks\n   *\n   * @param {number} newIndex - index of Block to set as current\n   */\n  public set currentBlockIndex(newIndex: number) {\n    if (this._blocks[this._currentBlockIndex]) {\n      this._blocks[this._currentBlockIndex].willUnselect();\n    }\n\n    if (this._blocks[newIndex]) {\n      this._blocks[newIndex].willSelect();\n    }\n\n    this._currentBlockIndex = newIndex;\n  }\n\n  /**\n   * returns first Block\n   *\n   * @returns {Block}\n   */\n  public get firstBlock(): Block {\n    return this._blocks[0];\n  }\n\n  /**\n   * returns last Block\n   *\n   * @returns {Block}\n   */\n  public get lastBlock(): Block {\n    return this._blocks[this._blocks.length - 1];\n  }\n\n  /**\n   * Get current Block instance\n   *\n   * @returns {Block}\n   */\n  public get currentBlock(): Block {\n    return this._blocks[this.currentBlockIndex];\n  }\n\n  /**\n   * Returns next Block instance\n   *\n   * @returns {Block|null}\n   */\n  public get nextBlock(): Block {\n    const isLastBlock = this.currentBlockIndex === (this._blocks.length - 1);\n\n    if (isLastBlock) {\n      return null;\n    }\n\n    return this._blocks[this.currentBlockIndex + 1];\n  }\n\n  /**\n   * Return first Block with inputs after current Block\n   *\n   * @returns {Block | undefined}\n   */\n  public get nextContentfulBlock(): Block {\n    const nextBlocks = this.blocks.slice(this.currentBlockIndex + 1);\n\n    return nextBlocks.find((block) => !!block.inputs.length);\n  }\n\n  /**\n   * Return first Block with inputs before current Block\n   *\n   * @returns {Block | undefined}\n   */\n  public get previousContentfulBlock(): Block {\n    const previousBlocks = this.blocks.slice(0, this.currentBlockIndex).reverse();\n\n    return previousBlocks.find((block) => !!block.inputs.length);\n  }\n\n  /**\n   * Returns previous Block instance\n   *\n   * @returns {Block|null}\n   */\n  public get previousBlock(): Block {\n    const isFirstBlock = this.currentBlockIndex === 0;\n\n    if (isFirstBlock) {\n      return null;\n    }\n\n    return this._blocks[this.currentBlockIndex - 1];\n  }\n\n  /**\n   * Get array of Block instances\n   *\n   * @returns {Block[]} {@link Blocks#array}\n   */\n  public get blocks(): Block[] {\n    return this._blocks.array;\n  }\n\n  /**\n   * Check if each Block is empty\n   *\n   * @returns {boolean}\n   */\n  public get isEditorEmpty(): boolean {\n    return this.blocks.every((block) => block.isEmpty);\n  }\n\n  /**\n   * Index of current working block\n   *\n   * @type {number}\n   */\n  private _currentBlockIndex = -1;\n\n  /**\n   * Proxy for Blocks instance {@link Blocks}\n   *\n   * @type {Proxy}\n   * @private\n   */\n  private _blocks: Blocks = null;\n\n  /**\n   * Should be called after Editor.UI preparation\n   * Define this._blocks property\n   */\n  public prepare(): void {\n    const blocks = new Blocks(this.Editor.UI.nodes.redactor);\n\n    /**\n     * We need to use Proxy to overload set/get [] operator.\n     * So we can use array-like syntax to access blocks\n     *\n     * @example\n     * this._blocks[0] = new Block(...);\n     *\n     * block = this._blocks[0];\n     *\n     * @todo proxy the enumerate method\n     *\n     * @type {Proxy}\n     * @private\n     */\n    this._blocks = new Proxy(blocks, {\n      set: Blocks.set,\n      get: Blocks.get,\n    });\n\n    /** Copy event */\n    this.Editor.Listeners.on(\n      document,\n      'copy',\n      (e: ClipboardEvent) => this.Editor.BlockEvents.handleCommandC(e)\n    );\n  }\n\n  /**\n   * Toggle read-only state\n   *\n   * If readOnly is true:\n   *  - Unbind event handlers from created Blocks\n   *\n   * if readOnly is false:\n   *  - Bind event handlers to all existing Blocks\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (!readOnlyEnabled) {\n      this.enableModuleBindings();\n    } else {\n      this.disableModuleBindings();\n    }\n  }\n\n  /**\n   * Creates Block instance by tool name\n   *\n   * @param {object} options - block creation options\n   * @param {string} options.tool - tools passed in editor config {@link EditorConfig#tools}\n   * @param {BlockToolData} [options.data] - constructor params\n   *\n   * @returns {Block}\n   */\n  public composeBlock({ tool, data = {} }: {tool: string; data?: BlockToolData}): Block {\n    const readOnly = this.Editor.ReadOnly.isEnabled;\n    const settings = this.Editor.Tools.getToolSettings(tool);\n    const Tool = this.Editor.Tools.available[tool] as BlockToolConstructable;\n    const block = new Block({\n      name: tool,\n      data,\n      Tool,\n      settings,\n      api: this.Editor.API,\n      readOnly,\n    });\n\n    if (!readOnly) {\n      this.bindBlockEvents(block);\n    }\n\n    return block;\n  }\n\n  /**\n   * Insert new block into _blocks\n   *\n   * @param {object} options - insert options\n   * @param {string} options.tool - plugin name, by default method inserts the default block type\n   * @param {object} options.data - plugin data\n   * @param {number} options.index - index where to insert new Block\n   * @param {boolean} options.needToFocus - flag shows if needed to update current Block index\n   * @param {boolean} options.replace - flag shows if block by passed index should be replaced with inserted one\n   *\n   * @returns {Block}\n   */\n  public insert({\n    tool = this.config.defaultBlock,\n    data = {},\n    index,\n    needToFocus = true,\n    replace = false,\n  }: {\n    tool?: string;\n    data?: BlockToolData;\n    index?: number;\n    needToFocus?: boolean;\n    replace?: boolean;\n  } = {}): Block {\n    let newIndex = index;\n\n    if (newIndex === undefined) {\n      newIndex = this.currentBlockIndex + (replace ? 0 : 1);\n    }\n\n    const block = this.composeBlock({\n      tool,\n      data,\n    });\n\n    this._blocks.insert(newIndex, block, replace);\n\n    if (needToFocus) {\n      this.currentBlockIndex = newIndex;\n    } else if (newIndex <= this.currentBlockIndex) {\n      this.currentBlockIndex++;\n    }\n\n    return block;\n  }\n\n  /**\n   * Replace current working block\n   *\n   * @param {object} options - replace options\n   * @param {string} options.tool — plugin name\n   * @param {BlockToolData} options.data — plugin data\n   *\n   * @returns {Block}\n   */\n  public replace({\n    tool = this.config.defaultBlock,\n    data = {},\n  }): Block {\n    return this.insert({\n      tool,\n      data,\n      index: this.currentBlockIndex,\n      replace: true,\n    });\n  }\n\n  /**\n   * Insert pasted content. Call onPaste callback after insert.\n   *\n   * @param {string} toolName - name of Tool to insert\n   * @param {PasteEvent} pasteEvent - pasted data\n   * @param {boolean} replace - should replace current block\n   */\n  public paste(\n    toolName: string,\n    pasteEvent: PasteEvent,\n    replace = false\n  ): Block {\n    const block = this.insert({\n      tool: toolName,\n      replace,\n    });\n\n    try {\n      block.call(BlockToolAPI.ON_PASTE, pasteEvent);\n    } catch (e) {\n      _.log(`${toolName}: onPaste callback call is failed`, 'error', e);\n    }\n\n    return block;\n  }\n\n  /**\n   * Insert new default block at passed index\n   *\n   * @param {number} index - index where Block should be inserted\n   * @param {boolean} needToFocus - if true, updates current Block index\n   *\n   * TODO: Remove method and use insert() with index instead (?)\n   *\n   * @returns {Block} inserted Block\n   */\n  public insertDefaultBlockAtIndex(index: number, needToFocus = false): Block {\n    const block = this.composeBlock({ tool: this.config.defaultBlock });\n\n    this._blocks[index] = block;\n\n    if (needToFocus) {\n      this.currentBlockIndex = index;\n    } else if (index <= this.currentBlockIndex) {\n      this.currentBlockIndex++;\n    }\n\n    return block;\n  }\n\n  /**\n   * Always inserts at the end\n   *\n   * @returns {Block}\n   */\n  public insertAtEnd(): Block {\n    /**\n     * Define new value for current block index\n     */\n    this.currentBlockIndex = this.blocks.length - 1;\n\n    /**\n     * Insert the default typed block\n     */\n    return this.insert();\n  }\n\n  /**\n   * Merge two blocks\n   *\n   * @param {Block} targetBlock - previous block will be append to this block\n   * @param {Block} blockToMerge - block that will be merged with target block\n   *\n   * @returns {Promise} - the sequence that can be continued\n   */\n  public async mergeBlocks(targetBlock: Block, blockToMerge: Block): Promise<void> {\n    const blockToMergeIndex = this._blocks.indexOf(blockToMerge);\n\n    if (blockToMerge.isEmpty) {\n      return;\n    }\n\n    const blockToMergeData = await blockToMerge.data;\n\n    if (!_.isEmpty(blockToMergeData)) {\n      await targetBlock.mergeWith(blockToMergeData);\n    }\n\n    this.removeBlock(blockToMergeIndex);\n    this.currentBlockIndex = this._blocks.indexOf(targetBlock);\n  }\n\n  /**\n   * Remove block with passed index or remove last\n   *\n   * @param {number|null} index - index of Block to remove\n   * @throws {Error} if Block to remove is not found\n   */\n  public removeBlock(index = this.currentBlockIndex): void {\n    /**\n     * If index is not passed and there is no block selected, show a warning\n     */\n    if (!this.validateIndex(index)) {\n      throw new Error('Can\\'t find a Block to remove');\n    }\n\n    this._blocks.remove(index);\n\n    if (this.currentBlockIndex >= index) {\n      this.currentBlockIndex--;\n    }\n\n    /**\n     * If first Block was removed, insert new Initial Block and set focus on it`s first input\n     */\n    if (!this.blocks.length) {\n      this.currentBlockIndex = -1;\n      this.insert();\n    } else if (index === 0) {\n      this.currentBlockIndex = 0;\n    }\n  }\n\n  /**\n   * Remove only selected Blocks\n   * and returns first Block index where started removing...\n   *\n   * @returns {number|undefined}\n   */\n  public removeSelectedBlocks(): number | undefined {\n    let firstSelectedBlockIndex;\n\n    /**\n     * Remove selected Blocks from the end\n     */\n    for (let index = this.blocks.length - 1; index >= 0; index--) {\n      if (!this.blocks[index].selected) {\n        continue;\n      }\n\n      this.removeBlock(index);\n      firstSelectedBlockIndex = index;\n    }\n\n    return firstSelectedBlockIndex;\n  }\n\n  /**\n   * Attention!\n   * After removing insert the new default typed Block and focus on it\n   * Removes all blocks\n   */\n  public removeAllBlocks(): void {\n    for (let index = this.blocks.length - 1; index >= 0; index--) {\n      this._blocks.remove(index);\n    }\n\n    this.currentBlockIndex = -1;\n    this.insert();\n    this.currentBlock.firstInput.focus();\n  }\n\n  /**\n   * Split current Block\n   * 1. Extract content from Caret position to the Block`s end\n   * 2. Insert a new Block below current one with extracted content\n   *\n   * @returns {Block}\n   */\n  public split(): Block {\n    const extractedFragment = this.Editor.Caret.extractFragmentFromCaretPosition();\n    const wrapper = $.make('div');\n\n    wrapper.appendChild(extractedFragment as DocumentFragment);\n\n    /**\n     * @todo make object in accordance with Tool\n     */\n    const data = {\n      text: $.isEmpty(wrapper) ? '' : wrapper.innerHTML,\n    };\n\n    /**\n     * Renew current Block\n     *\n     * @type {Block}\n     */\n    return this.insert({ data });\n  }\n\n  /**\n   * Returns Block by passed index\n   *\n   * @param {number} index - index to get\n   *\n   * @returns {Block}\n   */\n  public getBlockByIndex(index): Block {\n    return this._blocks[index];\n  }\n\n  /**\n   * Get Block instance by html element\n   *\n   * @param {Node} element - html element to get Block by\n   *\n   * @returns {Block}\n   */\n  public getBlock(element: HTMLElement): Block {\n    if (!$.isElement(element) as boolean) {\n      element = element.parentNode as HTMLElement;\n    }\n\n    const nodes = this._blocks.nodes,\n        firstLevelBlock = element.closest(`.${Block.CSS.wrapper}`),\n        index = nodes.indexOf(firstLevelBlock as HTMLElement);\n\n    if (index >= 0) {\n      return this._blocks[index];\n    }\n  }\n\n  /**\n   * Remove selection from all Blocks then highlight only Current Block\n   */\n  public highlightCurrentNode(): void {\n    /**\n     * Remove previous selected Block's state\n     */\n    this.clearFocused();\n\n    /**\n     * Mark current Block as selected\n     *\n     * @type {boolean}\n     */\n    this.currentBlock.focused = true;\n  }\n\n  /**\n   * Remove selection from all Blocks\n   */\n  public clearFocused(): void {\n    this.blocks.forEach((block) => {\n      block.focused = false;\n    });\n  }\n\n  /**\n   * 1) Find first-level Block from passed child Node\n   * 2) Mark it as current\n   *\n   *  @param {Node} childNode - look ahead from this node.\n   *\n   *  @throws Error  - when passed Node is not included at the Block\n   */\n  public setCurrentBlockByChildNode(childNode: Node): Block {\n    /**\n     * If node is Text TextNode\n     */\n    if (!$.isElement(childNode)) {\n      childNode = childNode.parentNode;\n    }\n\n    const parentFirstLevelBlock = (childNode as HTMLElement).closest(`.${Block.CSS.wrapper}`);\n\n    if (parentFirstLevelBlock) {\n      /**\n       * Update current Block's index\n       *\n       * @type {number}\n       */\n      this.currentBlockIndex = this._blocks.nodes.indexOf(parentFirstLevelBlock as HTMLElement);\n\n      /**\n       * Update current block active input\n       */\n      this.currentBlock.updateCurrentInput();\n\n      return this.currentBlock;\n    } else {\n      throw new Error('Can not find a Block from this child Node');\n    }\n  }\n\n  /**\n   * Return block which contents passed node\n   *\n   * @param {Node} childNode - node to get Block by\n   *\n   * @returns {Block}\n   */\n  public getBlockByChildNode(childNode: Node): Block {\n    /**\n     * If node is Text TextNode\n     */\n    if (!$.isElement(childNode)) {\n      childNode = childNode.parentNode;\n    }\n\n    const firstLevelBlock = (childNode as HTMLElement).closest(`.${Block.CSS.wrapper}`);\n\n    return this.blocks.find((block) => block.holder === firstLevelBlock);\n  }\n\n  /**\n   * Swap Blocks Position\n   *\n   * @param {number} fromIndex - index of first block\n   * @param {number} toIndex - index of second block\n   *\n   * @deprecated — use 'move' instead\n   */\n  public swap(fromIndex, toIndex): void {\n    /** Move up current Block */\n    this._blocks.swap(fromIndex, toIndex);\n\n    /** Now actual block moved up so that current block index decreased */\n    this.currentBlockIndex = toIndex;\n  }\n\n  /**\n   * Move a block to a new index\n   *\n   * @param {number} toIndex - index where to move Block\n   * @param {number} fromIndex - index of Block to move\n   */\n  public move(toIndex, fromIndex = this.currentBlockIndex): void {\n    // make sure indexes are valid and within a valid range\n    if (isNaN(toIndex) || isNaN(fromIndex)) {\n      _.log(`Warning during 'move' call: incorrect indices provided.`, 'warn');\n\n      return;\n    }\n\n    if (!this.validateIndex(toIndex) || !this.validateIndex(fromIndex)) {\n      _.log(`Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.`, 'warn');\n\n      return;\n    }\n\n    /** Move up current Block */\n    this._blocks.move(toIndex, fromIndex);\n\n    /** Now actual block moved so that current block index changed */\n    this.currentBlockIndex = toIndex;\n  }\n\n  /**\n   * Sets current Block Index -1 which means unknown\n   * and clear highlightings\n   */\n  public dropPointer(): void {\n    this.currentBlockIndex = -1;\n    this.clearFocused();\n  }\n\n  /**\n   * Clears Editor\n   *\n   * @param {boolean} needToAddDefaultBlock - 1) in internal calls (for example, in api.blocks.render)\n   *                                             we don't need to add an empty default block\n   *                                        2) in api.blocks.clear we should add empty block\n   */\n  public clear(needToAddDefaultBlock = false): void {\n    this._blocks.removeAll();\n    this.dropPointer();\n\n    if (needToAddDefaultBlock) {\n      this.insert();\n    }\n\n    /**\n     * Add empty modifier\n     */\n    this.Editor.UI.checkEmptiness();\n  }\n\n  /**\n   * Cleans up all the block tools' resources\n   * This is called when editor is destroyed\n   */\n  public async destroy(): Promise<void> {\n    await Promise.all(this.blocks.map((block) => {\n      if (_.isFunction(block.tool.destroy)) {\n        return block.tool.destroy();\n      }\n    }));\n  }\n\n  /**\n   * Bind Block events\n   *\n   * @param {Block} block - Block to which event should be bound\n   */\n  private bindBlockEvents(block: Block): void {\n    const { BlockEvents } = this.Editor;\n\n    this.readOnlyMutableListeners.on(block.holder, 'keydown', (event: KeyboardEvent) => {\n      BlockEvents.keydown(event);\n    }, true);\n\n    this.readOnlyMutableListeners.on(block.holder, 'keyup', (event: KeyboardEvent) => {\n      BlockEvents.keyup(event);\n    });\n\n    this.readOnlyMutableListeners.on(block.holder, 'dragover', (event: DragEvent) => {\n      BlockEvents.dragOver(event);\n    });\n\n    this.readOnlyMutableListeners.on(block.holder, 'dragleave', (event: DragEvent) => {\n      BlockEvents.dragLeave(event);\n    });\n  }\n\n  /**\n   * Disable mutable handlers and bindings\n   */\n  private disableModuleBindings(): void {\n    this.readOnlyMutableListeners.clearAll();\n  }\n\n  /**\n   * Enables all module handlers and bindings for all Blocks\n   */\n  private enableModuleBindings(): void {\n    /** Cut event */\n    this.readOnlyMutableListeners.on(\n      document,\n      'cut',\n      (e: ClipboardEvent) => this.Editor.BlockEvents.handleCommandX(e)\n    );\n\n    this.blocks.forEach((block: Block) => {\n      this.bindBlockEvents(block);\n    });\n  }\n\n  /**\n   * Validates that the given index is not lower than 0 or higher than the amount of blocks\n   *\n   * @param {number} index - index of blocks array to validate\n   *\n   * @returns {boolean}\n   */\n  private validateIndex(index: number): boolean {\n    return !(index < 0 || index >= this._blocks.length);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f785a087cbed326e61cd89aa29ac1fbff53950ee"});var l=t[n];return I=function(){return l},l}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=E(l),o=E(o),i=E(i),c=E(c),s=E(s),r=E(r),C=E(C),a=p(a),u=E(u),m=E(m),d=p(d),f=E(f),I();var b=function(n){(0,s.default)(p,n);var A,e,t,u=(A=p,function(){var n,e=(0,C.default)(A);if(h()){var t=(0,C.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,r.default)(this,n)});function p(){var n;return(0,i.default)(this,p),I().f[0]++,I().s[0]++,n=u.apply(this,arguments),I().s[1]++,n._currentBlockIndex=-1,I().s[2]++,n._blocks=null,n}return(0,c.default)(p,[{key:"prepare",value:function(){var n=this;I().f[15]++;var A=(I().s[29]++,new f.default(this.Editor.UI.nodes.redactor));I().s[30]++,this._blocks=new Proxy(A,{set:f.default.set,get:f.default.get}),I().s[31]++,this.Editor.Listeners.on(document,"copy",(function(A){return I().f[16]++,I().s[32]++,n.Editor.BlockEvents.handleCommandC(A)}))}},{key:"toggleReadOnly",value:function(n){I().f[17]++,I().s[33]++,n?(I().b[4][1]++,I().s[35]++,this.disableModuleBindings()):(I().b[4][0]++,I().s[34]++,this.enableModuleBindings())}},{key:"composeBlock",value:function(n){var A=n.tool,e=n.data,t=void 0===e?(I().b[5][0]++,{}):e;I().f[18]++;var l=(I().s[36]++,this.Editor.ReadOnly.isEnabled),o=(I().s[37]++,this.Editor.Tools.getToolSettings(A)),i=(I().s[38]++,this.Editor.Tools.available[A]),c=(I().s[39]++,new a.default({name:A,data:t,Tool:i,settings:o,api:this.Editor.API,readOnly:l}));return I().s[40]++,l?I().b[6][1]++:(I().b[6][0]++,I().s[41]++,this.bindBlockEvents(c)),I().s[42]++,c}},{key:"insert",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(I().b[7][0]++,{}),A=n.tool,e=void 0===A?(I().b[8][0]++,this.config.defaultBlock):A,t=n.data,l=void 0===t?(I().b[9][0]++,{}):t,o=n.index,i=n.needToFocus,c=void 0===i?(I().b[10][0]++,!0):i,s=n.replace,r=void 0===s?(I().b[11][0]++,!1):s;I().f[19]++;var C=(I().s[43]++,o);I().s[44]++,void 0===C?(I().b[12][0]++,I().s[45]++,C=this.currentBlockIndex+(r?(I().b[13][0]++,0):(I().b[13][1]++,1))):I().b[12][1]++;var a=(I().s[46]++,this.composeBlock({tool:e,data:l}));return I().s[47]++,this._blocks.insert(C,a,r),I().s[48]++,c?(I().b[14][0]++,I().s[49]++,this.currentBlockIndex=C):(I().b[14][1]++,I().s[50]++,C<=this.currentBlockIndex?(I().b[15][0]++,I().s[51]++,this.currentBlockIndex++):I().b[15][1]++),I().s[52]++,a}},{key:"replace",value:function(n){var A=n.tool,e=void 0===A?(I().b[16][0]++,this.config.defaultBlock):A,t=n.data,l=void 0===t?(I().b[17][0]++,{}):t;return I().f[20]++,I().s[53]++,this.insert({tool:e,data:l,index:this.currentBlockIndex,replace:!0})}},{key:"paste",value:function(n,A){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(I().b[18][0]++,!1);I().f[21]++;var t=(I().s[54]++,this.insert({tool:n,replace:e}));I().s[55]++;try{I().s[56]++,t.call(a.BlockToolAPI.ON_PASTE,A)}catch(A){I().s[57]++,d.log("".concat(n,": onPaste callback call is failed"),"error",A)}return I().s[58]++,t}},{key:"insertDefaultBlockAtIndex",value:function(n){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(I().b[19][0]++,!1);I().f[22]++;var e=(I().s[59]++,this.composeBlock({tool:this.config.defaultBlock}));return I().s[60]++,this._blocks[n]=e,I().s[61]++,A?(I().b[20][0]++,I().s[62]++,this.currentBlockIndex=n):(I().b[20][1]++,I().s[63]++,n<=this.currentBlockIndex?(I().b[21][0]++,I().s[64]++,this.currentBlockIndex++):I().b[21][1]++),I().s[65]++,e}},{key:"insertAtEnd",value:function(){return I().f[23]++,I().s[66]++,this.currentBlockIndex=this.blocks.length-1,I().s[67]++,this.insert()}},{key:"mergeBlocks",value:(t=(0,o.default)(l.default.mark((function n(A,e){var t,o;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(I().f[24]++,I().s[68]++,t=this._blocks.indexOf(e),I().s[69]++,!e.isEmpty){n.next=9;break}return I().b[22][0]++,I().s[70]++,n.abrupt("return");case 9:I().b[22][1]++;case 10:return I().s[71]++,n.next=13,e.data;case 13:if(o=n.sent,I().s[72]++,d.isEmpty(o)){n.next=22;break}return I().b[23][0]++,I().s[73]++,n.next=20,A.mergeWith(o);case 20:n.next=23;break;case 22:I().b[23][1]++;case 23:I().s[74]++,this.removeBlock(t),I().s[75]++,this.currentBlockIndex=this._blocks.indexOf(A);case 27:case"end":return n.stop()}}),n,this)}))),function(n,A){return t.apply(this,arguments)})},{key:"removeBlock",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(I().b[24][0]++,this.currentBlockIndex);if(I().f[25]++,I().s[76]++,!this.validateIndex(n))throw I().b[25][0]++,I().s[77]++,new Error("Can't find a Block to remove");I().b[25][1]++,I().s[78]++,this._blocks.remove(n),I().s[79]++,this.currentBlockIndex>=n?(I().b[26][0]++,I().s[80]++,this.currentBlockIndex--):I().b[26][1]++,I().s[81]++,this.blocks.length?(I().b[27][1]++,I().s[84]++,0===n?(I().b[28][0]++,I().s[85]++,this.currentBlockIndex=0):I().b[28][1]++):(I().b[27][0]++,I().s[82]++,this.currentBlockIndex=-1,I().s[83]++,this.insert())}},{key:"removeSelectedBlocks",value:function(){var n;I().f[26]++,I().s[86]++;for(var A=(I().s[87]++,this.blocks.length-1);A>=0;A--)I().s[88]++,this.blocks[A].selected?(I().b[29][1]++,I().s[90]++,this.removeBlock(A),I().s[91]++,n=A):(I().b[29][0]++,I().s[89]++);return I().s[92]++,n}},{key:"removeAllBlocks",value:function(){I().f[27]++,I().s[93]++;for(var n=(I().s[94]++,this.blocks.length-1);n>=0;n--)I().s[95]++,this._blocks.remove(n);I().s[96]++,this.currentBlockIndex=-1,I().s[97]++,this.insert(),I().s[98]++,this.currentBlock.firstInput.focus()}},{key:"split",value:function(){I().f[28]++;var n=(I().s[99]++,this.Editor.Caret.extractFragmentFromCaretPosition()),A=(I().s[100]++,m.default.make("div"));I().s[101]++,A.appendChild(n);var e=(I().s[102]++,{text:m.default.isEmpty(A)?(I().b[30][0]++,""):(I().b[30][1]++,A.innerHTML)});return I().s[103]++,this.insert({data:e})}},{key:"getBlockByIndex",value:function(n){return I().f[29]++,I().s[104]++,this._blocks[n]}},{key:"getBlock",value:function(n){I().f[30]++,I().s[105]++,m.default.isElement(n)?I().b[31][1]++:(I().b[31][0]++,I().s[106]++,n=n.parentNode);var A=(I().s[107]++,this._blocks.nodes),e=(I().s[108]++,n.closest(".".concat(a.default.CSS.wrapper))),t=(I().s[109]++,A.indexOf(e));if(I().s[110]++,t>=0)return I().b[32][0]++,I().s[111]++,this._blocks[t];I().b[32][1]++}},{key:"highlightCurrentNode",value:function(){I().f[31]++,I().s[112]++,this.clearFocused(),I().s[113]++,this.currentBlock.focused=!0}},{key:"clearFocused",value:function(){I().f[32]++,I().s[114]++,this.blocks.forEach((function(n){I().f[33]++,I().s[115]++,n.focused=!1}))}},{key:"setCurrentBlockByChildNode",value:function(n){I().f[34]++,I().s[116]++,m.default.isElement(n)?I().b[33][1]++:(I().b[33][0]++,I().s[117]++,n=n.parentNode);var A=(I().s[118]++,n.closest(".".concat(a.default.CSS.wrapper)));if(I().s[119]++,A)return I().b[34][0]++,I().s[120]++,this.currentBlockIndex=this._blocks.nodes.indexOf(A),I().s[121]++,this.currentBlock.updateCurrentInput(),I().s[122]++,this.currentBlock;throw I().b[34][1]++,I().s[123]++,new Error("Can not find a Block from this child Node")}},{key:"getBlockByChildNode",value:function(n){I().f[35]++,I().s[124]++,m.default.isElement(n)?I().b[35][1]++:(I().b[35][0]++,I().s[125]++,n=n.parentNode);var A=(I().s[126]++,n.closest(".".concat(a.default.CSS.wrapper)));return I().s[127]++,this.blocks.find((function(n){return I().f[36]++,I().s[128]++,n.holder===A}))}},{key:"swap",value:function(n,A){I().f[37]++,I().s[129]++,this._blocks.swap(n,A),I().s[130]++,this.currentBlockIndex=A}},{key:"move",value:function(n){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(I().b[36][0]++,this.currentBlockIndex);return I().f[38]++,I().s[131]++,I().b[38][0]++,isNaN(n)||(I().b[38][1]++,isNaN(A))?(I().b[37][0]++,I().s[132]++,d.log("Warning during 'move' call: incorrect indices provided.","warn"),void I().s[133]++):(I().b[37][1]++,I().s[134]++,I().b[40][0]++,this.validateIndex(n)&&(I().b[40][1]++,this.validateIndex(A))?(I().b[39][1]++,I().s[137]++,this._blocks.move(n,A),I().s[138]++,void(this.currentBlockIndex=n)):(I().b[39][0]++,I().s[135]++,d.log("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn"),void I().s[136]++))}},{key:"dropPointer",value:function(){I().f[39]++,I().s[139]++,this.currentBlockIndex=-1,I().s[140]++,this.clearFocused()}},{key:"clear",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(I().b[41][0]++,!1);I().f[40]++,I().s[141]++,this._blocks.removeAll(),I().s[142]++,this.dropPointer(),I().s[143]++,n?(I().b[42][0]++,I().s[144]++,this.insert()):I().b[42][1]++,I().s[145]++,this.Editor.UI.checkEmptiness()}},{key:"destroy",value:(e=(0,o.default)(l.default.mark((function n(){return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return I().f[41]++,I().s[146]++,n.next=4,Promise.all(this.blocks.map((function(n){if(I().f[42]++,I().s[147]++,d.isFunction(n.tool.destroy))return I().b[43][0]++,I().s[148]++,n.tool.destroy();I().b[43][1]++})));case 4:case"end":return n.stop()}}),n,this)}))),function(){return e.apply(this,arguments)})},{key:"bindBlockEvents",value:function(n){I().f[43]++;var A=(I().s[149]++,this.Editor).BlockEvents;I().s[150]++,this.readOnlyMutableListeners.on(n.holder,"keydown",(function(n){I().f[44]++,I().s[151]++,A.keydown(n)}),!0),I().s[152]++,this.readOnlyMutableListeners.on(n.holder,"keyup",(function(n){I().f[45]++,I().s[153]++,A.keyup(n)})),I().s[154]++,this.readOnlyMutableListeners.on(n.holder,"dragover",(function(n){I().f[46]++,I().s[155]++,A.dragOver(n)})),I().s[156]++,this.readOnlyMutableListeners.on(n.holder,"dragleave",(function(n){I().f[47]++,I().s[157]++,A.dragLeave(n)}))}},{key:"disableModuleBindings",value:function(){I().f[48]++,I().s[158]++,this.readOnlyMutableListeners.clearAll()}},{key:"enableModuleBindings",value:function(){var n=this;I().f[49]++,I().s[159]++,this.readOnlyMutableListeners.on(document,"cut",(function(A){return I().f[50]++,I().s[160]++,n.Editor.BlockEvents.handleCommandX(A)})),I().s[161]++,this.blocks.forEach((function(A){I().f[51]++,I().s[162]++,n.bindBlockEvents(A)}))}},{key:"validateIndex",value:function(n){return I().f[52]++,I().s[163]++,I().b[44][0]++,!(n<0||(I().b[44][1]++,n>=this._blocks.length))}},{key:"currentBlockIndex",get:function(){return I().f[1]++,I().s[3]++,this._currentBlockIndex},set:function(n){I().f[2]++,I().s[4]++,this._blocks[this._currentBlockIndex]?(I().b[0][0]++,I().s[5]++,this._blocks[this._currentBlockIndex].willUnselect()):I().b[0][1]++,I().s[6]++,this._blocks[n]?(I().b[1][0]++,I().s[7]++,this._blocks[n].willSelect()):I().b[1][1]++,I().s[8]++,this._currentBlockIndex=n}},{key:"firstBlock",get:function(){return I().f[3]++,I().s[9]++,this._blocks[0]}},{key:"lastBlock",get:function(){return I().f[4]++,I().s[10]++,this._blocks[this._blocks.length-1]}},{key:"currentBlock",get:function(){return I().f[5]++,I().s[11]++,this._blocks[this.currentBlockIndex]}},{key:"nextBlock",get:function(){I().f[6]++;var n=(I().s[12]++,this.currentBlockIndex===this._blocks.length-1);return I().s[13]++,n?(I().b[2][0]++,I().s[14]++,null):(I().b[2][1]++,I().s[15]++,this._blocks[this.currentBlockIndex+1])}},{key:"nextContentfulBlock",get:function(){I().f[7]++;var n=(I().s[16]++,this.blocks.slice(this.currentBlockIndex+1));return I().s[17]++,n.find((function(n){return I().f[8]++,I().s[18]++,!!n.inputs.length}))}},{key:"previousContentfulBlock",get:function(){I().f[9]++;var n=(I().s[19]++,this.blocks.slice(0,this.currentBlockIndex).reverse());return I().s[20]++,n.find((function(n){return I().f[10]++,I().s[21]++,!!n.inputs.length}))}},{key:"previousBlock",get:function(){I().f[11]++;var n=(I().s[22]++,0===this.currentBlockIndex);return I().s[23]++,n?(I().b[3][0]++,I().s[24]++,null):(I().b[3][1]++,I().s[25]++,this._blocks[this.currentBlockIndex-1])}},{key:"blocks",get:function(){return I().f[12]++,I().s[26]++,this._blocks.array}},{key:"isEditorEmpty",get:function(){return I().f[13]++,I().s[27]++,this.blocks.every((function(n){return I().f[14]++,I().s[28]++,n.isEmpty}))}}]),p}(u.default);t.default=b,b.displayName="BlockManager",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(7),e(8),e(15),e(25)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u,m,d){"use strict";var f=e(13),p=e(1);function E(){var n="/home/hata/editor.js/src/components/modules/blockSelection.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"4deed810865d09eec4d8ba2007c5e3b30f030532"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/blockSelection.ts",statementMap:{0:{start:{line:17,column:8},end:{line:17,column:28}},1:{start:{line:25,column:8},end:{line:25,column:42}},2:{start:{line:32,column:8},end:{line:32,column:37}},3:{start:{line:39,column:8},end:{line:39,column:41}},4:{start:{line:46,column:8},end:{line:46,column:43}},5:{start:{line:54,column:8},end:{line:77,column:10}},6:{start:{line:85,column:33},end:{line:85,column:44}},7:{start:{line:86,column:8},end:{line:86,column:77}},8:{start:{line:86,column:52},end:{line:86,column:75}},9:{start:{line:94,column:33},end:{line:94,column:44}},10:{start:{line:95,column:8},end:{line:97,column:11}},11:{start:{line:96,column:12},end:{line:96,column:35}},12:{start:{line:98,column:8},end:{line:98,column:26}},13:{start:{line:106,column:33},end:{line:106,column:44}},14:{start:{line:107,column:8},end:{line:109,column:9}},15:{start:{line:108,column:12},end:{line:108,column:102}},16:{start:{line:108,column:77},end:{line:108,column:100}},17:{start:{line:110,column:8},end:{line:110,column:42}},18:{start:{line:118,column:8},end:{line:118,column:81}},19:{start:{line:118,column:65},end:{line:118,column:79}},20:{start:{line:126,column:30},end:{line:126,column:41}},21:{start:{line:127,column:8},end:{line:127,column:46}},22:{start:{line:131,column:8},end:{line:156,column:11}},23:{start:{line:134,column:51},end:{line:134,column:62}},24:{start:{line:138,column:16},end:{line:142,column:17}},25:{start:{line:139,column:20},end:{line:139,column:43}},26:{start:{line:140,column:20},end:{line:140,column:43}},27:{start:{line:141,column:20},end:{line:141,column:27}},28:{start:{line:151,column:16},end:{line:153,column:17}},29:{start:{line:152,column:20},end:{line:152,column:27}},30:{start:{line:154,column:16},end:{line:154,column:43}},31:{start:{line:167,column:8},end:{line:168,column:31}},32:{start:{line:169,column:8},end:{line:169,column:39}},33:{start:{line:177,column:33},end:{line:177,column:44}},34:{start:{line:179,column:8},end:{line:184,column:9}},35:{start:{line:180,column:12},end:{line:180,column:46}},36:{start:{line:183,column:12},end:{line:183,column:56}},37:{start:{line:185,column:8},end:{line:185,column:31}},38:{start:{line:186,column:8},end:{line:186,column:26}},39:{start:{line:195,column:60},end:{line:195,column:71}},40:{start:{line:196,column:8},end:{line:196,column:37}},41:{start:{line:197,column:8},end:{line:197,column:41}},42:{start:{line:198,column:8},end:{line:198,column:43}},43:{start:{line:199,column:27},end:{line:199,column:70}},44:{start:{line:200,column:31},end:{line:200,column:77}},45:{start:{line:205,column:8},end:{line:219,column:9}},46:{start:{line:206,column:34},end:{line:206,column:69}},47:{start:{line:207,column:12},end:{line:207,column:72}},48:{start:{line:208,column:12},end:{line:208,column:56}},49:{start:{line:209,column:12},end:{line:218,column:21}},50:{start:{line:210,column:33},end:{line:210,column:43}},51:{start:{line:217,column:16},end:{line:217,column:88}},52:{start:{line:220,column:8},end:{line:220,column:54}},53:{start:{line:221,column:8},end:{line:224,column:9}},54:{start:{line:222,column:12},end:{line:222,column:60}},55:{start:{line:223,column:12},end:{line:223,column:19}},56:{start:{line:229,column:8},end:{line:231,column:9}},57:{start:{line:230,column:12},end:{line:230,column:37}},58:{start:{line:233,column:8},end:{line:233,column:39}},59:{start:{line:246,column:8},end:{line:246,column:27}},60:{start:{line:247,column:30},end:{line:247,column:43}},61:{start:{line:248,column:8},end:{line:256,column:11}},62:{start:{line:252,column:30},end:{line:252,column:103}},63:{start:{line:253,column:29},end:{line:253,column:40}},64:{start:{line:254,column:12},end:{line:254,column:43}},65:{start:{line:255,column:12},end:{line:255,column:48}},66:{start:{line:257,column:26},end:{line:257,column:93}},67:{start:{line:257,column:79},end:{line:257,column:91}},68:{start:{line:258,column:26},end:{line:259,column:25}},69:{start:{line:258,column:77},end:{line:258,column:93}},70:{start:{line:260,column:25},end:{line:260,column:48}},71:{start:{line:261,column:8},end:{line:261,column:57}},72:{start:{line:262,column:8},end:{line:262,column:55}},73:{start:{line:263,column:8},end:{line:263,column:88}},74:{start:{line:271,column:33},end:{line:271,column:44}},75:{start:{line:275,column:8},end:{line:275,column:36}},76:{start:{line:277,column:8},end:{line:282,column:9}},77:{start:{line:278,column:12},end:{line:278,column:46}},78:{start:{line:281,column:12},end:{line:281,column:56}},79:{start:{line:284,column:8},end:{line:284,column:30}},80:{start:{line:285,column:8},end:{line:286,column:31}},81:{start:{line:287,column:8},end:{line:287,column:30}},82:{start:{line:288,column:8},end:{line:288,column:26}},83:{start:{line:290,column:8},end:{line:290,column:42}},84:{start:{line:296,column:8},end:{line:296,column:42}},85:{start:{line:303,column:30},end:{line:303,column:41}},86:{start:{line:305,column:8},end:{line:305,column:34}},87:{start:{line:314,column:8},end:{line:314,column:56}},88:{start:{line:316,column:8},end:{line:319,column:9}},89:{start:{line:317,column:12},end:{line:317,column:46}},90:{start:{line:318,column:12},end:{line:318,column:19}},91:{start:{line:320,column:29},end:{line:320,column:76}},92:{start:{line:321,column:23},end:{line:321,column:42}},93:{start:{line:326,column:8},end:{line:329,column:9}},94:{start:{line:327,column:12},end:{line:327,column:46}},95:{start:{line:328,column:12},end:{line:328,column:19}},96:{start:{line:330,column:8},end:{line:333,column:9}},97:{start:{line:331,column:12},end:{line:331,column:40}},98:{start:{line:332,column:12},end:{line:332,column:19}},99:{start:{line:334,column:8},end:{line:363,column:9}},100:{start:{line:338,column:12},end:{line:338,column:35}},101:{start:{line:339,column:12},end:{line:339,column:35}},102:{start:{line:343,column:12},end:{line:343,column:41}},103:{start:{line:344,column:12},end:{line:344,column:47}},104:{start:{line:348,column:12},end:{line:348,column:50}},105:{start:{line:350,column:13},end:{line:363,column:9}},106:{start:{line:354,column:12},end:{line:354,column:35}},107:{start:{line:358,column:12},end:{line:358,column:38}},108:{start:{line:362,column:12},end:{line:362,column:40}},109:{start:{line:374,column:8},end:{line:374,column:30}},110:{start:{line:378,column:8},end:{line:379,column:31}},111:{start:{line:380,column:8},end:{line:380,column:38}},112:{start:{line:382,column:8},end:{line:382,column:42}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:18},end:{line:47,column:5}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:53,column:4},end:{line:53,column:5}},loc:{start:{line:53,column:26},end:{line:78,column:5}},line:53},2:{name:"(anonymous_2)",decl:{start:{line:84,column:4},end:{line:84,column:5}},loc:{start:{line:84,column:28},end:{line:87,column:5}},line:84},3:{name:"(anonymous_3)",decl:{start:{line:86,column:41},end:{line:86,column:42}},loc:{start:{line:86,column:52},end:{line:86,column:75}},line:86},4:{name:"(anonymous_4)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:33},end:{line:99,column:5}},line:93},5:{name:"(anonymous_5)",decl:{start:{line:95,column:36},end:{line:95,column:37}},loc:{start:{line:95,column:47},end:{line:97,column:9}},line:95},6:{name:"(anonymous_6)",decl:{start:{line:105,column:4},end:{line:105,column:5}},loc:{start:{line:105,column:27},end:{line:111,column:5}},line:105},7:{name:"(anonymous_7)",decl:{start:{line:108,column:66},end:{line:108,column:67}},loc:{start:{line:108,column:77},end:{line:108,column:100}},line:108},8:{name:"(anonymous_8)",decl:{start:{line:117,column:4},end:{line:117,column:5}},loc:{start:{line:117,column:25},end:{line:119,column:5}},line:117},9:{name:"(anonymous_9)",decl:{start:{line:118,column:54},end:{line:118,column:55}},loc:{start:{line:118,column:65},end:{line:118,column:79}},line:118},10:{name:"(anonymous_10)",decl:{start:{line:125,column:4},end:{line:125,column:5}},loc:{start:{line:125,column:14},end:{line:157,column:5}},line:125},11:{name:"(anonymous_11)",decl:{start:{line:133,column:21},end:{line:133,column:22}},loc:{start:{line:133,column:32},end:{line:155,column:13}},line:133},12:{name:"(anonymous_12)",decl:{start:{line:166,column:4},end:{line:166,column:5}},loc:{start:{line:166,column:36},end:{line:170,column:5}},line:166},13:{name:"(anonymous_13)",decl:{start:{line:176,column:4},end:{line:176,column:5}},loc:{start:{line:176,column:32},end:{line:187,column:5}},line:176},14:{name:"(anonymous_14)",decl:{start:{line:194,column:4},end:{line:194,column:5}},loc:{start:{line:194,column:53},end:{line:234,column:5}},line:194},15:{name:"(anonymous_15)",decl:{start:{line:209,column:20},end:{line:209,column:21}},loc:{start:{line:209,column:26},end:{line:218,column:13}},line:209},16:{name:"(anonymous_16)",decl:{start:{line:242,column:4},end:{line:242,column:5}},loc:{start:{line:242,column:32},end:{line:264,column:5}},line:242},17:{name:"(anonymous_17)",decl:{start:{line:248,column:36},end:{line:248,column:37}},loc:{start:{line:248,column:47},end:{line:256,column:9}},line:248},18:{name:"(anonymous_18)",decl:{start:{line:257,column:68},end:{line:257,column:69}},loc:{start:{line:257,column:79},end:{line:257,column:91}},line:257},19:{name:"(anonymous_19)",decl:{start:{line:258,column:67},end:{line:258,column:68}},loc:{start:{line:258,column:77},end:{line:258,column:93}},line:258},20:{name:"(anonymous_20)",decl:{start:{line:270,column:4},end:{line:270,column:5}},loc:{start:{line:270,column:30},end:{line:291,column:5}},line:270},21:{name:"(anonymous_21)",decl:{start:{line:295,column:4},end:{line:295,column:5}},loc:{start:{line:295,column:17},end:{line:297,column:5}},line:295},22:{name:"(anonymous_22)",decl:{start:{line:302,column:4},end:{line:302,column:5}},loc:{start:{line:302,column:14},end:{line:306,column:5}},line:302},23:{name:"(anonymous_23)",decl:{start:{line:313,column:4},end:{line:313,column:5}},loc:{start:{line:313,column:26},end:{line:364,column:5}},line:313},24:{name:"(anonymous_24)",decl:{start:{line:369,column:4},end:{line:369,column:5}},loc:{start:{line:369,column:22},end:{line:383,column:5}},line:369}},branchMap:{0:{loc:{start:{line:107,column:8},end:{line:109,column:9}},type:"if",locations:[{start:{line:107,column:8},end:{line:109,column:9}},{start:{line:107,column:8},end:{line:109,column:9}}],line:107},1:{loc:{start:{line:138,column:16},end:{line:142,column:17}},type:"if",locations:[{start:{line:138,column:16},end:{line:142,column:17}},{start:{line:138,column:16},end:{line:142,column:17}}],line:138},2:{loc:{start:{line:151,column:16},end:{line:153,column:17}},type:"if",locations:[{start:{line:151,column:16},end:{line:153,column:17}},{start:{line:151,column:16},end:{line:153,column:17}}],line:151},3:{loc:{start:{line:179,column:8},end:{line:184,column:9}},type:"if",locations:[{start:{line:179,column:8},end:{line:184,column:9}},{start:{line:179,column:8},end:{line:184,column:9}}],line:179},4:{loc:{start:{line:194,column:27},end:{line:194,column:51}},type:"default-arg",locations:[{start:{line:194,column:46},end:{line:194,column:51}}],line:194},5:{loc:{start:{line:199,column:27},end:{line:199,column:70}},type:"binary-expr",locations:[{start:{line:199,column:27},end:{line:199,column:33}},{start:{line:199,column:38},end:{line:199,column:69}}],line:199},6:{loc:{start:{line:200,column:31},end:{line:200,column:77}},type:"binary-expr",locations:[{start:{line:200,column:31},end:{line:200,column:41}},{start:{line:200,column:45},end:{line:200,column:77}}],line:200},7:{loc:{start:{line:205,column:8},end:{line:219,column:9}},type:"if",locations:[{start:{line:205,column:8},end:{line:219,column:9}},{start:{line:205,column:8},end:{line:219,column:9}}],line:205},8:{loc:{start:{line:205,column:12},end:{line:205,column:102}},type:"binary-expr",locations:[{start:{line:205,column:12},end:{line:205,column:33}},{start:{line:205,column:37},end:{line:205,column:47}},{start:{line:205,column:51},end:{line:205,column:65}},{start:{line:205,column:69},end:{line:205,column:102}}],line:205},9:{loc:{start:{line:217,column:51},end:{line:217,column:86}},type:"cond-expr",locations:[{start:{line:217,column:73},end:{line:217,column:75}},{start:{line:217,column:78},end:{line:217,column:86}}],line:217},10:{loc:{start:{line:221,column:8},end:{line:224,column:9}},type:"if",locations:[{start:{line:221,column:8},end:{line:224,column:9}},{start:{line:221,column:8},end:{line:224,column:9}}],line:221},11:{loc:{start:{line:221,column:12},end:{line:221,column:74}},type:"binary-expr",locations:[{start:{line:221,column:12},end:{line:221,column:34}},{start:{line:221,column:38},end:{line:221,column:74}}],line:221},12:{loc:{start:{line:229,column:8},end:{line:231,column:9}},type:"if",locations:[{start:{line:229,column:8},end:{line:231,column:9}},{start:{line:229,column:8},end:{line:231,column:9}}],line:229},13:{loc:{start:{line:277,column:8},end:{line:282,column:9}},type:"if",locations:[{start:{line:277,column:8},end:{line:282,column:9}},{start:{line:277,column:8},end:{line:282,column:9}}],line:277},14:{loc:{start:{line:316,column:8},end:{line:319,column:9}},type:"if",locations:[{start:{line:316,column:8},end:{line:319,column:9}},{start:{line:316,column:8},end:{line:319,column:9}}],line:316},15:{loc:{start:{line:316,column:12},end:{line:316,column:72}},type:"binary-expr",locations:[{start:{line:316,column:12},end:{line:316,column:41}},{start:{line:316,column:45},end:{line:316,column:72}}],line:316},16:{loc:{start:{line:326,column:8},end:{line:329,column:9}},type:"if",locations:[{start:{line:326,column:8},end:{line:329,column:9}},{start:{line:326,column:8},end:{line:329,column:9}}],line:326},17:{loc:{start:{line:326,column:12},end:{line:326,column:60}},type:"binary-expr",locations:[{start:{line:326,column:12},end:{line:326,column:29}},{start:{line:326,column:33},end:{line:326,column:60}}],line:326},18:{loc:{start:{line:330,column:8},end:{line:333,column:9}},type:"if",locations:[{start:{line:330,column:8},end:{line:333,column:9}},{start:{line:330,column:8},end:{line:333,column:9}}],line:330},19:{loc:{start:{line:330,column:12},end:{line:330,column:56}},type:"binary-expr",locations:[{start:{line:330,column:12},end:{line:330,column:31}},{start:{line:330,column:35},end:{line:330,column:56}}],line:330},20:{loc:{start:{line:334,column:8},end:{line:363,column:9}},type:"if",locations:[{start:{line:334,column:8},end:{line:363,column:9}},{start:{line:334,column:8},end:{line:363,column:9}}],line:334},21:{loc:{start:{line:350,column:13},end:{line:363,column:9}},type:"if",locations:[{start:{line:350,column:13},end:{line:363,column:9}},{start:{line:350,column:13},end:{line:363,column:9}}],line:350}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0],5:[0,0],6:[0,0],7:[0,0],8:[0,0,0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/blockSelection.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/blockSelection.ts"],names:[],mappings:"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",sourcesContent:["/**\n * @class BlockSelection\n * @classdesc Manages Block selection with shortcut CMD+A\n *\n * @module BlockSelection\n * @version 1.0.0\n */\nimport Module from '../__module';\nimport Block from '../block';\nimport * as _ from '../utils';\nimport $ from '../dom';\n\nimport SelectionUtils from '../selection';\nimport { SanitizerConfig } from '../../../types/configs';\n\n/**\n *\n */\nexport default class BlockSelection extends Module {\n  /**\n   * Sometimes .anyBlockSelected can be called frequently,\n   * for example at ui@selectionChange (to clear native browser selection in CBS)\n   * We use cache to prevent multiple iterations through all the blocks\n   *\n   * @private\n   */\n  private anyBlockSelectedCache: boolean | null = null;\n\n  /**\n   * Sanitizer Config\n   *\n   * @returns {SanitizerConfig}\n   */\n  private get sanitizerConfig(): SanitizerConfig {\n    return {\n      p: {},\n      h1: {},\n      h2: {},\n      h3: {},\n      h4: {},\n      h5: {},\n      h6: {},\n      ol: {},\n      ul: {},\n      li: {},\n      br: true,\n      img: {\n        src: true,\n        width: true,\n        height: true,\n      },\n      a: {\n        href: true,\n      },\n      b: {},\n      i: {},\n      u: {},\n    };\n  }\n\n  /**\n   * Flag that identifies all Blocks selection\n   *\n   * @returns {boolean}\n   */\n  public get allBlocksSelected(): boolean {\n    const { BlockManager } = this.Editor;\n\n    return BlockManager.blocks.every((block) => block.selected === true);\n  }\n\n  /**\n   * Set selected all blocks\n   *\n   * @param {boolean} state - state to set\n   */\n  public set allBlocksSelected(state: boolean) {\n    const { BlockManager } = this.Editor;\n\n    BlockManager.blocks.forEach((block) => {\n      block.selected = state;\n    });\n\n    this.clearCache();\n  }\n\n  /**\n   * Flag that identifies any Block selection\n   *\n   * @returns {boolean}\n   */\n  public get anyBlockSelected(): boolean {\n    const { BlockManager } = this.Editor;\n\n    if (this.anyBlockSelectedCache === null) {\n      this.anyBlockSelectedCache = BlockManager.blocks.some((block) => block.selected === true);\n    }\n\n    return this.anyBlockSelectedCache;\n  }\n\n  /**\n   * Return selected Blocks array\n   *\n   * @returns {Block[]}\n   */\n  public get selectedBlocks(): Block[] {\n    return this.Editor.BlockManager.blocks.filter((block: Block) => block.selected);\n  }\n\n  /**\n   * Flag used to define block selection\n   * First CMD+A defines it as true and then second CMD+A selects all Blocks\n   *\n   * @type {boolean}\n   */\n  private needToSelectAll = false;\n\n  /**\n   * Flag used to define native input selection\n   * In this case we allow double CMD+A to select Block\n   *\n   * @type {boolean}\n   */\n  private nativeInputSelected = false;\n\n  /**\n   * Flag identifies any input selection\n   * That means we can select whole Block\n   *\n   * @type {boolean}\n   */\n  private readyToBlockSelection = false;\n\n  /**\n   * SelectionUtils instance\n   *\n   * @type {SelectionUtils}\n   */\n  private selection: SelectionUtils;\n\n  /**\n   * Module Preparation\n   * Registers Shortcuts CMD+A and CMD+C\n   * to select all and copy them\n   */\n  public prepare(): void {\n    const { Shortcuts } = this.Editor;\n\n    this.selection = new SelectionUtils();\n\n    /**\n     * CMD/CTRL+A selection shortcut\n     */\n    Shortcuts.add({\n      name: 'CMD+A',\n      handler: (event) => {\n        const { BlockManager, ReadOnly } = this.Editor;\n\n        /**\n         * We use Editor's Block selection on CMD+A ShortCut instead of Browsers\n         */\n        if (ReadOnly.isEnabled) {\n          event.preventDefault();\n          this.selectAllBlocks();\n\n          return;\n        }\n\n        /**\n         * When one page consist of two or more EditorJS instances\n         * Shortcut module tries to handle all events.\n         * Thats why Editor's selection works inside the target Editor, but\n         * for others error occurs because nothing to select.\n         *\n         * Prevent such actions if focus is not inside the Editor\n         */\n        if (!BlockManager.currentBlock) {\n          return;\n        }\n\n        this.handleCommandA(event);\n      },\n    });\n  }\n\n  /**\n   * Toggle read-only state\n   *\n   *  - Remove all ranges\n   *  - Unselect all Blocks\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    SelectionUtils.get()\n      .removeAllRanges();\n\n    this.allBlocksSelected = false;\n  }\n\n  /**\n   * Remove selection of Block\n   *\n   * @param {number?} index - Block index according to the BlockManager's indexes\n   */\n  public unSelectBlockByIndex(index?): void {\n    const { BlockManager } = this.Editor;\n\n    let block;\n\n    if (isNaN(index)) {\n      block = BlockManager.currentBlock;\n    } else {\n      block = BlockManager.getBlockByIndex(index);\n    }\n\n    block.selected = false;\n\n    this.clearCache();\n  }\n\n  /**\n   * Clear selection from Blocks\n   *\n   * @param {Event} reason - event caused clear of selection\n   * @param {boolean} restoreSelection - if true, restore saved selection\n   */\n  public clearSelection(reason?: Event, restoreSelection = false): void {\n    const { BlockManager, Caret, RectangleSelection } = this.Editor;\n\n    this.needToSelectAll = false;\n    this.nativeInputSelected = false;\n    this.readyToBlockSelection = false;\n\n    const isKeyboard = reason && (reason instanceof KeyboardEvent);\n    const isPrintableKey = isKeyboard && _.isPrintableKey((reason as KeyboardEvent).keyCode);\n\n    /**\n     * If reason caused clear of the selection was printable key and any block is selected,\n     * remove selected blocks and insert pressed key\n     */\n    if (this.anyBlockSelected && isKeyboard && isPrintableKey && !SelectionUtils.isSelectionExists) {\n      const indexToInsert = BlockManager.removeSelectedBlocks();\n\n      BlockManager.insertDefaultBlockAtIndex(indexToInsert, true);\n      Caret.setToBlock(BlockManager.currentBlock);\n      _.delay(() => {\n        const eventKey = (reason as KeyboardEvent).key;\n\n        /**\n         * If event.key length >1 that means key is special (e.g. Enter or Dead or Unidentifier).\n         * So we use empty string\n         *\n         * @see https://developer.mozilla.org/ru/docs/Web/API/KeyboardEvent/key\n         */\n        Caret.insertContentAtCaretPosition(eventKey.length > 1 ? '' : eventKey);\n      }, 20)();\n    }\n\n    this.Editor.CrossBlockSelection.clear(reason);\n\n    if (!this.anyBlockSelected || RectangleSelection.isRectActivated()) {\n      this.Editor.RectangleSelection.clearSelection();\n\n      return;\n    }\n\n    /**\n     * Restore selection when Block is already selected\n     * but someone tries to write something.\n     */\n    if (restoreSelection) {\n      this.selection.restore();\n    }\n\n    /** Now all blocks cleared */\n    this.allBlocksSelected = false;\n  }\n\n  /**\n   * Reduce each Block and copy its content\n   *\n   * @param {ClipboardEvent} e - copy/cut event\n   *\n   * @returns {Promise<void>}\n   */\n  public async copySelectedBlocks(e: ClipboardEvent): Promise<void> {\n    /**\n     * Prevent default copy\n     */\n    e.preventDefault();\n\n    const fakeClipboard = $.make('div');\n\n    this.selectedBlocks.forEach((block) => {\n      /**\n       * Make <p> tag that holds clean HTML\n       */\n      const cleanHTML = this.Editor.Sanitizer.clean(block.holder.innerHTML, this.sanitizerConfig);\n      const fragment = $.make('p');\n\n      fragment.innerHTML = cleanHTML;\n      fakeClipboard.appendChild(fragment);\n    });\n\n    const savedData = await Promise.all(this.selectedBlocks.map((block) => block.save()));\n\n    const textPlain = Array.from(fakeClipboard.childNodes).map((node) => node.textContent)\n      .join('\\n\\n');\n    const textHTML = fakeClipboard.innerHTML;\n\n    e.clipboardData.setData('text/plain', textPlain);\n    e.clipboardData.setData('text/html', textHTML);\n    e.clipboardData.setData(this.Editor.Paste.MIME_TYPE, JSON.stringify(savedData));\n  }\n\n  /**\n   * select Block\n   *\n   * @param {number?} index - Block index according to the BlockManager's indexes\n   */\n  public selectBlockByIndex(index?): void {\n    const { BlockManager } = this.Editor;\n\n    /**\n     * Remove previous focused Block's state\n     */\n    BlockManager.clearFocused();\n\n    let block;\n\n    if (isNaN(index)) {\n      block = BlockManager.currentBlock;\n    } else {\n      block = BlockManager.getBlockByIndex(index);\n    }\n\n    /** Save selection */\n    this.selection.save();\n    SelectionUtils.get()\n      .removeAllRanges();\n\n    block.selected = true;\n\n    this.clearCache();\n\n    /** close InlineToolbar when we selected any Block */\n    this.Editor.InlineToolbar.close();\n  }\n\n  /**\n   * Clear anyBlockSelected cache\n   */\n  public clearCache(): void {\n    this.anyBlockSelectedCache = null;\n  }\n\n  /**\n   * Module destruction\n   * De-registers Shortcut CMD+A\n   */\n  public destroy(): void {\n    const { Shortcuts } = this.Editor;\n\n    /** Selection shortcut */\n    Shortcuts.remove('CMD+A');\n  }\n\n  /**\n   * First CMD+A selects all input content by native behaviour,\n   * next CMD+A keypress selects all blocks\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private handleCommandA(event: KeyboardEvent): void {\n    this.Editor.RectangleSelection.clearSelection();\n\n    /** allow default selection on native inputs */\n    if ($.isNativeInput(event.target) && !this.readyToBlockSelection) {\n      this.readyToBlockSelection = true;\n\n      return;\n    }\n\n    const workingBlock = this.Editor.BlockManager.getBlock(event.target as HTMLElement);\n    const inputs = workingBlock.inputs;\n\n    /**\n     * If Block has more than one editable element allow native selection\n     * Second cmd+a will select whole Block\n     */\n    if (inputs.length > 1 && !this.readyToBlockSelection) {\n      this.readyToBlockSelection = true;\n\n      return;\n    }\n\n    if (inputs.length === 1 && !this.needToSelectAll) {\n      this.needToSelectAll = true;\n\n      return;\n    }\n\n    if (this.needToSelectAll) {\n      /**\n       * Prevent default selection\n       */\n      event.preventDefault();\n\n      this.selectAllBlocks();\n\n      /**\n       * Disable any selection after all Blocks selected\n       */\n      this.needToSelectAll = false;\n      this.readyToBlockSelection = false;\n\n      /**\n       * Close ConversionToolbar when all Blocks selected\n       */\n      this.Editor.ConversionToolbar.close();\n    } else if (this.readyToBlockSelection) {\n      /**\n       * prevent default selection when we use custom selection\n       */\n      event.preventDefault();\n\n      /**\n       * select working Block\n       */\n      this.selectBlockByIndex();\n\n      /**\n       * Enable all Blocks selection if current Block is selected\n       */\n      this.needToSelectAll = true;\n    }\n  }\n\n  /**\n   * Select All Blocks\n   * Each Block has selected setter that makes Block copyable\n   */\n  private selectAllBlocks(): void {\n    /**\n     * Save selection\n     * Will be restored when closeSelection fired\n     */\n    this.selection.save();\n\n    /**\n     * Remove Ranges from Selection\n     */\n    SelectionUtils.get()\n      .removeAllRanges();\n\n    this.allBlocksSelected = true;\n\n    /** close InlineToolbar if we selected all Blocks */\n    this.Editor.InlineToolbar.close();\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4deed810865d09eec4d8ba2007c5e3b30f030532"});var l=t[n];return E=function(){return l},l}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=p(l),o=p(o),i=p(i),c=p(c),s=p(s),r=p(r),C=p(C),a=p(a),u=f(u),m=p(m),d=p(d),E();var h=function(n){(0,s.default)(a,n);var A,e,t=(A=a,function(){var n,e=(0,C.default)(A);if(I()){var t=(0,C.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,r.default)(this,n)});function a(){var n;return(0,i.default)(this,a),E().f[0]++,E().s[0]++,n=t.apply(this,arguments),E().s[1]++,n.anyBlockSelectedCache=null,E().s[2]++,n.needToSelectAll=!1,E().s[3]++,n.nativeInputSelected=!1,E().s[4]++,n.readyToBlockSelection=!1,n}return(0,c.default)(a,[{key:"prepare",value:function(){var n=this;E().f[10]++;var A=(E().s[20]++,this.Editor).Shortcuts;E().s[21]++,this.selection=new d.default,E().s[22]++,A.add({name:"CMD+A",handler:function(A){E().f[11]++;var e=(E().s[23]++,n.Editor),t=e.BlockManager,l=e.ReadOnly;return E().s[24]++,l.isEnabled?(E().b[1][0]++,E().s[25]++,A.preventDefault(),E().s[26]++,n.selectAllBlocks(),void E().s[27]++):(E().b[1][1]++,E().s[28]++,t.currentBlock?(E().b[2][1]++,E().s[30]++,void n.handleCommandA(A)):(E().b[2][0]++,void E().s[29]++))}})}},{key:"toggleReadOnly",value:function(n){E().f[12]++,E().s[31]++,d.default.get().removeAllRanges(),E().s[32]++,this.allBlocksSelected=!1}},{key:"unSelectBlockByIndex",value:function(n){E().f[13]++;var A,e=(E().s[33]++,this.Editor).BlockManager;E().s[34]++,isNaN(n)?(E().b[3][0]++,E().s[35]++,A=e.currentBlock):(E().b[3][1]++,E().s[36]++,A=e.getBlockByIndex(n)),E().s[37]++,A.selected=!1,E().s[38]++,this.clearCache()}},{key:"clearSelection",value:function(n){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(E().b[4][0]++,!1);E().f[14]++;var e=(E().s[39]++,this.Editor),t=e.BlockManager,l=e.Caret,o=e.RectangleSelection;E().s[40]++,this.needToSelectAll=!1,E().s[41]++,this.nativeInputSelected=!1,E().s[42]++,this.readyToBlockSelection=!1;var i=(E().s[43]++,E().b[5][0]++,n&&(E().b[5][1]++,n instanceof KeyboardEvent)),c=(E().s[44]++,E().b[6][0]++,i&&(E().b[6][1]++,u.isPrintableKey(n.keyCode)));if(E().s[45]++,E().b[8][0]++,this.anyBlockSelected&&(E().b[8][1]++,i)&&(E().b[8][2]++,c)&&(E().b[8][3]++,!d.default.isSelectionExists)){E().b[7][0]++;var s=(E().s[46]++,t.removeSelectedBlocks());E().s[47]++,t.insertDefaultBlockAtIndex(s,!0),E().s[48]++,l.setToBlock(t.currentBlock),E().s[49]++,u.delay((function(){E().f[15]++;var A=(E().s[50]++,n.key);E().s[51]++,l.insertContentAtCaretPosition(A.length>1?(E().b[9][0]++,""):(E().b[9][1]++,A))}),20)()}else E().b[7][1]++;if(E().s[52]++,this.Editor.CrossBlockSelection.clear(n),E().s[53]++,E().b[11][0]++,!this.anyBlockSelected||(E().b[11][1]++,o.isRectActivated()))return E().b[10][0]++,E().s[54]++,this.Editor.RectangleSelection.clearSelection(),void E().s[55]++;E().b[10][1]++,E().s[56]++,A?(E().b[12][0]++,E().s[57]++,this.selection.restore()):E().b[12][1]++,E().s[58]++,this.allBlocksSelected=!1}},{key:"copySelectedBlocks",value:(e=(0,o.default)(l.default.mark((function n(A){var e,t,o,i,c=this;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return E().f[16]++,E().s[59]++,A.preventDefault(),E().s[60]++,e=m.default.make("div"),E().s[61]++,this.selectedBlocks.forEach((function(n){E().f[17]++;var A=(E().s[62]++,c.Editor.Sanitizer.clean(n.holder.innerHTML,c.sanitizerConfig)),t=(E().s[63]++,m.default.make("p"));E().s[64]++,t.innerHTML=A,E().s[65]++,e.appendChild(t)})),E().s[66]++,n.next=9,Promise.all(this.selectedBlocks.map((function(n){return E().f[18]++,E().s[67]++,n.save()})));case 9:t=n.sent,E().s[68]++,o=Array.from(e.childNodes).map((function(n){return E().f[19]++,E().s[69]++,n.textContent})).join("\n\n"),E().s[70]++,i=e.innerHTML,E().s[71]++,A.clipboardData.setData("text/plain",o),E().s[72]++,A.clipboardData.setData("text/html",i),E().s[73]++,A.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(t));case 18:case"end":return n.stop()}}),n,this)}))),function(n){return e.apply(this,arguments)})},{key:"selectBlockByIndex",value:function(n){E().f[20]++;var A,e=(E().s[74]++,this.Editor).BlockManager;E().s[75]++,e.clearFocused(),E().s[76]++,isNaN(n)?(E().b[13][0]++,E().s[77]++,A=e.currentBlock):(E().b[13][1]++,E().s[78]++,A=e.getBlockByIndex(n)),E().s[79]++,this.selection.save(),E().s[80]++,d.default.get().removeAllRanges(),E().s[81]++,A.selected=!0,E().s[82]++,this.clearCache(),E().s[83]++,this.Editor.InlineToolbar.close()}},{key:"clearCache",value:function(){E().f[21]++,E().s[84]++,this.anyBlockSelectedCache=null}},{key:"destroy",value:function(){E().f[22]++;var n=(E().s[85]++,this.Editor).Shortcuts;E().s[86]++,n.remove("CMD+A")}},{key:"handleCommandA",value:function(n){if(E().f[23]++,E().s[87]++,this.Editor.RectangleSelection.clearSelection(),E().s[88]++,E().b[15][0]++,m.default.isNativeInput(n.target)&&(E().b[15][1]++,!this.readyToBlockSelection))return E().b[14][0]++,E().s[89]++,this.readyToBlockSelection=!0,void E().s[90]++;E().b[14][1]++;var A=(E().s[91]++,this.Editor.BlockManager.getBlock(n.target)),e=(E().s[92]++,A.inputs);return E().s[93]++,E().b[17][0]++,e.length>1&&(E().b[17][1]++,!this.readyToBlockSelection)?(E().b[16][0]++,E().s[94]++,this.readyToBlockSelection=!0,void E().s[95]++):(E().b[16][1]++,E().s[96]++,E().b[19][0]++,1!==e.length||(E().b[19][1]++,this.needToSelectAll)?(E().b[18][1]++,E().s[99]++,void(this.needToSelectAll?(E().b[20][0]++,E().s[100]++,n.preventDefault(),E().s[101]++,this.selectAllBlocks(),E().s[102]++,this.needToSelectAll=!1,E().s[103]++,this.readyToBlockSelection=!1,E().s[104]++,this.Editor.ConversionToolbar.close()):(E().b[20][1]++,E().s[105]++,this.readyToBlockSelection?(E().b[21][0]++,E().s[106]++,n.preventDefault(),E().s[107]++,this.selectBlockByIndex(),E().s[108]++,this.needToSelectAll=!0):E().b[21][1]++))):(E().b[18][0]++,E().s[97]++,this.needToSelectAll=!0,void E().s[98]++))}},{key:"selectAllBlocks",value:function(){E().f[24]++,E().s[109]++,this.selection.save(),E().s[110]++,d.default.get().removeAllRanges(),E().s[111]++,this.allBlocksSelected=!0,E().s[112]++,this.Editor.InlineToolbar.close()}},{key:"sanitizerConfig",get:function(){return E().f[1]++,E().s[5]++,{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}},{key:"allBlocksSelected",get:function(){E().f[2]++;var n=(E().s[6]++,this.Editor).BlockManager;return E().s[7]++,n.blocks.every((function(n){return E().f[3]++,E().s[8]++,!0===n.selected}))},set:function(n){E().f[4]++;var A=(E().s[9]++,this.Editor).BlockManager;E().s[10]++,A.blocks.forEach((function(A){E().f[5]++,E().s[11]++,A.selected=n})),E().s[12]++,this.clearCache()}},{key:"anyBlockSelected",get:function(){E().f[6]++;var n=(E().s[13]++,this.Editor).BlockManager;return E().s[14]++,null===this.anyBlockSelectedCache?(E().b[0][0]++,E().s[15]++,this.anyBlockSelectedCache=n.blocks.some((function(n){return E().f[7]++,E().s[16]++,!0===n.selected}))):E().b[0][1]++,E().s[17]++,this.anyBlockSelectedCache}},{key:"selectedBlocks",get:function(){return E().f[8]++,E().s[18]++,this.Editor.BlockManager.blocks.filter((function(n){return E().f[9]++,E().s[19]++,n.selected}))}}]),a}(a.default);t.default=h,h.displayName="BlockSelection",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(25),e(7),e(15),e(8)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u){"use strict";var m=e(13),d=e(1);function f(){var n="/home/hata/editor.js/src/components/modules/caret.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"6b64fdebb4e8e3c0cd0bcbe07d1631d3b18e33ed"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/caret.ts",statementMap:{0:{start:{line:26,column:8},end:{line:30,column:10}},1:{start:{line:36,column:8},end:{line:38,column:10}},2:{start:{line:46,column:26},end:{line:46,column:41}},3:{start:{line:47,column:26},end:{line:47,column:94}},4:{start:{line:48,column:24},end:{line:48,column:43}},5:{start:{line:50,column:8},end:{line:52,column:9}},6:{start:{line:51,column:12},end:{line:51,column:48}},7:{start:{line:54,column:8},end:{line:56,column:9}},8:{start:{line:55,column:12},end:{line:55,column:25}},9:{start:{line:63,column:34},end:{line:63,column:68}},10:{start:{line:64,column:8},end:{line:66,column:9}},11:{start:{line:65,column:12},end:{line:65,column:36}},12:{start:{line:76,column:26},end:{line:76,column:47}},13:{start:{line:77,column:8},end:{line:86,column:9}},14:{start:{line:78,column:12},end:{line:85,column:13}},15:{start:{line:79,column:16},end:{line:79,column:62}},16:{start:{line:80,column:16},end:{line:80,column:32}},17:{start:{line:83,column:16},end:{line:83,column:66}},18:{start:{line:84,column:16},end:{line:84,column:59}},19:{start:{line:94,column:8},end:{line:114,column:9}},20:{start:{line:95,column:33},end:{line:95,column:79}},21:{start:{line:96,column:34},end:{line:110,column:14}},22:{start:{line:103,column:41},end:{line:103,column:63}},23:{start:{line:107,column:42},end:{line:107,column:106}},24:{start:{line:108,column:36},end:{line:108,column:73}},25:{start:{line:109,column:16},end:{line:109,column:55}},26:{start:{line:111,column:12},end:{line:113,column:13}},27:{start:{line:112,column:16},end:{line:112,column:28}},28:{start:{line:119,column:8},end:{line:119,column:101}},29:{start:{line:127,column:26},end:{line:127,column:41}},30:{start:{line:128,column:24},end:{line:128,column:43}},31:{start:{line:129,column:25},end:{line:129,column:99}},32:{start:{line:131,column:8},end:{line:133,column:9}},33:{start:{line:132,column:12},end:{line:132,column:67}},34:{start:{line:135,column:8},end:{line:137,column:9}},35:{start:{line:136,column:12},end:{line:136,column:25}},36:{start:{line:147,column:26},end:{line:147,column:47}},37:{start:{line:148,column:8},end:{line:157,column:9}},38:{start:{line:149,column:12},end:{line:156,column:13}},39:{start:{line:150,column:16},end:{line:150,column:66}},40:{start:{line:151,column:16},end:{line:151,column:59}},41:{start:{line:154,column:16},end:{line:154,column:52}},42:{start:{line:155,column:16},end:{line:155,column:32}},43:{start:{line:165,column:8},end:{line:177,column:9}},44:{start:{line:166,column:34},end:{line:166,column:81}},45:{start:{line:167,column:35},end:{line:173,column:14}},46:{start:{line:171,column:33},end:{line:171,column:89}},47:{start:{line:172,column:16},end:{line:172,column:80}},48:{start:{line:174,column:12},end:{line:176,column:13}},49:{start:{line:175,column:16},end:{line:175,column:28}},50:{start:{line:184,column:33},end:{line:184,column:73}},51:{start:{line:189,column:8},end:{line:189,column:80}},52:{start:{line:203,column:33},end:{line:203,column:44}},53:{start:{line:205,column:8},end:{line:214,column:9}},54:{start:{line:207,column:16},end:{line:207,column:43}},55:{start:{line:208,column:16},end:{line:208,column:22}},56:{start:{line:210,column:16},end:{line:210,column:42}},57:{start:{line:211,column:16},end:{line:211,column:22}},58:{start:{line:213,column:16},end:{line:213,column:45}},59:{start:{line:215,column:8},end:{line:217,column:9}},60:{start:{line:216,column:12},end:{line:216,column:19}},61:{start:{line:218,column:26},end:{line:218,column:84}},62:{start:{line:219,column:30},end:{line:219,column:59}},63:{start:{line:220,column:8},end:{line:228,column:9}},64:{start:{line:222,column:16},end:{line:222,column:27}},65:{start:{line:223,column:16},end:{line:223,column:22}},66:{start:{line:226,column:16},end:{line:226,column:39}},67:{start:{line:227,column:16},end:{line:227,column:22}},68:{start:{line:232,column:8},end:{line:234,column:17}},69:{start:{line:233,column:12},end:{line:233,column:40}},70:{start:{line:235,column:8},end:{line:235,column:62}},71:{start:{line:236,column:8},end:{line:236,column:57}},72:{start:{line:247,column:33},end:{line:247,column:57}},73:{start:{line:248,column:26},end:{line:248,column:49}},74:{start:{line:249,column:8},end:{line:260,column:9}},75:{start:{line:251,column:16},end:{line:251,column:39}},76:{start:{line:252,column:16},end:{line:252,column:22}},77:{start:{line:254,column:16},end:{line:254,column:67}},78:{start:{line:255,column:16},end:{line:255,column:22}},79:{start:{line:257,column:16},end:{line:259,column:17}},80:{start:{line:258,column:20},end:{line:258,column:48}},81:{start:{line:261,column:8},end:{line:261,column:42}},82:{start:{line:270,column:32},end:{line:270,column:68}},83:{start:{line:272,column:32},end:{line:272,column:38}},84:{start:{line:273,column:8},end:{line:275,column:9}},85:{start:{line:274,column:12},end:{line:274,column:36}},86:{start:{line:276,column:8},end:{line:278,column:9}},87:{start:{line:277,column:12},end:{line:277,column:53}},88:{start:{line:285,column:26},end:{line:285,column:60}},89:{start:{line:286,column:8},end:{line:288,column:9}},90:{start:{line:287,column:12},end:{line:287,column:19}},91:{start:{line:293,column:8},end:{line:299,column:9}},92:{start:{line:294,column:12},end:{line:294,column:39}},93:{start:{line:297,column:29},end:{line:297,column:67}},94:{start:{line:298,column:12},end:{line:298,column:38}},95:{start:{line:305,column:26},end:{line:305,column:41}},96:{start:{line:306,column:8},end:{line:332,column:9}},97:{start:{line:307,column:32},end:{line:307,column:55}},98:{start:{line:308,column:38},end:{line:308,column:88}},99:{start:{line:309,column:12},end:{line:309,column:41}},100:{start:{line:310,column:12},end:{line:331,column:13}},101:{start:{line:311,column:16},end:{line:330,column:17}},102:{start:{line:317,column:34},end:{line:317,column:51}},103:{start:{line:318,column:40},end:{line:318,column:73}},104:{start:{line:319,column:47},end:{line:319,column:93}},105:{start:{line:320,column:41},end:{line:320,column:84}},106:{start:{line:321,column:20},end:{line:321,column:59}},107:{start:{line:322,column:20},end:{line:322,column:53}},108:{start:{line:323,column:20},end:{line:323,column:39}},109:{start:{line:326,column:34},end:{line:326,column:58}},110:{start:{line:327,column:20},end:{line:327,column:64}},111:{start:{line:328,column:20},end:{line:328,column:84}},112:{start:{line:329,column:20},end:{line:329,column:51}},113:{start:{line:344,column:40},end:{line:344,column:51}},114:{start:{line:345,column:54},end:{line:345,column:66}},115:{start:{line:346,column:30},end:{line:346,column:42}},116:{start:{line:347,column:24},end:{line:347,column:43}},117:{start:{line:348,column:8},end:{line:360,column:9}},118:{start:{line:352,column:12},end:{line:354,column:13}},119:{start:{line:353,column:16},end:{line:353,column:29}},120:{start:{line:359,column:12},end:{line:359,column:51}},121:{start:{line:361,column:8},end:{line:370,column:9}},122:{start:{line:363,column:12},end:{line:368,column:13}},123:{start:{line:364,column:16},end:{line:364,column:65}},124:{start:{line:367,column:16},end:{line:367,column:65}},125:{start:{line:369,column:12},end:{line:369,column:24}},126:{start:{line:371,column:8},end:{line:371,column:21}},127:{start:{line:383,column:58},end:{line:383,column:82}},128:{start:{line:384,column:8},end:{line:386,column:9}},129:{start:{line:385,column:12},end:{line:385,column:25}},130:{start:{line:387,column:34},end:{line:387,column:46}},131:{start:{line:388,column:8},end:{line:390,column:9}},132:{start:{line:389,column:12},end:{line:389,column:25}},133:{start:{line:391,column:8},end:{line:400,column:9}},134:{start:{line:393,column:12},end:{line:398,column:13}},135:{start:{line:394,column:16},end:{line:394,column:77}},136:{start:{line:397,column:16},end:{line:397,column:67}},137:{start:{line:399,column:12},end:{line:399,column:24}},138:{start:{line:401,column:8},end:{line:401,column:21}},139:{start:{line:409,column:28},end:{line:409,column:58}},140:{start:{line:410,column:8},end:{line:410,column:57}},141:{start:{line:411,column:8},end:{line:411,column:64}},142:{start:{line:419,column:28},end:{line:419,column:78}},143:{start:{line:420,column:8},end:{line:422,column:9}},144:{start:{line:421,column:12},end:{line:421,column:19}},145:{start:{line:431,column:20},end:{line:431,column:35}},146:{start:{line:432,column:8},end:{line:432,column:37}},147:{start:{line:433,column:8},end:{line:437,column:15}},148:{start:{line:434,column:29},end:{line:434,column:51}},149:{start:{line:435,column:12},end:{line:435,column:45}},150:{start:{line:436,column:12},end:{line:436,column:39}},151:{start:{line:445,column:25},end:{line:445,column:58}},152:{start:{line:446,column:24},end:{line:446,column:53}},153:{start:{line:447,column:26},end:{line:447,column:41}},154:{start:{line:448,column:22},end:{line:448,column:37}},155:{start:{line:449,column:8},end:{line:449,column:36}},156:{start:{line:450,column:8},end:{line:450,column:87}},157:{start:{line:450,column:58},end:{line:450,column:85}},158:{start:{line:454,column:8},end:{line:456,column:9}},159:{start:{line:455,column:12},end:{line:455,column:47}},160:{start:{line:457,column:26},end:{line:457,column:44}},161:{start:{line:458,column:8},end:{line:458,column:31}},162:{start:{line:459,column:8},end:{line:459,column:35}},163:{start:{line:461,column:25},end:{line:461,column:47}},164:{start:{line:462,column:8},end:{line:462,column:67}},165:{start:{line:463,column:8},end:{line:463,column:36}},166:{start:{line:464,column:8},end:{line:464,column:37}},167:{start:{line:487,column:22},end:{line:487,column:26}},168:{start:{line:488,column:25},end:{line:488,column:27}},169:{start:{line:492,column:8},end:{line:494,column:9}},170:{start:{line:493,column:12},end:{line:493,column:41}},171:{start:{line:495,column:24},end:{line:495,column:80}},172:{start:{line:499,column:8},end:{line:502,column:9}},173:{start:{line:500,column:12},end:{line:500,column:39}},174:{start:{line:501,column:12},end:{line:501,column:35}},175:{start:{line:503,column:8},end:{line:503,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:20},end:{line:31,column:5}},line:25},1:{name:"(anonymous_1)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:21},end:{line:39,column:5}},line:35},2:{name:"(anonymous_2)",decl:{start:{line:45,column:4},end:{line:45,column:5}},loc:{start:{line:45,column:20},end:{line:120,column:5}},line:45},3:{name:"(anonymous_3)",decl:{start:{line:96,column:53},end:{line:96,column:54}},loc:{start:{line:96,column:63},end:{line:110,column:13}},line:96},4:{name:"(anonymous_4)",decl:{start:{line:126,column:4},end:{line:126,column:5}},loc:{start:{line:126,column:18},end:{line:190,column:5}},line:126},5:{name:"(anonymous_5)",decl:{start:{line:167,column:55},end:{line:167,column:56}},loc:{start:{line:167,column:68},end:{line:173,column:13}},line:167},6:{name:"(anonymous_6)",decl:{start:{line:202,column:4},end:{line:202,column:5}},loc:{start:{line:202,column:69},end:{line:237,column:5}},line:202},7:{name:"(anonymous_7)",decl:{start:{line:232,column:16},end:{line:232,column:17}},loc:{start:{line:232,column:22},end:{line:234,column:9}},line:232},8:{name:"(anonymous_8)",decl:{start:{line:246,column:4},end:{line:246,column:5}},loc:{start:{line:246,column:69},end:{line:262,column:5}},line:246},9:{name:"(anonymous_9)",decl:{start:{line:269,column:4},end:{line:269,column:5}},loc:{start:{line:269,column:29},end:{line:279,column:5}},line:269},10:{name:"(anonymous_10)",decl:{start:{line:284,column:4},end:{line:284,column:5}},loc:{start:{line:284,column:24},end:{line:300,column:5}},line:284},11:{name:"(anonymous_11)",decl:{start:{line:304,column:4},end:{line:304,column:5}},loc:{start:{line:304,column:39},end:{line:333,column:5}},line:304},12:{name:"(anonymous_12)",decl:{start:{line:343,column:4},end:{line:343,column:5}},loc:{start:{line:343,column:32},end:{line:372,column:5}},line:343},13:{name:"(anonymous_13)",decl:{start:{line:382,column:4},end:{line:382,column:5}},loc:{start:{line:382,column:36},end:{line:402,column:5}},line:382},14:{name:"(anonymous_14)",decl:{start:{line:408,column:4},end:{line:408,column:5}},loc:{start:{line:408,column:26},end:{line:412,column:5}},line:408},15:{name:"(anonymous_15)",decl:{start:{line:418,column:4},end:{line:418,column:5}},loc:{start:{line:418,column:26},end:{line:438,column:5}},line:418},16:{name:"(anonymous_16)",decl:{start:{line:433,column:19},end:{line:433,column:20}},loc:{start:{line:433,column:25},end:{line:437,column:9}},line:433},17:{name:"(anonymous_17)",decl:{start:{line:444,column:4},end:{line:444,column:5}},loc:{start:{line:444,column:42},end:{line:465,column:5}},line:444},18:{name:"(anonymous_18)",decl:{start:{line:450,column:47},end:{line:450,column:48}},loc:{start:{line:450,column:58},end:{line:450,column:85}},line:450},19:{name:"(anonymous_19)",decl:{start:{line:486,column:4},end:{line:486,column:5}},loc:{start:{line:486,column:44},end:{line:504,column:5}},line:486}},branchMap:{0:{loc:{start:{line:50,column:8},end:{line:52,column:9}},type:"if",locations:[{start:{line:50,column:8},end:{line:52,column:9}},{start:{line:50,column:8},end:{line:52,column:9}}],line:50},1:{loc:{start:{line:54,column:8},end:{line:56,column:9}},type:"if",locations:[{start:{line:54,column:8},end:{line:56,column:9}},{start:{line:54,column:8},end:{line:56,column:9}}],line:54},2:{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:64,column:8},end:{line:66,column:9}}],line:64},3:{loc:{start:{line:77,column:8},end:{line:86,column:9}},type:"if",locations:[{start:{line:77,column:8},end:{line:86,column:9}},{start:{line:77,column:8},end:{line:86,column:9}}],line:77},4:{loc:{start:{line:77,column:12},end:{line:77,column:80}},type:"binary-expr",locations:[{start:{line:77,column:12},end:{line:77,column:49}},{start:{line:77,column:53},end:{line:77,column:80}}],line:77},5:{loc:{start:{line:78,column:12},end:{line:85,column:13}},type:"if",locations:[{start:{line:78,column:12},end:{line:85,column:13}},{start:{line:78,column:12},end:{line:85,column:13}}],line:78},6:{loc:{start:{line:94,column:8},end:{line:114,column:9}},type:"if",locations:[{start:{line:94,column:8},end:{line:114,column:9}},{start:{line:94,column:8},end:{line:114,column:9}}],line:94},7:{loc:{start:{line:94,column:12},end:{line:94,column:63}},type:"binary-expr",locations:[{start:{line:94,column:12},end:{line:94,column:39}},{start:{line:94,column:43},end:{line:94,column:63}}],line:94},8:{loc:{start:{line:107,column:42},end:{line:107,column:106}},type:"binary-expr",locations:[{start:{line:107,column:42},end:{line:107,column:68}},{start:{line:107,column:72},end:{line:107,column:106}}],line:107},9:{loc:{start:{line:108,column:36},end:{line:108,column:73}},type:"binary-expr",locations:[{start:{line:108,column:36},end:{line:108,column:52}},{start:{line:108,column:56},end:{line:108,column:73}}],line:108},10:{loc:{start:{line:109,column:23},end:{line:109,column:54}},type:"binary-expr",locations:[{start:{line:109,column:23},end:{line:109,column:38}},{start:{line:109,column:42},end:{line:109,column:54}}],line:109},11:{loc:{start:{line:111,column:12},end:{line:113,column:13}},type:"if",locations:[{start:{line:111,column:12},end:{line:113,column:13}},{start:{line:111,column:12},end:{line:113,column:13}}],line:111},12:{loc:{start:{line:111,column:16},end:{line:111,column:68}},type:"binary-expr",locations:[{start:{line:111,column:16},end:{line:111,column:29}},{start:{line:111,column:33},end:{line:111,column:68}}],line:111},13:{loc:{start:{line:119,column:15},end:{line:119,column:100}},type:"binary-expr",locations:[{start:{line:119,column:15},end:{line:119,column:33}},{start:{line:119,column:38},end:{line:119,column:61}},{start:{line:119,column:65},end:{line:119,column:99}}],line:119},14:{loc:{start:{line:131,column:8},end:{line:133,column:9}},type:"if",locations:[{start:{line:131,column:8},end:{line:133,column:9}},{start:{line:131,column:8},end:{line:133,column:9}}],line:131},15:{loc:{start:{line:135,column:8},end:{line:137,column:9}},type:"if",locations:[{start:{line:135,column:8},end:{line:137,column:9}},{start:{line:135,column:8},end:{line:137,column:9}}],line:135},16:{loc:{start:{line:148,column:8},end:{line:157,column:9}},type:"if",locations:[{start:{line:148,column:8},end:{line:157,column:9}},{start:{line:148,column:8},end:{line:157,column:9}}],line:148},17:{loc:{start:{line:148,column:12},end:{line:148,column:80}},type:"binary-expr",locations:[{start:{line:148,column:12},end:{line:148,column:49}},{start:{line:148,column:53},end:{line:148,column:80}}],line:148},18:{loc:{start:{line:149,column:12},end:{line:156,column:13}},type:"if",locations:[{start:{line:149,column:12},end:{line:156,column:13}},{start:{line:149,column:12},end:{line:156,column:13}}],line:149},19:{loc:{start:{line:165,column:8},end:{line:177,column:9}},type:"if",locations:[{start:{line:165,column:8},end:{line:177,column:9}},{start:{line:165,column:8},end:{line:177,column:9}}],line:165},20:{loc:{start:{line:165,column:12},end:{line:165,column:61}},type:"binary-expr",locations:[{start:{line:165,column:12},end:{line:165,column:38}},{start:{line:165,column:42},end:{line:165,column:61}}],line:165},21:{loc:{start:{line:171,column:33},end:{line:171,column:89}},type:"binary-expr",locations:[{start:{line:171,column:33},end:{line:171,column:63}},{start:{line:171,column:67},end:{line:171,column:89}}],line:171},22:{loc:{start:{line:172,column:23},end:{line:172,column:79}},type:"binary-expr",locations:[{start:{line:172,column:23},end:{line:172,column:31}},{start:{line:172,column:36},end:{line:172,column:51}},{start:{line:172,column:55},end:{line:172,column:78}}],line:172},23:{loc:{start:{line:174,column:12},end:{line:176,column:13}},type:"if",locations:[{start:{line:174,column:12},end:{line:176,column:13}},{start:{line:174,column:12},end:{line:176,column:13}}],line:174},24:{loc:{start:{line:174,column:16},end:{line:174,column:78}},type:"binary-expr",locations:[{start:{line:174,column:16},end:{line:174,column:30}},{start:{line:174,column:34},end:{line:174,column:78}}],line:174},25:{loc:{start:{line:189,column:15},end:{line:189,column:79}},type:"binary-expr",locations:[{start:{line:189,column:15},end:{line:189,column:37}},{start:{line:189,column:41},end:{line:189,column:79}}],line:189},26:{loc:{start:{line:202,column:22},end:{line:202,column:55}},type:"default-arg",locations:[{start:{line:202,column:33},end:{line:202,column:55}}],line:202},27:{loc:{start:{line:202,column:57},end:{line:202,column:67}},type:"default-arg",locations:[{start:{line:202,column:66},end:{line:202,column:67}}],line:202},28:{loc:{start:{line:205,column:8},end:{line:214,column:9}},type:"switch",locations:[{start:{line:206,column:12},end:{line:208,column:22}},{start:{line:209,column:12},end:{line:211,column:22}},{start:{line:212,column:12},end:{line:213,column:45}}],line:205},29:{loc:{start:{line:215,column:8},end:{line:217,column:9}},type:"if",locations:[{start:{line:215,column:8},end:{line:217,column:9}},{start:{line:215,column:8},end:{line:217,column:9}}],line:215},30:{loc:{start:{line:220,column:8},end:{line:228,column:9}},type:"switch",locations:[{start:{line:221,column:12},end:{line:223,column:22}},{start:{line:224,column:12},end:{line:224,column:49}},{start:{line:225,column:12},end:{line:227,column:22}}],line:220},31:{loc:{start:{line:246,column:22},end:{line:246,column:55}},type:"default-arg",locations:[{start:{line:246,column:33},end:{line:246,column:55}}],line:246},32:{loc:{start:{line:246,column:57},end:{line:246,column:67}},type:"default-arg",locations:[{start:{line:246,column:66},end:{line:246,column:67}}],line:246},33:{loc:{start:{line:249,column:8},end:{line:260,column:9}},type:"switch",locations:[{start:{line:250,column:12},end:{line:252,column:22}},{start:{line:253,column:12},end:{line:255,column:22}},{start:{line:256,column:12},end:{line:259,column:17}}],line:249},34:{loc:{start:{line:257,column:16},end:{line:259,column:17}},type:"if",locations:[{start:{line:257,column:16},end:{line:259,column:17}},{start:{line:257,column:16},end:{line:259,column:17}}],line:257},35:{loc:{start:{line:269,column:17},end:{line:269,column:27}},type:"default-arg",locations:[{start:{line:269,column:26},end:{line:269,column:27}}],line:269},36:{loc:{start:{line:273,column:8},end:{line:275,column:9}},type:"if",locations:[{start:{line:273,column:8},end:{line:275,column:9}},{start:{line:273,column:8},end:{line:275,column:9}}],line:273},37:{loc:{start:{line:276,column:8},end:{line:278,column:9}},type:"if",locations:[{start:{line:276,column:8},end:{line:278,column:9}},{start:{line:276,column:8},end:{line:278,column:9}}],line:276},38:{loc:{start:{line:286,column:8},end:{line:288,column:9}},type:"if",locations:[{start:{line:286,column:8},end:{line:288,column:9}},{start:{line:286,column:8},end:{line:288,column:9}}],line:286},39:{loc:{start:{line:293,column:8},end:{line:299,column:9}},type:"if",locations:[{start:{line:293,column:8},end:{line:299,column:9}},{start:{line:293,column:8},end:{line:299,column:9}}],line:293},40:{loc:{start:{line:293,column:12},end:{line:293,column:76}},type:"binary-expr",locations:[{start:{line:293,column:12},end:{line:293,column:55}},{start:{line:293,column:59},end:{line:293,column:76}}],line:293},41:{loc:{start:{line:306,column:8},end:{line:332,column:9}},type:"if",locations:[{start:{line:306,column:8},end:{line:332,column:9}},{start:{line:306,column:8},end:{line:332,column:9}}],line:306},42:{loc:{start:{line:310,column:12},end:{line:331,column:13}},type:"if",locations:[{start:{line:310,column:12},end:{line:331,column:13}},{start:{line:310,column:12},end:{line:331,column:13}}],line:310},43:{loc:{start:{line:311,column:16},end:{line:330,column:17}},type:"if",locations:[{start:{line:311,column:16},end:{line:330,column:17}},{start:{line:311,column:16},end:{line:330,column:17}}],line:311},44:{loc:{start:{line:343,column:17},end:{line:343,column:30}},type:"default-arg",locations:[{start:{line:343,column:25},end:{line:343,column:30}}],line:343},45:{loc:{start:{line:348,column:8},end:{line:360,column:9}},type:"if",locations:[{start:{line:348,column:8},end:{line:360,column:9}},{start:{line:348,column:8},end:{line:360,column:9}}],line:348},46:{loc:{start:{line:348,column:12},end:{line:348,column:36}},type:"binary-expr",locations:[{start:{line:348,column:12},end:{line:348,column:22}},{start:{line:348,column:26},end:{line:348,column:36}}],line:348},47:{loc:{start:{line:352,column:12},end:{line:354,column:13}},type:"if",locations:[{start:{line:352,column:12},end:{line:354,column:13}},{start:{line:352,column:12},end:{line:354,column:13}}],line:352},48:{loc:{start:{line:361,column:8},end:{line:370,column:9}},type:"if",locations:[{start:{line:361,column:8},end:{line:370,column:9}},{start:{line:361,column:8},end:{line:370,column:9}}],line:361},49:{loc:{start:{line:361,column:12},end:{line:361,column:33}},type:"binary-expr",locations:[{start:{line:361,column:12},end:{line:361,column:17}},{start:{line:361,column:21},end:{line:361,column:33}}],line:361},50:{loc:{start:{line:363,column:12},end:{line:368,column:13}},type:"if",locations:[{start:{line:363,column:12},end:{line:368,column:13}},{start:{line:363,column:12},end:{line:368,column:13}}],line:363},51:{loc:{start:{line:382,column:21},end:{line:382,column:34}},type:"default-arg",locations:[{start:{line:382,column:29},end:{line:382,column:34}}],line:382},52:{loc:{start:{line:384,column:8},end:{line:386,column:9}},type:"if",locations:[{start:{line:384,column:8},end:{line:386,column:9}},{start:{line:384,column:8},end:{line:386,column:9}}],line:384},53:{loc:{start:{line:388,column:8},end:{line:390,column:9}},type:"if",locations:[{start:{line:388,column:8},end:{line:390,column:9}},{start:{line:388,column:8},end:{line:390,column:9}}],line:388},54:{loc:{start:{line:388,column:12},end:{line:388,column:54}},type:"binary-expr",locations:[{start:{line:388,column:12},end:{line:388,column:36}},{start:{line:388,column:40},end:{line:388,column:54}}],line:388},55:{loc:{start:{line:391,column:8},end:{line:400,column:9}},type:"if",locations:[{start:{line:391,column:8},end:{line:400,column:9}},{start:{line:391,column:8},end:{line:400,column:9}}],line:391},56:{loc:{start:{line:391,column:12},end:{line:391,column:35}},type:"binary-expr",locations:[{start:{line:391,column:12},end:{line:391,column:17}},{start:{line:391,column:21},end:{line:391,column:35}}],line:391},57:{loc:{start:{line:393,column:12},end:{line:398,column:13}},type:"if",locations:[{start:{line:393,column:12},end:{line:398,column:13}},{start:{line:393,column:12},end:{line:398,column:13}}],line:393},58:{loc:{start:{line:420,column:8},end:{line:422,column:9}},type:"if",locations:[{start:{line:420,column:8},end:{line:422,column:9}},{start:{line:420,column:8},end:{line:422,column:9}}],line:420},59:{loc:{start:{line:454,column:8},end:{line:456,column:9}},type:"if",locations:[{start:{line:454,column:8},end:{line:456,column:9}},{start:{line:454,column:8},end:{line:456,column:9}}],line:454},60:{loc:{start:{line:492,column:15},end:{line:492,column:82}},type:"binary-expr",locations:[{start:{line:492,column:15},end:{line:492,column:33}},{start:{line:492,column:37},end:{line:492,column:82}}],line:492},61:{loc:{start:{line:495,column:24},end:{line:495,column:80}},type:"cond-expr",locations:[{start:{line:495,column:47},end:{line:495,column:64}},{start:{line:495,column:67},end:{line:495,column:80}}],line:495}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0,0],23:[0,0],24:[0,0],25:[0,0],26:[0],27:[0],28:[0,0,0],29:[0,0],30:[0,0,0],31:[0],32:[0],33:[0,0,0],34:[0,0],35:[0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/caret.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/caret.ts"],names:[],mappings:"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",sourcesContent:["/**\n * @class Caret\n * @classdesc Contains methods for working Caret\n *\n * Uses Range methods to manipulate with caret\n *\n * @module Caret\n *\n * @version 2.0.0\n */\n\nimport Selection from '../selection';\nimport Module from '../__module';\nimport Block from '../block';\nimport $ from '../dom';\nimport * as _ from '../utils';\n\n/**\n * @typedef {Caret} Caret\n */\nexport default class Caret extends Module {\n  /**\n   * Allowed caret positions in input\n   *\n   * @static\n   * @returns {{START: string, END: string, DEFAULT: string}}\n   */\n  public get positions(): {START: string; END: string; DEFAULT: string} {\n    return {\n      START: 'start',\n      END: 'end',\n      DEFAULT: 'default',\n    };\n  }\n\n  /**\n   * Elements styles that can be useful for Caret Module\n   */\n  private static get CSS(): {shadowCaret: string} {\n    return {\n      shadowCaret: 'cdx-shadow-caret',\n    };\n  }\n\n  /**\n   * Get's deepest first node and checks if offset is zero\n   *\n   * @returns {boolean}\n   */\n  public get isAtStart(): boolean {\n    const selection = Selection.get();\n    const firstNode = $.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);\n    let focusNode = selection.focusNode;\n\n    /** In case lastNode is native input */\n    if ($.isNativeInput(firstNode)) {\n      return (firstNode as HTMLInputElement).selectionEnd === 0;\n    }\n\n    /** Case when selection have been cleared programmatically, for example after CBS */\n    if (!selection.anchorNode) {\n      return false;\n    }\n\n    /**\n     * Workaround case when caret in the text like \" |Hello!\"\n     * selection.anchorOffset is 1, but real caret visible position is 0\n     *\n     * @type {number}\n     */\n\n    let firstLetterPosition = focusNode.textContent.search(/\\S/);\n\n    if (firstLetterPosition === -1) { // empty text\n      firstLetterPosition = 0;\n    }\n\n    /**\n     * If caret was set by external code, it might be set to text node wrapper.\n     * <div>|hello</div> <---- Selection references to <div> instead of text node\n     *\n     * In this case, anchor node has ELEMENT_NODE node type.\n     * Anchor offset shows amount of children between start of the element and caret position.\n     *\n     * So we use child with focusOffset index as new anchorNode.\n     */\n    let focusOffset = selection.focusOffset;\n\n    if (focusNode.nodeType !== Node.TEXT_NODE && focusNode.childNodes.length) {\n      if (focusNode.childNodes[focusOffset]) {\n        focusNode = focusNode.childNodes[focusOffset];\n        focusOffset = 0;\n      } else {\n        focusNode = focusNode.childNodes[focusOffset - 1];\n        focusOffset = focusNode.textContent.length;\n      }\n    }\n\n    /**\n     * In case of\n     * <div contenteditable>\n     *     <p><b></b></p>   <-- first (and deepest) node is <b></b>\n     *     |adaddad         <-- focus node\n     * </div>\n     */\n    if ($.isLineBreakTag(firstNode as HTMLElement) || $.isEmpty(firstNode)) {\n      const leftSiblings = this.getHigherLevelSiblings(focusNode as HTMLElement, 'left');\n      const nothingAtLeft = leftSiblings.every((node) => {\n        /**\n         * Workaround case when block starts with several <br>'s (created by SHIFT+ENTER)\n         *\n         * @see https://github.com/codex-team/editor.js/issues/726\n         * We need to allow to delete such linebreaks, so in this case caret IS NOT AT START\n         */\n        const regularLineBreak = $.isLineBreakTag(node);\n        /**\n         * Workaround SHIFT+ENTER in Safari, that creates <div><br></div> instead of <br>\n         */\n        const lineBreakInSafari = node.children.length === 1 && $.isLineBreakTag(node.children[0] as HTMLElement);\n        const isLineBreak = regularLineBreak || lineBreakInSafari;\n\n        return $.isEmpty(node) && !isLineBreak;\n      });\n\n      if (nothingAtLeft && focusOffset === firstLetterPosition) {\n        return true;\n      }\n    }\n\n    /**\n     * We use <= comparison for case:\n     * \"| Hello\"  <--- selection.anchorOffset is 0, but firstLetterPosition is 1\n     */\n    return firstNode === null || (focusNode === firstNode && focusOffset <= firstLetterPosition);\n  }\n\n  /**\n   * Get's deepest last node and checks if offset is last node text length\n   *\n   * @returns {boolean}\n   */\n  public get isAtEnd(): boolean {\n    const selection = Selection.get();\n    let focusNode = selection.focusNode;\n\n    const lastNode = $.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput, true);\n\n    /** In case lastNode is native input */\n    if ($.isNativeInput(lastNode)) {\n      return (lastNode as HTMLInputElement).selectionEnd === (lastNode as HTMLInputElement).value.length;\n    }\n\n    /** Case when selection have been cleared programmatically, for example after CBS */\n    if (!selection.focusNode) {\n      return false;\n    }\n\n    /**\n     * If caret was set by external code, it might be set to text node wrapper.\n     * <div>hello|</div> <---- Selection references to <div> instead of text node\n     *\n     * In this case, anchor node has ELEMENT_NODE node type.\n     * Anchor offset shows amount of children between start of the element and caret position.\n     *\n     * So we use child with anchofocusOffset - 1 as new focusNode.\n     */\n    let focusOffset = selection.focusOffset;\n\n    if (focusNode.nodeType !== Node.TEXT_NODE && focusNode.childNodes.length) {\n      if (focusNode.childNodes[focusOffset - 1]) {\n        focusNode = focusNode.childNodes[focusOffset - 1];\n        focusOffset = focusNode.textContent.length;\n      } else {\n        focusNode = focusNode.childNodes[0];\n        focusOffset = 0;\n      }\n    }\n\n    /**\n     * In case of\n     * <div contenteditable>\n     *     adaddad|         <-- anchor node\n     *     <p><b></b></p>   <-- first (and deepest) node is <b></b>\n     * </div>\n     */\n    if ($.isLineBreakTag(lastNode as HTMLElement) || $.isEmpty(lastNode)) {\n      const rightSiblings = this.getHigherLevelSiblings(focusNode as HTMLElement, 'right');\n      const nothingAtRight = rightSiblings.every((node, i) => {\n        /**\n         * If last right sibling is BR isEmpty returns false, but there actually nothing at right\n         */\n        const isLastBR = i === rightSiblings.length - 1 && $.isLineBreakTag(node as HTMLElement);\n\n        return isLastBR || ($.isEmpty(node) && !$.isLineBreakTag(node));\n      });\n\n      if (nothingAtRight && focusOffset === focusNode.textContent.length) {\n        return true;\n      }\n    }\n\n    /**\n     * Workaround case:\n     * hello |     <--- anchorOffset will be 5, but textContent.length will be 6.\n     * Why not regular .trim():\n     *  in case of ' hello |' trim() will also remove space at the beginning, so length will be lower than anchorOffset\n     */\n    const rightTrimmedText = lastNode.textContent.replace(/\\s+$/, '');\n\n    /**\n     * We use >= comparison for case:\n     * \"Hello |\"  <--- selection.anchorOffset is 7, but rightTrimmedText is 6\n     */\n    return focusNode === lastNode && focusOffset >= rightTrimmedText.length;\n  }\n\n  /**\n   * Method gets Block instance and puts caret to the text node with offset\n   * There two ways that method applies caret position:\n   *   - first found text node: sets at the beginning, but you can pass an offset\n   *   - last found text node: sets at the end of the node. Also, you can customize the behaviour\n   *\n   * @param {Block} block - Block class\n   * @param {string} position - position where to set caret.\n   *                            If default - leave default behaviour and apply offset if it's passed\n   * @param {number} offset - caret offset regarding to the text node\n   */\n  public setToBlock(block: Block, position: string = this.positions.DEFAULT, offset = 0): void {\n    const { BlockManager } = this.Editor;\n    let element;\n\n    switch (position) {\n      case this.positions.START:\n        element = block.firstInput;\n        break;\n      case this.positions.END:\n        element = block.lastInput;\n        break;\n      default:\n        element = block.currentInput;\n    }\n\n    if (!element) {\n      return;\n    }\n\n    const nodeToSet = $.getDeepestNode(element, position === this.positions.END);\n    const contentLength = $.getContentLength(nodeToSet);\n\n    switch (true) {\n      case position === this.positions.START:\n        offset = 0;\n        break;\n      case position === this.positions.END:\n      case offset > contentLength:\n        offset = contentLength;\n        break;\n    }\n\n    /**\n     * @todo try to fix via Promises or use querySelectorAll to not to use timeout\n     */\n    _.delay(() => {\n      this.set(nodeToSet as HTMLElement, offset);\n    }, 20)();\n\n    BlockManager.setCurrentBlockByChildNode(block.holder);\n    BlockManager.currentBlock.currentInput = element;\n  }\n\n  /**\n   * Set caret to the current input of current Block.\n   *\n   * @param {HTMLElement} input - input where caret should be set\n   * @param {string} position - position of the caret.\n   *                            If default - leave default behaviour and apply offset if it's passed\n   * @param {number} offset - caret offset regarding to the text node\n   */\n  public setToInput(input: HTMLElement, position: string = this.positions.DEFAULT, offset = 0): void {\n    const { currentBlock } = this.Editor.BlockManager;\n    const nodeToSet = $.getDeepestNode(input);\n\n    switch (position) {\n      case this.positions.START:\n        this.set(nodeToSet as HTMLElement, 0);\n        break;\n\n      case this.positions.END:\n        this.set(nodeToSet as HTMLElement, $.getContentLength(nodeToSet));\n        break;\n\n      default:\n        if (offset) {\n          this.set(nodeToSet as HTMLElement, offset);\n        }\n    }\n\n    currentBlock.currentInput = input;\n  }\n\n  /**\n   * Creates Document Range and sets caret to the element with offset\n   *\n   * @param {HTMLElement} element - target node.\n   * @param {number} offset - offset\n   */\n  public set(element: HTMLElement, offset = 0): void {\n    const { top, bottom } = Selection.setCursor(element, offset);\n\n    /** If new cursor position is not visible, scroll to it */\n    const { innerHeight } = window;\n\n    if (top < 0) {\n      window.scrollBy(0, top);\n    }\n    if (bottom > innerHeight) {\n      window.scrollBy(0, bottom - innerHeight);\n    }\n  }\n\n  /**\n   * Set Caret to the last Block\n   * If last block is not empty, append another empty block\n   */\n  public setToTheLastBlock(): void {\n    const lastBlock = this.Editor.BlockManager.lastBlock;\n\n    if (!lastBlock) {\n      return;\n    }\n\n    /**\n     * If last block is empty and it is an defaultBlock, set to that.\n     * Otherwise, append new empty block and set to that\n     */\n    if (this.Editor.Tools.isDefault(lastBlock.tool) && lastBlock.isEmpty) {\n      this.setToBlock(lastBlock);\n    } else {\n      const newBlock = this.Editor.BlockManager.insertAtEnd();\n\n      this.setToBlock(newBlock);\n    }\n  }\n\n  /**\n   * Extract content fragment of current Block from Caret position to the end of the Block\n   */\n  public extractFragmentFromCaretPosition(): void|DocumentFragment {\n    const selection = Selection.get();\n\n    if (selection.rangeCount) {\n      const selectRange = selection.getRangeAt(0);\n      const currentBlockInput = this.Editor.BlockManager.currentBlock.currentInput;\n\n      selectRange.deleteContents();\n\n      if (currentBlockInput) {\n        if ($.isNativeInput(currentBlockInput)) {\n          /**\n           * If input is native text input we need to use it's value\n           * Text before the caret stays in the input,\n           * while text after the caret is returned as a fragment to be inserted after the block.\n           */\n          const input = currentBlockInput as HTMLInputElement | HTMLTextAreaElement;\n          const newFragment = document.createDocumentFragment();\n\n          const inputRemainingText = input.value.substring(0, input.selectionStart);\n          const fragmentText = input.value.substring(input.selectionStart);\n\n          newFragment.textContent = fragmentText;\n          input.value = inputRemainingText;\n\n          return newFragment;\n        } else {\n          const range = selectRange.cloneRange();\n\n          range.selectNodeContents(currentBlockInput);\n          range.setStart(selectRange.endContainer, selectRange.endOffset);\n\n          return range.extractContents();\n        }\n      }\n    }\n  }\n\n  /**\n   * Set's caret to the next Block or Tool`s input\n   * Before moving caret, we should check if caret position is at the end of Plugins node\n   * Using {@link Dom#getDeepestNode} to get a last node and match with current selection\n   *\n   * @param {boolean} force - force navigation even if caret is not at the end\n   *\n   * @returns {boolean}\n   */\n  public navigateNext(force = false): boolean {\n    const { BlockManager, Tools } = this.Editor;\n    const { currentBlock, nextContentfulBlock } = BlockManager;\n    const { nextInput } = currentBlock;\n\n    let nextBlock = nextContentfulBlock;\n\n    if (!nextBlock && !nextInput) {\n      /**\n       * If there is no nextBlock and currentBlock is default, do not navigate\n       */\n      if (Tools.isDefault(currentBlock.tool)) {\n        return false;\n      }\n\n      /**\n       * If there is no nextBlock, but currentBlock is not default,\n       * insert new default block at the end and navigate to it\n       */\n      nextBlock = BlockManager.insertAtEnd();\n    }\n\n    if (force || this.isAtEnd) {\n      /** If next Tool`s input exists, focus on it. Otherwise set caret to the next Block */\n      if (!nextInput) {\n        this.setToBlock(nextBlock, this.positions.START);\n      } else {\n        this.setToInput(nextInput, this.positions.START);\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Set's caret to the previous Tool`s input or Block\n   * Before moving caret, we should check if caret position is start of the Plugins node\n   * Using {@link Dom#getDeepestNode} to get a last node and match with current selection\n   *\n   * @param {boolean} force - force navigation even if caret is not at the start\n   *\n   * @returns {boolean}\n   */\n  public navigatePrevious(force = false): boolean {\n    const { currentBlock, previousContentfulBlock } = this.Editor.BlockManager;\n\n    if (!currentBlock) {\n      return false;\n    }\n\n    const { previousInput } = currentBlock;\n\n    if (!previousContentfulBlock && !previousInput) {\n      return false;\n    }\n\n    if (force || this.isAtStart) {\n      /** If previous Tool`s input exists, focus on it. Otherwise set caret to the previous Block */\n      if (!previousInput) {\n        this.setToBlock(previousContentfulBlock, this.positions.END);\n      } else {\n        this.setToInput(previousInput, this.positions.END);\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Inserts shadow element after passed element where caret can be placed\n   *\n   * @param {Element} element - element after which shadow caret should be inserted\n   */\n  public createShadow(element: Element): void {\n    const shadowCaret = document.createElement('span');\n\n    shadowCaret.classList.add(Caret.CSS.shadowCaret);\n    element.insertAdjacentElement('beforeend', shadowCaret);\n  }\n\n  /**\n   * Restores caret position\n   *\n   * @param {HTMLElement} element - element where caret should be restored\n   */\n  public restoreCaret(element: HTMLElement): void {\n    const shadowCaret = element.querySelector(`.${Caret.CSS.shadowCaret}`);\n\n    if (!shadowCaret) {\n      return;\n    }\n\n    /**\n     * After we set the caret to the required place\n     * we need to clear shadow caret\n     *\n     * - make new range\n     * - select shadowed span\n     * - use extractContent to remove it from DOM\n     */\n    const sel = new Selection();\n\n    sel.expandToTag(shadowCaret as HTMLElement);\n\n    setTimeout(() => {\n      const newRange = document.createRange();\n\n      newRange.selectNode(shadowCaret);\n      newRange.extractContents();\n    }, 50);\n  }\n\n  /**\n   * Inserts passed content at caret position\n   *\n   * @param {string} content - content to insert\n   */\n  public insertContentAtCaretPosition(content: string): void {\n    const fragment = document.createDocumentFragment();\n    const wrapper = document.createElement('div');\n    const selection = Selection.get();\n    const range = Selection.range;\n\n    wrapper.innerHTML = content;\n\n    Array.from(wrapper.childNodes).forEach((child: Node) => fragment.appendChild(child));\n\n    /**\n     * If there is no child node, append empty one\n     */\n    if (fragment.childNodes.length === 0) {\n      fragment.appendChild(new Text(''));\n    }\n\n    const lastChild = fragment.lastChild;\n\n    range.deleteContents();\n    range.insertNode(fragment);\n\n    /** Cross-browser caret insertion */\n    const newRange = document.createRange();\n\n    newRange.setStart(lastChild, lastChild.textContent.length);\n\n    selection.removeAllRanges();\n    selection.addRange(newRange);\n  }\n\n  /**\n   * Get all first-level (first child of [contenteditabel]) siblings from passed node\n   * Then you can check it for emptiness\n   *\n   * @example\n   * <div contenteditable>\n   * <p></p>                            |\n   * <p></p>                            | left first-level siblings\n   * <p></p>                            |\n   * <blockquote><a><b>adaddad</b><a><blockquote>       <-- passed node for example <b>\n   * <p></p>                            |\n   * <p></p>                            | right first-level siblings\n   * <p></p>                            |\n   * </div>\n   *\n   * @param {HTMLElement} from - element from which siblings should be searched\n   * @param {'left' | 'right'} direction - direction of search\n   *\n   * @returns {HTMLElement[]}\n   */\n  private getHigherLevelSiblings(from: HTMLElement, direction?: 'left' | 'right'): HTMLElement[] {\n    let current = from;\n    const siblings = [];\n\n    /**\n     * Find passed node's firs-level parent (in example - blockquote)\n     */\n    while (current.parentNode && (current.parentNode as HTMLElement).contentEditable !== 'true') {\n      current = current.parentNode as HTMLElement;\n    }\n\n    const sibling = direction === 'left' ? 'previousSibling' : 'nextSibling';\n\n    /**\n     * Find all left/right siblings\n     */\n    while (current[sibling]) {\n      current = current[sibling] as HTMLElement;\n      siblings.push(current);\n    }\n\n    return siblings;\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6b64fdebb4e8e3c0cd0bcbe07d1631d3b18e33ed"});var l=t[n];return f=function(){return l},l}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=d(l),o=d(o),i=d(i),c=d(c),s=d(s),r=d(r),C=d(C),a=d(a),u=m(u),f();var E=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(p()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"setToBlock",value:function(n){var A=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(f().b[26][0]++,this.positions.DEFAULT),t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(f().b[27][0]++,0);f().f[6]++;var l,o=(f().s[52]++,this.Editor),i=o.BlockManager;switch(f().s[53]++,e){case this.positions.START:f().b[28][0]++,f().s[54]++,l=n.firstInput,f().s[55]++;break;case this.positions.END:f().b[28][1]++,f().s[56]++,l=n.lastInput,f().s[57]++;break;default:f().b[28][2]++,f().s[58]++,l=n.currentInput}if(f().s[59]++,!l)return f().b[29][0]++,void f().s[60]++;f().b[29][1]++;var c=(f().s[61]++,a.default.getDeepestNode(l,e===this.positions.END)),s=(f().s[62]++,a.default.getContentLength(c));switch(f().s[63]++,!0){case e===this.positions.START:f().b[30][0]++,f().s[64]++,t=0,f().s[65]++;break;case e===this.positions.END:f().b[30][1]++;case t>s:f().b[30][2]++,f().s[66]++,t=s,f().s[67]++}f().s[68]++,u.delay((function(){f().f[7]++,f().s[69]++,A.set(c,t)}),20)(),f().s[70]++,i.setCurrentBlockByChildNode(n.holder),f().s[71]++,i.currentBlock.currentInput=l}},{key:"setToInput",value:function(n){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(f().b[31][0]++,this.positions.DEFAULT),e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(f().b[32][0]++,0);f().f[8]++;var t=(f().s[72]++,this.Editor.BlockManager),l=t.currentBlock,o=(f().s[73]++,a.default.getDeepestNode(n));switch(f().s[74]++,A){case this.positions.START:f().b[33][0]++,f().s[75]++,this.set(o,0),f().s[76]++;break;case this.positions.END:f().b[33][1]++,f().s[77]++,this.set(o,a.default.getContentLength(o)),f().s[78]++;break;default:f().b[33][2]++,f().s[79]++,e?(f().b[34][0]++,f().s[80]++,this.set(o,e)):f().b[34][1]++}f().s[81]++,l.currentInput=n}},{key:"set",value:function(n){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(f().b[35][0]++,0);f().f[9]++;var e=(f().s[82]++,r.default.setCursor(n,A)),t=e.top,l=e.bottom,o=(f().s[83]++,window),i=o.innerHeight;f().s[84]++,t<0?(f().b[36][0]++,f().s[85]++,window.scrollBy(0,t)):f().b[36][1]++,f().s[86]++,l>i?(f().b[37][0]++,f().s[87]++,window.scrollBy(0,l-i)):f().b[37][1]++}},{key:"setToTheLastBlock",value:function(){f().f[10]++;var n=(f().s[88]++,this.Editor.BlockManager.lastBlock);if(f().s[89]++,!n)return f().b[38][0]++,void f().s[90]++;if(f().b[38][1]++,f().s[91]++,f().b[40][0]++,this.Editor.Tools.isDefault(n.tool)&&(f().b[40][1]++,n.isEmpty))f().b[39][0]++,f().s[92]++,this.setToBlock(n);else{f().b[39][1]++;var A=(f().s[93]++,this.Editor.BlockManager.insertAtEnd());f().s[94]++,this.setToBlock(A)}}},{key:"extractFragmentFromCaretPosition",value:function(){f().f[11]++;var n=(f().s[95]++,r.default.get());if(f().s[96]++,n.rangeCount){f().b[41][0]++;var A=(f().s[97]++,n.getRangeAt(0)),e=(f().s[98]++,this.Editor.BlockManager.currentBlock.currentInput);if(f().s[99]++,A.deleteContents(),f().s[100]++,e){if(f().b[42][0]++,f().s[101]++,a.default.isNativeInput(e)){f().b[43][0]++;var t=(f().s[102]++,e),l=(f().s[103]++,document.createDocumentFragment()),o=(f().s[104]++,t.value.substring(0,t.selectionStart)),i=(f().s[105]++,t.value.substring(t.selectionStart));return f().s[106]++,l.textContent=i,f().s[107]++,t.value=o,f().s[108]++,l}f().b[43][1]++;var c=(f().s[109]++,A.cloneRange());return f().s[110]++,c.selectNodeContents(e),f().s[111]++,c.setStart(A.endContainer,A.endOffset),f().s[112]++,c.extractContents()}f().b[42][1]++}else f().b[41][1]++}},{key:"navigateNext",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(f().b[44][0]++,!1);f().f[12]++;var A=(f().s[113]++,this.Editor),e=A.BlockManager,t=A.Tools,l=(f().s[114]++,e),o=l.currentBlock,i=l.nextContentfulBlock,c=(f().s[115]++,o),s=c.nextInput,r=(f().s[116]++,i);if(f().s[117]++,f().b[46][0]++,r||(f().b[46][1]++,s))f().b[45][1]++;else{if(f().b[45][0]++,f().s[118]++,t.isDefault(o.tool))return f().b[47][0]++,f().s[119]++,!1;f().b[47][1]++,f().s[120]++,r=e.insertAtEnd()}return f().s[121]++,f().b[49][0]++,n||(f().b[49][1]++,this.isAtEnd)?(f().b[48][0]++,f().s[122]++,s?(f().b[50][1]++,f().s[124]++,this.setToInput(s,this.positions.START)):(f().b[50][0]++,f().s[123]++,this.setToBlock(r,this.positions.START)),f().s[125]++,!0):(f().b[48][1]++,f().s[126]++,!1)}},{key:"navigatePrevious",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(f().b[51][0]++,!1);f().f[13]++;var A=(f().s[127]++,this.Editor.BlockManager),e=A.currentBlock,t=A.previousContentfulBlock;if(f().s[128]++,!e)return f().b[52][0]++,f().s[129]++,!1;f().b[52][1]++;var l=(f().s[130]++,e),o=l.previousInput;return f().s[131]++,f().b[54][0]++,t||(f().b[54][1]++,o)?(f().b[53][1]++,f().s[133]++,f().b[56][0]++,n||(f().b[56][1]++,this.isAtStart)?(f().b[55][0]++,f().s[134]++,o?(f().b[57][1]++,f().s[136]++,this.setToInput(o,this.positions.END)):(f().b[57][0]++,f().s[135]++,this.setToBlock(t,this.positions.END)),f().s[137]++,!0):(f().b[55][1]++,f().s[138]++,!1)):(f().b[53][0]++,f().s[132]++,!1)}},{key:"createShadow",value:function(n){f().f[14]++;var A=(f().s[139]++,document.createElement("span"));f().s[140]++,A.classList.add(t.CSS.shadowCaret),f().s[141]++,n.insertAdjacentElement("beforeend",A)}},{key:"restoreCaret",value:function(n){f().f[15]++;var A=(f().s[142]++,n.querySelector(".".concat(t.CSS.shadowCaret)));if(f().s[143]++,!A)return f().b[58][0]++,void f().s[144]++;f().b[58][1]++;var e=(f().s[145]++,new r.default);f().s[146]++,e.expandToTag(A),f().s[147]++,setTimeout((function(){f().f[16]++;var n=(f().s[148]++,document.createRange());f().s[149]++,n.selectNode(A),f().s[150]++,n.extractContents()}),50)}},{key:"insertContentAtCaretPosition",value:function(n){f().f[17]++;var A=(f().s[151]++,document.createDocumentFragment()),e=(f().s[152]++,document.createElement("div")),t=(f().s[153]++,r.default.get()),l=(f().s[154]++,r.default.range);f().s[155]++,e.innerHTML=n,f().s[156]++,Array.from(e.childNodes).forEach((function(n){return f().f[18]++,f().s[157]++,A.appendChild(n)})),f().s[158]++,0===A.childNodes.length?(f().b[59][0]++,f().s[159]++,A.appendChild(new Text(""))):f().b[59][1]++;var o=(f().s[160]++,A.lastChild);f().s[161]++,l.deleteContents(),f().s[162]++,l.insertNode(A);var i=(f().s[163]++,document.createRange());f().s[164]++,i.setStart(o,o.textContent.length),f().s[165]++,t.removeAllRanges(),f().s[166]++,t.addRange(i)}},{key:"getHigherLevelSiblings",value:function(n,A){f().f[19]++;var e=(f().s[167]++,n),t=(f().s[168]++,[]);for(f().s[169]++;f().b[60][0]++,e.parentNode&&(f().b[60][1]++,"true"!==e.parentNode.contentEditable);)f().s[170]++,e=e.parentNode;var l=(f().s[171]++,"left"===A?(f().b[61][0]++,"previousSibling"):(f().b[61][1]++,"nextSibling"));for(f().s[172]++;e[l];)f().s[173]++,e=e[l],f().s[174]++,t.push(e);return f().s[175]++,t}},{key:"positions",get:function(){return f().f[0]++,f().s[0]++,{START:"start",END:"end",DEFAULT:"default"}}},{key:"isAtStart",get:function(){f().f[2]++;var n=(f().s[2]++,r.default.get()),A=(f().s[3]++,a.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput)),e=(f().s[4]++,n.focusNode);if(f().s[5]++,a.default.isNativeInput(A))return f().b[0][0]++,f().s[6]++,0===A.selectionEnd;if(f().b[0][1]++,f().s[7]++,!n.anchorNode)return f().b[1][0]++,f().s[8]++,!1;f().b[1][1]++;var t=(f().s[9]++,e.textContent.search(/\S/));f().s[10]++,-1===t?(f().b[2][0]++,f().s[11]++,t=0):f().b[2][1]++;var l=(f().s[12]++,n.focusOffset);if(f().s[13]++,f().b[4][0]++,e.nodeType!==Node.TEXT_NODE&&(f().b[4][1]++,e.childNodes.length)?(f().b[3][0]++,f().s[14]++,e.childNodes[l]?(f().b[5][0]++,f().s[15]++,e=e.childNodes[l],f().s[16]++,l=0):(f().b[5][1]++,f().s[17]++,e=e.childNodes[l-1],f().s[18]++,l=e.textContent.length)):f().b[3][1]++,f().s[19]++,f().b[7][0]++,a.default.isLineBreakTag(A)||(f().b[7][1]++,a.default.isEmpty(A))){f().b[6][0]++;var o=(f().s[20]++,this.getHigherLevelSiblings(e,"left")),i=(f().s[21]++,o.every((function(n){f().f[3]++;var A=(f().s[22]++,a.default.isLineBreakTag(n)),e=(f().s[23]++,f().b[8][0]++,1===n.children.length&&(f().b[8][1]++,a.default.isLineBreakTag(n.children[0]))),t=(f().s[24]++,f().b[9][0]++,A||(f().b[9][1]++,e));return f().s[25]++,f().b[10][0]++,a.default.isEmpty(n)&&(f().b[10][1]++,!t)})));if(f().s[26]++,f().b[12][0]++,i&&(f().b[12][1]++,l===t))return f().b[11][0]++,f().s[27]++,!0;f().b[11][1]++}else f().b[6][1]++;return f().s[28]++,f().b[13][0]++,null===A||(f().b[13][1]++,e===A&&(f().b[13][2]++,l<=t))}},{key:"isAtEnd",get:function(){f().f[4]++;var n=(f().s[29]++,r.default.get()),A=(f().s[30]++,n.focusNode),e=(f().s[31]++,a.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0));if(f().s[32]++,a.default.isNativeInput(e))return f().b[14][0]++,f().s[33]++,e.selectionEnd===e.value.length;if(f().b[14][1]++,f().s[34]++,!n.focusNode)return f().b[15][0]++,f().s[35]++,!1;f().b[15][1]++;var t=(f().s[36]++,n.focusOffset);if(f().s[37]++,f().b[17][0]++,A.nodeType!==Node.TEXT_NODE&&(f().b[17][1]++,A.childNodes.length)?(f().b[16][0]++,f().s[38]++,A.childNodes[t-1]?(f().b[18][0]++,f().s[39]++,A=A.childNodes[t-1],f().s[40]++,t=A.textContent.length):(f().b[18][1]++,f().s[41]++,A=A.childNodes[0],f().s[42]++,t=0)):f().b[16][1]++,f().s[43]++,f().b[20][0]++,a.default.isLineBreakTag(e)||(f().b[20][1]++,a.default.isEmpty(e))){f().b[19][0]++;var l=(f().s[44]++,this.getHigherLevelSiblings(A,"right")),o=(f().s[45]++,l.every((function(n,A){f().f[5]++;var e=(f().s[46]++,f().b[21][0]++,A===l.length-1&&(f().b[21][1]++,a.default.isLineBreakTag(n)));return f().s[47]++,f().b[22][0]++,e||(f().b[22][1]++,a.default.isEmpty(n)&&(f().b[22][2]++,!a.default.isLineBreakTag(n)))})));if(f().s[48]++,f().b[24][0]++,o&&(f().b[24][1]++,t===A.textContent.length))return f().b[23][0]++,f().s[49]++,!0;f().b[23][1]++}else f().b[19][1]++;var i=(f().s[50]++,e.textContent.replace(/\s+$/,""));return f().s[51]++,f().b[25][0]++,A===e&&(f().b[25][1]++,t>=i.length)}}],[{key:"CSS",get:function(){return f().f[1]++,f().s[1]++,{shadowCaret:"cdx-shadow-caret"}}}]),t}(C.default);t.default=E,E.displayName="Caret",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(7),e(25),e(8)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u,m){"use strict";var d=e(13),f=e(1);function p(){var n="/home/hata/editor.js/src/components/modules/crossBlockSelection.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"36f652748e64e6c9b213e97dfa8cc587aa51ddb7"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/crossBlockSelection.ts",statementMap:{0:{start:{line:9,column:8},end:{line:9,column:28}},1:{start:{line:14,column:8},end:{line:18,column:10}},2:{start:{line:15,column:34},end:{line:15,column:45}},3:{start:{line:16,column:12},end:{line:16,column:67}},4:{start:{line:17,column:12},end:{line:17,column:63}},5:{start:{line:25,column:8},end:{line:51,column:10}},6:{start:{line:26,column:53},end:{line:26,column:64}},7:{start:{line:27,column:33},end:{line:27,column:112}},8:{start:{line:28,column:32},end:{line:28,column:78}},9:{start:{line:29,column:12},end:{line:31,column:13}},10:{start:{line:30,column:16},end:{line:30,column:23}},11:{start:{line:32,column:12},end:{line:34,column:13}},12:{start:{line:33,column:16},end:{line:33,column:23}},13:{start:{line:35,column:12},end:{line:41,column:13}},14:{start:{line:36,column:16},end:{line:36,column:55}},15:{start:{line:37,column:16},end:{line:37,column:45}},16:{start:{line:38,column:16},end:{line:38,column:44}},17:{start:{line:39,column:16},end:{line:39,column:44}},18:{start:{line:40,column:16},end:{line:40,column:23}},19:{start:{line:42,column:12},end:{line:47,column:13}},20:{start:{line:43,column:16},end:{line:43,column:46}},21:{start:{line:44,column:16},end:{line:44,column:45}},22:{start:{line:45,column:16},end:{line:45,column:44}},23:{start:{line:46,column:16},end:{line:46,column:23}},24:{start:{line:48,column:12},end:{line:48,column:46}},25:{start:{line:49,column:12},end:{line:49,column:70}},26:{start:{line:50,column:12},end:{line:50,column:49}},27:{start:{line:59,column:30},end:{line:59,column:41}},28:{start:{line:60,column:8},end:{line:62,column:11}},29:{start:{line:61,column:12},end:{line:61,column:50}},30:{start:{line:70,column:8},end:{line:72,column:9}},31:{start:{line:71,column:12},end:{line:71,column:19}},32:{start:{line:73,column:44},end:{line:73,column:55}},33:{start:{line:74,column:8},end:{line:74,column:70}},34:{start:{line:75,column:8},end:{line:75,column:57}},35:{start:{line:76,column:8},end:{line:76,column:62}},36:{start:{line:77,column:8},end:{line:77,column:58}},37:{start:{line:83,column:8},end:{line:84,column:37}},38:{start:{line:93,column:49},end:{line:93,column:60}},39:{start:{line:94,column:8},end:{line:96,column:9}},40:{start:{line:95,column:12},end:{line:95,column:89}},41:{start:{line:97,column:8},end:{line:101,column:9}},42:{start:{line:98,column:12},end:{line:98,column:52}},43:{start:{line:99,column:12},end:{line:99,column:40}},44:{start:{line:100,column:12},end:{line:100,column:51}},45:{start:{line:102,column:31},end:{line:102,column:100}},46:{start:{line:103,column:26},end:{line:103,column:61}},47:{start:{line:104,column:8},end:{line:106,column:9}},48:{start:{line:105,column:12},end:{line:105,column:19}},49:{start:{line:107,column:8},end:{line:114,column:9}},50:{start:{line:108,column:12},end:{line:108,column:38}},51:{start:{line:109,column:12},end:{line:109,column:40}},52:{start:{line:112,column:12},end:{line:112,column:52}},53:{start:{line:113,column:12},end:{line:113,column:40}},54:{start:{line:115,column:8},end:{line:115,column:43}},55:{start:{line:117,column:8},end:{line:117,column:42}},56:{start:{line:125,column:56},end:{line:125,column:67}},57:{start:{line:126,column:23},end:{line:126,column:75}},58:{start:{line:127,column:23},end:{line:127,column:74}},59:{start:{line:128,column:8},end:{line:152,column:9}},60:{start:{line:129,column:12},end:{line:151,column:13}},61:{start:{line:133,column:16},end:{line:144,column:17}},62:{start:{line:136,column:24},end:{line:136,column:109}},63:{start:{line:137,column:24},end:{line:137,column:30}},64:{start:{line:140,column:24},end:{line:140,column:111}},65:{start:{line:141,column:24},end:{line:141,column:30}},66:{start:{line:143,column:24},end:{line:143,column:109}},67:{start:{line:150,column:16},end:{line:150,column:101}},68:{start:{line:153,column:8},end:{line:153,column:64}},69:{start:{line:161,column:23},end:{line:161,column:34}},70:{start:{line:165,column:8},end:{line:167,column:9}},71:{start:{line:166,column:12},end:{line:166,column:61}},72:{start:{line:171,column:8},end:{line:179,column:9}},73:{start:{line:172,column:12},end:{line:172,column:39}},74:{start:{line:178,column:12},end:{line:178,column:61}},75:{start:{line:188,column:49},end:{line:188,column:60}},76:{start:{line:189,column:23},end:{line:189,column:62}},77:{start:{line:190,column:23},end:{line:190,column:61}},78:{start:{line:196,column:41},end:{line:196,column:83}},79:{start:{line:197,column:8},end:{line:204,column:9}},80:{start:{line:197,column:21},end:{line:197,column:45}},81:{start:{line:198,column:26},end:{line:198,column:48}},82:{start:{line:199,column:12},end:{line:203,column:13}},83:{start:{line:201,column:16},end:{line:201,column:83}},84:{start:{line:202,column:16},end:{line:202,column:44}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:18},end:{line:52,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:14,column:25},end:{line:14,column:26}},loc:{start:{line:14,column:31},end:{line:18,column:9}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:25,column:27},end:{line:25,column:28}},loc:{start:{line:25,column:38},end:{line:51,column:9}},line:25},3:{name:"(anonymous_3)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:20},end:{line:63,column:5}},line:58},4:{name:"(anonymous_4)",decl:{start:{line:60,column:44},end:{line:60,column:45}},loc:{start:{line:60,column:55},end:{line:62,column:9}},line:60},5:{name:"(anonymous_5)",decl:{start:{line:69,column:4},end:{line:69,column:5}},loc:{start:{line:69,column:26},end:{line:78,column:5}},line:69},6:{name:"(anonymous_6)",decl:{start:{line:82,column:4},end:{line:82,column:5}},loc:{start:{line:82,column:39},end:{line:85,column:5}},line:82},7:{name:"(anonymous_7)",decl:{start:{line:92,column:4},end:{line:92,column:5}},loc:{start:{line:92,column:42},end:{line:118,column:5}},line:92},8:{name:"(anonymous_8)",decl:{start:{line:124,column:4},end:{line:124,column:5}},loc:{start:{line:124,column:18},end:{line:154,column:5}},line:124},9:{name:"(anonymous_9)",decl:{start:{line:160,column:4},end:{line:160,column:5}},loc:{start:{line:160,column:37},end:{line:180,column:5}},line:160},10:{name:"(anonymous_10)",decl:{start:{line:187,column:4},end:{line:187,column:5}},loc:{start:{line:187,column:53},end:{line:205,column:5}},line:187}},branchMap:{0:{loc:{start:{line:27,column:33},end:{line:27,column:112}},type:"binary-expr",locations:[{start:{line:27,column:33},end:{line:27,column:86}},{start:{line:27,column:90},end:{line:27,column:112}}],line:27},1:{loc:{start:{line:29,column:12},end:{line:31,column:13}},type:"if",locations:[{start:{line:29,column:12},end:{line:31,column:13}},{start:{line:29,column:12},end:{line:31,column:13}}],line:29},2:{loc:{start:{line:29,column:16},end:{line:29,column:45}},type:"binary-expr",locations:[{start:{line:29,column:16},end:{line:29,column:29}},{start:{line:29,column:33},end:{line:29,column:45}}],line:29},3:{loc:{start:{line:32,column:12},end:{line:34,column:13}},type:"if",locations:[{start:{line:32,column:12},end:{line:34,column:13}},{start:{line:32,column:12},end:{line:34,column:13}}],line:32},4:{loc:{start:{line:35,column:12},end:{line:41,column:13}},type:"if",locations:[{start:{line:35,column:12},end:{line:41,column:13}},{start:{line:35,column:12},end:{line:41,column:13}}],line:35},5:{loc:{start:{line:42,column:12},end:{line:47,column:13}},type:"if",locations:[{start:{line:42,column:12},end:{line:47,column:13}},{start:{line:42,column:12},end:{line:47,column:13}}],line:42},6:{loc:{start:{line:70,column:8},end:{line:72,column:9}},type:"if",locations:[{start:{line:70,column:8},end:{line:72,column:9}},{start:{line:70,column:8},end:{line:72,column:9}}],line:70},7:{loc:{start:{line:83,column:15},end:{line:84,column:36}},type:"binary-expr",locations:[{start:{line:83,column:15},end:{line:83,column:40}},{start:{line:84,column:12},end:{line:84,column:36}}],line:83},8:{loc:{start:{line:92,column:29},end:{line:92,column:40}},type:"default-arg",locations:[{start:{line:92,column:36},end:{line:92,column:40}}],line:92},9:{loc:{start:{line:94,column:8},end:{line:96,column:9}},type:"if",locations:[{start:{line:94,column:8},end:{line:96,column:9}},{start:{line:94,column:8},end:{line:96,column:9}}],line:94},10:{loc:{start:{line:97,column:8},end:{line:101,column:9}},type:"if",locations:[{start:{line:97,column:8},end:{line:101,column:9}},{start:{line:97,column:8},end:{line:101,column:9}}],line:97},11:{loc:{start:{line:102,column:86},end:{line:102,column:99}},type:"cond-expr",locations:[{start:{line:102,column:93},end:{line:102,column:94}},{start:{line:102,column:97},end:{line:102,column:99}}],line:102},12:{loc:{start:{line:104,column:8},end:{line:106,column:9}},type:"if",locations:[{start:{line:104,column:8},end:{line:106,column:9}},{start:{line:104,column:8},end:{line:106,column:9}}],line:104},13:{loc:{start:{line:107,column:8},end:{line:114,column:9}},type:"if",locations:[{start:{line:107,column:8},end:{line:114,column:9}},{start:{line:107,column:8},end:{line:114,column:9}}],line:107},14:{loc:{start:{line:128,column:8},end:{line:152,column:9}},type:"if",locations:[{start:{line:128,column:8},end:{line:152,column:9}},{start:{line:128,column:8},end:{line:152,column:9}}],line:128},15:{loc:{start:{line:128,column:12},end:{line:128,column:73}},type:"binary-expr",locations:[{start:{line:128,column:12},end:{line:128,column:43}},{start:{line:128,column:47},end:{line:128,column:58}},{start:{line:128,column:62},end:{line:128,column:73}}],line:128},16:{loc:{start:{line:129,column:12},end:{line:151,column:13}},type:"if",locations:[{start:{line:129,column:12},end:{line:151,column:13}},{start:{line:129,column:12},end:{line:151,column:13}}],line:129},17:{loc:{start:{line:129,column:16},end:{line:129,column:57}},type:"binary-expr",locations:[{start:{line:129,column:16},end:{line:129,column:22}},{start:{line:129,column:26},end:{line:129,column:57}}],line:129},18:{loc:{start:{line:133,column:16},end:{line:144,column:17}},type:"switch",locations:[{start:{line:134,column:20},end:{line:134,column:41}},{start:{line:135,column:20},end:{line:137,column:30}},{start:{line:138,column:20},end:{line:138,column:39}},{start:{line:139,column:20},end:{line:141,column:30}},{start:{line:142,column:20},end:{line:143,column:109}}],line:133},19:{loc:{start:{line:165,column:8},end:{line:167,column:9}},type:"if",locations:[{start:{line:165,column:8},end:{line:167,column:9}},{start:{line:165,column:8},end:{line:167,column:9}}],line:165},20:{loc:{start:{line:171,column:8},end:{line:179,column:9}},type:"if",locations:[{start:{line:171,column:8},end:{line:179,column:9}},{start:{line:171,column:8},end:{line:179,column:9}}],line:171},21:{loc:{start:{line:199,column:12},end:{line:203,column:13}},type:"if",locations:[{start:{line:199,column:12},end:{line:203,column:13}},{start:{line:199,column:12},end:{line:203,column:13}}],line:199},22:{loc:{start:{line:199,column:16},end:{line:200,column:77}},type:"binary-expr",locations:[{start:{line:199,column:16},end:{line:199,column:49}},{start:{line:200,column:16},end:{line:200,column:77}}],line:199},23:{loc:{start:{line:200,column:27},end:{line:200,column:76}},type:"cond-expr",locations:[{start:{line:200,column:54},end:{line:200,column:64}},{start:{line:200,column:67},end:{line:200,column:76}}],line:200}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0,0],16:[0,0],17:[0,0],18:[0,0,0,0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/crossBlockSelection.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/crossBlockSelection.ts"],names:[],mappings:"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",sourcesContent:["import Module from '../__module';\nimport Block from '../block';\nimport SelectionUtils from '../selection';\nimport * as _ from '../utils';\n\n/**\n *\n */\nexport default class CrossBlockSelection extends Module {\n  /**\n   * Block where selection is started\n   */\n  private firstSelectedBlock: Block;\n\n  /**\n   * Last selected Block\n   */\n  private lastSelectedBlock: Block;\n\n  /**\n   * Module preparation\n   *\n   * @returns {Promise}\n   */\n  public async prepare(): Promise<void> {\n    const { Listeners } = this.Editor;\n\n    Listeners.on(document, 'mousedown', (event: MouseEvent) => {\n      this.enableCrossBlockSelection(event);\n    });\n  }\n\n  /**\n   * Sets up listeners\n   *\n   * @param {MouseEvent} event - mouse down event\n   */\n  public watchSelection(event: MouseEvent): void {\n    if (event.button !== _.mouseButtons.LEFT) {\n      return;\n    }\n\n    const { BlockManager, Listeners } = this.Editor;\n\n    this.firstSelectedBlock = BlockManager.getBlock(event.target as HTMLElement);\n    this.lastSelectedBlock = this.firstSelectedBlock;\n\n    Listeners.on(document, 'mouseover', this.onMouseOver);\n    Listeners.on(document, 'mouseup', this.onMouseUp);\n  }\n\n  /**\n   * return boolean is cross block selection started\n   */\n  public get isCrossBlockSelectionStarted(): boolean {\n    return !!this.firstSelectedBlock &&\n      !!this.lastSelectedBlock;\n  }\n\n  /**\n   * Change selection state of the next Block\n   * Used for CBS via Shift + arrow keys\n   *\n   * @param {boolean} next - if true, toggle next block. Previous otherwise\n   */\n  public toggleBlockSelectedState(next = true): void {\n    const { BlockManager, BlockSelection } = this.Editor;\n\n    if (!this.lastSelectedBlock) {\n      this.lastSelectedBlock = this.firstSelectedBlock = BlockManager.currentBlock;\n    }\n\n    if (this.firstSelectedBlock === this.lastSelectedBlock) {\n      this.firstSelectedBlock.selected = true;\n\n      BlockSelection.clearCache();\n      SelectionUtils.get().removeAllRanges();\n    }\n\n    const nextBlockIndex = BlockManager.blocks.indexOf(this.lastSelectedBlock) + (next ? 1 : -1);\n    const nextBlock = BlockManager.blocks[nextBlockIndex];\n\n    if (!nextBlock) {\n      return;\n    }\n\n    if (this.lastSelectedBlock.selected !== nextBlock.selected) {\n      nextBlock.selected = true;\n\n      BlockSelection.clearCache();\n    } else {\n      this.lastSelectedBlock.selected = false;\n\n      BlockSelection.clearCache();\n    }\n\n    this.lastSelectedBlock = nextBlock;\n\n    /** close InlineToolbar when Blocks selected */\n    this.Editor.InlineToolbar.close();\n  }\n\n  /**\n   * Clear saved state\n   *\n   * @param {Event} reason - event caused clear of selection\n   */\n  public clear(reason?: Event): void {\n    const { BlockManager, BlockSelection, Caret } = this.Editor;\n    const fIndex = BlockManager.blocks.indexOf(this.firstSelectedBlock);\n    const lIndex = BlockManager.blocks.indexOf(this.lastSelectedBlock);\n\n    if (BlockSelection.anyBlockSelected && fIndex > -1 && lIndex > -1) {\n      if (reason && reason instanceof KeyboardEvent) {\n        /**\n         * Set caret depending on pressed key if pressed key is an arrow.\n         */\n        switch (reason.keyCode) {\n          case _.keyCodes.DOWN:\n          case _.keyCodes.RIGHT:\n            Caret.setToBlock(BlockManager.blocks[Math.max(fIndex, lIndex)], Caret.positions.END);\n            break;\n\n          case _.keyCodes.UP:\n          case _.keyCodes.LEFT:\n            Caret.setToBlock(BlockManager.blocks[Math.min(fIndex, lIndex)], Caret.positions.START);\n            break;\n          default:\n            Caret.setToBlock(BlockManager.blocks[Math.max(fIndex, lIndex)], Caret.positions.END);\n        }\n      } else {\n        /**\n         * By default set caret at the end of the last selected block\n         */\n        Caret.setToBlock(BlockManager.blocks[Math.max(fIndex, lIndex)], Caret.positions.END);\n      }\n    }\n\n    this.firstSelectedBlock = this.lastSelectedBlock = null;\n  }\n\n  /**\n   * Enables Cross Block Selection\n   *\n   * @param {MouseEvent} event - mouse down event\n   */\n  private enableCrossBlockSelection(event: MouseEvent): void {\n    const { UI } = this.Editor;\n\n    /**\n     * Each mouse down on must disable selectAll state\n     */\n    if (!SelectionUtils.isCollapsed) {\n      this.Editor.BlockSelection.clearSelection(event);\n    }\n\n    /**\n     * If mouse down is performed inside the editor, we should watch CBS\n     */\n    if (UI.nodes.redactor.contains(event.target as Node)) {\n      this.watchSelection(event);\n    } else {\n      /**\n       * Otherwise, clear selection\n       */\n      this.Editor.BlockSelection.clearSelection(event);\n    }\n  }\n\n  /**\n   * Mouse up event handler.\n   * Removes the listeners\n   */\n  private onMouseUp = (): void => {\n    const { Listeners } = this.Editor;\n\n    Listeners.off(document, 'mouseover', this.onMouseOver);\n    Listeners.off(document, 'mouseup', this.onMouseUp);\n  }\n\n  /**\n   * Mouse over event handler\n   * Gets target and related blocks and change selected state for blocks in between\n   *\n   * @param {MouseEvent} event - mouse over event\n   */\n  private onMouseOver = (event: MouseEvent): void => {\n    const { BlockManager, BlockSelection } = this.Editor;\n\n    const relatedBlock = BlockManager.getBlockByChildNode(event.relatedTarget as Node) || this.lastSelectedBlock;\n    const targetBlock = BlockManager.getBlockByChildNode(event.target as Node);\n\n    if (!relatedBlock || !targetBlock) {\n      return;\n    }\n\n    if (targetBlock === relatedBlock) {\n      return;\n    }\n\n    if (relatedBlock === this.firstSelectedBlock) {\n      SelectionUtils.get().removeAllRanges();\n\n      relatedBlock.selected = true;\n      targetBlock.selected = true;\n\n      BlockSelection.clearCache();\n\n      return;\n    }\n\n    if (targetBlock === this.firstSelectedBlock) {\n      relatedBlock.selected = false;\n      targetBlock.selected = false;\n\n      BlockSelection.clearCache();\n\n      return;\n    }\n\n    this.Editor.InlineToolbar.close();\n\n    this.toggleBlocksSelectedState(relatedBlock, targetBlock);\n    this.lastSelectedBlock = targetBlock;\n  }\n\n  /**\n   * Change blocks selection state between passed two blocks.\n   *\n   * @param {Block} firstBlock - first block in range\n   * @param {Block} lastBlock - last block in range\n   */\n  private toggleBlocksSelectedState(firstBlock: Block, lastBlock: Block): void {\n    const { BlockManager, BlockSelection } = this.Editor;\n    const fIndex = BlockManager.blocks.indexOf(firstBlock);\n    const lIndex = BlockManager.blocks.indexOf(lastBlock);\n\n    /**\n     * If first and last block have the different selection state\n     * it means we should't toggle selection of the first selected block.\n     * In the other case we shouldn't toggle the last selected block.\n     */\n    const shouldntSelectFirstBlock = firstBlock.selected !== lastBlock.selected;\n\n    for (let i = Math.min(fIndex, lIndex); i <= Math.max(fIndex, lIndex); i++) {\n      const block = BlockManager.blocks[i];\n\n      if (\n        block !== this.firstSelectedBlock &&\n        block !== (shouldntSelectFirstBlock ? firstBlock : lastBlock)\n      ) {\n        BlockManager.blocks[i].selected = !BlockManager.blocks[i].selected;\n\n        BlockSelection.clearCache();\n      }\n    }\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"36f652748e64e6c9b213e97dfa8cc587aa51ddb7"});var l=t[n];return p=function(){return l},l}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=f(l),o=f(o),i=f(i),c=f(c),s=f(s),r=f(r),C=f(C),a=f(a),u=f(u),m=d(m),p();var I=function(n){(0,s.default)(a,n);var A,e,t=(A=a,function(){var n,e=(0,C.default)(A);if(E()){var t=(0,C.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,r.default)(this,n)});function a(){var n;return(0,i.default)(this,a),p().f[0]++,p().s[0]++,n=t.apply(this,arguments),p().s[1]++,n.onMouseUp=function(){p().f[1]++;var A=(p().s[2]++,n.Editor).Listeners;p().s[3]++,A.off(document,"mouseover",n.onMouseOver),p().s[4]++,A.off(document,"mouseup",n.onMouseUp)},p().s[5]++,n.onMouseOver=function(A){p().f[2]++;var e=(p().s[6]++,n.Editor),t=e.BlockManager,l=e.BlockSelection,o=(p().s[7]++,p().b[0][0]++,t.getBlockByChildNode(A.relatedTarget)||(p().b[0][1]++,n.lastSelectedBlock)),i=(p().s[8]++,t.getBlockByChildNode(A.target));return p().s[9]++,p().b[2][0]++,o&&(p().b[2][1]++,i)?(p().b[1][1]++,p().s[11]++,i===o?(p().b[3][0]++,void p().s[12]++):(p().b[3][1]++,p().s[13]++,o===n.firstSelectedBlock?(p().b[4][0]++,p().s[14]++,u.default.get().removeAllRanges(),p().s[15]++,o.selected=!0,p().s[16]++,i.selected=!0,p().s[17]++,l.clearCache(),void p().s[18]++):(p().b[4][1]++,p().s[19]++,i===n.firstSelectedBlock?(p().b[5][0]++,p().s[20]++,o.selected=!1,p().s[21]++,i.selected=!1,p().s[22]++,l.clearCache(),void p().s[23]++):(p().b[5][1]++,p().s[24]++,n.Editor.InlineToolbar.close(),p().s[25]++,n.toggleBlocksSelectedState(o,i),p().s[26]++,void(n.lastSelectedBlock=i))))):(p().b[1][0]++,void p().s[10]++)},n}return(0,c.default)(a,[{key:"prepare",value:(e=(0,o.default)(l.default.mark((function n(){var A,e,t=this;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:p().f[3]++,p().s[27]++,A=this.Editor,e=A.Listeners,p().s[28]++,e.on(document,"mousedown",(function(n){p().f[4]++,p().s[29]++,t.enableCrossBlockSelection(n)}));case 4:case"end":return n.stop()}}),n,this)}))),function(){return e.apply(this,arguments)})},{key:"watchSelection",value:function(n){if(p().f[5]++,p().s[30]++,n.button!==m.mouseButtons.LEFT)return p().b[6][0]++,void p().s[31]++;p().b[6][1]++;var A=(p().s[32]++,this.Editor),e=A.BlockManager,t=A.Listeners;p().s[33]++,this.firstSelectedBlock=e.getBlock(n.target),p().s[34]++,this.lastSelectedBlock=this.firstSelectedBlock,p().s[35]++,t.on(document,"mouseover",this.onMouseOver),p().s[36]++,t.on(document,"mouseup",this.onMouseUp)}},{key:"toggleBlockSelectedState",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(p().b[8][0]++,!0);p().f[7]++;var A=(p().s[38]++,this.Editor),e=A.BlockManager,t=A.BlockSelection;p().s[39]++,this.lastSelectedBlock?p().b[9][1]++:(p().b[9][0]++,p().s[40]++,this.lastSelectedBlock=this.firstSelectedBlock=e.currentBlock),p().s[41]++,this.firstSelectedBlock===this.lastSelectedBlock?(p().b[10][0]++,p().s[42]++,this.firstSelectedBlock.selected=!0,p().s[43]++,t.clearCache(),p().s[44]++,u.default.get().removeAllRanges()):p().b[10][1]++;var l=(p().s[45]++,e.blocks.indexOf(this.lastSelectedBlock)+(n?(p().b[11][0]++,1):(p().b[11][1]++,-1))),o=(p().s[46]++,e.blocks[l]);if(p().s[47]++,!o)return p().b[12][0]++,void p().s[48]++;p().b[12][1]++,p().s[49]++,this.lastSelectedBlock.selected!==o.selected?(p().b[13][0]++,p().s[50]++,o.selected=!0,p().s[51]++,t.clearCache()):(p().b[13][1]++,p().s[52]++,this.lastSelectedBlock.selected=!1,p().s[53]++,t.clearCache()),p().s[54]++,this.lastSelectedBlock=o,p().s[55]++,this.Editor.InlineToolbar.close()}},{key:"clear",value:function(n){p().f[8]++;var A=(p().s[56]++,this.Editor),e=A.BlockManager,t=A.BlockSelection,l=A.Caret,o=(p().s[57]++,e.blocks.indexOf(this.firstSelectedBlock)),i=(p().s[58]++,e.blocks.indexOf(this.lastSelectedBlock));if(p().s[59]++,p().b[15][0]++,t.anyBlockSelected&&(p().b[15][1]++,o>-1)&&(p().b[15][2]++,i>-1))if(p().b[14][0]++,p().s[60]++,p().b[17][0]++,n&&(p().b[17][1]++,n instanceof KeyboardEvent))switch(p().b[16][0]++,p().s[61]++,n.keyCode){case m.keyCodes.DOWN:p().b[18][0]++;case m.keyCodes.RIGHT:p().b[18][1]++,p().s[62]++,l.setToBlock(e.blocks[Math.max(o,i)],l.positions.END),p().s[63]++;break;case m.keyCodes.UP:p().b[18][2]++;case m.keyCodes.LEFT:p().b[18][3]++,p().s[64]++,l.setToBlock(e.blocks[Math.min(o,i)],l.positions.START),p().s[65]++;break;default:p().b[18][4]++,p().s[66]++,l.setToBlock(e.blocks[Math.max(o,i)],l.positions.END)}else p().b[16][1]++,p().s[67]++,l.setToBlock(e.blocks[Math.max(o,i)],l.positions.END);else p().b[14][1]++;p().s[68]++,this.firstSelectedBlock=this.lastSelectedBlock=null}},{key:"enableCrossBlockSelection",value:function(n){p().f[9]++;var A=(p().s[69]++,this.Editor).UI;p().s[70]++,u.default.isCollapsed?p().b[19][1]++:(p().b[19][0]++,p().s[71]++,this.Editor.BlockSelection.clearSelection(n)),p().s[72]++,A.nodes.redactor.contains(n.target)?(p().b[20][0]++,p().s[73]++,this.watchSelection(n)):(p().b[20][1]++,p().s[74]++,this.Editor.BlockSelection.clearSelection(n))}},{key:"toggleBlocksSelectedState",value:function(n,A){p().f[10]++;var e=(p().s[75]++,this.Editor),t=e.BlockManager,l=e.BlockSelection,o=(p().s[76]++,t.blocks.indexOf(n)),i=(p().s[77]++,t.blocks.indexOf(A)),c=(p().s[78]++,n.selected!==A.selected);p().s[79]++;for(var s=(p().s[80]++,Math.min(o,i));s<=Math.max(o,i);s++){var r=(p().s[81]++,t.blocks[s]);p().s[82]++,p().b[22][0]++,r!==this.firstSelectedBlock&&(p().b[22][1]++,r!==(c?(p().b[23][0]++,n):(p().b[23][1]++,A)))?(p().b[21][0]++,p().s[83]++,t.blocks[s].selected=!t.blocks[s].selected,p().s[84]++,l.clearCache()):p().b[21][1]++}}},{key:"isCrossBlockSelectionStarted",get:function(){return p().f[6]++,p().s[37]++,p().b[7][0]++,!(!this.firstSelectedBlock||(p().b[7][1]++,!this.lastSelectedBlock))}}]),a}(a.default);t.default=I,I.displayName="CrossBlockSelection",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(25),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u){"use strict";var m=e(1);function d(){var n="/home/hata/editor.js/src/components/modules/dragNDrop.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"627131ee7cdb43dfd4325c96f5f215ebc1ae2b3e"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/dragNDrop.ts",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:28}},1:{start:{line:15,column:8},end:{line:15,column:39}},2:{start:{line:29,column:8},end:{line:34,column:9}},3:{start:{line:30,column:12},end:{line:30,column:41}},4:{start:{line:33,column:12},end:{line:33,column:40}},5:{start:{line:40,column:23},end:{line:40,column:34}},6:{start:{line:41,column:8},end:{line:43,column:17}},7:{start:{line:42,column:12},end:{line:42,column:46}},8:{start:{line:44,column:8},end:{line:46,column:11}},9:{start:{line:45,column:12},end:{line:45,column:36}},10:{start:{line:50,column:8},end:{line:52,column:17}},11:{start:{line:51,column:12},end:{line:51,column:44}},12:{start:{line:58,column:8},end:{line:58,column:49}},13:{start:{line:66,column:48},end:{line:66,column:59}},14:{start:{line:67,column:8},end:{line:67,column:35}},15:{start:{line:68,column:8},end:{line:70,column:11}},16:{start:{line:69,column:12},end:{line:69,column:37}},17:{start:{line:71,column:8},end:{line:73,column:9}},18:{start:{line:72,column:12},end:{line:72,column:43}},19:{start:{line:74,column:8},end:{line:74,column:39}},20:{start:{line:79,column:8},end:{line:86,column:9}},21:{start:{line:80,column:32},end:{line:80,column:89}},22:{start:{line:81,column:12},end:{line:81,column:75}},23:{start:{line:84,column:32},end:{line:84,column:102}},24:{start:{line:85,column:12},end:{line:85,column:75}},25:{start:{line:87,column:8},end:{line:87,column:70}},26:{start:{line:93,column:8},end:{line:95,column:9}},27:{start:{line:94,column:12},end:{line:94,column:42}},28:{start:{line:96,column:8},end:{line:96,column:42}},29:{start:{line:102,column:8},end:{line:102,column:35}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:18},end:{line:16,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:36},end:{line:35,column:5}},line:28},2:{name:"(anonymous_2)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:27},end:{line:53,column:5}},line:39},3:{name:"(anonymous_3)",decl:{start:{line:41,column:66},end:{line:41,column:67}},loc:{start:{line:41,column:87},end:{line:43,column:9}},line:41},4:{name:"(anonymous_4)",decl:{start:{line:44,column:71},end:{line:44,column:72}},loc:{start:{line:44,column:77},end:{line:46,column:9}},line:44},5:{name:"(anonymous_5)",decl:{start:{line:50,column:70},end:{line:50,column:71}},loc:{start:{line:50,column:85},end:{line:52,column:9}},line:50},6:{name:"(anonymous_6)",decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:28},end:{line:59,column:5}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:65,column:4},end:{line:65,column:5}},loc:{start:{line:65,column:33},end:{line:88,column:5}},line:65},8:{name:"(anonymous_8)",decl:{start:{line:68,column:36},end:{line:68,column:37}},loc:{start:{line:68,column:47},end:{line:70,column:9}},line:68},9:{name:"(anonymous_9)",decl:{start:{line:92,column:4},end:{line:92,column:5}},loc:{start:{line:92,column:23},end:{line:97,column:5}},line:92},10:{name:"(anonymous_10)",decl:{start:{line:101,column:4},end:{line:101,column:5}},loc:{start:{line:101,column:31},end:{line:103,column:5}},line:101}},branchMap:{0:{loc:{start:{line:29,column:8},end:{line:34,column:9}},type:"if",locations:[{start:{line:29,column:8},end:{line:34,column:9}},{start:{line:29,column:8},end:{line:34,column:9}}],line:29},1:{loc:{start:{line:71,column:8},end:{line:73,column:9}},type:"if",locations:[{start:{line:71,column:8},end:{line:73,column:9}},{start:{line:71,column:8},end:{line:73,column:9}}],line:71},2:{loc:{start:{line:71,column:12},end:{line:71,column:94}},type:"binary-expr",locations:[{start:{line:71,column:12},end:{line:71,column:37}},{start:{line:71,column:41},end:{line:71,column:68}},{start:{line:71,column:72},end:{line:71,column:94}}],line:71},3:{loc:{start:{line:93,column:8},end:{line:95,column:9}},type:"if",locations:[{start:{line:93,column:8},end:{line:95,column:9}},{start:{line:93,column:8},end:{line:95,column:9}}],line:93},4:{loc:{start:{line:93,column:12},end:{line:93,column:68}},type:"binary-expr",locations:[{start:{line:93,column:12},end:{line:93,column:37}},{start:{line:93,column:41},end:{line:93,column:68}}],line:93}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/dragNDrop.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/dragNDrop.ts"],names:[],mappings:"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",sourcesContent:["import SelectionUtils from '../selection';\n\nimport Module from '../__module';\n/**\n *\n */\nexport default class DragNDrop extends Module {\n  /**\n   * If drag has been started at editor, we save it\n   *\n   * @type {boolean}\n   * @private\n   */\n  private isStartedAtEditor = false;\n\n  /**\n   * Toggle read-only state\n   *\n   * if state is true:\n   *  - disable all drag-n-drop event handlers\n   *\n   * if state is false:\n   *  - restore drag-n-drop event handlers\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (readOnlyEnabled) {\n      this.disableModuleBindings();\n    } else {\n      this.enableModuleBindings();\n    }\n  }\n\n  /**\n   * Add drag events listeners to editor zone\n   */\n  private enableModuleBindings(): void {\n    const { UI } = this.Editor;\n\n    this.readOnlyMutableListeners.on(UI.nodes.holder, 'drop', async (dropEvent: DragEvent) => {\n      await this.processDrop(dropEvent);\n    }, true);\n\n    this.readOnlyMutableListeners.on(UI.nodes.holder, 'dragstart', () => {\n      this.processDragStart();\n    });\n\n    /**\n     * Prevent default browser behavior to allow drop on non-contenteditable elements\n     */\n    this.readOnlyMutableListeners.on(UI.nodes.holder, 'dragover', (dragEvent: DragEvent) => {\n      this.processDragOver(dragEvent);\n    }, true);\n  }\n\n  /**\n   * Unbind drag-n-drop event handlers\n   */\n  private disableModuleBindings(): void {\n    this.readOnlyMutableListeners.clearAll();\n  }\n\n  /**\n   * Handle drop event\n   *\n   * @param {DragEvent} dropEvent - drop event\n   */\n  private async processDrop(dropEvent: DragEvent): Promise<void> {\n    const {\n      BlockManager,\n      Caret,\n      Paste,\n    } = this.Editor;\n\n    dropEvent.preventDefault();\n\n    BlockManager.blocks.forEach((block) => {\n      block.dropTarget = false;\n    });\n\n    if (SelectionUtils.isAtEditor && !SelectionUtils.isCollapsed && this.isStartedAtEditor) {\n      document.execCommand('delete');\n    }\n\n    this.isStartedAtEditor = false;\n\n    /**\n     * Try to set current block by drop target.\n     * If drop target (error will be thrown) is not part of the Block, set last Block as current.\n     */\n    try {\n      const targetBlock = BlockManager.setCurrentBlockByChildNode(dropEvent.target as Node);\n\n      this.Editor.Caret.setToBlock(targetBlock, Caret.positions.END);\n    } catch (e) {\n      const targetBlock = BlockManager.setCurrentBlockByChildNode(BlockManager.lastBlock.holder);\n\n      this.Editor.Caret.setToBlock(targetBlock, Caret.positions.END);\n    }\n\n    await Paste.processDataTransfer(dropEvent.dataTransfer, true);\n  }\n\n  /**\n   * Handle drag start event\n   */\n  private processDragStart(): void {\n    if (SelectionUtils.isAtEditor && !SelectionUtils.isCollapsed) {\n      this.isStartedAtEditor = true;\n    }\n\n    this.Editor.InlineToolbar.close();\n  }\n\n  /**\n   * @param {DragEvent} dragEvent - drag event\n   */\n  private processDragOver(dragEvent: DragEvent): void {\n    dragEvent.preventDefault();\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"627131ee7cdb43dfd4325c96f5f215ebc1ae2b3e"});var l=t[n];return d=function(){return l},l}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=m(l),o=m(o),i=m(i),c=m(c),s=m(s),r=m(r),C=m(C),a=m(a),u=m(u),d();var p=function(n){(0,s.default)(u,n);var A,e,t=(A=u,function(){var n,e=(0,C.default)(A);if(f()){var t=(0,C.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,r.default)(this,n)});function u(){var n;return(0,i.default)(this,u),d().f[0]++,d().s[0]++,n=t.apply(this,arguments),d().s[1]++,n.isStartedAtEditor=!1,n}return(0,c.default)(u,[{key:"toggleReadOnly",value:function(n){d().f[1]++,d().s[2]++,n?(d().b[0][0]++,d().s[3]++,this.disableModuleBindings()):(d().b[0][1]++,d().s[4]++,this.enableModuleBindings())}},{key:"enableModuleBindings",value:function(){var n=this;d().f[2]++;var A=(d().s[5]++,this.Editor).UI;d().s[6]++,this.readOnlyMutableListeners.on(A.nodes.holder,"drop",function(){var A=(0,o.default)(l.default.mark((function A(e){return l.default.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return d().f[3]++,d().s[7]++,A.next=4,n.processDrop(e);case 4:case"end":return A.stop()}}),A)})));return function(n){return A.apply(this,arguments)}}(),!0),d().s[8]++,this.readOnlyMutableListeners.on(A.nodes.holder,"dragstart",(function(){d().f[4]++,d().s[9]++,n.processDragStart()})),d().s[10]++,this.readOnlyMutableListeners.on(A.nodes.holder,"dragover",(function(A){d().f[5]++,d().s[11]++,n.processDragOver(A)}),!0)}},{key:"disableModuleBindings",value:function(){d().f[6]++,d().s[12]++,this.readOnlyMutableListeners.clearAll()}},{key:"processDrop",value:(e=(0,o.default)(l.default.mark((function n(A){var e,t,o,i,c,s;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:d().f[7]++,d().s[13]++,e=this.Editor,t=e.BlockManager,o=e.Caret,i=e.Paste,d().s[14]++,A.preventDefault(),d().s[15]++,t.blocks.forEach((function(n){d().f[8]++,d().s[16]++,n.dropTarget=!1})),d().s[17]++,d().b[2][0]++,a.default.isAtEditor&&(d().b[2][1]++,!a.default.isCollapsed)&&(d().b[2][2]++,this.isStartedAtEditor)?(d().b[1][0]++,d().s[18]++,document.execCommand("delete")):d().b[1][1]++,d().s[19]++,this.isStartedAtEditor=!1,d().s[20]++;try{d().s[21]++,c=t.setCurrentBlockByChildNode(A.target),d().s[22]++,this.Editor.Caret.setToBlock(c,o.positions.END)}catch(n){d().s[23]++,s=t.setCurrentBlockByChildNode(t.lastBlock.holder),d().s[24]++,this.Editor.Caret.setToBlock(s,o.positions.END)}return d().s[25]++,n.next=15,i.processDataTransfer(A.dataTransfer,!0);case 15:case"end":return n.stop()}}),n,this)}))),function(n){return e.apply(this,arguments)})},{key:"processDragStart",value:function(){d().f[9]++,d().s[26]++,d().b[4][0]++,a.default.isAtEditor&&(d().b[4][1]++,!a.default.isCollapsed)?(d().b[3][0]++,d().s[27]++,this.isStartedAtEditor=!0):d().b[3][1]++,d().s[28]++,this.Editor.InlineToolbar.close()}},{key:"processDragOver",value:function(n){d().f[10]++,d().s[29]++,n.preventDefault()}}]),u}(u.default);t.default=p,p.displayName="DragNDrop",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r){"use strict";var C=e(1);function a(){var n="/home/hata/editor.js/src/components/modules/events.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"1c5f5d0b66eb1bde892f875db478b9ac39e357e4"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/events.ts",statementMap:{0:{start:{line:17,column:8},end:{line:17,column:28}},1:{start:{line:23,column:8},end:{line:23,column:30}},2:{start:{line:32,column:8},end:{line:34,column:9}},3:{start:{line:33,column:12},end:{line:33,column:45}},4:{start:{line:36,column:8},end:{line:36,column:51}},5:{start:{line:45,column:8},end:{line:47,column:9}},6:{start:{line:46,column:12},end:{line:46,column:45}},7:{start:{line:48,column:32},end:{line:55,column:9}},8:{start:{line:49,column:27},end:{line:49,column:41}},9:{start:{line:50,column:35},end:{line:50,column:87}},10:{start:{line:51,column:12},end:{line:53,column:13}},11:{start:{line:52,column:16},end:{line:52,column:70}},12:{start:{line:54,column:12},end:{line:54,column:26}},13:{start:{line:57,column:8},end:{line:57,column:58}},14:{start:{line:66,column:8},end:{line:68,column:9}},15:{start:{line:67,column:12},end:{line:67,column:19}},16:{start:{line:69,column:8},end:{line:72,column:17}},17:{start:{line:70,column:28},end:{line:70,column:56}},18:{start:{line:71,column:12},end:{line:71,column:43}},19:{start:{line:81,column:8},end:{line:86,column:9}},20:{start:{line:81,column:21},end:{line:81,column:22}},21:{start:{line:82,column:12},end:{line:85,column:13}},22:{start:{line:83,column:16},end:{line:83,column:54}},23:{start:{line:84,column:16},end:{line:84,column:22}},24:{start:{line:93,column:8},end:{line:93,column:32}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:18},end:{line:24,column:5}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:31,column:4},end:{line:31,column:5}},loc:{start:{line:31,column:28},end:{line:37,column:5}},line:31},2:{name:"(anonymous_2)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:30},end:{line:58,column:5}},line:44},3:{name:"(anonymous_3)",decl:{start:{line:48,column:32},end:{line:48,column:33}},loc:{start:{line:48,column:42},end:{line:55,column:9}},line:48},4:{name:"(anonymous_4)",decl:{start:{line:65,column:4},end:{line:65,column:5}},loc:{start:{line:65,column:26},end:{line:73,column:5}},line:65},5:{name:"(anonymous_5)",decl:{start:{line:69,column:43},end:{line:69,column:44}},loc:{start:{line:69,column:77},end:{line:72,column:9}},line:69},6:{name:"(anonymous_6)",decl:{start:{line:80,column:4},end:{line:80,column:5}},loc:{start:{line:80,column:29},end:{line:87,column:5}},line:80},7:{name:"(anonymous_7)",decl:{start:{line:92,column:4},end:{line:92,column:5}},loc:{start:{line:92,column:14},end:{line:94,column:5}},line:92}},branchMap:{0:{loc:{start:{line:32,column:8},end:{line:34,column:9}},type:"if",locations:[{start:{line:32,column:8},end:{line:34,column:9}},{start:{line:32,column:8},end:{line:34,column:9}}],line:32},1:{loc:{start:{line:45,column:8},end:{line:47,column:9}},type:"if",locations:[{start:{line:45,column:8},end:{line:47,column:9}},{start:{line:45,column:8},end:{line:47,column:9}}],line:45},2:{loc:{start:{line:51,column:12},end:{line:53,column:13}},type:"if",locations:[{start:{line:51,column:12},end:{line:53,column:13}},{start:{line:51,column:12},end:{line:53,column:13}}],line:51},3:{loc:{start:{line:66,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:66,column:8},end:{line:68,column:9}},{start:{line:66,column:8},end:{line:68,column:9}}],line:66},4:{loc:{start:{line:71,column:19},end:{line:71,column:42}},type:"binary-expr",locations:[{start:{line:71,column:19},end:{line:71,column:26}},{start:{line:71,column:30},end:{line:71,column:42}}],line:71},5:{loc:{start:{line:82,column:12},end:{line:85,column:13}},type:"if",locations:[{start:{line:82,column:12},end:{line:85,column:13}},{start:{line:82,column:12},end:{line:85,column:13}}],line:82}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/events.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/events.ts"],names:[],mappings:"AAAA,OAAO,MAAM,MAAM,aAAa,CAAC;AAEjC;;;;;;;;;;;;GAYG;AACH,MAAM,CAAC,OAAO,OAAO,MAAO,SAAQ,MAAM;IAA1C;;QACE;;;;WAIG;QACK,gBAAW,GAAuD,EAAE,CAAC;IAoF/E,CAAC;IAlFC;;;;;OAKG;IACI,EAAE,CAAC,SAAiB,EAAE,QAAkC;QAC7D,IAAI,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE;YACpC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;SAClC;QAED,kBAAkB;QAClB,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC7C,CAAC;IAED;;;;;OAKG;IACI,IAAI,CAAC,SAAiB,EAAE,QAAkC;QAC/D,IAAI,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE;YACpC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;SAClC;QAED,MAAM,eAAe,GAAG,CAAC,IAAY,EAAU,EAAE;YAC/C,MAAM,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;YAE9B,MAAM,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;YAE5E,IAAI,cAAc,KAAK,CAAC,CAAC,EAAE;gBACzB,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;aACvD;YAED,OAAO,MAAM,CAAC;QAChB,CAAC,CAAC;QAEF,kBAAkB;QAClB,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IACpD,CAAC;IAED;;;;;OAKG;IACI,IAAI,CAAC,SAAiB,EAAE,IAAa;QAC1C,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,EAAE;YAChC,OAAO;SACR;QAED,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC,YAAY,EAAE,cAAc,EAAE,EAAE;YAClE,MAAM,OAAO,GAAG,cAAc,CAAC,YAAY,CAAC,CAAC;YAE7C,OAAO,OAAO,IAAI,YAAY,CAAC;QACjC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED;;;;;OAKG;IACI,GAAG,CAAC,SAAiB,EAAE,QAAkC;QAC9D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC3D,IAAI,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;gBAC/C,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtC,MAAM;aACP;SACF;IACH,CAAC;IAED;;;OAGG;IACI,OAAO;QACZ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC1B,CAAC;CACF",sourcesContent:["import Module from '../__module';\n\n/**\n * @module eventDispatcher\n *\n * Has two important methods:\n *    - {Function} on - appends subscriber to the event. If event doesn't exist - creates new one\n *    - {Function} emit - fires all subscribers with data\n *    - {Function off - unsubsribes callback\n *\n * @version 1.0.0\n *\n * @typedef {Events} Events\n * @property {object} subscribers - all subscribers grouped by event name\n */\nexport default class Events extends Module {\n  /**\n   * Object with events` names as key and array of callback functions as value\n   *\n   * @type {{}}\n   */\n  private subscribers: {[name: string]: Array<(data?: object) => object>} = {};\n\n  /**\n   * Subscribe any event on callback\n   *\n   * @param {string} eventName - event name\n   * @param {Function} callback - subscriber\n   */\n  public on(eventName: string, callback: (data: object) => object): void {\n    if (!(eventName in this.subscribers)) {\n      this.subscribers[eventName] = [];\n    }\n\n    // group by events\n    this.subscribers[eventName].push(callback);\n  }\n\n  /**\n   * Subscribe any event on callback. Callback will be called once and be removed from subscribers array after call.\n   *\n   * @param {string} eventName - event name\n   * @param {Function} callback - subscriber\n   */\n  public once(eventName: string, callback: (data: object) => object): void {\n    if (!(eventName in this.subscribers)) {\n      this.subscribers[eventName] = [];\n    }\n\n    const wrappedCallback = (data: object): object => {\n      const result = callback(data);\n\n      const indexOfHandler = this.subscribers[eventName].indexOf(wrappedCallback);\n\n      if (indexOfHandler !== -1) {\n        this.subscribers[eventName].splice(indexOfHandler, 1);\n      }\n\n      return result;\n    };\n\n    // group by events\n    this.subscribers[eventName].push(wrappedCallback);\n  }\n\n  /**\n   * Emit callbacks with passed data\n   *\n   * @param {string} eventName - event name\n   * @param {object} data - subscribers get this data when they were fired\n   */\n  public emit(eventName: string, data?: object): void {\n    if (!this.subscribers[eventName]) {\n      return;\n    }\n\n    this.subscribers[eventName].reduce((previousData, currentHandler) => {\n      const newData = currentHandler(previousData);\n\n      return newData || previousData;\n    }, data);\n  }\n\n  /**\n   * Unsubscribe callback from event\n   *\n   * @param {string} eventName - event name\n   * @param {Function} callback - event handler\n   */\n  public off(eventName: string, callback: (data: object) => object): void {\n    for (let i = 0; i < this.subscribers[eventName].length; i++) {\n      if (this.subscribers[eventName][i] === callback) {\n        delete this.subscribers[eventName][i];\n        break;\n      }\n    }\n  }\n\n  /**\n   * Destroyer\n   * clears subsribers list\n   */\n  public destroy(): void {\n    this.subscribers = null;\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1c5f5d0b66eb1bde892f875db478b9ac39e357e4"});var l=t[n];return a=function(){return l},l}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=C(i),c=C(c),s=C(s),r=C(r),a();var m=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(u()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){var n;return(0,l.default)(this,t),a().f[0]++,a().s[0]++,n=e.apply(this,arguments),a().s[1]++,n.subscribers={},n}return(0,o.default)(t,[{key:"on",value:function(n,A){a().f[1]++,a().s[2]++,n in this.subscribers?a().b[0][1]++:(a().b[0][0]++,a().s[3]++,this.subscribers[n]=[]),a().s[4]++,this.subscribers[n].push(A)}},{key:"once",value:function(n,A){var e=this;a().f[2]++,a().s[5]++,n in this.subscribers?a().b[1][1]++:(a().b[1][0]++,a().s[6]++,this.subscribers[n]=[]),a().s[7]++,a().s[13]++,this.subscribers[n].push((function t(l){a().f[3]++;var o=(a().s[8]++,A(l)),i=(a().s[9]++,e.subscribers[n].indexOf(t));return a().s[10]++,-1!==i?(a().b[2][0]++,a().s[11]++,e.subscribers[n].splice(i,1)):a().b[2][1]++,a().s[12]++,o}))}},{key:"emit",value:function(n,A){if(a().f[4]++,a().s[14]++,!this.subscribers[n])return a().b[3][0]++,void a().s[15]++;a().b[3][1]++,a().s[16]++,this.subscribers[n].reduce((function(n,A){a().f[5]++;var e=(a().s[17]++,A(n));return a().s[18]++,a().b[4][0]++,e||(a().b[4][1]++,n)}),A)}},{key:"off",value:function(n,A){a().f[6]++,a().s[19]++;for(var e=(a().s[20]++,0);e<this.subscribers[n].length;e++){if(a().s[21]++,this.subscribers[n][e]===A){a().b[5][0]++,a().s[22]++,delete this.subscribers[n][e],a().s[23]++;break}a().b[5][1]++}}},{key:"destroy",value:function(){a().f[7]++,a().s[24]++,this.subscribers=null}}]),t}(r.default);t.default=m,m.displayName="Events",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7),e(8)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C){"use strict";var a=e(13),u=e(1);function m(){var n="/home/hata/editor.js/src/components/modules/listeners.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"1c146728ab98c7a2051590b616dd5d2f1b211c6f"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/listeners.ts",statementMap:{0:{start:{line:19,column:8},end:{line:19,column:28}},1:{start:{line:25,column:8},end:{line:25,column:31}},2:{start:{line:38,column:19},end:{line:38,column:36}},3:{start:{line:39,column:34},end:{line:45,column:9}},4:{start:{line:46,column:29},end:{line:46,column:70}},5:{start:{line:47,column:8},end:{line:49,column:9}},6:{start:{line:48,column:12},end:{line:48,column:19}},7:{start:{line:50,column:8},end:{line:50,column:50}},8:{start:{line:51,column:8},end:{line:51,column:62}},9:{start:{line:52,column:8},end:{line:52,column:18}},10:{start:{line:63,column:34},end:{line:63,column:75}},11:{start:{line:64,column:8},end:{line:70,column:11}},12:{start:{line:65,column:26},end:{line:65,column:73}},13:{start:{line:66,column:12},end:{line:69,column:13}},14:{start:{line:67,column:16},end:{line:67,column:51}},15:{start:{line:68,column:16},end:{line:68,column:109}},16:{start:{line:78,column:25},end:{line:78,column:42}},17:{start:{line:79,column:8},end:{line:81,column:9}},18:{start:{line:80,column:12},end:{line:80,column:19}},19:{start:{line:82,column:8},end:{line:82,column:101}},20:{start:{line:94,column:31},end:{line:94,column:72}},21:{start:{line:95,column:8},end:{line:95,column:68}},22:{start:{line:108,column:36},end:{line:108,column:82}},23:{start:{line:109,column:8},end:{line:117,column:9}},24:{start:{line:110,column:12},end:{line:110,column:118}},25:{start:{line:110,column:58},end:{line:110,column:116}},26:{start:{line:112,column:13},end:{line:117,column:9}},27:{start:{line:113,column:12},end:{line:113,column:89}},28:{start:{line:113,column:58},end:{line:113,column:87}},29:{start:{line:116,column:12},end:{line:116,column:40}},30:{start:{line:118,column:8},end:{line:118,column:21}},31:{start:{line:124,column:8},end:{line:126,column:11}},32:{start:{line:125,column:12},end:{line:125,column:101}},33:{start:{line:127,column:8},end:{line:127,column:31}},34:{start:{line:133,column:8},end:{line:133,column:25}},35:{start:{line:143,column:8},end:{line:147,column:11}},36:{start:{line:144,column:12},end:{line:146,column:13}},37:{start:{line:145,column:16},end:{line:145,column:32}},38:{start:{line:157,column:8},end:{line:161,column:11}},39:{start:{line:158,column:12},end:{line:160,column:13}},40:{start:{line:159,column:16},end:{line:159,column:32}},41:{start:{line:171,column:8},end:{line:175,column:11}},42:{start:{line:172,column:12},end:{line:174,column:13}},43:{start:{line:173,column:16},end:{line:173,column:32}},44:{start:{line:185,column:8},end:{line:185,column:72}},45:{start:{line:185,column:52},end:{line:185,column:70}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:18},end:{line:26,column:5}},line:18},1:{name:"(anonymous_1)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:53},end:{line:53,column:5}},line:37},2:{name:"(anonymous_2)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:46},end:{line:71,column:5}},line:62},3:{name:"(anonymous_3)",decl:{start:{line:64,column:34},end:{line:64,column:35}},loc:{start:{line:64,column:51},end:{line:70,column:9}},line:64},4:{name:"(anonymous_4)",decl:{start:{line:77,column:4},end:{line:77,column:5}},loc:{start:{line:77,column:16},end:{line:83,column:5}},line:77},5:{name:"(anonymous_5)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:41},end:{line:96,column:5}},line:93},6:{name:"(anonymous_6)",decl:{start:{line:106,column:4},end:{line:106,column:5}},loc:{start:{line:106,column:41},end:{line:119,column:5}},line:106},7:{name:"(anonymous_7)",decl:{start:{line:110,column:47},end:{line:110,column:48}},loc:{start:{line:110,column:58},end:{line:110,column:116}},line:110},8:{name:"(anonymous_8)",decl:{start:{line:113,column:47},end:{line:113,column:48}},loc:{start:{line:113,column:58},end:{line:113,column:87}},line:113},9:{name:"(anonymous_9)",decl:{start:{line:123,column:4},end:{line:123,column:5}},loc:{start:{line:123,column:16},end:{line:128,column:5}},line:123},10:{name:"(anonymous_10)",decl:{start:{line:124,column:30},end:{line:124,column:31}},loc:{start:{line:124,column:43},end:{line:126,column:9}},line:124},11:{name:"(anonymous_11)",decl:{start:{line:132,column:4},end:{line:132,column:5}},loc:{start:{line:132,column:14},end:{line:134,column:5}},line:132},12:{name:"(anonymous_12)",decl:{start:{line:142,column:4},end:{line:142,column:5}},loc:{start:{line:142,column:31},end:{line:148,column:5}},line:142},13:{name:"(anonymous_13)",decl:{start:{line:143,column:40},end:{line:143,column:41}},loc:{start:{line:143,column:54},end:{line:147,column:9}},line:143},14:{name:"(anonymous_14)",decl:{start:{line:156,column:4},end:{line:156,column:5}},loc:{start:{line:156,column:26},end:{line:162,column:5}},line:156},15:{name:"(anonymous_15)",decl:{start:{line:157,column:40},end:{line:157,column:41}},loc:{start:{line:157,column:54},end:{line:161,column:9}},line:157},16:{name:"(anonymous_16)",decl:{start:{line:170,column:4},end:{line:170,column:5}},loc:{start:{line:170,column:27},end:{line:176,column:5}},line:170},17:{name:"(anonymous_17)",decl:{start:{line:171,column:40},end:{line:171,column:41}},loc:{start:{line:171,column:54},end:{line:175,column:9}},line:171},18:{name:"(anonymous_18)",decl:{start:{line:184,column:4},end:{line:184,column:5}},loc:{start:{line:184,column:17},end:{line:186,column:5}},line:184},19:{name:"(anonymous_19)",decl:{start:{line:185,column:38},end:{line:185,column:39}},loc:{start:{line:185,column:52},end:{line:185,column:70}},line:185}},branchMap:{0:{loc:{start:{line:37,column:36},end:{line:37,column:51}},type:"default-arg",locations:[{start:{line:37,column:46},end:{line:37,column:51}}],line:37},1:{loc:{start:{line:47,column:8},end:{line:49,column:9}},type:"if",locations:[{start:{line:47,column:8},end:{line:49,column:9}},{start:{line:47,column:8},end:{line:49,column:9}}],line:47},2:{loc:{start:{line:66,column:12},end:{line:69,column:13}},type:"if",locations:[{start:{line:66,column:12},end:{line:69,column:13}},{start:{line:66,column:12},end:{line:69,column:13}}],line:66},3:{loc:{start:{line:79,column:8},end:{line:81,column:9}},type:"if",locations:[{start:{line:79,column:8},end:{line:81,column:9}},{start:{line:79,column:8},end:{line:81,column:9}}],line:79},4:{loc:{start:{line:95,column:15},end:{line:95,column:67}},type:"cond-expr",locations:[{start:{line:95,column:43},end:{line:95,column:60}},{start:{line:95,column:63},end:{line:95,column:67}}],line:95},5:{loc:{start:{line:108,column:36},end:{line:108,column:82}},type:"cond-expr",locations:[{start:{line:108,column:46},end:{line:108,column:77}},{start:{line:108,column:80},end:{line:108,column:82}}],line:108},6:{loc:{start:{line:109,column:8},end:{line:117,column:9}},type:"if",locations:[{start:{line:109,column:8},end:{line:117,column:9}},{start:{line:109,column:8},end:{line:117,column:9}}],line:109},7:{loc:{start:{line:109,column:12},end:{line:109,column:43}},type:"binary-expr",locations:[{start:{line:109,column:12},end:{line:109,column:19}},{start:{line:109,column:23},end:{line:109,column:32}},{start:{line:109,column:36},end:{line:109,column:43}}],line:109},8:{loc:{start:{line:110,column:58},end:{line:110,column:116}},type:"binary-expr",locations:[{start:{line:110,column:58},end:{line:110,column:87}},{start:{line:110,column:91},end:{line:110,column:116}}],line:110},9:{loc:{start:{line:112,column:13},end:{line:117,column:9}},type:"if",locations:[{start:{line:112,column:13},end:{line:117,column:9}},{start:{line:112,column:13},end:{line:117,column:9}}],line:112},10:{loc:{start:{line:112,column:17},end:{line:112,column:37}},type:"binary-expr",locations:[{start:{line:112,column:17},end:{line:112,column:24}},{start:{line:112,column:28},end:{line:112,column:37}}],line:112},11:{loc:{start:{line:144,column:12},end:{line:146,column:13}},type:"if",locations:[{start:{line:144,column:12},end:{line:146,column:13}},{start:{line:144,column:12},end:{line:146,column:13}}],line:144},12:{loc:{start:{line:158,column:12},end:{line:160,column:13}},type:"if",locations:[{start:{line:158,column:12},end:{line:160,column:13}},{start:{line:158,column:12},end:{line:160,column:13}}],line:158},13:{loc:{start:{line:172,column:12},end:{line:174,column:13}},type:"if",locations:[{start:{line:172,column:12},end:{line:174,column:13}},{start:{line:172,column:12},end:{line:174,column:13}}],line:172}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/listeners.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/listeners.ts"],names:[],mappings:"AAAA,OAAO,MAAM,MAAM,aAAa,CAAC;AACjC,OAAO,KAAK,CAAC,MAAM,UAAU,CAAC;AAoC9B;;;;;;;;;GASG;AAEH;;;GAGG;AACH,MAAM,CAAC,OAAO,OAAO,SAAU,SAAQ,MAAM;IAA7C;;QACE;;;;WAIG;QACK,iBAAY,GAAmB,EAAE,CAAC;IAiM5C,CAAC;IA/LC;;;;;;;;;OASG;IACI,EAAE,CACP,OAAoB,EACpB,SAAiB,EACjB,OAA+B,EAC/B,UAA6C,KAAK;QAElD,MAAM,EAAE,GAAG,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;QAC7B,MAAM,iBAAiB,GAAG;YACxB,EAAE;YACF,OAAO;YACP,SAAS;YACT,OAAO;YACP,OAAO;SACR,CAAC;QAEF,MAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;QAE/D,IAAI,YAAY,EAAE;YAChB,OAAO;SACR;QAED,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAC1C,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;QAEtD,OAAO,EAAE,CAAC;IACZ,CAAC;IAED;;;;;;;OAOG;IACI,GAAG,CACR,OAAoB,EACpB,SAAiB,EACjB,OAAgC,EAChC,OAA2C;QAE3C,MAAM,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;QAEpE,iBAAiB,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE;YACxC,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;YAE9D,IAAI,KAAK,GAAG,CAAC,EAAE;gBACb,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBAEnC,QAAQ,CAAC,OAAO,CAAC,mBAAmB,CAAC,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;aAC9F;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;;OAIG;IACI,OAAO,CAAC,EAAU;QACvB,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAEnC,IAAI,CAAC,QAAQ,EAAE;YACb,OAAO;SACR;QAED,QAAQ,CAAC,OAAO,CAAC,mBAAmB,CAAC,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;IAC/F,CAAC;IAED;;;;;;;;OAQG;IACI,OAAO,CAAC,OAAoB,EAAE,SAAkB,EAAE,OAAgC;QACvF,MAAM,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;QAEjE,OAAO,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IAC9D,CAAC;IAED;;;;;;;;OAQG;IACI,OAAO,CAAC,OAAoB,EAAE,SAAkB,EAAE,OAAgC;QACvF,IAAI,KAAK,CAAC;QACV,MAAM,mBAAmB,GAAG,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAE3E,IAAI,OAAO,IAAI,SAAS,IAAI,OAAO,EAAE;YACnC,KAAK,GAAG,mBAAmB,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,SAAS,KAAK,SAAS,IAAI,KAAK,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;SAC3G;aAAM,IAAI,OAAO,IAAI,SAAS,EAAE;YAC/B,KAAK,GAAG,mBAAmB,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,SAAS,KAAK,SAAS,CAAC,CAAC;SAC9E;aAAM;YACL,KAAK,GAAG,mBAAmB,CAAC;SAC7B;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;OAEG;IACI,SAAS;QACd,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;YAChC,OAAO,CAAC,OAAO,CAAC,mBAAmB,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;QAC3F,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;IACzB,CAAC;IAED;;OAEG;IACI,OAAO;QACZ,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED;;;;;;OAMG;IACK,iBAAiB,CAAC,OAAoB;QAC5C,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE;YAC3C,IAAI,QAAQ,CAAC,OAAO,KAAK,OAAO,EAAE;gBAChC,OAAO,QAAQ,CAAC;aACjB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;;;;OAMG;IACK,UAAU,CAAC,SAAiB;QAClC,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE;YAC3C,IAAI,QAAQ,CAAC,SAAS,KAAK,SAAS,EAAE;gBACpC,OAAO,QAAQ,CAAC;aACjB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;;;;OAMG;IACK,aAAa,CAAC,OAA+B;QACnD,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE;YAC3C,IAAI,QAAQ,CAAC,OAAO,KAAK,OAAO,EAAE;gBAChC,OAAO,QAAQ,CAAC;aACjB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;;;;OAMG;IACK,QAAQ,CAAC,EAAU;QACzB,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;IAClE,CAAC;CACF",sourcesContent:["import Module from '../__module';\nimport * as _ from '../utils';\n\n/**\n * Event listener information\n *\n * @interface ListenerData\n */\nexport interface ListenerData {\n  /**\n   * Listener unique identifier\n   */\n  id: string;\n\n  /**\n   * Element where to listen to dispatched events\n   */\n  element: EventTarget;\n\n  /**\n   * Event to listen\n   */\n  eventType: string;\n\n  /**\n   * Event handler\n   *\n   * @param {Event} event - event object\n   */\n  handler: (event: Event) => void;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n   */\n  options: boolean | AddEventListenerOptions;\n}\n\n/**\n * Editor.js Listeners module\n *\n * @module Listeners\n *\n * Module-decorator for event listeners assignment\n *\n * @author Codex Team\n * @version 2.0.0\n */\n\n/**\n * @typedef {Listeners} Listeners\n * @property {ListenerData[]} allListeners - listeners store\n */\nexport default class Listeners extends Module {\n  /**\n   * Stores all listeners data to find/remove/process it\n   *\n   * @type {ListenerData[]}\n   */\n  private allListeners: ListenerData[] = [];\n\n  /**\n   * Assigns event listener on element and returns unique identifier\n   *\n   * @param {EventTarget} element - DOM element that needs to be listened\n   * @param {string} eventType - event type\n   * @param {Function} handler - method that will be fired on event\n   * @param {boolean|AddEventListenerOptions} options - useCapture or {capture, passive, once}\n   *\n   * @returns {string}\n   */\n  public on(\n    element: EventTarget,\n    eventType: string,\n    handler: (event: Event) => void,\n    options: boolean | AddEventListenerOptions = false\n  ): string {\n    const id = _.generateId('l');\n    const assignedEventData = {\n      id,\n      element,\n      eventType,\n      handler,\n      options,\n    };\n\n    const alreadyExist = this.findOne(element, eventType, handler);\n\n    if (alreadyExist) {\n      return;\n    }\n\n    this.allListeners.push(assignedEventData);\n    element.addEventListener(eventType, handler, options);\n\n    return id;\n  }\n\n  /**\n   * Removes event listener from element\n   *\n   * @param {EventTarget} element - DOM element that we removing listener\n   * @param {string} eventType - event type\n   * @param {Function} handler - remove handler, if element listens several handlers on the same event type\n   * @param {boolean|AddEventListenerOptions} options - useCapture or {capture, passive, once}\n   */\n  public off(\n    element: EventTarget,\n    eventType: string,\n    handler?: (event: Event) => void,\n    options?: boolean | AddEventListenerOptions\n  ): void {\n    const existingListeners = this.findAll(element, eventType, handler);\n\n    existingListeners.forEach((listener, i) => {\n      const index = this.allListeners.indexOf(existingListeners[i]);\n\n      if (index > 0) {\n        this.allListeners.splice(index, 1);\n\n        listener.element.removeEventListener(listener.eventType, listener.handler, listener.options);\n      }\n    });\n  }\n\n  /**\n   * Removes listener by id\n   *\n   * @param {string} id - listener identifier\n   */\n  public offById(id: string): void {\n    const listener = this.findById(id);\n\n    if (!listener) {\n      return;\n    }\n\n    listener.element.removeEventListener(listener.eventType, listener.handler, listener.options);\n  }\n\n  /**\n   * Finds and returns first listener by passed params\n   *\n   * @param {EventTarget} element - event target\n   * @param {string} [eventType] - event type\n   * @param {Function} [handler] - event handler\n   *\n   * @returns {ListenerData|null}\n   */\n  public findOne(element: EventTarget, eventType?: string, handler?: (event: Event) => void): ListenerData {\n    const foundListeners = this.findAll(element, eventType, handler);\n\n    return foundListeners.length > 0 ? foundListeners[0] : null;\n  }\n\n  /**\n   * Return all stored listeners by passed params\n   *\n   * @param {EventTarget} element - event target\n   * @param {string} eventType - event type\n   * @param {Function} handler - event handler\n   *\n   * @returns {ListenerData[]}\n   */\n  public findAll(element: EventTarget, eventType?: string, handler?: (event: Event) => void): ListenerData[] {\n    let found;\n    const foundByEventTargets = element ? this.findByEventTarget(element) : [];\n\n    if (element && eventType && handler) {\n      found = foundByEventTargets.filter((event) => event.eventType === eventType && event.handler === handler);\n    } else if (element && eventType) {\n      found = foundByEventTargets.filter((event) => event.eventType === eventType);\n    } else {\n      found = foundByEventTargets;\n    }\n\n    return found;\n  }\n\n  /**\n   * Removes all listeners\n   */\n  public removeAll(): void {\n    this.allListeners.map((current) => {\n      current.element.removeEventListener(current.eventType, current.handler, current.options);\n    });\n\n    this.allListeners = [];\n  }\n\n  /**\n   * Module cleanup on destruction\n   */\n  public destroy(): void {\n    this.removeAll();\n  }\n\n  /**\n   * Search method: looks for listener by passed element\n   *\n   * @param {EventTarget} element - searching element\n   *\n   * @returns {Array} listeners that found on element\n   */\n  private findByEventTarget(element: EventTarget): ListenerData[] {\n    return this.allListeners.filter((listener) => {\n      if (listener.element === element) {\n        return listener;\n      }\n    });\n  }\n\n  /**\n   * Search method: looks for listener by passed event type\n   *\n   * @param {string} eventType - event type\n   *\n   * @returns {ListenerData[]} listeners that found on element\n   */\n  private findByType(eventType: string): ListenerData[] {\n    return this.allListeners.filter((listener) => {\n      if (listener.eventType === eventType) {\n        return listener;\n      }\n    });\n  }\n\n  /**\n   * Search method: looks for listener by passed handler\n   *\n   * @param {Function} handler - event handler\n   *\n   * @returns {ListenerData[]} listeners that found on element\n   */\n  private findByHandler(handler: (event: Event) => void): ListenerData[] {\n    return this.allListeners.filter((listener) => {\n      if (listener.handler === handler) {\n        return listener;\n      }\n    });\n  }\n\n  /**\n   * Returns listener data found by id\n   *\n   * @param {string} id - listener identifier\n   *\n   * @returns {ListenerData}\n   */\n  private findById(id: string): ListenerData {\n    return this.allListeners.find((listener) => listener.id === id);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1c146728ab98c7a2051590b616dd5d2f1b211c6f"});var l=t[n];return m=function(){return l},l}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=u(l),o=u(o),i=u(i),c=u(c),s=u(s),r=u(r),C=a(C),m();var f=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(d()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){var n;return(0,l.default)(this,t),m().f[0]++,m().s[0]++,n=e.apply(this,arguments),m().s[1]++,n.allListeners=[],n}return(0,o.default)(t,[{key:"on",value:function(n,A,e){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(m().b[0][0]++,!1);m().f[1]++;var l=(m().s[2]++,C.generateId("l")),o=(m().s[3]++,{id:l,element:n,eventType:A,handler:e,options:t}),i=(m().s[4]++,this.findOne(n,A,e));return m().s[5]++,i?(m().b[1][0]++,void m().s[6]++):(m().b[1][1]++,m().s[7]++,this.allListeners.push(o),m().s[8]++,n.addEventListener(A,e,t),m().s[9]++,l)}},{key:"off",value:function(n,A,e,t){var l=this;m().f[2]++;var o=(m().s[10]++,this.findAll(n,A,e));m().s[11]++,o.forEach((function(n,A){m().f[3]++;var e=(m().s[12]++,l.allListeners.indexOf(o[A]));m().s[13]++,e>0?(m().b[2][0]++,m().s[14]++,l.allListeners.splice(e,1),m().s[15]++,n.element.removeEventListener(n.eventType,n.handler,n.options)):m().b[2][1]++}))}},{key:"offById",value:function(n){m().f[4]++;var A=(m().s[16]++,this.findById(n));if(m().s[17]++,!A)return m().b[3][0]++,void m().s[18]++;m().b[3][1]++,m().s[19]++,A.element.removeEventListener(A.eventType,A.handler,A.options)}},{key:"findOne",value:function(n,A,e){m().f[5]++;var t=(m().s[20]++,this.findAll(n,A,e));return m().s[21]++,t.length>0?(m().b[4][0]++,t[0]):(m().b[4][1]++,null)}},{key:"findAll",value:function(n,A,e){var t;m().f[6]++;var l=(m().s[22]++,n?(m().b[5][0]++,this.findByEventTarget(n)):(m().b[5][1]++,[]));return m().s[23]++,m().b[7][0]++,n&&(m().b[7][1]++,A)&&(m().b[7][2]++,e)?(m().b[6][0]++,m().s[24]++,t=l.filter((function(n){return m().f[7]++,m().s[25]++,m().b[8][0]++,n.eventType===A&&(m().b[8][1]++,n.handler===e)}))):(m().b[6][1]++,m().s[26]++,m().b[10][0]++,n&&(m().b[10][1]++,A)?(m().b[9][0]++,m().s[27]++,t=l.filter((function(n){return m().f[8]++,m().s[28]++,n.eventType===A}))):(m().b[9][1]++,m().s[29]++,t=l)),m().s[30]++,t}},{key:"removeAll",value:function(){m().f[9]++,m().s[31]++,this.allListeners.map((function(n){m().f[10]++,m().s[32]++,n.element.removeEventListener(n.eventType,n.handler,n.options)})),m().s[33]++,this.allListeners=[]}},{key:"destroy",value:function(){m().f[11]++,m().s[34]++,this.removeAll()}},{key:"findByEventTarget",value:function(n){return m().f[12]++,m().s[35]++,this.allListeners.filter((function(A){if(m().f[13]++,m().s[36]++,A.element===n)return m().b[11][0]++,m().s[37]++,A;m().b[11][1]++}))}},{key:"findByType",value:function(n){return m().f[14]++,m().s[38]++,this.allListeners.filter((function(A){if(m().f[15]++,m().s[39]++,A.eventType===n)return m().b[12][0]++,m().s[40]++,A;m().b[12][1]++}))}},{key:"findByHandler",value:function(n){return m().f[16]++,m().s[41]++,this.allListeners.filter((function(A){if(m().f[17]++,m().s[42]++,A.handler===n)return m().b[13][0]++,m().s[43]++,A;m().b[13][1]++}))}},{key:"findById",value:function(n){return m().f[18]++,m().s[44]++,this.allListeners.find((function(A){return m().f[19]++,m().s[45]++,A.id===n}))}}]),t}(r.default);t.default=f,f.displayName="Listeners",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7),e(8),e(61)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a){"use strict";var u=e(13),m=e(1);function d(){var n="/home/hata/editor.js/src/components/modules/modificationsObserver.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"cdf00fd1ca8474b4a334594f6a59c73a3608bd3c"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/modificationsObserver.ts",statementMap:{0:{start:{line:15,column:8},end:{line:15,column:28}},1:{start:{line:19,column:8},end:{line:19,column:30}},2:{start:{line:25,column:8},end:{line:30,column:48}},3:{start:{line:26,column:12},end:{line:26,column:38}},4:{start:{line:27,column:12},end:{line:29,column:13}},5:{start:{line:28,column:16},end:{line:28,column:62}},6:{start:{line:35,column:8},end:{line:35,column:31}},7:{start:{line:41,column:8},end:{line:41,column:38}},8:{start:{line:42,column:8},end:{line:44,column:9}},9:{start:{line:43,column:12},end:{line:43,column:39}},10:{start:{line:45,column:8},end:{line:45,column:29}},11:{start:{line:46,column:8},end:{line:46,column:112}},12:{start:{line:46,column:45},end:{line:46,column:110}},13:{start:{line:47,column:8},end:{line:47,column:38}},14:{start:{line:55,column:8},end:{line:60,column:9}},15:{start:{line:56,column:12},end:{line:56,column:33}},16:{start:{line:59,column:12},end:{line:59,column:32}},17:{start:{line:67,column:8},end:{line:67,column:29}},18:{start:{line:74,column:8},end:{line:74,column:30}},19:{start:{line:83,column:23},end:{line:83,column:34}},20:{start:{line:84,column:32},end:{line:90,column:9}},21:{start:{line:91,column:8},end:{line:93,column:11}},22:{start:{line:92,column:12},end:{line:92,column:57}},23:{start:{line:94,column:8},end:{line:94,column:66}},24:{start:{line:106,column:8},end:{line:108,column:9}},25:{start:{line:107,column:12},end:{line:107,column:19}},26:{start:{line:114,column:29},end:{line:114,column:34}},27:{start:{line:115,column:8},end:{line:130,column:11}},28:{start:{line:116,column:12},end:{line:129,column:13}},29:{start:{line:119,column:20},end:{line:119,column:42}},30:{start:{line:120,column:20},end:{line:120,column:26}},31:{start:{line:125,column:20},end:{line:127,column:21}},32:{start:{line:126,column:24},end:{line:126,column:46}},33:{start:{line:128,column:20},end:{line:128,column:26}},34:{start:{line:132,column:8},end:{line:134,column:9}},35:{start:{line:133,column:12},end:{line:133,column:37}},36:{start:{line:140,column:8},end:{line:144,column:9}},37:{start:{line:141,column:12},end:{line:143,column:15}},38:{start:{line:142,column:16},end:{line:142,column:58}},39:{start:{line:145,column:8},end:{line:145,column:114}},40:{start:{line:146,column:8},end:{line:146,column:111}},41:{start:{line:146,column:45},end:{line:146,column:109}},42:{start:{line:155,column:8},end:{line:159,column:17}},43:{start:{line:156,column:12},end:{line:156,column:31}},44:{start:{line:157,column:12},end:{line:157,column:38}},45:{start:{line:158,column:12},end:{line:158,column:26}},46:{start:{line:165,column:8},end:{line:165,column:23}},47:{start:{line:173,column:0},end:{line:173,column:42}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:18},end:{line:36,column:5}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:25,column:44},end:{line:25,column:45}},loc:{start:{line:25,column:50},end:{line:30,column:9}},line:25},2:{name:"(anonymous_2)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:14},end:{line:48,column:5}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:46,column:34},end:{line:46,column:35}},loc:{start:{line:46,column:45},end:{line:46,column:110}},line:46},4:{name:"(anonymous_4)",decl:{start:{line:54,column:4},end:{line:54,column:5}},loc:{start:{line:54,column:36},end:{line:61,column:5}},line:54},5:{name:"(anonymous_5)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:14},end:{line:68,column:5}},line:66},6:{name:"(anonymous_6)",decl:{start:{line:73,column:4},end:{line:73,column:5}},loc:{start:{line:73,column:13},end:{line:75,column:5}},line:73},7:{name:"(anonymous_7)",decl:{start:{line:82,column:4},end:{line:82,column:5}},loc:{start:{line:82,column:18},end:{line:95,column:5}},line:82},8:{name:"(anonymous_8)",decl:{start:{line:91,column:45},end:{line:91,column:46}},loc:{start:{line:91,column:73},end:{line:93,column:9}},line:91},9:{name:"(anonymous_9)",decl:{start:{line:102,column:4},end:{line:102,column:5}},loc:{start:{line:102,column:44},end:{line:135,column:5}},line:102},10:{name:"(anonymous_10)",decl:{start:{line:115,column:29},end:{line:115,column:30}},loc:{start:{line:115,column:43},end:{line:130,column:9}},line:115},11:{name:"(anonymous_11)",decl:{start:{line:139,column:4},end:{line:139,column:5}},loc:{start:{line:139,column:25},end:{line:147,column:5}},line:139},12:{name:"(anonymous_12)",decl:{start:{line:141,column:38},end:{line:141,column:39}},loc:{start:{line:141,column:49},end:{line:143,column:13}},line:141},13:{name:"(anonymous_13)",decl:{start:{line:146,column:34},end:{line:146,column:35}},loc:{start:{line:146,column:45},end:{line:146,column:109}},line:146},14:{name:"(anonymous_14)",decl:{start:{line:151,column:4},end:{line:151,column:5}},loc:{start:{line:151,column:19},end:{line:160,column:5}},line:151},15:{name:"(anonymous_15)",decl:{start:{line:155,column:26},end:{line:155,column:27}},loc:{start:{line:155,column:32},end:{line:159,column:9}},line:155},16:{name:"(anonymous_16)",decl:{start:{line:164,column:4},end:{line:164,column:5}},loc:{start:{line:164,column:20},end:{line:166,column:5}},line:164}},branchMap:{0:{loc:{start:{line:27,column:12},end:{line:29,column:13}},type:"if",locations:[{start:{line:27,column:12},end:{line:29,column:13}},{start:{line:27,column:12},end:{line:29,column:13}}],line:27},1:{loc:{start:{line:42,column:8},end:{line:44,column:9}},type:"if",locations:[{start:{line:42,column:8},end:{line:44,column:9}},{start:{line:42,column:8},end:{line:44,column:9}}],line:42},2:{loc:{start:{line:55,column:8},end:{line:60,column:9}},type:"if",locations:[{start:{line:55,column:8},end:{line:60,column:9}},{start:{line:55,column:8},end:{line:60,column:9}}],line:55},3:{loc:{start:{line:106,column:8},end:{line:108,column:9}},type:"if",locations:[{start:{line:106,column:8},end:{line:108,column:9}},{start:{line:106,column:8},end:{line:108,column:9}}],line:106},4:{loc:{start:{line:116,column:12},end:{line:129,column:13}},type:"switch",locations:[{start:{line:117,column:16},end:{line:117,column:33}},{start:{line:118,column:16},end:{line:120,column:26}},{start:{line:121,column:16},end:{line:128,column:26}}],line:116},5:{loc:{start:{line:125,column:20},end:{line:127,column:21}},type:"if",locations:[{start:{line:125,column:20},end:{line:127,column:21}},{start:{line:125,column:20},end:{line:127,column:21}}],line:125},6:{loc:{start:{line:132,column:8},end:{line:134,column:9}},type:"if",locations:[{start:{line:132,column:8},end:{line:134,column:9}},{start:{line:132,column:8},end:{line:134,column:9}}],line:132},7:{loc:{start:{line:140,column:8},end:{line:144,column:9}},type:"if",locations:[{start:{line:140,column:8},end:{line:144,column:9}},{start:{line:140,column:8},end:{line:144,column:9}}],line:140}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/modificationsObserver.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/modificationsObserver.ts"],names:[],mappings:"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",sourcesContent:["/**\n * @module ModificationsObserver\n *\n * Handles any mutations\n * and gives opportunity to handle outside\n */\n\nimport Module from '../__module';\nimport * as _ from '../utils';\nimport Block from '../block';\n\n/**\n *\n */\nexport default class ModificationsObserver extends Module {\n  /**\n   * Debounce Timer\n   *\n   * @type {number}\n   */\n  public static readonly DebounceTimer = 450;\n\n  /**\n   * MutationObserver instance\n   */\n  private observer: MutationObserver;\n\n  /**\n   * Allows to temporary disable mutations handling\n   */\n  private disabled = false;\n\n  /**\n   * Used to prevent several mutation callback execution\n   *\n   * @type {Function}\n   */\n  private mutationDebouncer = _.debounce(() => {\n    this.updateNativeInputs();\n\n    if (_.isFunction(this.config.onChange)) {\n      this.config.onChange(this.Editor.API.methods);\n    }\n  }, ModificationsObserver.DebounceTimer);\n\n  /**\n   * Array of native inputs in Blocks.\n   * Changes in native inputs are not handled by modification observer, so we need to set change event listeners on them\n   */\n  private nativeInputs: HTMLElement[] = [];\n\n  /**\n   * Clear timeout and set null to mutationDebouncer property\n   */\n  public destroy(): void {\n    this.mutationDebouncer = null;\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n    this.observer = null;\n    this.nativeInputs.forEach((input) => this.Editor.Listeners.off(input, 'input', this.mutationDebouncer));\n    this.mutationDebouncer = null;\n  }\n\n  /**\n   * Set read-only state\n   *\n   * @param {boolean} readOnlyEnabled - read only flag value\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (readOnlyEnabled) {\n      this.disableModule();\n    } else {\n      this.enableModule();\n    }\n  }\n\n  /**\n   * Allows to disable observer,\n   * for example when Editor wants to stealthy mutate DOM\n   */\n  public disable(): void {\n    this.disabled = true;\n  }\n\n  /**\n   * Enables mutation handling\n   * Should be called after .disable()\n   */\n  public enable(): void {\n    this.disabled = false;\n  }\n\n  /**\n   * setObserver\n   *\n   * sets 'DOMSubtreeModified' listener on Editor's UI.nodes.redactor\n   * so that User can handle outside from API\n   */\n  private setObserver(): void {\n    const { UI } = this.Editor;\n    const observerOptions = {\n      childList: true,\n      attributes: true,\n      subtree: true,\n      characterData: true,\n      characterDataOldValue: true,\n    };\n\n    this.observer = new MutationObserver((mutationList, observer) => {\n      this.mutationHandler(mutationList, observer);\n    });\n    this.observer.observe(UI.nodes.redactor, observerOptions);\n  }\n\n  /**\n   * MutationObserver events handler\n   *\n   * @param {MutationRecord[]} mutationList - list of mutations\n   * @param {MutationObserver} observer - observer instance\n   */\n  private mutationHandler(mutationList: MutationRecord[], observer: MutationObserver): void {\n    /**\n     * Skip mutations in stealth mode\n     */\n    if (this.disabled) {\n      return;\n    }\n\n    /**\n     * We divide two Mutation types:\n     * 1) mutations that concerns client changes: settings changes, symbol added, deletion, insertions and so on\n     * 2) functional changes. On each client actions we set functional identifiers to interact with user\n     */\n    let contentMutated = false;\n\n    mutationList.forEach((mutation) => {\n      switch (mutation.type) {\n        case 'childList':\n        case 'characterData':\n          contentMutated = true;\n          break;\n        case 'attributes':\n          /**\n           * Changes on Element.ce-block usually is functional\n           */\n          if (!(mutation.target as Element).classList.contains(Block.CSS.wrapper)) {\n            contentMutated = true;\n          }\n          break;\n      }\n    });\n\n    /** call once */\n    if (contentMutated) {\n      this.mutationDebouncer();\n    }\n  }\n\n  /**\n   * Gets native inputs and set oninput event handler\n   */\n  private updateNativeInputs(): void {\n    if (this.nativeInputs) {\n      this.nativeInputs.forEach((input) => {\n        this.Editor.Listeners.off(input, 'input');\n      });\n    }\n\n    this.nativeInputs = Array.from(this.Editor.UI.nodes.redactor.querySelectorAll('textarea, input, select'));\n\n    this.nativeInputs.forEach((input) => this.Editor.Listeners.on(input, 'input', this.mutationDebouncer));\n  }\n\n  /**\n   * Sets observer and enables it\n   */\n  private enableModule(): void {\n    /**\n     * wait till Browser render Editor's Blocks\n     */\n    window.setTimeout(() => {\n      this.setObserver();\n      this.updateNativeInputs();\n      this.enable();\n    }, 1000);\n  }\n\n  /**\n   * Disables observer\n   */\n  private disableModule(): void {\n    this.disable();\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cdf00fd1ca8474b4a334594f6a59c73a3608bd3c"});var l=t[n];return d=function(){return l},l}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=m(l),o=m(o),i=m(i),c=m(c),s=m(s),r=m(r),C=u(C),a=m(a),d();var p=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(f()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){var n;return(0,l.default)(this,t),d().f[0]++,d().s[0]++,n=e.apply(this,arguments),d().s[1]++,n.disabled=!1,d().s[2]++,n.mutationDebouncer=C.debounce((function(){d().f[1]++,d().s[3]++,n.updateNativeInputs(),d().s[4]++,C.isFunction(n.config.onChange)?(d().b[0][0]++,d().s[5]++,n.config.onChange(n.Editor.API.methods)):d().b[0][1]++}),t.DebounceTimer),d().s[6]++,n.nativeInputs=[],n}return(0,o.default)(t,[{key:"destroy",value:function(){var n=this;d().f[2]++,d().s[7]++,this.mutationDebouncer=null,d().s[8]++,this.observer?(d().b[1][0]++,d().s[9]++,this.observer.disconnect()):d().b[1][1]++,d().s[10]++,this.observer=null,d().s[11]++,this.nativeInputs.forEach((function(A){return d().f[3]++,d().s[12]++,n.Editor.Listeners.off(A,"input",n.mutationDebouncer)})),d().s[13]++,this.mutationDebouncer=null}},{key:"toggleReadOnly",value:function(n){d().f[4]++,d().s[14]++,n?(d().b[2][0]++,d().s[15]++,this.disableModule()):(d().b[2][1]++,d().s[16]++,this.enableModule())}},{key:"disable",value:function(){d().f[5]++,d().s[17]++,this.disabled=!0}},{key:"enable",value:function(){d().f[6]++,d().s[18]++,this.disabled=!1}},{key:"setObserver",value:function(){var n=this;d().f[7]++;var A=(d().s[19]++,this.Editor).UI,e=(d().s[20]++,{childList:!0,attributes:!0,subtree:!0,characterData:!0,characterDataOldValue:!0});d().s[21]++,this.observer=new MutationObserver((function(A,e){d().f[8]++,d().s[22]++,n.mutationHandler(A,e)})),d().s[23]++,this.observer.observe(A.nodes.redactor,e)}},{key:"mutationHandler",value:function(n,A){if(d().f[9]++,d().s[24]++,this.disabled)return d().b[3][0]++,void d().s[25]++;d().b[3][1]++;var e=(d().s[26]++,!1);d().s[27]++,n.forEach((function(n){switch(d().f[10]++,d().s[28]++,n.type){case"childList":d().b[4][0]++;case"characterData":d().b[4][1]++,d().s[29]++,e=!0,d().s[30]++;break;case"attributes":d().b[4][2]++,d().s[31]++,n.target.classList.contains(a.default.CSS.wrapper)?d().b[5][1]++:(d().b[5][0]++,d().s[32]++,e=!0),d().s[33]++}})),d().s[34]++,e?(d().b[6][0]++,d().s[35]++,this.mutationDebouncer()):d().b[6][1]++}},{key:"updateNativeInputs",value:function(){var n=this;d().f[11]++,d().s[36]++,this.nativeInputs?(d().b[7][0]++,d().s[37]++,this.nativeInputs.forEach((function(A){d().f[12]++,d().s[38]++,n.Editor.Listeners.off(A,"input")}))):d().b[7][1]++,d().s[39]++,this.nativeInputs=Array.from(this.Editor.UI.nodes.redactor.querySelectorAll("textarea, input, select")),d().s[40]++,this.nativeInputs.forEach((function(A){return d().f[13]++,d().s[41]++,n.Editor.Listeners.on(A,"input",n.mutationDebouncer)}))}},{key:"enableModule",value:function(){var n=this;d().f[14]++,d().s[42]++,window.setTimeout((function(){d().f[15]++,d().s[43]++,n.setObserver(),d().s[44]++,n.updateNativeInputs(),d().s[45]++,n.enable()}),1e3)}},{key:"disableModule",value:function(){d().f[16]++,d().s[46]++,this.disable()}}]),t}(r.default);t.default=p,p.displayName="ModificationsObserver",d().s[47]++,p.DebounceTimer=450,n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7),e(384)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C){"use strict";var a=e(1);function u(){var n="/home/hata/editor.js/src/components/modules/notifier.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"e81f936967d5d873565fb81d77ce4912c9a62e20"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/notifier.ts",statementMap:{0:{start:{line:18,column:8},end:{line:18,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:18},end:{line:19,column:5}},line:17}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/notifier.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/notifier.ts"],names:[],mappings:"AAAA,OAAO,MAAM,MAAM,aAAa,CAAC;AAEjC;;;;GAIG;AACH,OAAO,QAA4E,MAAM,gBAAgB,CAAC;AAE1G;;GAEG;AACH,MAAM,CAAC,OAAO,OAAO,QAAS,SAAQ,MAAM;IAC1C;;;;OAIG;IACI,IAAI,CAAC,OAAyE;QACnF,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACzB,CAAC;CACF",sourcesContent:["import Module from '../__module';\n\n/**\n * Use external package module for notifications\n *\n * @see https://github.com/codex-team/js-notifier\n */\nimport notifier, { ConfirmNotifierOptions, NotifierOptions, PromptNotifierOptions } from 'codex-notifier';\n\n/**\n * Notifier module\n */\nexport default class Notifier extends Module {\n  /**\n   * Show web notification\n   *\n   * @param {NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions} options - notification options\n   */\n  public show(options: NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions): void {\n    notifier.show(options);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e81f936967d5d873565fb81d77ce4912c9a62e20"});var l=t[n];return u=function(){return l},l}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=a(l),o=a(o),i=a(i),c=a(c),s=a(s),r=a(r),C=a(C),u();var d=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(m()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){return(0,l.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"show",value:function(n){u().f[0]++,u().s[0]++,C.default.show(n)}}]),t}(r.default);t.default=d,d.displayName="Notifier",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(66),e(21),e(22),e(39),e(2),e(3),e(5),e(6),e(4),e(7),e(15),e(8)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u,m,d,f){"use strict";var p=e(13),E=e(1);function I(){var n="/home/hata/editor.js/src/components/modules/paste.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"adb732d55f946536d44b5236690f8e51cbc9e87a"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/paste.ts",statementMap:{0:{start:{line:14,column:8},end:{line:14,column:28}},1:{start:{line:16,column:8},end:{line:16,column:51}},2:{start:{line:20,column:8},end:{line:20,column:28}},3:{start:{line:24,column:8},end:{line:24,column:29}},4:{start:{line:26,column:8},end:{line:26,column:32}},5:{start:{line:28,column:8},end:{line:28,column:29}},6:{start:{line:32,column:8},end:{line:32,column:32}},7:{start:{line:36,column:8},end:{line:59,column:10}},8:{start:{line:37,column:12},end:{line:58,column:13}},9:{start:{line:38,column:37},end:{line:43,column:18}},10:{start:{line:44,column:16},end:{line:47,column:17}},11:{start:{line:45,column:20},end:{line:45,column:50}},12:{start:{line:46,column:20},end:{line:46,column:27}},13:{start:{line:48,column:16},end:{line:50,column:17}},14:{start:{line:49,column:20},end:{line:49,column:27}},15:{start:{line:51,column:40},end:{line:51,column:62}},16:{start:{line:52,column:16},end:{line:52,column:58}},17:{start:{line:53,column:16},end:{line:53,column:59}},18:{start:{line:54,column:16},end:{line:54,column:62}},19:{start:{line:57,column:16},end:{line:57,column:110}},20:{start:{line:65,column:8},end:{line:81,column:10}},21:{start:{line:66,column:46},end:{line:66,column:57}},22:{start:{line:68,column:12},end:{line:70,column:13}},23:{start:{line:69,column:16},end:{line:69,column:23}},24:{start:{line:74,column:12},end:{line:76,column:13}},25:{start:{line:75,column:16},end:{line:75,column:23}},26:{start:{line:77,column:12},end:{line:77,column:35}},27:{start:{line:78,column:12},end:{line:78,column:58}},28:{start:{line:79,column:12},end:{line:79,column:40}},29:{start:{line:80,column:12},end:{line:80,column:28}},30:{start:{line:87,column:8},end:{line:87,column:28}},31:{start:{line:95,column:8},end:{line:100,column:9}},32:{start:{line:96,column:12},end:{line:96,column:31}},33:{start:{line:99,column:12},end:{line:99,column:33}},34:{start:{line:109,column:30},end:{line:109,column:41}},35:{start:{line:110,column:22},end:{line:110,column:40}},36:{start:{line:115,column:30},end:{line:115,column:96}},37:{start:{line:116,column:8},end:{line:119,column:9}},38:{start:{line:117,column:12},end:{line:117,column:56}},39:{start:{line:118,column:12},end:{line:118,column:19}},40:{start:{line:120,column:29},end:{line:120,column:65}},41:{start:{line:121,column:26},end:{line:121,column:60}},42:{start:{line:122,column:23},end:{line:122,column:56}},43:{start:{line:126,column:8},end:{line:132,column:9}},44:{start:{line:127,column:12},end:{line:131,column:25}},45:{start:{line:128,column:16},end:{line:128,column:66}},46:{start:{line:129,column:16},end:{line:129,column:23}},47:{start:{line:136,column:8},end:{line:138,column:9}},48:{start:{line:137,column:12},end:{line:137,column:81}},49:{start:{line:140,column:26},end:{line:143,column:14}},50:{start:{line:141,column:12},end:{line:141,column:45}},51:{start:{line:142,column:12},end:{line:142,column:26}},52:{start:{line:144,column:29},end:{line:144,column:106}},53:{start:{line:145,column:26},end:{line:145,column:65}},54:{start:{line:147,column:8},end:{line:152,column:9}},55:{start:{line:148,column:12},end:{line:148,column:46}},56:{start:{line:151,column:12},end:{line:151,column:52}},57:{start:{line:161,column:47},end:{line:161,column:58}},58:{start:{line:162,column:29},end:{line:162,column:86}},59:{start:{line:163,column:8},end:{line:165,column:9}},60:{start:{line:164,column:12},end:{line:164,column:19}},61:{start:{line:166,column:8},end:{line:174,column:9}},62:{start:{line:167,column:12},end:{line:172,column:13}},63:{start:{line:168,column:16},end:{line:168,column:60}},64:{start:{line:171,column:16},end:{line:171,column:60}},65:{start:{line:173,column:12},end:{line:173,column:19}},66:{start:{line:175,column:38},end:{line:175,column:114}},67:{start:{line:176,column:42},end:{line:176,column:100}},68:{start:{line:177,column:8},end:{line:177,column:112}},69:{start:{line:177,column:47},end:{line:177,column:110}},70:{start:{line:178,column:8},end:{line:180,column:9}},71:{start:{line:179,column:12},end:{line:179,column:77}},72:{start:{line:186,column:30},end:{line:186,column:41}},73:{start:{line:187,column:8},end:{line:187,column:82}},74:{start:{line:193,column:30},end:{line:193,column:41}},75:{start:{line:194,column:8},end:{line:194,column:83}},76:{start:{line:200,column:22},end:{line:200,column:50}},77:{start:{line:201,column:8},end:{line:201,column:56}},78:{start:{line:210,column:21},end:{line:210,column:47}},79:{start:{line:211,column:8},end:{line:220,column:11}},80:{start:{line:212,column:12},end:{line:216,column:13}},81:{start:{line:213,column:16},end:{line:214,column:97}},82:{start:{line:215,column:16},end:{line:215,column:23}},83:{start:{line:217,column:12},end:{line:219,column:14}},84:{start:{line:221,column:8},end:{line:221,column:65}},85:{start:{line:221,column:48},end:{line:221,column:63}},86:{start:{line:230,column:31},end:{line:230,column:46}},87:{start:{line:231,column:40},end:{line:231,column:45}},88:{start:{line:232,column:8},end:{line:234,column:9}},89:{start:{line:233,column:12},end:{line:233,column:19}},90:{start:{line:235,column:8},end:{line:238,column:9}},91:{start:{line:236,column:12},end:{line:236,column:102}},92:{start:{line:237,column:12},end:{line:237,column:28}},93:{start:{line:239,column:8},end:{line:242,column:9}},94:{start:{line:240,column:12},end:{line:240,column:101}},95:{start:{line:241,column:12},end:{line:241,column:27}},96:{start:{line:243,column:8},end:{line:251,column:9}},97:{start:{line:244,column:12},end:{line:250,column:15}},98:{start:{line:245,column:16},end:{line:248,column:17}},99:{start:{line:246,column:20},end:{line:246,column:111}},100:{start:{line:247,column:20},end:{line:247,column:33}},101:{start:{line:249,column:16},end:{line:249,column:28}},102:{start:{line:252,column:8},end:{line:255,column:10}},103:{start:{line:264,column:8},end:{line:266,column:9}},104:{start:{line:265,column:12},end:{line:265,column:19}},105:{start:{line:267,column:8},end:{line:277,column:11}},106:{start:{line:269,column:12},end:{line:271,column:13}},107:{start:{line:270,column:16},end:{line:270,column:122}},108:{start:{line:272,column:12},end:{line:276,column:15}},109:{start:{line:287,column:8},end:{line:287,column:40}},110:{start:{line:295,column:40},end:{line:295,column:51}},111:{start:{line:297,column:8},end:{line:299,column:52}},112:{start:{line:299,column:27},end:{line:299,column:49}},113:{start:{line:300,column:8},end:{line:300,column:61}},114:{start:{line:300,column:53},end:{line:300,column:59}},115:{start:{line:301,column:38},end:{line:301,column:85}},116:{start:{line:302,column:42},end:{line:302,column:100}},117:{start:{line:303,column:8},end:{line:305,column:11}},118:{start:{line:304,column:12},end:{line:304,column:92}},119:{start:{line:313,column:26},end:{line:313,column:50}},120:{start:{line:314,column:28},end:{line:324,column:10}},121:{start:{line:317,column:44},end:{line:317,column:64}},122:{start:{line:318,column:29},end:{line:318,column:100}},123:{start:{line:318,column:54},end:{line:318,column:99}},124:{start:{line:319,column:34},end:{line:322,column:14}},125:{start:{line:320,column:40},end:{line:320,column:55}},126:{start:{line:321,column:16},end:{line:321,column:89}},127:{start:{line:323,column:12},end:{line:323,column:49}},128:{start:{line:325,column:8},end:{line:327,column:9}},129:{start:{line:326,column:12},end:{line:326,column:19}},130:{start:{line:328,column:23},end:{line:328,column:34}},131:{start:{line:329,column:27},end:{line:331,column:10}},132:{start:{line:332,column:8},end:{line:335,column:10}},133:{start:{line:345,column:37},end:{line:345,column:48}},134:{start:{line:346,column:28},end:{line:346,column:52}},135:{start:{line:347,column:24},end:{line:347,column:37}},136:{start:{line:348,column:8},end:{line:348,column:38}},137:{start:{line:349,column:22},end:{line:349,column:44}},138:{start:{line:350,column:8},end:{line:385,column:91}},139:{start:{line:352,column:32},end:{line:352,column:43}},140:{start:{line:352,column:55},end:{line:352,column:60}},141:{start:{line:353,column:12},end:{line:367,column:13}},142:{start:{line:356,column:20},end:{line:356,column:44}},143:{start:{line:357,column:20},end:{line:357,column:46}},144:{start:{line:358,column:20},end:{line:358,column:26}},145:{start:{line:361,column:20},end:{line:361,column:35}},146:{start:{line:362,column:20},end:{line:362,column:35}},147:{start:{line:363,column:20},end:{line:365,column:21}},148:{start:{line:364,column:24},end:{line:364,column:68}},149:{start:{line:366,column:20},end:{line:366,column:26}},150:{start:{line:368,column:29},end:{line:368,column:63}},151:{start:{line:369,column:29},end:{line:372,column:18}},152:{start:{line:370,column:16},end:{line:370,column:47}},153:{start:{line:371,column:16},end:{line:371,column:30}},154:{start:{line:373,column:33},end:{line:373,column:98}},155:{start:{line:374,column:12},end:{line:374,column:81}},156:{start:{line:375,column:26},end:{line:377,column:14}},157:{start:{line:378,column:12},end:{line:383,column:14}},158:{start:{line:385,column:30},end:{line:385,column:89}},159:{start:{line:395,column:33},end:{line:395,column:44}},160:{start:{line:396,column:8},end:{line:398,column:9}},161:{start:{line:397,column:12},end:{line:397,column:22}},162:{start:{line:399,column:21},end:{line:399,column:33}},163:{start:{line:400,column:8},end:{line:415,column:11}},164:{start:{line:402,column:30},end:{line:402,column:41}},165:{start:{line:404,column:28},end:{line:404,column:41}},166:{start:{line:405,column:12},end:{line:405,column:39}},167:{start:{line:406,column:26},end:{line:408,column:14}},168:{start:{line:409,column:12},end:{line:414,column:14}},169:{start:{line:423,column:47},end:{line:423,column:58}},170:{start:{line:424,column:33},end:{line:424,column:45}},171:{start:{line:428,column:8},end:{line:433,column:9}},172:{start:{line:431,column:12},end:{line:431,column:119}},173:{start:{line:432,column:12},end:{line:432,column:19}},174:{start:{line:434,column:8},end:{line:434,column:75}},175:{start:{line:445,column:58},end:{line:445,column:69}},176:{start:{line:446,column:28},end:{line:446,column:40}},177:{start:{line:447,column:38},end:{line:447,column:114}},178:{start:{line:448,column:8},end:{line:458,column:9}},179:{start:{line:449,column:30},end:{line:449,column:76}},180:{start:{line:450,column:12},end:{line:457,column:13}},181:{start:{line:451,column:50},end:{line:453,column:53}},182:{start:{line:454,column:38},end:{line:454,column:116}},183:{start:{line:455,column:16},end:{line:455,column:69}},184:{start:{line:456,column:16},end:{line:456,column:23}},185:{start:{line:460,column:8},end:{line:466,column:9}},186:{start:{line:461,column:46},end:{line:461,column:108}},187:{start:{line:462,column:12},end:{line:462,column:117}},188:{start:{line:465,column:12},end:{line:465,column:43}},189:{start:{line:476,column:24},end:{line:482,column:10}},190:{start:{line:477,column:31},end:{line:477,column:60}},191:{start:{line:478,column:12},end:{line:480,column:13}},192:{start:{line:479,column:16},end:{line:479,column:29}},193:{start:{line:481,column:12},end:{line:481,column:47}},194:{start:{line:483,column:8},end:{line:485,column:9}},195:{start:{line:484,column:12},end:{line:484,column:19}},196:{start:{line:486,column:22},end:{line:489,column:10}},197:{start:{line:490,column:8},end:{line:493,column:10}},198:{start:{line:504,column:40},end:{line:504,column:51}},199:{start:{line:505,column:33},end:{line:505,column:45}},200:{start:{line:507,column:8},end:{line:511,column:9}},201:{start:{line:508,column:12},end:{line:508,column:68}},202:{start:{line:509,column:12},end:{line:509,column:57}},203:{start:{line:510,column:12},end:{line:510,column:19}},204:{start:{line:512,column:8},end:{line:512,column:58}},205:{start:{line:513,column:8},end:{line:513,column:53}},206:{start:{line:523,column:40},end:{line:523,column:51}},207:{start:{line:524,column:8},end:{line:535,column:11}},208:{start:{line:525,column:44},end:{line:525,column:49}},209:{start:{line:526,column:12},end:{line:529,column:13}},210:{start:{line:527,column:46},end:{line:527,column:122}},211:{start:{line:528,column:16},end:{line:528,column:103}},212:{start:{line:530,column:12},end:{line:534,column:15}},213:{start:{line:547,column:21},end:{line:547,column:48}},214:{start:{line:548,column:24},end:{line:548,column:28}},215:{start:{line:549,column:30},end:{line:549,column:67}},216:{start:{line:550,column:25},end:{line:550,column:52}},217:{start:{line:551,column:32},end:{line:551,column:62}},218:{start:{line:552,column:31},end:{line:552,column:86}},219:{start:{line:553,column:40},end:{line:555,column:89}},220:{start:{line:555,column:35},end:{line:555,column:88}},221:{start:{line:556,column:38},end:{line:556,column:137}},222:{start:{line:556,column:89},end:{line:556,column:136}},223:{start:{line:558,column:8},end:{line:561,column:9}},224:{start:{line:559,column:12},end:{line:559,column:42}},225:{start:{line:560,column:12},end:{line:560,column:40}},226:{start:{line:562,column:8},end:{line:565,column:9}},227:{start:{line:564,column:12},end:{line:564,column:49}},228:{start:{line:577,column:25},end:{line:577,column:55}},229:{start:{line:579,column:24},end:{line:610,column:9}},230:{start:{line:580,column:12},end:{line:582,column:13}},231:{start:{line:581,column:16},end:{line:581,column:29}},232:{start:{line:583,column:29},end:{line:583,column:52}},233:{start:{line:584,column:27},end:{line:584,column:49}},234:{start:{line:585,column:12},end:{line:587,column:13}},235:{start:{line:586,column:16},end:{line:586,column:39}},236:{start:{line:588,column:12},end:{line:608,column:13}},237:{start:{line:595,column:20},end:{line:595,column:97}},238:{start:{line:596,column:20},end:{line:598,column:21}},239:{start:{line:597,column:24},end:{line:597,column:59}},240:{start:{line:599,column:20},end:{line:599,column:26}},241:{start:{line:604,column:20},end:{line:604,column:47}},242:{start:{line:605,column:20},end:{line:605,column:48}},243:{start:{line:607,column:20},end:{line:607,column:48}},244:{start:{line:609,column:12},end:{line:609,column:82}},245:{start:{line:611,column:8},end:{line:611,column:44}},246:{start:{line:620,column:8},end:{line:622,column:11}},247:{start:{line:626,column:0},end:{line:626,column:42}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:18},end:{line:82,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:36,column:27},end:{line:36,column:28}},loc:{start:{line:36,column:45},end:{line:59,column:9}},line:36},2:{name:"(anonymous_2)",decl:{start:{line:65,column:32},end:{line:65,column:33}},loc:{start:{line:65,column:49},end:{line:81,column:9}},line:65},3:{name:"(anonymous_3)",decl:{start:{line:86,column:4},end:{line:86,column:5}},loc:{start:{line:86,column:20},end:{line:88,column:5}},line:86},4:{name:"(anonymous_4)",decl:{start:{line:94,column:4},end:{line:94,column:5}},loc:{start:{line:94,column:36},end:{line:101,column:5}},line:94},5:{name:"(anonymous_5)",decl:{start:{line:108,column:4},end:{line:108,column:5}},loc:{start:{line:108,column:65},end:{line:153,column:5}},line:108},6:{name:"(anonymous_6)",decl:{start:{line:140,column:61},end:{line:140,column:62}},loc:{start:{line:140,column:78},end:{line:143,column:9}},line:140},7:{name:"(anonymous_7)",decl:{start:{line:160,column:4},end:{line:160,column:5}},loc:{start:{line:160,column:44},end:{line:181,column:5}},line:160},8:{name:"(anonymous_8)",decl:{start:{line:177,column:25},end:{line:177,column:26}},loc:{start:{line:177,column:47},end:{line:177,column:110}},line:177},9:{name:"(anonymous_9)",decl:{start:{line:185,column:4},end:{line:185,column:5}},loc:{start:{line:185,column:18},end:{line:188,column:5}},line:185},10:{name:"(anonymous_10)",decl:{start:{line:192,column:4},end:{line:192,column:5}},loc:{start:{line:192,column:20},end:{line:195,column:5}},line:192},11:{name:"(anonymous_11)",decl:{start:{line:199,column:4},end:{line:199,column:5}},loc:{start:{line:199,column:19},end:{line:202,column:5}},line:199},12:{name:"(anonymous_12)",decl:{start:{line:209,column:4},end:{line:209,column:5}},loc:{start:{line:209,column:41},end:{line:222,column:5}},line:209},13:{name:"(anonymous_13)",decl:{start:{line:211,column:21},end:{line:211,column:22}},loc:{start:{line:211,column:30},end:{line:220,column:9}},line:211},14:{name:"(anonymous_14)",decl:{start:{line:221,column:41},end:{line:221,column:42}},loc:{start:{line:221,column:48},end:{line:221,column:63}},line:221},15:{name:"(anonymous_15)",decl:{start:{line:229,column:4},end:{line:229,column:5}},loc:{start:{line:229,column:42},end:{line:256,column:5}},line:229},16:{name:"(anonymous_16)",decl:{start:{line:244,column:41},end:{line:244,column:42}},loc:{start:{line:244,column:51},end:{line:250,column:13}},line:244},17:{name:"(anonymous_17)",decl:{start:{line:263,column:4},end:{line:263,column:5}},loc:{start:{line:263,column:45},end:{line:278,column:5}},line:263},18:{name:"(anonymous_18)",decl:{start:{line:267,column:57},end:{line:267,column:58}},loc:{start:{line:267,column:77},end:{line:277,column:9}},line:267},19:{name:"(anonymous_19)",decl:{start:{line:286,column:4},end:{line:286,column:5}},loc:{start:{line:286,column:31},end:{line:288,column:5}},line:286},20:{name:"(anonymous_20)",decl:{start:{line:294,column:4},end:{line:294,column:5}},loc:{start:{line:294,column:30},end:{line:306,column:5}},line:294},21:{name:"(anonymous_21)",decl:{start:{line:299,column:17},end:{line:299,column:18}},loc:{start:{line:299,column:27},end:{line:299,column:49}},line:299},22:{name:"(anonymous_22)",decl:{start:{line:300,column:43},end:{line:300,column:44}},loc:{start:{line:300,column:53},end:{line:300,column:59}},line:300},23:{name:"(anonymous_23)",decl:{start:{line:303,column:29},end:{line:303,column:30}},loc:{start:{line:303,column:42},end:{line:305,column:9}},line:303},24:{name:"(anonymous_24)",decl:{start:{line:312,column:4},end:{line:312,column:5}},loc:{start:{line:312,column:28},end:{line:336,column:5}},line:312},25:{name:"(anonymous_25)",decl:{start:{line:316,column:18},end:{line:316,column:19}},loc:{start:{line:316,column:61},end:{line:324,column:9}},line:316},26:{name:"(anonymous_26)",decl:{start:{line:318,column:45},end:{line:318,column:46}},loc:{start:{line:318,column:54},end:{line:318,column:99}},line:318},27:{name:"(anonymous_27)",decl:{start:{line:319,column:49},end:{line:319,column:50}},loc:{start:{line:319,column:59},end:{line:322,column:13}},line:319},28:{name:"(anonymous_28)",decl:{start:{line:344,column:4},end:{line:344,column:5}},loc:{start:{line:344,column:27},end:{line:386,column:5}},line:344},29:{name:"(anonymous_29)",decl:{start:{line:351,column:17},end:{line:351,column:18}},loc:{start:{line:351,column:27},end:{line:384,column:9}},line:351},30:{name:"(anonymous_30)",decl:{start:{line:369,column:41},end:{line:369,column:42}},loc:{start:{line:369,column:58},end:{line:372,column:13}},line:369},31:{name:"(anonymous_31)",decl:{start:{line:385,column:20},end:{line:385,column:21}},loc:{start:{line:385,column:30},end:{line:385,column:89}},line:385},32:{name:"(anonymous_32)",decl:{start:{line:394,column:4},end:{line:394,column:5}},loc:{start:{line:394,column:24},end:{line:416,column:5}},line:394},33:{name:"(anonymous_33)",decl:{start:{line:402,column:20},end:{line:402,column:21}},loc:{start:{line:402,column:30},end:{line:402,column:41}},line:402},34:{name:"(anonymous_34)",decl:{start:{line:403,column:17},end:{line:403,column:18}},loc:{start:{line:403,column:27},end:{line:415,column:9}},line:403},35:{name:"(anonymous_35)",decl:{start:{line:422,column:4},end:{line:422,column:5}},loc:{start:{line:422,column:43},end:{line:435,column:5}},line:422},36:{name:"(anonymous_36)",decl:{start:{line:444,column:4},end:{line:444,column:5}},loc:{start:{line:444,column:43},end:{line:467,column:5}},line:444},37:{name:"(anonymous_37)",decl:{start:{line:475,column:4},end:{line:475,column:5}},loc:{start:{line:475,column:31},end:{line:494,column:5}},line:475},38:{name:"(anonymous_38)",decl:{start:{line:476,column:48},end:{line:476,column:49}},loc:{start:{line:476,column:64},end:{line:482,column:9}},line:476},39:{name:"(anonymous_39)",decl:{start:{line:503,column:4},end:{line:503,column:5}},loc:{start:{line:503,column:54},end:{line:514,column:5}},line:503},40:{name:"(anonymous_40)",decl:{start:{line:522,column:4},end:{line:522,column:5}},loc:{start:{line:522,column:31},end:{line:536,column:5}},line:522},41:{name:"(anonymous_41)",decl:{start:{line:524,column:23},end:{line:524,column:24}},loc:{start:{line:524,column:46},end:{line:535,column:9}},line:524},42:{name:"(anonymous_42)",decl:{start:{line:546,column:4},end:{line:546,column:5}},loc:{start:{line:546,column:46},end:{line:566,column:5}},line:546},43:{name:"(anonymous_43)",decl:{start:{line:555,column:18},end:{line:555,column:19}},loc:{start:{line:555,column:35},end:{line:555,column:88}},line:555},44:{name:"(anonymous_44)",decl:{start:{line:556,column:72},end:{line:556,column:73}},loc:{start:{line:556,column:89},end:{line:556,column:136}},line:556},45:{name:"(anonymous_45)",decl:{start:{line:576,column:4},end:{line:576,column:5}},loc:{start:{line:576,column:22},end:{line:612,column:5}},line:576},46:{name:"(anonymous_46)",decl:{start:{line:579,column:24},end:{line:579,column:25}},loc:{start:{line:579,column:41},end:{line:610,column:9}},line:579},47:{name:"(anonymous_47)",decl:{start:{line:619,column:4},end:{line:619,column:5}},loc:{start:{line:619,column:36},end:{line:623,column:5}},line:619}},branchMap:{0:{loc:{start:{line:44,column:16},end:{line:47,column:17}},type:"if",locations:[{start:{line:44,column:16},end:{line:47,column:17}},{start:{line:44,column:16},end:{line:47,column:17}}],line:44},1:{loc:{start:{line:48,column:16},end:{line:50,column:17}},type:"if",locations:[{start:{line:48,column:16},end:{line:50,column:17}},{start:{line:48,column:16},end:{line:50,column:17}}],line:48},2:{loc:{start:{line:51,column:40},end:{line:51,column:62}},type:"binary-expr",locations:[{start:{line:51,column:40},end:{line:51,column:56}},{start:{line:51,column:60},end:{line:51,column:62}}],line:51},3:{loc:{start:{line:68,column:12},end:{line:70,column:13}},type:"if",locations:[{start:{line:68,column:12},end:{line:70,column:13}},{start:{line:68,column:12},end:{line:70,column:13}}],line:68},4:{loc:{start:{line:68,column:16},end:{line:68,column:132}},type:"binary-expr",locations:[{start:{line:68,column:16},end:{line:68,column:42}},{start:{line:68,column:47},end:{line:68,column:83}},{start:{line:68,column:87},end:{line:68,column:131}}],line:68},5:{loc:{start:{line:74,column:12},end:{line:76,column:13}},type:"if",locations:[{start:{line:74,column:12},end:{line:76,column:13}},{start:{line:74,column:12},end:{line:76,column:13}}],line:74},6:{loc:{start:{line:74,column:16},end:{line:74,column:104}},type:"binary-expr",locations:[{start:{line:74,column:16},end:{line:74,column:41}},{start:{line:74,column:45},end:{line:74,column:104}}],line:74},7:{loc:{start:{line:95,column:8},end:{line:100,column:9}},type:"if",locations:[{start:{line:95,column:8},end:{line:100,column:9}},{start:{line:95,column:8},end:{line:100,column:9}}],line:95},8:{loc:{start:{line:108,column:44},end:{line:108,column:63}},type:"default-arg",locations:[{start:{line:108,column:58},end:{line:108,column:63}}],line:108},9:{loc:{start:{line:115,column:30},end:{line:115,column:96}},type:"cond-expr",locations:[{start:{line:115,column:47},end:{line:115,column:70}},{start:{line:115,column:73},end:{line:115,column:96}}],line:115},10:{loc:{start:{line:116,column:8},end:{line:119,column:9}},type:"if",locations:[{start:{line:116,column:8},end:{line:119,column:9}},{start:{line:116,column:8},end:{line:119,column:9}}],line:116},11:{loc:{start:{line:126,column:8},end:{line:132,column:9}},type:"if",locations:[{start:{line:126,column:8},end:{line:132,column:9}},{start:{line:126,column:8},end:{line:132,column:9}}],line:126},12:{loc:{start:{line:136,column:8},end:{line:138,column:9}},type:"if",locations:[{start:{line:136,column:8},end:{line:138,column:9}},{start:{line:136,column:8},end:{line:138,column:9}}],line:136},13:{loc:{start:{line:136,column:12},end:{line:136,column:62}},type:"binary-expr",locations:[{start:{line:136,column:12},end:{line:136,column:23}},{start:{line:136,column:27},end:{line:136,column:43}},{start:{line:136,column:47},end:{line:136,column:62}}],line:136},14:{loc:{start:{line:137,column:32},end:{line:137,column:70}},type:"cond-expr",locations:[{start:{line:137,column:50},end:{line:137,column:58}},{start:{line:137,column:61},end:{line:137,column:70}}],line:137},15:{loc:{start:{line:147,column:8},end:{line:152,column:9}},type:"if",locations:[{start:{line:147,column:8},end:{line:152,column:9}},{start:{line:147,column:8},end:{line:152,column:9}}],line:147},16:{loc:{start:{line:147,column:12},end:{line:147,column:93}},type:"binary-expr",locations:[{start:{line:147,column:12},end:{line:147,column:29}},{start:{line:147,column:33},end:{line:147,column:63}},{start:{line:147,column:67},end:{line:147,column:93}}],line:147},17:{loc:{start:{line:160,column:28},end:{line:160,column:42}},type:"default-arg",locations:[{start:{line:160,column:37},end:{line:160,column:42}}],line:160},18:{loc:{start:{line:162,column:29},end:{line:162,column:86}},type:"cond-expr",locations:[{start:{line:162,column:38},end:{line:162,column:60}},{start:{line:162,column:63},end:{line:162,column:86}}],line:162},19:{loc:{start:{line:163,column:8},end:{line:165,column:9}},type:"if",locations:[{start:{line:163,column:8},end:{line:165,column:9}},{start:{line:163,column:8},end:{line:165,column:9}}],line:163},20:{loc:{start:{line:166,column:8},end:{line:174,column:9}},type:"if",locations:[{start:{line:166,column:8},end:{line:174,column:9}},{start:{line:166,column:8},end:{line:174,column:9}}],line:166},21:{loc:{start:{line:167,column:12},end:{line:172,column:13}},type:"if",locations:[{start:{line:167,column:12},end:{line:172,column:13}},{start:{line:167,column:12},end:{line:172,column:13}}],line:167},22:{loc:{start:{line:175,column:38},end:{line:175,column:114}},type:"binary-expr",locations:[{start:{line:175,column:38},end:{line:175,column:63}},{start:{line:175,column:67},end:{line:175,column:114}}],line:175},23:{loc:{start:{line:176,column:42},end:{line:176,column:100}},type:"binary-expr",locations:[{start:{line:176,column:42},end:{line:176,column:63}},{start:{line:176,column:67},end:{line:176,column:100}}],line:176},24:{loc:{start:{line:177,column:73},end:{line:177,column:109}},type:"binary-expr",locations:[{start:{line:177,column:73},end:{line:177,column:80}},{start:{line:177,column:84},end:{line:177,column:109}}],line:177},25:{loc:{start:{line:178,column:8},end:{line:180,column:9}},type:"if",locations:[{start:{line:178,column:8},end:{line:180,column:9}},{start:{line:178,column:8},end:{line:180,column:9}}],line:178},26:{loc:{start:{line:210,column:21},end:{line:210,column:47}},type:"binary-expr",locations:[{start:{line:210,column:21},end:{line:210,column:41}},{start:{line:210,column:45},end:{line:210,column:47}}],line:210},27:{loc:{start:{line:212,column:12},end:{line:216,column:13}},type:"if",locations:[{start:{line:212,column:12},end:{line:216,column:13}},{start:{line:212,column:12},end:{line:216,column:13}}],line:212},28:{loc:{start:{line:230,column:16},end:{line:230,column:26}},type:"default-arg",locations:[{start:{line:230,column:24},end:{line:230,column:26}}],line:230},29:{loc:{start:{line:232,column:8},end:{line:234,column:9}},type:"if",locations:[{start:{line:232,column:8},end:{line:234,column:9}},{start:{line:232,column:8},end:{line:234,column:9}}],line:232},30:{loc:{start:{line:232,column:12},end:{line:232,column:37}},type:"binary-expr",locations:[{start:{line:232,column:12},end:{line:232,column:23}},{start:{line:232,column:27},end:{line:232,column:37}}],line:232},31:{loc:{start:{line:235,column:8},end:{line:238,column:9}},type:"if",locations:[{start:{line:235,column:8},end:{line:238,column:9}},{start:{line:235,column:8},end:{line:238,column:9}}],line:235},32:{loc:{start:{line:235,column:12},end:{line:235,column:52}},type:"binary-expr",locations:[{start:{line:235,column:12},end:{line:235,column:22}},{start:{line:235,column:26},end:{line:235,column:52}}],line:235},33:{loc:{start:{line:239,column:8},end:{line:242,column:9}},type:"if",locations:[{start:{line:239,column:8},end:{line:242,column:9}},{start:{line:239,column:8},end:{line:242,column:9}}],line:239},34:{loc:{start:{line:239,column:12},end:{line:239,column:50}},type:"binary-expr",locations:[{start:{line:239,column:12},end:{line:239,column:21}},{start:{line:239,column:25},end:{line:239,column:50}}],line:239},35:{loc:{start:{line:243,column:8},end:{line:251,column:9}},type:"if",locations:[{start:{line:243,column:8},end:{line:251,column:9}},{start:{line:243,column:8},end:{line:251,column:9}}],line:243},36:{loc:{start:{line:245,column:16},end:{line:248,column:17}},type:"if",locations:[{start:{line:245,column:16},end:{line:248,column:17}},{start:{line:245,column:16},end:{line:248,column:17}}],line:245},37:{loc:{start:{line:253,column:24},end:{line:253,column:40}},type:"binary-expr",locations:[{start:{line:253,column:24},end:{line:253,column:34}},{start:{line:253,column:38},end:{line:253,column:40}}],line:253},38:{loc:{start:{line:254,column:23},end:{line:254,column:38}},type:"binary-expr",locations:[{start:{line:254,column:23},end:{line:254,column:32}},{start:{line:254,column:36},end:{line:254,column:38}}],line:254},39:{loc:{start:{line:264,column:8},end:{line:266,column:9}},type:"if",locations:[{start:{line:264,column:8},end:{line:266,column:9}},{start:{line:264,column:8},end:{line:266,column:9}}],line:264},40:{loc:{start:{line:264,column:12},end:{line:264,column:76}},type:"binary-expr",locations:[{start:{line:264,column:12},end:{line:264,column:37}},{start:{line:264,column:41},end:{line:264,column:76}}],line:264},41:{loc:{start:{line:269,column:12},end:{line:271,column:13}},type:"if",locations:[{start:{line:269,column:12},end:{line:271,column:13}},{start:{line:269,column:12},end:{line:271,column:13}}],line:269},42:{loc:{start:{line:302,column:42},end:{line:302,column:100}},type:"binary-expr",locations:[{start:{line:302,column:42},end:{line:302,column:63}},{start:{line:302,column:67},end:{line:302,column:100}}],line:302},43:{loc:{start:{line:304,column:54},end:{line:304,column:90}},type:"binary-expr",locations:[{start:{line:304,column:54},end:{line:304,column:61}},{start:{line:304,column:65},end:{line:304,column:90}}],line:304},44:{loc:{start:{line:321,column:23},end:{line:321,column:88}},type:"binary-expr",locations:[{start:{line:321,column:23},end:{line:321,column:40}},{start:{line:321,column:45},end:{line:321,column:68}},{start:{line:321,column:72},end:{line:321,column:87}}],line:321},45:{loc:{start:{line:323,column:19},end:{line:323,column:48}},type:"binary-expr",locations:[{start:{line:323,column:19},end:{line:323,column:29}},{start:{line:323,column:33},end:{line:323,column:48}}],line:323},46:{loc:{start:{line:325,column:8},end:{line:327,column:9}},type:"if",locations:[{start:{line:325,column:8},end:{line:327,column:9}},{start:{line:325,column:8},end:{line:327,column:9}}],line:325},47:{loc:{start:{line:353,column:12},end:{line:367,column:13}},type:"switch",locations:[{start:{line:355,column:16},end:{line:358,column:26}},{start:{line:360,column:16},end:{line:366,column:26}}],line:353},48:{loc:{start:{line:363,column:20},end:{line:365,column:21}},type:"if",locations:[{start:{line:363,column:20},end:{line:365,column:21}},{start:{line:363,column:20},end:{line:365,column:21}}],line:363},49:{loc:{start:{line:385,column:30},end:{line:385,column:89}},type:"binary-expr",locations:[{start:{line:385,column:30},end:{line:385,column:58}},{start:{line:385,column:62},end:{line:385,column:89}}],line:385},50:{loc:{start:{line:396,column:8},end:{line:398,column:9}},type:"if",locations:[{start:{line:396,column:8},end:{line:398,column:9}},{start:{line:396,column:8},end:{line:398,column:9}}],line:396},51:{loc:{start:{line:428,column:8},end:{line:433,column:9}},type:"if",locations:[{start:{line:428,column:8},end:{line:433,column:9}},{start:{line:428,column:8},end:{line:433,column:9}}],line:428},52:{loc:{start:{line:428,column:12},end:{line:430,column:73}},type:"binary-expr",locations:[{start:{line:428,column:12},end:{line:428,column:25}},{start:{line:429,column:12},end:{line:429,column:51}},{start:{line:430,column:12},end:{line:430,column:73}}],line:428},53:{loc:{start:{line:431,column:43},end:{line:431,column:117}},type:"binary-expr",locations:[{start:{line:431,column:43},end:{line:431,column:55}},{start:{line:431,column:59},end:{line:431,column:93}},{start:{line:431,column:97},end:{line:431,column:117}}],line:431},54:{loc:{start:{line:447,column:38},end:{line:447,column:114}},type:"binary-expr",locations:[{start:{line:447,column:38},end:{line:447,column:63}},{start:{line:447,column:67},end:{line:447,column:114}}],line:447},55:{loc:{start:{line:448,column:8},end:{line:458,column:9}},type:"if",locations:[{start:{line:448,column:8},end:{line:458,column:9}},{start:{line:448,column:8},end:{line:458,column:9}}],line:448},56:{loc:{start:{line:448,column:12},end:{line:448,column:101}},type:"binary-expr",locations:[{start:{line:448,column:12},end:{line:448,column:33}},{start:{line:448,column:37},end:{line:448,column:101}}],line:448},57:{loc:{start:{line:450,column:12},end:{line:457,column:13}},type:"if",locations:[{start:{line:450,column:12},end:{line:457,column:13}},{start:{line:450,column:12},end:{line:457,column:13}}],line:450},58:{loc:{start:{line:451,column:50},end:{line:453,column:53}},type:"binary-expr",locations:[{start:{line:451,column:50},end:{line:451,column:75}},{start:{line:452,column:20},end:{line:452,column:67}},{start:{line:453,column:20},end:{line:453,column:53}}],line:451},59:{loc:{start:{line:460,column:8},end:{line:466,column:9}},type:"if",locations:[{start:{line:460,column:8},end:{line:466,column:9}},{start:{line:460,column:8},end:{line:466,column:9}}],line:460},60:{loc:{start:{line:460,column:12},end:{line:460,column:79}},type:"binary-expr",locations:[{start:{line:460,column:12},end:{line:460,column:37}},{start:{line:460,column:41},end:{line:460,column:79}}],line:460},61:{loc:{start:{line:478,column:12},end:{line:480,column:13}},type:"if",locations:[{start:{line:478,column:12},end:{line:480,column:13}},{start:{line:478,column:12},end:{line:480,column:13}}],line:478},62:{loc:{start:{line:483,column:8},end:{line:485,column:9}},type:"if",locations:[{start:{line:483,column:8},end:{line:485,column:9}},{start:{line:483,column:8},end:{line:485,column:9}}],line:483},63:{loc:{start:{line:503,column:22},end:{line:503,column:52}},type:"default-arg",locations:[{start:{line:503,column:47},end:{line:503,column:52}}],line:503},64:{loc:{start:{line:507,column:8},end:{line:511,column:9}},type:"if",locations:[{start:{line:507,column:8},end:{line:511,column:9}},{start:{line:507,column:8},end:{line:511,column:9}}],line:507},65:{loc:{start:{line:507,column:12},end:{line:507,column:74}},type:"binary-expr",locations:[{start:{line:507,column:12},end:{line:507,column:34}},{start:{line:507,column:38},end:{line:507,column:50}},{start:{line:507,column:54},end:{line:507,column:74}}],line:507},66:{loc:{start:{line:526,column:12},end:{line:529,column:13}},type:"if",locations:[{start:{line:526,column:12},end:{line:529,column:13}},{start:{line:526,column:12},end:{line:529,column:13}}],line:526},67:{loc:{start:{line:527,column:46},end:{line:527,column:122}},type:"binary-expr",locations:[{start:{line:527,column:46},end:{line:527,column:71}},{start:{line:527,column:75},end:{line:527,column:122}}],line:527},68:{loc:{start:{line:528,column:44},end:{line:528,column:102}},type:"binary-expr",locations:[{start:{line:528,column:44},end:{line:528,column:65}},{start:{line:528,column:69},end:{line:528,column:102}}],line:528},69:{loc:{start:{line:549,column:16},end:{line:549,column:25}},type:"default-arg",locations:[{start:{line:549,column:23},end:{line:549,column:25}}],line:549},70:{loc:{start:{line:549,column:30},end:{line:549,column:67}},type:"binary-expr",locations:[{start:{line:549,column:30},end:{line:549,column:61}},{start:{line:549,column:65},end:{line:549,column:67}}],line:549},71:{loc:{start:{line:550,column:25},end:{line:550,column:52}},type:"binary-expr",locations:[{start:{line:550,column:25},end:{line:550,column:46}},{start:{line:550,column:50},end:{line:550,column:52}}],line:550},72:{loc:{start:{line:555,column:35},end:{line:555,column:88}},type:"binary-expr",locations:[{start:{line:555,column:35},end:{line:555,column:57}},{start:{line:555,column:61},end:{line:555,column:88}}],line:555},73:{loc:{start:{line:558,column:8},end:{line:561,column:9}},type:"if",locations:[{start:{line:558,column:8},end:{line:561,column:9}},{start:{line:558,column:8},end:{line:561,column:9}}],line:558},74:{loc:{start:{line:558,column:12},end:{line:558,column:75}},type:"binary-expr",locations:[{start:{line:558,column:12},end:{line:558,column:27}},{start:{line:558,column:31},end:{line:558,column:47}},{start:{line:558,column:51},end:{line:558,column:75}}],line:558},75:{loc:{start:{line:562,column:8},end:{line:565,column:9}},type:"if",locations:[{start:{line:562,column:8},end:{line:565,column:9}},{start:{line:562,column:8},end:{line:565,column:9}}],line:562},76:{loc:{start:{line:562,column:12},end:{line:563,column:82}},type:"binary-expr",locations:[{start:{line:562,column:13},end:{line:562,column:28}},{start:{line:562,column:32},end:{line:562,column:56}},{start:{line:563,column:13},end:{line:563,column:27}},{start:{line:563,column:31},end:{line:563,column:53}},{start:{line:563,column:57},end:{line:563,column:81}}],line:562},77:{loc:{start:{line:580,column:12},end:{line:582,column:13}},type:"if",locations:[{start:{line:580,column:12},end:{line:582,column:13}},{start:{line:580,column:12},end:{line:582,column:13}}],line:580},78:{loc:{start:{line:580,column:16},end:{line:580,column:55}},type:"binary-expr",locations:[{start:{line:580,column:16},end:{line:580,column:31}},{start:{line:580,column:35},end:{line:580,column:55}}],line:580},79:{loc:{start:{line:585,column:12},end:{line:587,column:13}},type:"if",locations:[{start:{line:585,column:12},end:{line:587,column:13}},{start:{line:585,column:12},end:{line:587,column:13}}],line:585},80:{loc:{start:{line:585,column:16},end:{line:585,column:50}},type:"binary-expr",locations:[{start:{line:585,column:16},end:{line:585,column:24}},{start:{line:585,column:28},end:{line:585,column:50}}],line:585},81:{loc:{start:{line:588,column:12},end:{line:608,column:13}},type:"switch",locations:[{start:{line:594,column:16},end:{line:599,column:26}},{start:{line:603,column:16},end:{line:605,column:48}},{start:{line:606,column:16},end:{line:607,column:48}}],line:588},82:{loc:{start:{line:596,column:20},end:{line:598,column:21}},type:"if",locations:[{start:{line:596,column:20},end:{line:598,column:21}},{start:{line:596,column:20},end:{line:598,column:21}}],line:596}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0,0],14:[0,0],15:[0,0],16:[0,0,0],17:[0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0,0],53:[0,0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0],58:[0,0,0],59:[0,0],60:[0,0],61:[0,0],62:[0,0],63:[0],64:[0,0],65:[0,0,0],66:[0,0],67:[0,0],68:[0,0],69:[0],70:[0,0],71:[0,0],72:[0,0],73:[0,0],74:[0,0,0],75:[0,0],76:[0,0,0,0,0],77:[0,0],78:[0,0],79:[0,0],80:[0,0],81:[0,0,0],82:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/paste.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/paste.ts"],names:[],mappings:"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",sourcesContent:["import Module from '../__module';\nimport $ from '../dom';\nimport * as _ from '../utils';\nimport {\n  BlockTool,\n  BlockToolConstructable,\n  PasteConfig,\n  PasteEvent,\n  PasteEventDetail\n} from '../../../types';\nimport Block from '../block';\nimport { SavedData } from '../../../types/data-formats';\n\n/**\n * Tag substitute object.\n */\ninterface TagSubstitute {\n  /**\n   * Name of related Tool\n   *\n   * @type {string}\n   */\n  tool: string;\n}\n\n/**\n * Pattern substitute object.\n */\ninterface PatternSubstitute {\n  /**\n   * Pattern`s key\n   *\n   * @type {string}\n   */\n  key: string;\n\n  /**\n   * Pattern regexp\n   *\n   * @type {RegExp}\n   */\n  pattern: RegExp;\n\n  /**\n   * Name of related Tool\n   *\n   * @type {string}\n   */\n  tool: string;\n}\n\n/**\n * Files` types substitutions object.\n */\ninterface FilesSubstitution {\n  /**\n   * Array of file extensions Tool can handle\n   *\n   * @type {string[]}\n   */\n  extensions: string[];\n\n  /**\n   * Array of MIME types Tool can handle\n   *\n   * @type {string[]}\n   */\n  mimeTypes: string[];\n}\n\n/**\n * Processed paste data object.\n *\n * @interface PasteData\n */\ninterface PasteData {\n  /**\n   * Name of related Tool\n   *\n   * @type {string}\n   */\n  tool: string;\n\n  /**\n   * Pasted data. Processed and wrapped to HTML element\n   *\n   * @type {HTMLElement}\n   */\n  content: HTMLElement;\n\n  /**\n   * Pasted data\n   */\n  event: PasteEvent;\n\n  /**\n   * True if content should be inserted as new Block\n   *\n   * @type {boolean}\n   */\n  isBlock: boolean;\n}\n\n/**\n * @class Paste\n * @classdesc Contains methods to handle paste on editor\n *\n * @module Paste\n *\n * @version 2.0.0\n */\nexport default class Paste extends Module {\n  /** If string`s length is greater than this number we don't check paste patterns */\n  public static readonly PATTERN_PROCESSING_MAX_LENGTH = 450;\n\n  /** Custom EditorJS mime-type to handle in-editor copy/paste actions */\n  public readonly MIME_TYPE = 'application/x-editor-js';\n\n  /**\n   * Tags` substitutions parameters\n   */\n  private toolsTags: {[tag: string]: TagSubstitute} = {};\n\n  /**\n   * Store tags to substitute by tool name\n   */\n  private tagsByTool: {[tools: string]: string[]} = {};\n\n  /** Patterns` substitutions parameters */\n  private toolsPatterns: PatternSubstitute[] = [];\n\n  /** Files` substitutions parameters */\n  private toolsFiles: {\n    [tool: string]: FilesSubstitution;\n  } = {};\n\n  /**\n   * List of tools which do not need a paste handling\n   */\n  private exceptionList: string[] = [];\n\n  /**\n   * Set onPaste callback and collect tools` paste configurations\n   */\n  public async prepare(): Promise<void> {\n    this.processTools();\n  }\n\n  /**\n   * Set read-only state\n   *\n   * @param {boolean} readOnlyEnabled - read only flag value\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (!readOnlyEnabled) {\n      this.setCallback();\n    } else {\n      this.unsetCallback();\n    }\n  }\n\n  /**\n   * Handle pasted or dropped data transfer object\n   *\n   * @param {DataTransfer} dataTransfer - pasted or dropped data transfer object\n   * @param {boolean} isDragNDrop - true if data transfer comes from drag'n'drop events\n   */\n  public async processDataTransfer(dataTransfer: DataTransfer, isDragNDrop = false): Promise<void> {\n    const { Sanitizer } = this.Editor;\n\n    const types = dataTransfer.types;\n\n    /**\n     * In Microsoft Edge types is DOMStringList. So 'contains' is used to check if 'Files' type included\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const includesFiles = types.includes ? types.includes('Files') : (types as any).contains('Files');\n\n    if (includesFiles) {\n      await this.processFiles(dataTransfer.files);\n\n      return;\n    }\n\n    const editorJSData = dataTransfer.getData(this.MIME_TYPE);\n    const plainData = dataTransfer.getData('text/plain');\n    let htmlData = dataTransfer.getData('text/html');\n\n    /**\n     * If EditorJS json is passed, insert it\n     */\n    if (editorJSData) {\n      try {\n        this.insertEditorJSData(JSON.parse(editorJSData));\n\n        return;\n      } catch (e) {} // Do nothing and continue execution as usual if error appears\n    }\n\n    /**\n     *  If text was drag'n'dropped, wrap content with P tag to insert it as the new Block\n     */\n    if (isDragNDrop && plainData.trim() && htmlData.trim()) {\n      htmlData = '<p>' + (htmlData.trim() ? htmlData : plainData) + '</p>';\n    }\n\n    /** Add all tags that can be substituted to sanitizer configuration */\n    const toolsTags = Object.keys(this.toolsTags).reduce((result, tag) => {\n      result[tag.toLowerCase()] = true;\n\n      return result;\n    }, {});\n\n    const customConfig = Object.assign({}, toolsTags, Sanitizer.getAllInlineToolsConfig(), { br: {} });\n\n    const cleanData = Sanitizer.clean(htmlData, customConfig);\n\n    /** If there is no HTML or HTML string is equal to plain one, process it as plain text */\n    if (!cleanData.trim() || cleanData.trim() === plainData || !$.isHTMLString(cleanData)) {\n      await this.processText(plainData);\n    } else {\n      await this.processText(cleanData, true);\n    }\n  }\n\n  /**\n   * Process pasted text and divide them into Blocks\n   *\n   * @param {string} data - text to process. Can be HTML or plain.\n   * @param {boolean} isHTML - if passed string is HTML, this parameter should be true\n   */\n  public async processText(data: string, isHTML = false): Promise<void> {\n    const { Caret, BlockManager, Tools } = this.Editor;\n    const dataToInsert = isHTML ? this.processHTML(data) : this.processPlain(data);\n\n    if (!dataToInsert.length) {\n      return;\n    }\n\n    if (dataToInsert.length === 1) {\n      if (!dataToInsert[0].isBlock) {\n        this.processInlinePaste(dataToInsert.pop());\n      } else {\n        this.processSingleBlock(dataToInsert.pop());\n      }\n\n      return;\n    }\n\n    const isCurrentBlockDefault = BlockManager.currentBlock && Tools.isDefault(BlockManager.currentBlock.tool);\n    const needToReplaceCurrentBlock = isCurrentBlockDefault && BlockManager.currentBlock.isEmpty;\n\n    dataToInsert.map(\n      async (content, i) => this.insertBlock(content, i === 0 && needToReplaceCurrentBlock)\n    );\n\n    if (BlockManager.currentBlock) {\n      Caret.setToBlock(BlockManager.currentBlock, Caret.positions.END);\n    }\n  }\n\n  /**\n   * Set onPaste callback handler\n   */\n  private setCallback(): void {\n    const { Listeners } = this.Editor;\n\n    Listeners.on(this.Editor.UI.nodes.holder, 'paste', this.handlePasteEvent);\n  }\n\n  /**\n   * Unset onPaste callback handler\n   */\n  private unsetCallback(): void {\n    const { Listeners } = this.Editor;\n\n    Listeners.off(this.Editor.UI.nodes.holder, 'paste', this.handlePasteEvent);\n  }\n\n  /**\n   * Get and process tool`s paste configs\n   */\n  private processTools(): void {\n    const tools = this.Editor.Tools.blockTools;\n\n    Object.entries(tools).forEach(this.processTool);\n  }\n\n  /**\n   * Process paste config for each tool\n   */\n  private processTool = ([name, tool]: [string, BlockToolConstructable]): void => {\n    try {\n      const toolInstance = new this.Editor.Tools.blockTools[name]({\n        api: this.Editor.API.getMethodsForTool(name),\n        config: {},\n        data: {},\n        readOnly: false,\n      }) as BlockTool;\n\n      if (tool.pasteConfig === false) {\n        this.exceptionList.push(name);\n\n        return;\n      }\n\n      if (typeof toolInstance.onPaste !== 'function') {\n        return;\n      }\n\n      const toolPasteConfig = tool.pasteConfig || {};\n\n      this.getTagsConfig(name, toolPasteConfig);\n      this.getFilesConfig(name, toolPasteConfig);\n      this.getPatternsConfig(name, toolPasteConfig);\n    } catch (e) {\n      _.log(\n        `Paste handling for «${name}» Tool hasn't been set up because of the error`,\n        'warn',\n        e\n      );\n    }\n  }\n\n  /**\n   * Get tags to substitute by Tool\n   *\n   * @param {string} name - Tool name\n   * @param {PasteConfig} toolPasteConfig - Tool onPaste configuration\n   */\n  private getTagsConfig(name: string, toolPasteConfig: PasteConfig): void {\n    const tags = toolPasteConfig.tags || [];\n\n    tags.forEach((tag) => {\n      if (Object.prototype.hasOwnProperty.call(this.toolsTags, tag)) {\n        _.log(\n          `Paste handler for «${name}» Tool on «${tag}» tag is skipped ` +\n          `because it is already used by «${this.toolsTags[tag].tool}» Tool.`,\n          'warn'\n        );\n\n        return;\n      }\n\n      this.toolsTags[tag.toUpperCase()] = {\n        tool: name,\n      };\n    });\n\n    this.tagsByTool[name] = tags.map((t) => t.toUpperCase());\n  }\n\n  /**\n   * Get files` types and extensions to substitute by Tool\n   *\n   * @param {string} name - Tool name\n   * @param {PasteConfig} toolPasteConfig - Tool onPaste configuration\n   */\n  private getFilesConfig(name: string, toolPasteConfig: PasteConfig): void {\n    const { files = {} } = toolPasteConfig;\n    let { extensions, mimeTypes } = files;\n\n    if (!extensions && !mimeTypes) {\n      return;\n    }\n\n    if (extensions && !Array.isArray(extensions)) {\n      _.log(`«extensions» property of the onDrop config for «${name}» Tool should be an array`);\n      extensions = [];\n    }\n\n    if (mimeTypes && !Array.isArray(mimeTypes)) {\n      _.log(`«mimeTypes» property of the onDrop config for «${name}» Tool should be an array`);\n      mimeTypes = [];\n    }\n\n    if (mimeTypes) {\n      mimeTypes = mimeTypes.filter((type) => {\n        if (!_.isValidMimeType(type)) {\n          _.log(`MIME type value «${type}» for the «${name}» Tool is not a valid MIME type`, 'warn');\n\n          return false;\n        }\n\n        return true;\n      });\n    }\n\n    this.toolsFiles[name] = {\n      extensions: extensions || [],\n      mimeTypes: mimeTypes || [],\n    };\n  }\n\n  /**\n   * Get RegExp patterns to substitute by Tool\n   *\n   * @param {string} name - Tool name\n   * @param {PasteConfig} toolPasteConfig - Tool onPaste configuration\n   */\n  private getPatternsConfig(name: string, toolPasteConfig: PasteConfig): void {\n    if (!toolPasteConfig.patterns || _.isEmpty(toolPasteConfig.patterns)) {\n      return;\n    }\n\n    Object.entries(toolPasteConfig.patterns).forEach(([key, pattern]: [string, RegExp]) => {\n      /** Still need to validate pattern as it provided by user */\n      if (!(pattern instanceof RegExp)) {\n        _.log(\n          `Pattern ${pattern} for «${name}» Tool is skipped because it should be a Regexp instance.`,\n          'warn'\n        );\n      }\n\n      this.toolsPatterns.push({\n        key,\n        pattern,\n        tool: name,\n      });\n    });\n  }\n\n  /**\n   * Check if browser behavior suits better\n   *\n   * @param {EventTarget} element - element where content has been pasted\n   *\n   * @returns {boolean}\n   */\n  private isNativeBehaviour(element: EventTarget): boolean {\n    return $.isNativeInput(element);\n  }\n\n  /**\n   * Check if Editor should process pasted data and pass data transfer object to handler\n   *\n   * @param {ClipboardEvent} event - clipboard event\n   */\n  private handlePasteEvent = async (event: ClipboardEvent): Promise<void> => {\n    const { BlockManager, Toolbar } = this.Editor;\n\n    /** If target is native input or is not Block, use browser behaviour */\n    if (\n      !BlockManager.currentBlock || (this.isNativeBehaviour(event.target) && !event.clipboardData.types.includes('Files'))\n    ) {\n      return;\n    }\n\n    /**\n     * If Tools is in list of errors, skip processing of paste event\n     */\n    if (BlockManager.currentBlock && this.exceptionList.includes(BlockManager.currentBlock.name)) {\n      return;\n    }\n\n    event.preventDefault();\n    this.processDataTransfer(event.clipboardData);\n\n    BlockManager.clearFocused();\n    Toolbar.close();\n  }\n\n  /**\n   * Get files from data transfer object and insert related Tools\n   *\n   * @param {FileList} items - pasted or dropped items\n   */\n  private async processFiles(items: FileList): Promise<void> {\n    const { BlockManager, Tools } = this.Editor;\n\n    let dataToInsert: Array<{type: string; event: PasteEvent}>;\n\n    dataToInsert = await Promise.all(\n      Array\n        .from(items)\n        .map((item) => this.processFile(item))\n    );\n    dataToInsert = dataToInsert.filter((data) => !!data);\n\n    const isCurrentBlockDefault = Tools.isDefault(BlockManager.currentBlock.tool);\n    const needToReplaceCurrentBlock = isCurrentBlockDefault && BlockManager.currentBlock.isEmpty;\n\n    dataToInsert.forEach(\n      (data, i) => {\n        BlockManager.paste(data.type, data.event, i === 0 && needToReplaceCurrentBlock);\n      }\n    );\n  }\n\n  /**\n   * Get information about file and find Tool to handle it\n   *\n   * @param {File} file - file to process\n   */\n  private async processFile(file: File): Promise<{event: PasteEvent; type: string}> {\n    const extension = _.getFileExtension(file);\n\n    const foundConfig = Object\n      .entries(this.toolsFiles)\n      .find(([toolName, { mimeTypes, extensions } ]) => {\n        const [fileType, fileSubtype] = file.type.split('/');\n\n        const foundExt = extensions.find((ext) => ext.toLowerCase() === extension.toLowerCase());\n        const foundMimeType = mimeTypes.find((mime) => {\n          const [type, subtype] = mime.split('/');\n\n          return type === fileType && (subtype === fileSubtype || subtype === '*');\n        });\n\n        return !!foundExt || !!foundMimeType;\n      });\n\n    if (!foundConfig) {\n      return;\n    }\n\n    const [ tool ] = foundConfig;\n    const pasteEvent = this.composePasteEvent('file', {\n      file,\n    });\n\n    return {\n      event: pasteEvent,\n      type: tool,\n    };\n  }\n\n  /**\n   * Split HTML string to blocks and return it as array of Block data\n   *\n   * @param {string} innerHTML - html string to process\n   *\n   * @returns {PasteData[]}\n   */\n  private processHTML(innerHTML: string): PasteData[] {\n    const { Tools, Sanitizer } = this.Editor;\n    const initialTool = this.config.defaultBlock;\n    const wrapper = $.make('DIV');\n\n    wrapper.innerHTML = innerHTML;\n\n    const nodes = this.getNodes(wrapper);\n\n    return nodes\n      .map((node) => {\n        let content, tool = initialTool, isBlock = false;\n\n        switch (node.nodeType) {\n          /** If node is a document fragment, use temp wrapper to get innerHTML */\n          case Node.DOCUMENT_FRAGMENT_NODE:\n            content = $.make('div');\n            content.appendChild(node);\n            break;\n\n          /** If node is an element, then there might be a substitution */\n          case Node.ELEMENT_NODE:\n            content = node as HTMLElement;\n            isBlock = true;\n\n            if (this.toolsTags[content.tagName]) {\n              tool = this.toolsTags[content.tagName].tool;\n            }\n            break;\n        }\n\n        const { tags } = Tools.blockTools[tool].pasteConfig as PasteConfig;\n\n        const toolTags = tags.reduce((result, tag) => {\n          result[tag.toLowerCase()] = {};\n\n          return result;\n        }, {});\n        const customConfig = Object.assign({}, toolTags, Sanitizer.getInlineToolsConfig(tool));\n\n        content.innerHTML = Sanitizer.clean(content.innerHTML, customConfig);\n\n        const event = this.composePasteEvent('tag', {\n          data: content,\n        });\n\n        return {\n          content,\n          isBlock,\n          tool,\n          event,\n        };\n      })\n      .filter((data) => !$.isNodeEmpty(data.content) || $.isSingleTag(data.content));\n  }\n\n  /**\n   * Split plain text by new line symbols and return it as array of Block data\n   *\n   * @param {string} plain - string to process\n   *\n   * @returns {PasteData[]}\n   */\n  private processPlain(plain: string): PasteData[] {\n    const { defaultBlock } = this.config as {defaultBlock: string};\n\n    if (!plain) {\n      return [];\n    }\n\n    const tool = defaultBlock;\n\n    return plain\n      .split(/\\r?\\n/)\n      .filter((text) => text.trim())\n      .map((text) => {\n        const content = $.make('div');\n\n        content.textContent = text;\n\n        const event = this.composePasteEvent('tag', {\n          data: content,\n        });\n\n        return {\n          content,\n          tool,\n          isBlock: false,\n          event,\n        };\n      });\n  }\n\n  /**\n   * Process paste of single Block tool content\n   *\n   * @param {PasteData} dataToInsert - data of Block to inseret\n   */\n  private async processSingleBlock(dataToInsert: PasteData): Promise<void> {\n    const { Caret, BlockManager, Tools } = this.Editor;\n    const { currentBlock } = BlockManager;\n\n    /**\n     * If pasted tool isn`t equal current Block or if pasted content contains block elements, insert it as new Block\n     */\n    if (\n      !currentBlock ||\n      dataToInsert.tool !== currentBlock.name ||\n      !$.containsOnlyInlineElements(dataToInsert.content.innerHTML)\n    ) {\n      this.insertBlock(dataToInsert, currentBlock && Tools.isDefault(currentBlock.tool) && currentBlock.isEmpty);\n\n      return;\n    }\n\n    Caret.insertContentAtCaretPosition(dataToInsert.content.innerHTML);\n  }\n\n  /**\n   * Process paste to single Block:\n   * 1. Find patterns` matches\n   * 2. Insert new block if it is not the same type as current one\n   * 3. Just insert text if there is no substitutions\n   *\n   * @param {PasteData} dataToInsert - data of Block to insert\n   */\n  private async processInlinePaste(dataToInsert: PasteData): Promise<void> {\n    const { BlockManager, Caret, Sanitizer, Tools } = this.Editor;\n    const { content } = dataToInsert;\n\n    const currentBlockIsDefault = BlockManager.currentBlock && Tools.isDefault(BlockManager.currentBlock.tool);\n\n    if (currentBlockIsDefault && content.textContent.length < Paste.PATTERN_PROCESSING_MAX_LENGTH) {\n      const blockData = await this.processPattern(content.textContent);\n\n      if (blockData) {\n        const needToReplaceCurrentBlock = BlockManager.currentBlock &&\n          Tools.isDefault(BlockManager.currentBlock.tool) &&\n          BlockManager.currentBlock.isEmpty;\n\n        const insertedBlock = BlockManager.paste(blockData.tool, blockData.event, needToReplaceCurrentBlock);\n\n        Caret.setToBlock(insertedBlock, Caret.positions.END);\n\n        return;\n      }\n    }\n\n    /** If there is no pattern substitute - insert string as it is */\n    if (BlockManager.currentBlock && BlockManager.currentBlock.currentInput) {\n      const currentToolSanitizeConfig = Sanitizer.getInlineToolsConfig(BlockManager.currentBlock.name);\n\n      document.execCommand(\n        'insertHTML',\n        false,\n        Sanitizer.clean(content.innerHTML, currentToolSanitizeConfig)\n      );\n    } else {\n      this.insertBlock(dataToInsert);\n    }\n  }\n\n  /**\n   * Get patterns` matches\n   *\n   * @param {string} text - text to process\n   *\n   * @returns {Promise<{event: PasteEvent, tool: string}>}\n   */\n  private async processPattern(text: string): Promise<{event: PasteEvent; tool: string}> {\n    const pattern = this.toolsPatterns.find((substitute) => {\n      const execResult = substitute.pattern.exec(text);\n\n      if (!execResult) {\n        return false;\n      }\n\n      return text === execResult.shift();\n    });\n\n    if (!pattern) {\n      return;\n    }\n\n    const event = this.composePasteEvent('pattern', {\n      key: pattern.key,\n      data: text,\n    });\n\n    return {\n      event,\n      tool: pattern.tool,\n    };\n  }\n\n  /**\n   * Insert pasted Block content to Editor\n   *\n   * @param {PasteData} data - data to insert\n   * @param {boolean} canReplaceCurrentBlock - if true and is current Block is empty, will replace current Block\n   *\n   * @returns {void}\n   */\n  private insertBlock(data: PasteData, canReplaceCurrentBlock = false): void {\n    const { BlockManager, Caret } = this.Editor;\n    const { currentBlock } = BlockManager;\n    let block: Block;\n\n    if (canReplaceCurrentBlock && currentBlock && currentBlock.isEmpty) {\n      block = BlockManager.paste(data.tool, data.event, true);\n      Caret.setToBlock(block, Caret.positions.END);\n\n      return;\n    }\n\n    block = BlockManager.paste(data.tool, data.event);\n\n    Caret.setToBlock(block, Caret.positions.END);\n  }\n\n  /**\n   * Insert data passed as application/x-editor-js JSON\n   *\n   * @param {Array} blocks — Blocks' data to insert\n   *\n   * @returns {void}\n   */\n  private insertEditorJSData(blocks: Array<Pick<SavedData, 'data' | 'tool'>>): void {\n    const { BlockManager, Tools } = this.Editor;\n\n    blocks.forEach(({ tool, data }, i) => {\n      let needToReplaceCurrentBlock = false;\n\n      if (i === 0) {\n        const isCurrentBlockDefault = BlockManager.currentBlock && Tools.isDefault(BlockManager.currentBlock.tool);\n\n        needToReplaceCurrentBlock = isCurrentBlockDefault && BlockManager.currentBlock.isEmpty;\n      }\n\n      BlockManager.insert({\n        tool,\n        data,\n        replace: needToReplaceCurrentBlock,\n      });\n    });\n  }\n\n  /**\n   * Fetch nodes from Element node\n   *\n   * @param {Node} node - current node\n   * @param {Node[]} nodes - processed nodes\n   * @param {Node} destNode - destination node\n   *\n   * @returns {Node[]}\n   */\n  private processElementNode(node: Node, nodes: Node[], destNode: Node): Node[] | void {\n    const tags = Object.keys(this.toolsTags);\n\n    const element = node as HTMLElement;\n\n    const { tool = '' } = this.toolsTags[element.tagName] || {};\n    const toolTags = this.tagsByTool[tool] || [];\n\n    const isSubstitutable = tags.includes(element.tagName);\n    const isBlockElement = $.blockElements.includes(element.tagName.toLowerCase());\n    const containsAnotherToolTags = Array\n      .from(element.children)\n      .some(\n        ({ tagName }) => tags.includes(tagName) && !toolTags.includes(tagName)\n      );\n\n    const containsBlockElements = Array.from(element.children).some(\n      ({ tagName }) => $.blockElements.includes(tagName.toLowerCase())\n    );\n\n    /** Append inline elements to previous fragment */\n    if (!isBlockElement && !isSubstitutable && !containsAnotherToolTags) {\n      destNode.appendChild(element);\n\n      return [...nodes, destNode];\n    }\n\n    if (\n      (isSubstitutable && !containsAnotherToolTags) ||\n      (isBlockElement && !containsBlockElements && !containsAnotherToolTags)\n    ) {\n      return [...nodes, destNode, element];\n    }\n  }\n\n  /**\n   * Recursively divide HTML string to two types of nodes:\n   * 1. Block element\n   * 2. Document Fragments contained text and markup tags like a, b, i etc.\n   *\n   * @param {Node} wrapper - wrapper of paster HTML content\n   *\n   * @returns {Node[]}\n   */\n  private getNodes(wrapper: Node): Node[] {\n    const children = Array.from(wrapper.childNodes);\n    let elementNodeProcessingResult: Node[] | void;\n\n    const reducer = (nodes: Node[], node: Node): Node[] => {\n      if ($.isEmpty(node) && !$.isSingleTag(node as HTMLElement)) {\n        return nodes;\n      }\n\n      const lastNode = nodes[nodes.length - 1];\n\n      let destNode: Node = new DocumentFragment();\n\n      if (lastNode && $.isFragment(lastNode)) {\n        destNode = nodes.pop();\n      }\n\n      switch (node.nodeType) {\n        /**\n         * If node is HTML element:\n         * 1. Check if it is inline element\n         * 2. Check if it contains another block or substitutable elements\n         */\n        case Node.ELEMENT_NODE:\n          elementNodeProcessingResult = this.processElementNode(node, nodes, destNode);\n\n          if (elementNodeProcessingResult) {\n            return elementNodeProcessingResult;\n          }\n          break;\n\n        /**\n         * If node is text node, wrap it with DocumentFragment\n         */\n        case Node.TEXT_NODE:\n          destNode.appendChild(node);\n\n          return [...nodes, destNode];\n\n        default:\n          return [...nodes, destNode];\n      }\n\n      return [...nodes, ...Array.from(node.childNodes).reduce(reducer, [])];\n    };\n\n    return children.reduce(reducer, []);\n  }\n\n  /**\n   * Compose paste event with passed type and detail\n   *\n   * @param {string} type - event type\n   * @param {PasteEventDetail} detail - event detail\n   */\n  private composePasteEvent(type: string, detail: PasteEventDetail): PasteEvent {\n    return new CustomEvent(type, {\n      detail,\n    }) as PasteEvent;\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"adb732d55f946536d44b5236690f8e51cbc9e87a"});var l=t[n];return I=function(){return l},l}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=E(l),o=E(o),i=E(i),c=E(c),s=E(s),r=E(r),C=E(C),a=E(a),u=E(u),m=E(m),d=E(d),f=p(f),I();var b=function(n){(0,C.default)(v,n);var A,e,t,m,p,E,b,B,g,M=(A=v,function(){var n,e=(0,u.default)(A);if(h()){var t=(0,u.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,a.default)(this,n)});function v(){var n;return(0,s.default)(this,v),I().f[0]++,I().s[0]++,n=M.apply(this,arguments),I().s[1]++,n.MIME_TYPE="application/x-editor-js",I().s[2]++,n.toolsTags={},I().s[3]++,n.tagsByTool={},I().s[4]++,n.toolsPatterns=[],I().s[5]++,n.toolsFiles={},I().s[6]++,n.exceptionList=[],I().s[7]++,n.processTool=function(A){var e=(0,c.default)(A,2),t=e[0],l=e[1];I().f[1]++,I().s[8]++;try{var o=(I().s[9]++,new n.Editor.Tools.blockTools[t]({api:n.Editor.API.getMethodsForTool(t),config:{},data:{},readOnly:!1}));if(I().s[10]++,!1===l.pasteConfig)return I().b[0][0]++,I().s[11]++,n.exceptionList.push(t),void I().s[12]++;if(I().b[0][1]++,I().s[13]++,"function"!=typeof o.onPaste)return I().b[1][0]++,void I().s[14]++;I().b[1][1]++;var i=(I().s[15]++,I().b[2][0]++,l.pasteConfig||(I().b[2][1]++,{}));I().s[16]++,n.getTagsConfig(t,i),I().s[17]++,n.getFilesConfig(t,i),I().s[18]++,n.getPatternsConfig(t,i)}catch(n){I().s[19]++,f.log("Paste handling for «".concat(t,"» Tool hasn't been set up because of the error"),"warn",n)}},I().s[20]++,n.handlePasteEvent=function(){var A=(0,i.default)(o.default.mark((function A(e){var t,l,i;return o.default.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(I().f[2]++,I().s[21]++,t=n.Editor,l=t.BlockManager,i=t.Toolbar,I().s[22]++,I().b[4][0]++,l.currentBlock&&(I().b[4][1]++,!n.isNativeBehaviour(e.target)||(I().b[4][2]++,e.clipboardData.types.includes("Files")))){A.next=9;break}return I().b[3][0]++,I().s[23]++,A.abrupt("return");case 9:I().b[3][1]++;case 10:if(I().s[24]++,I().b[6][0]++,!l.currentBlock||(I().b[6][1]++,!n.exceptionList.includes(l.currentBlock.name))){A.next=17;break}return I().b[5][0]++,I().s[25]++,A.abrupt("return");case 17:I().b[5][1]++;case 18:I().s[26]++,e.preventDefault(),I().s[27]++,n.processDataTransfer(e.clipboardData),I().s[28]++,l.clearFocused(),I().s[29]++,i.close();case 26:case"end":return A.stop()}}),A)})));return function(n){return A.apply(this,arguments)}}(),n}return(0,r.default)(v,[{key:"prepare",value:(g=(0,i.default)(o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:I().f[3]++,I().s[30]++,this.processTools();case 3:case"end":return n.stop()}}),n,this)}))),function(){return g.apply(this,arguments)})},{key:"toggleReadOnly",value:function(n){I().f[4]++,I().s[31]++,n?(I().b[7][1]++,I().s[33]++,this.unsetCallback()):(I().b[7][0]++,I().s[32]++,this.setCallback())}},{key:"processDataTransfer",value:(B=(0,i.default)(o.default.mark((function n(A){var e,t,l,i,c,s,r,C,a,u,m,f=arguments;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=f.length>1&&void 0!==f[1]?f[1]:(I().b[8][0]++,!1),I().f[5]++,I().s[34]++,t=this.Editor,l=t.Sanitizer,I().s[35]++,i=A.types,I().s[36]++,c=i.includes?(I().b[9][0]++,i.includes("Files")):(I().b[9][1]++,i.contains("Files")),I().s[37]++,!c){n.next=15;break}return I().b[10][0]++,I().s[38]++,n.next=11,this.processFiles(A.files);case 11:return I().s[39]++,n.abrupt("return");case 15:I().b[10][1]++;case 16:if(I().s[40]++,s=A.getData(this.MIME_TYPE),I().s[41]++,r=A.getData("text/plain"),I().s[42]++,C=A.getData("text/html"),I().s[43]++,!s){n.next=34;break}return I().b[11][0]++,I().s[44]++,n.prev=23,I().s[45]++,this.insertEditorJSData(JSON.parse(s)),I().s[46]++,n.abrupt("return");case 30:n.prev=30,n.t0=n.catch(23);case 32:n.next=35;break;case 34:I().b[11][1]++;case 35:if(I().s[47]++,I().b[13][0]++,e&&(I().b[13][1]++,r.trim())&&(I().b[13][2]++,C.trim())?(I().b[12][0]++,I().s[48]++,C="<p>"+(C.trim()?(I().b[14][0]++,C):(I().b[14][1]++,r))+"</p>"):I().b[12][1]++,I().s[49]++,a=Object.keys(this.toolsTags).reduce((function(n,A){return I().f[6]++,I().s[50]++,n[A.toLowerCase()]=!0,I().s[51]++,n}),{}),I().s[52]++,u=Object.assign({},a,l.getAllInlineToolsConfig(),{br:{}}),I().s[53]++,m=l.clean(C,u),I().s[54]++,I().b[16][0]++,m.trim()&&(I().b[16][1]++,m.trim()!==r)&&(I().b[16][2]++,d.default.isHTMLString(m))){n.next=48;break}return I().b[15][0]++,I().s[55]++,n.next=46,this.processText(r);case 46:n.next=52;break;case 48:return I().b[15][1]++,I().s[56]++,n.next=52,this.processText(m,!0);case 52:case"end":return n.stop()}}),n,this,[[23,30]])}))),function(n){return B.apply(this,arguments)})},{key:"processText",value:(b=(0,i.default)(o.default.mark((function n(A){var e,t,l,c,s,r,C,a,u=this,m=arguments;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=m.length>1&&void 0!==m[1]?m[1]:(I().b[17][0]++,!1),I().f[7]++,I().s[57]++,t=this.Editor,l=t.Caret,c=t.BlockManager,s=t.Tools,I().s[58]++,r=e?(I().b[18][0]++,this.processHTML(A)):(I().b[18][1]++,this.processPlain(A)),I().s[59]++,r.length){n.next=11;break}return I().b[19][0]++,I().s[60]++,n.abrupt("return");case 11:I().b[19][1]++;case 12:if(I().s[61]++,1!==r.length){n.next=21;break}return I().b[20][0]++,I().s[62]++,r[0].isBlock?(I().b[21][1]++,I().s[64]++,this.processSingleBlock(r.pop())):(I().b[21][0]++,I().s[63]++,this.processInlinePaste(r.pop())),I().s[65]++,n.abrupt("return");case 21:I().b[20][1]++;case 22:I().s[66]++,I().b[22][0]++,C=c.currentBlock&&(I().b[22][1]++,s.isDefault(c.currentBlock.tool)),I().s[67]++,I().b[23][0]++,a=C&&(I().b[23][1]++,c.currentBlock.isEmpty),I().s[68]++,r.map(function(){var n=(0,i.default)(o.default.mark((function n(A,e){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return I().f[8]++,I().s[69]++,n.abrupt("return",u.insertBlock(A,(I().b[24][0]++,0===e&&(I().b[24][1]++,a))));case 3:case"end":return n.stop()}}),n)})));return function(A,e){return n.apply(this,arguments)}}()),I().s[70]++,c.currentBlock?(I().b[25][0]++,I().s[71]++,l.setToBlock(c.currentBlock,l.positions.END)):I().b[25][1]++;case 28:case"end":return n.stop()}}),n,this)}))),function(n){return b.apply(this,arguments)})},{key:"setCallback",value:function(){I().f[9]++;var n=(I().s[72]++,this.Editor).Listeners;I().s[73]++,n.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"unsetCallback",value:function(){I().f[10]++;var n=(I().s[74]++,this.Editor).Listeners;I().s[75]++,n.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"processTools",value:function(){I().f[11]++;var n=(I().s[76]++,this.Editor.Tools.blockTools);I().s[77]++,Object.entries(n).forEach(this.processTool)}},{key:"getTagsConfig",value:function(n,A){var e=this;I().f[12]++;var t=(I().s[78]++,I().b[26][0]++,A.tags||(I().b[26][1]++,[]));I().s[79]++,t.forEach((function(A){if(I().f[13]++,I().s[80]++,Object.prototype.hasOwnProperty.call(e.toolsTags,A))return I().b[27][0]++,I().s[81]++,f.log("Paste handler for «".concat(n,"» Tool on «").concat(A,"» tag is skipped ")+"because it is already used by «".concat(e.toolsTags[A].tool,"» Tool."),"warn"),void I().s[82]++;I().b[27][1]++,I().s[83]++,e.toolsTags[A.toUpperCase()]={tool:n}})),I().s[84]++,this.tagsByTool[n]=t.map((function(n){return I().f[14]++,I().s[85]++,n.toUpperCase()}))}},{key:"getFilesConfig",value:function(n,A){I().f[15]++;var e=(I().s[86]++,A).files,t=void 0===e?(I().b[28][0]++,{}):e,l=(I().s[87]++,t),o=l.extensions,i=l.mimeTypes;if(I().s[88]++,I().b[30][0]++,!o&&(I().b[30][1]++,!i))return I().b[29][0]++,void I().s[89]++;I().b[29][1]++,I().s[90]++,I().b[32][0]++,o&&(I().b[32][1]++,!Array.isArray(o))?(I().b[31][0]++,I().s[91]++,f.log("«extensions» property of the onDrop config for «".concat(n,"» Tool should be an array")),I().s[92]++,o=[]):I().b[31][1]++,I().s[93]++,I().b[34][0]++,i&&(I().b[34][1]++,!Array.isArray(i))?(I().b[33][0]++,I().s[94]++,f.log("«mimeTypes» property of the onDrop config for «".concat(n,"» Tool should be an array")),I().s[95]++,i=[]):I().b[33][1]++,I().s[96]++,i?(I().b[35][0]++,I().s[97]++,i=i.filter((function(A){return I().f[16]++,I().s[98]++,f.isValidMimeType(A)?(I().b[36][1]++,I().s[101]++,!0):(I().b[36][0]++,I().s[99]++,f.log("MIME type value «".concat(A,"» for the «").concat(n,"» Tool is not a valid MIME type"),"warn"),I().s[100]++,!1)}))):I().b[35][1]++,I().s[102]++,this.toolsFiles[n]={extensions:(I().b[37][0]++,o||(I().b[37][1]++,[])),mimeTypes:(I().b[38][0]++,i||(I().b[38][1]++,[]))}}},{key:"getPatternsConfig",value:function(n,A){var e=this;if(I().f[17]++,I().s[103]++,I().b[40][0]++,!A.patterns||(I().b[40][1]++,f.isEmpty(A.patterns)))return I().b[39][0]++,void I().s[104]++;I().b[39][1]++,I().s[105]++,Object.entries(A.patterns).forEach((function(A){var t=(0,c.default)(A,2),l=t[0],o=t[1];I().f[18]++,I().s[106]++,o instanceof RegExp?I().b[41][1]++:(I().b[41][0]++,I().s[107]++,f.log("Pattern ".concat(o," for «").concat(n,"» Tool is skipped because it should be a Regexp instance."),"warn")),I().s[108]++,e.toolsPatterns.push({key:l,pattern:o,tool:n})}))}},{key:"isNativeBehaviour",value:function(n){return I().f[19]++,I().s[109]++,d.default.isNativeInput(n)}},{key:"processFiles",value:(E=(0,i.default)(o.default.mark((function n(A){var e,t,l,i,c,s,r=this;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return I().f[20]++,I().s[110]++,e=this.Editor,t=e.BlockManager,l=e.Tools,I().s[111]++,n.next=5,Promise.all(Array.from(A).map((function(n){return I().f[21]++,I().s[112]++,r.processFile(n)})));case 5:i=n.sent,I().s[113]++,i=i.filter((function(n){return I().f[22]++,I().s[114]++,!!n})),I().s[115]++,c=l.isDefault(t.currentBlock.tool),I().s[116]++,I().b[42][0]++,s=c&&(I().b[42][1]++,t.currentBlock.isEmpty),I().s[117]++,i.forEach((function(n,A){I().f[23]++,I().s[118]++,t.paste(n.type,n.event,(I().b[43][0]++,0===A&&(I().b[43][1]++,s)))}));case 12:case"end":return n.stop()}}),n,this)}))),function(n){return E.apply(this,arguments)})},{key:"processFile",value:(p=(0,i.default)(o.default.mark((function n(A){var e,t,l,i,s,r;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(I().f[24]++,I().s[119]++,e=f.getFileExtension(A),I().s[120]++,t=Object.entries(this.toolsFiles).find((function(n){var t=(0,c.default)(n,2),l=(t[0],t[1]),o=l.mimeTypes,i=l.extensions;I().f[25]++;var s=(I().s[121]++,A.type.split("/")),r=(0,c.default)(s,2),C=r[0],a=r[1],u=(I().s[122]++,i.find((function(n){return I().f[26]++,I().s[123]++,n.toLowerCase()===e.toLowerCase()}))),m=(I().s[124]++,o.find((function(n){I().f[27]++;var A=(I().s[125]++,n.split("/")),e=(0,c.default)(A,2),t=e[0],l=e[1];return I().s[126]++,I().b[44][0]++,t===C&&(I().b[44][1]++,l===a||(I().b[44][2]++,"*"===l))})));return I().s[127]++,I().b[45][0]++,!(!u&&(I().b[45][1]++,!m))})),I().s[128]++,t){n.next=10;break}return I().b[46][0]++,I().s[129]++,n.abrupt("return");case 10:I().b[46][1]++;case 11:return I().s[130]++,l=t,i=(0,c.default)(l,1),s=i[0],I().s[131]++,r=this.composePasteEvent("file",{file:A}),I().s[132]++,n.abrupt("return",{event:r,type:s});case 15:case"end":return n.stop()}}),n,this)}))),function(n){return p.apply(this,arguments)})},{key:"processHTML",value:function(n){var A=this;I().f[28]++;var e=(I().s[133]++,this.Editor),t=e.Tools,l=e.Sanitizer,o=(I().s[134]++,this.config.defaultBlock),i=(I().s[135]++,d.default.make("DIV"));I().s[136]++,i.innerHTML=n;var c=(I().s[137]++,this.getNodes(i));return I().s[138]++,c.map((function(n){I().f[29]++;var e,i=(I().s[139]++,o),c=(I().s[140]++,!1);switch(I().s[141]++,n.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:I().b[47][0]++,I().s[142]++,e=d.default.make("div"),I().s[143]++,e.appendChild(n),I().s[144]++;break;case Node.ELEMENT_NODE:I().b[47][1]++,I().s[145]++,e=n,I().s[146]++,c=!0,I().s[147]++,A.toolsTags[e.tagName]?(I().b[48][0]++,I().s[148]++,i=A.toolsTags[e.tagName].tool):I().b[48][1]++,I().s[149]++}var s=(I().s[150]++,t.blockTools[i].pasteConfig).tags,r=(I().s[151]++,s.reduce((function(n,A){return I().f[30]++,I().s[152]++,n[A.toLowerCase()]={},I().s[153]++,n}),{})),C=(I().s[154]++,Object.assign({},r,l.getInlineToolsConfig(i)));I().s[155]++,e.innerHTML=l.clean(e.innerHTML,C);var a=(I().s[156]++,A.composePasteEvent("tag",{data:e}));return I().s[157]++,{content:e,isBlock:c,tool:i,event:a}})).filter((function(n){return I().f[31]++,I().s[158]++,I().b[49][0]++,!d.default.isNodeEmpty(n.content)||(I().b[49][1]++,d.default.isSingleTag(n.content))}))}},{key:"processPlain",value:function(n){var A=this;I().f[32]++;var e=(I().s[159]++,this.config).defaultBlock;if(I().s[160]++,!n)return I().b[50][0]++,I().s[161]++,[];I().b[50][1]++;var t=(I().s[162]++,e);return I().s[163]++,n.split(/\r?\n/).filter((function(n){return I().f[33]++,I().s[164]++,n.trim()})).map((function(n){I().f[34]++;var e=(I().s[165]++,d.default.make("div"));I().s[166]++,e.textContent=n;var l=(I().s[167]++,A.composePasteEvent("tag",{data:e}));return I().s[168]++,{content:e,tool:t,isBlock:!1,event:l}}))}},{key:"processSingleBlock",value:(m=(0,i.default)(o.default.mark((function n(A){var e,t,l,i,c;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(I().f[35]++,I().s[169]++,e=this.Editor,t=e.Caret,l=e.BlockManager,i=e.Tools,I().s[170]++,c=l.currentBlock,I().s[171]++,I().b[52][0]++,c&&(I().b[52][1]++,A.tool===c.name)&&(I().b[52][2]++,d.default.containsOnlyInlineElements(A.content.innerHTML))){n.next=12;break}return I().b[51][0]++,I().s[172]++,this.insertBlock(A,(I().b[53][0]++,c&&(I().b[53][1]++,i.isDefault(c.tool))&&(I().b[53][2]++,c.isEmpty))),I().s[173]++,n.abrupt("return");case 12:I().b[51][1]++;case 13:I().s[174]++,t.insertContentAtCaretPosition(A.content.innerHTML);case 15:case"end":return n.stop()}}),n,this)}))),function(n){return m.apply(this,arguments)})},{key:"processInlinePaste",value:(t=(0,i.default)(o.default.mark((function n(A){var e,t,l,i,c,s,r,C,a,u,m;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(I().f[36]++,I().s[175]++,e=this.Editor,t=e.BlockManager,l=e.Caret,i=e.Sanitizer,c=e.Tools,I().s[176]++,s=A.content,I().s[177]++,I().b[54][0]++,r=t.currentBlock&&(I().b[54][1]++,c.isDefault(t.currentBlock.tool)),I().s[178]++,I().b[56][0]++,!(r&&(I().b[56][1]++,s.textContent.length<v.PATTERN_PROCESSING_MAX_LENGTH))){n.next=25;break}return I().b[55][0]++,I().s[179]++,n.next=10,this.processPattern(s.textContent);case 10:if(C=n.sent,I().s[180]++,!C){n.next=22;break}return I().b[57][0]++,I().s[181]++,I().b[58][0]++,a=t.currentBlock&&(I().b[58][1]++,c.isDefault(t.currentBlock.tool))&&(I().b[58][2]++,t.currentBlock.isEmpty),I().s[182]++,u=t.paste(C.tool,C.event,a),I().s[183]++,l.setToBlock(u,l.positions.END),I().s[184]++,n.abrupt("return");case 22:I().b[57][1]++;case 23:n.next=26;break;case 25:I().b[55][1]++;case 26:I().s[185]++,I().b[60][0]++,t.currentBlock&&(I().b[60][1]++,t.currentBlock.currentInput)?(I().b[59][0]++,I().s[186]++,m=i.getInlineToolsConfig(t.currentBlock.name),I().s[187]++,document.execCommand("insertHTML",!1,i.clean(s.innerHTML,m))):(I().b[59][1]++,I().s[188]++,this.insertBlock(A));case 28:case"end":return n.stop()}}),n,this)}))),function(n){return t.apply(this,arguments)})},{key:"processPattern",value:(e=(0,i.default)(o.default.mark((function n(A){var e,t;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(I().f[37]++,I().s[189]++,e=this.toolsPatterns.find((function(n){I().f[38]++;var e=(I().s[190]++,n.pattern.exec(A));return I().s[191]++,e?(I().b[61][1]++,I().s[193]++,A===e.shift()):(I().b[61][0]++,I().s[192]++,!1)})),I().s[194]++,e){n.next=9;break}return I().b[62][0]++,I().s[195]++,n.abrupt("return");case 9:I().b[62][1]++;case 10:return I().s[196]++,t=this.composePasteEvent("pattern",{key:e.key,data:A}),I().s[197]++,n.abrupt("return",{event:t,tool:e.tool});case 13:case"end":return n.stop()}}),n,this)}))),function(n){return e.apply(this,arguments)})},{key:"insertBlock",value:function(n){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(I().b[63][0]++,!1);I().f[39]++;var e,t=(I().s[198]++,this.Editor),l=t.BlockManager,o=t.Caret,i=(I().s[199]++,l),c=i.currentBlock;if(I().s[200]++,I().b[65][0]++,A&&(I().b[65][1]++,c)&&(I().b[65][2]++,c.isEmpty))return I().b[64][0]++,I().s[201]++,e=l.paste(n.tool,n.event,!0),I().s[202]++,o.setToBlock(e,o.positions.END),void I().s[203]++;I().b[64][1]++,I().s[204]++,e=l.paste(n.tool,n.event),I().s[205]++,o.setToBlock(e,o.positions.END)}},{key:"insertEditorJSData",value:function(n){I().f[40]++;var A=(I().s[206]++,this.Editor),e=A.BlockManager,t=A.Tools;I().s[207]++,n.forEach((function(n,A){var l=n.tool,o=n.data;I().f[41]++;var i=(I().s[208]++,!1);if(I().s[209]++,0===A){I().b[66][0]++;var c=(I().s[210]++,I().b[67][0]++,e.currentBlock&&(I().b[67][1]++,t.isDefault(e.currentBlock.tool)));I().s[211]++,I().b[68][0]++,i=c&&(I().b[68][1]++,e.currentBlock.isEmpty)}else I().b[66][1]++;I().s[212]++,e.insert({tool:l,data:o,replace:i})}))}},{key:"processElementNode",value:function(n,A,e){I().f[42]++;var t=(I().s[213]++,Object.keys(this.toolsTags)),o=(I().s[214]++,n),i=(I().s[215]++,I().b[70][0]++,this.toolsTags[o.tagName]||(I().b[70][1]++,{})).tool,c=void 0===i?(I().b[69][0]++,""):i,s=(I().s[216]++,I().b[71][0]++,this.tagsByTool[c]||(I().b[71][1]++,[])),r=(I().s[217]++,t.includes(o.tagName)),C=(I().s[218]++,d.default.blockElements.includes(o.tagName.toLowerCase())),a=(I().s[219]++,Array.from(o.children).some((function(n){var A=n.tagName;return I().f[43]++,I().s[220]++,I().b[72][0]++,t.includes(A)&&(I().b[72][1]++,!s.includes(A))}))),u=(I().s[221]++,Array.from(o.children).some((function(n){var A=n.tagName;return I().f[44]++,I().s[222]++,d.default.blockElements.includes(A.toLowerCase())})));return I().s[223]++,I().b[74][0]++,C||(I().b[74][1]++,r)||(I().b[74][2]++,a)?(I().b[73][1]++,I().s[226]++,I().b[76][0]++,r&&(I().b[76][1]++,!a)||(I().b[76][2]++,C&&(I().b[76][3]++,!u)&&(I().b[76][4]++,!a))?(I().b[75][0]++,I().s[227]++,[].concat((0,l.default)(A),[e,o])):void I().b[75][1]++):(I().b[73][0]++,I().s[224]++,e.appendChild(o),I().s[225]++,[].concat((0,l.default)(A),[e]))}},{key:"getNodes",value:function(n){var A=this;I().f[45]++;var e,t=(I().s[228]++,Array.from(n.childNodes));return I().s[229]++,I().s[245]++,t.reduce((function n(t,o){if(I().f[46]++,I().s[230]++,I().b[78][0]++,d.default.isEmpty(o)&&(I().b[78][1]++,!d.default.isSingleTag(o)))return I().b[77][0]++,I().s[231]++,t;I().b[77][1]++;var i=(I().s[232]++,t[t.length-1]),c=(I().s[233]++,new DocumentFragment);switch(I().s[234]++,I().b[80][0]++,i&&(I().b[80][1]++,d.default.isFragment(i))?(I().b[79][0]++,I().s[235]++,c=t.pop()):I().b[79][1]++,I().s[236]++,o.nodeType){case Node.ELEMENT_NODE:if(I().b[81][0]++,I().s[237]++,e=A.processElementNode(o,t,c),I().s[238]++,e)return I().b[82][0]++,I().s[239]++,e;I().b[82][1]++,I().s[240]++;break;case Node.TEXT_NODE:return I().b[81][1]++,I().s[241]++,c.appendChild(o),I().s[242]++,[].concat((0,l.default)(t),[c]);default:return I().b[81][2]++,I().s[243]++,[].concat((0,l.default)(t),[c])}return I().s[244]++,[].concat((0,l.default)(t),(0,l.default)(Array.from(o.childNodes).reduce(n,[])))}),[])}},{key:"composePasteEvent",value:function(n,A){return I().f[47]++,I().s[246]++,new CustomEvent(n,{detail:A})}}]),v}(m.default);t.default=b,b.displayName="Paste",I().s[247]++,b.PATTERN_PROCESSING_MAX_LENGTH=450,n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(21),e(39),e(22),e(2),e(3),e(5),e(6),e(4),e(7),e(144)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u,m){"use strict";var d=e(1);function f(){var n="/home/hata/editor.js/src/components/modules/readonly.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"00347ae5b286d6318c3e147f528a4ed5fc276df4"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/readonly.ts",statementMap:{0:{start:{line:16,column:8},end:{line:16,column:28}},1:{start:{line:20,column:8},end:{line:20,column:43}},2:{start:{line:26,column:8},end:{line:26,column:37}},3:{start:{line:32,column:8},end:{line:32,column:36}},4:{start:{line:38,column:26},end:{line:38,column:37}},5:{start:{line:39,column:31},end:{line:39,column:36}},6:{start:{line:40,column:41},end:{line:40,column:43}},7:{start:{line:41,column:8},end:{line:45,column:11}},8:{start:{line:42,column:12},end:{line:44,column:13}},9:{start:{line:43,column:16},end:{line:43,column:52}},10:{start:{line:46,column:8},end:{line:46,column:65}},11:{start:{line:47,column:8},end:{line:49,column:9}},12:{start:{line:48,column:12},end:{line:48,column:38}},13:{start:{line:50,column:8},end:{line:50,column:42}},14:{start:{line:59,column:8},end:{line:61,column:9}},15:{start:{line:60,column:12},end:{line:60,column:38}},16:{start:{line:62,column:25},end:{line:62,column:45}},17:{start:{line:63,column:8},end:{line:63,column:37}},18:{start:{line:64,column:8},end:{line:75,column:9}},19:{start:{line:68,column:12},end:{line:70,column:13}},20:{start:{line:69,column:16},end:{line:69,column:25}},21:{start:{line:74,column:12},end:{line:74,column:52}},22:{start:{line:79,column:8},end:{line:81,column:9}},23:{start:{line:80,column:12},end:{line:80,column:40}},24:{start:{line:85,column:28},end:{line:85,column:58}},25:{start:{line:86,column:8},end:{line:86,column:47}},26:{start:{line:87,column:8},end:{line:87,column:62}},27:{start:{line:88,column:8},end:{line:88,column:36}},28:{start:{line:94,column:8},end:{line:94,column:179}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:18},end:{line:27,column:5}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:31,column:4},end:{line:31,column:5}},loc:{start:{line:31,column:20},end:{line:33,column:5}},line:31},2:{name:"(anonymous_2)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:20},end:{line:51,column:5}},line:37},3:{name:"(anonymous_3)",decl:{start:{line:41,column:43},end:{line:41,column:44}},loc:{start:{line:41,column:61},end:{line:45,column:9}},line:41},4:{name:"(anonymous_4)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:48},end:{line:89,column:5}},line:58},5:{name:"(anonymous_5)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:25},end:{line:95,column:5}},line:93}},branchMap:{0:{loc:{start:{line:42,column:12},end:{line:44,column:13}},type:"if",locations:[{start:{line:42,column:12},end:{line:44,column:13}},{start:{line:42,column:12},end:{line:44,column:13}}],line:42},1:{loc:{start:{line:47,column:8},end:{line:49,column:9}},type:"if",locations:[{start:{line:47,column:8},end:{line:49,column:9}},{start:{line:47,column:8},end:{line:49,column:9}}],line:47},2:{loc:{start:{line:47,column:12},end:{line:47,column:71}},type:"binary-expr",locations:[{start:{line:47,column:12},end:{line:47,column:32}},{start:{line:47,column:36},end:{line:47,column:71}}],line:47},3:{loc:{start:{line:58,column:17},end:{line:58,column:46}},type:"default-arg",locations:[{start:{line:58,column:25},end:{line:58,column:46}}],line:58},4:{loc:{start:{line:59,column:8},end:{line:61,column:9}},type:"if",locations:[{start:{line:59,column:8},end:{line:61,column:9}},{start:{line:59,column:8},end:{line:61,column:9}}],line:59},5:{loc:{start:{line:59,column:12},end:{line:59,column:61}},type:"binary-expr",locations:[{start:{line:59,column:12},end:{line:59,column:17}},{start:{line:59,column:21},end:{line:59,column:61}}],line:59},6:{loc:{start:{line:68,column:12},end:{line:70,column:13}},type:"if",locations:[{start:{line:68,column:12},end:{line:70,column:13}},{start:{line:68,column:12},end:{line:70,column:13}}],line:68},7:{loc:{start:{line:79,column:8},end:{line:81,column:9}},type:"if",locations:[{start:{line:79,column:8},end:{line:81,column:9}},{start:{line:79,column:8},end:{line:81,column:9}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/readonly.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/readonly.ts"],names:[],mappings:"AAAA,OAAO,MAAM,MAAM,aAAa,CAAC;AACjC,OAAO,EAAE,aAAa,EAAE,MAAM,oBAAoB,CAAC;AAEnD;;;;;;;;;;GAUG;AACH,MAAM,CAAC,OAAO,OAAO,QAAS,SAAQ,MAAM;IAA5C;;QACE;;WAEG;QACK,6BAAwB,GAAa,EAAE,CAAC;QAEhD;;;;WAIG;QACK,oBAAe,GAAG,KAAK,CAAC;IAuFlC,CAAC;IArFC;;OAEG;IACH,IAAW,SAAS;QAClB,OAAO,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;IAED;;OAEG;IACI,KAAK,CAAC,OAAO;QAClB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QAC9B,MAAM,EAAE,UAAU,EAAE,GAAG,KAAK,CAAC;QAC7B,MAAM,wBAAwB,GAAa,EAAE,CAAC;QAE9C,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE;YAClD,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE;gBACpC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACrC;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,wBAAwB,GAAG,wBAAwB,CAAC;QAEzD,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/D,IAAI,CAAC,kBAAkB,EAAE,CAAC;SAC3B;QAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACpC,CAAC;IAED;;;;;OAKG;IACI,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,eAAe;QAC/C,IAAI,KAAK,IAAI,IAAI,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YACrD,IAAI,CAAC,kBAAkB,EAAE,CAAC;SAC3B;QAED,MAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC;QAEtC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAE7B,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;YAC9B;;eAEG;YACH,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE;gBACrC,SAAS;aACV;YAED;;eAEG;YACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;SACzC;QAED;;WAEG;QACH,IAAI,QAAQ,KAAK,KAAK,EAAE;YACtB,OAAO,IAAI,CAAC,eAAe,CAAC;SAC7B;QAED;;WAEG;QACH,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QAEnD,MAAM,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;QACvC,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAEtD,OAAO,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;IAED;;OAEG;IACK,kBAAkB;QACxB,MAAM,IAAI,aAAa,CACrB,yEAAyE,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,gCAAgC,CAClJ,CAAC;IACJ,CAAC;CACF",sourcesContent:["import Module from '../__module';\nimport { CriticalError } from '../errors/critical';\n\n/**\n * @module ReadOnly\n *\n * Has one important method:\n *    - {Function} toggleReadonly - Set read-only mode or toggle current state\n *\n * @version 1.0.0\n *\n * @typedef {ReadOnly} ReadOnly\n * @property {boolean} readOnlyEnabled - read-only state\n */\nexport default class ReadOnly extends Module {\n  /**\n   * Array of tools name which don't support read-only mode\n   */\n  private toolsDontSupportReadOnly: string[] = [];\n\n  /**\n   * Value to track read-only state\n   *\n   * @type {boolean}\n   */\n  private readOnlyEnabled = false;\n\n  /**\n   * Returns state of read only mode\n   */\n  public get isEnabled(): boolean {\n    return this.readOnlyEnabled;\n  }\n\n  /**\n   * Set initial state\n   */\n  public async prepare(): Promise<void> {\n    const { Tools } = this.Editor;\n    const { blockTools } = Tools;\n    const toolsDontSupportReadOnly: string[] = [];\n\n    Object.entries(blockTools).forEach(([name, tool]) => {\n      if (!Tools.isReadOnlySupported(tool)) {\n        toolsDontSupportReadOnly.push(name);\n      }\n    });\n\n    this.toolsDontSupportReadOnly = toolsDontSupportReadOnly;\n\n    if (this.config.readOnly && toolsDontSupportReadOnly.length > 0) {\n      this.throwCriticalError();\n    }\n\n    this.toggle(this.config.readOnly);\n  }\n\n  /**\n   * Set read-only mode or toggle current state\n   * Call all Modules `toggleReadOnly` method and re-render Editor\n   *\n   * @param {boolean} state - (optional) read-only state or toggle\n   */\n  public async toggle(state = !this.readOnlyEnabled): Promise<boolean> {\n    if (state && this.toolsDontSupportReadOnly.length > 0) {\n      this.throwCriticalError();\n    }\n\n    const oldState = this.readOnlyEnabled;\n\n    this.readOnlyEnabled = state;\n\n    for (const name in this.Editor) {\n      /**\n       * Verify module has method `toggleReadOnly` method\n       */\n      if (!this.Editor[name].toggleReadOnly) {\n        continue;\n      }\n\n      /**\n       * set or toggle read-only state\n       */\n      this.Editor[name].toggleReadOnly(state);\n    }\n\n    /**\n     * If new state equals old one, do not re-render blocks\n     */\n    if (oldState === state) {\n      return this.readOnlyEnabled;\n    }\n\n    /**\n     * Save current Editor Blocks and render again\n     */\n    const savedBlocks = await this.Editor.Saver.save();\n\n    await this.Editor.BlockManager.clear();\n    await this.Editor.Renderer.render(savedBlocks.blocks);\n\n    return this.readOnlyEnabled;\n  }\n\n  /**\n   * Throws an error about tools which don't support read-only mode\n   */\n  private throwCriticalError(): never {\n    throw new CriticalError(\n      `To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(', ')} don't support read-only mode.`\n    );\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"00347ae5b286d6318c3e147f528a4ed5fc276df4"});var l=t[n];return f=function(){return l},l}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=d(l),o=d(o),i=d(i),c=d(c),s=d(s),r=d(r),C=d(C),a=d(a),u=d(u),f();var E=function(n){(0,r.default)(d,n);var A,e,t,u=(A=d,function(){var n,e=(0,a.default)(A);if(p()){var t=(0,a.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,C.default)(this,n)});function d(){var n;return(0,c.default)(this,d),f().f[0]++,f().s[0]++,n=u.apply(this,arguments),f().s[1]++,n.toolsDontSupportReadOnly=[],f().s[2]++,n.readOnlyEnabled=!1,n}return(0,s.default)(d,[{key:"prepare",value:(t=(0,i.default)(l.default.mark((function n(){var A,e,t,i;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:f().f[2]++,f().s[4]++,A=this.Editor,e=A.Tools,f().s[5]++,t=e.blockTools,f().s[6]++,i=[],f().s[7]++,Object.entries(t).forEach((function(n){var A=(0,o.default)(n,2),t=A[0],l=A[1];f().f[3]++,f().s[8]++,e.isReadOnlySupported(l)?f().b[0][1]++:(f().b[0][0]++,f().s[9]++,i.push(t))})),f().s[10]++,this.toolsDontSupportReadOnly=i,f().s[11]++,f().b[2][0]++,this.config.readOnly&&(f().b[2][1]++,i.length>0)?(f().b[1][0]++,f().s[12]++,this.throwCriticalError()):f().b[1][1]++,f().s[13]++,this.toggle(this.config.readOnly);case 12:case"end":return n.stop()}}),n,this)}))),function(){return t.apply(this,arguments)})},{key:"toggle",value:(e=(0,i.default)(l.default.mark((function n(){var A,e,t,o,i=arguments;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:A=i.length>0&&void 0!==i[0]?i[0]:(f().b[3][0]++,!this.readOnlyEnabled),f().f[4]++,f().s[14]++,f().b[5][0]++,A&&(f().b[5][1]++,this.toolsDontSupportReadOnly.length>0)?(f().b[4][0]++,f().s[15]++,this.throwCriticalError()):f().b[4][1]++,f().s[16]++,e=this.readOnlyEnabled,f().s[17]++,this.readOnlyEnabled=A,f().s[18]++,n.t0=l.default.keys(this.Editor);case 9:if((n.t1=n.t0()).done){n.next=23;break}if(t=n.t1.value,f().s[19]++,this.Editor[t].toggleReadOnly){n.next=18;break}return f().b[6][0]++,f().s[20]++,n.abrupt("continue",9);case 18:f().b[6][1]++;case 19:f().s[21]++,this.Editor[t].toggleReadOnly(A),n.next=9;break;case 23:if(f().s[22]++,e!==A){n.next=30;break}return f().b[7][0]++,f().s[23]++,n.abrupt("return",this.readOnlyEnabled);case 30:f().b[7][1]++;case 31:return f().s[24]++,n.next=34,this.Editor.Saver.save();case 34:return o=n.sent,f().s[25]++,n.next=38,this.Editor.BlockManager.clear();case 38:return f().s[26]++,n.next=41,this.Editor.Renderer.render(o.blocks);case 41:return f().s[27]++,n.abrupt("return",this.readOnlyEnabled);case 43:case"end":return n.stop()}}),n,this)}))),function(){return e.apply(this,arguments)})},{key:"throwCriticalError",value:function(){throw f().f[5]++,f().s[28]++,new m.CriticalError("To enable read-only mode all connected tools should support it. Tools ".concat(this.toolsDontSupportReadOnly.join(", ")," don't support read-only mode."))}},{key:"isEnabled",get:function(){return f().f[1]++,f().s[3]++,this.readOnlyEnabled}}]),d}(u.default);t.default=E,E.displayName="ReadOnly",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7),e(15),e(25),e(61)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u){"use strict";var m=e(1);function d(){var n="/home/hata/editor.js/src/components/modules/rectangleSelection.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"6d1dc45045a4ce0eba67669bda9ab8be5a5e362a"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/rectangleSelection.ts",statementMap:{0:{start:{line:17,column:8},end:{line:17,column:28}},1:{start:{line:23,column:8},end:{line:23,column:46}},2:{start:{line:27,column:8},end:{line:27,column:30}},3:{start:{line:31,column:8},end:{line:31,column:40}},4:{start:{line:35,column:8},end:{line:35,column:36}},5:{start:{line:36,column:8},end:{line:36,column:33}},6:{start:{line:40,column:8},end:{line:40,column:35}},7:{start:{line:44,column:8},end:{line:44,column:31}},8:{start:{line:48,column:8},end:{line:48,column:33}},9:{start:{line:52,column:8},end:{line:52,column:33}},10:{start:{line:56,column:8},end:{line:56,column:24}},11:{start:{line:57,column:8},end:{line:57,column:24}},12:{start:{line:58,column:8},end:{line:58,column:24}},13:{start:{line:59,column:8},end:{line:59,column:24}},14:{start:{line:63,column:8},end:{line:63,column:34}},15:{start:{line:67,column:8},end:{line:67,column:30}},16:{start:{line:75,column:8},end:{line:81,column:10}},17:{start:{line:88,column:8},end:{line:88,column:36}},18:{start:{line:97,column:40},end:{line:97,column:121}},19:{start:{line:102,column:36},end:{line:102,column:106}},20:{start:{line:103,column:8},end:{line:107,column:9}},21:{start:{line:104,column:12},end:{line:104,column:65}},22:{start:{line:105,column:12},end:{line:105,column:34}},23:{start:{line:106,column:12},end:{line:106,column:38}},24:{start:{line:108,column:33},end:{line:112,column:9}},25:{start:{line:113,column:35},end:{line:113,column:106}},26:{start:{line:114,column:40},end:{line:114,column:120}},27:{start:{line:114,column:76},end:{line:114,column:119}},28:{start:{line:118,column:8},end:{line:120,column:9}},29:{start:{line:119,column:12},end:{line:119,column:19}},30:{start:{line:121,column:8},end:{line:121,column:30}},31:{start:{line:122,column:8},end:{line:122,column:28}},32:{start:{line:123,column:8},end:{line:123,column:28}},33:{start:{line:129,column:8},end:{line:129,column:31}},34:{start:{line:130,column:8},end:{line:130,column:24}},35:{start:{line:131,column:8},end:{line:131,column:24}},36:{start:{line:132,column:8},end:{line:132,column:53}},37:{start:{line:138,column:8},end:{line:138,column:45}},38:{start:{line:144,column:8},end:{line:144,column:46}},39:{start:{line:150,column:30},end:{line:150,column:41}},40:{start:{line:151,column:30},end:{line:151,column:44}},41:{start:{line:152,column:8},end:{line:154,column:18}},42:{start:{line:153,column:12},end:{line:153,column:46}},43:{start:{line:155,column:8},end:{line:157,column:18}},44:{start:{line:156,column:12},end:{line:156,column:46}},45:{start:{line:158,column:8},end:{line:160,column:11}},46:{start:{line:159,column:12},end:{line:159,column:37}},47:{start:{line:161,column:8},end:{line:163,column:18}},48:{start:{line:162,column:12},end:{line:162,column:43}},49:{start:{line:164,column:8},end:{line:166,column:18}},50:{start:{line:165,column:12},end:{line:165,column:34}},51:{start:{line:174,column:8},end:{line:176,column:9}},52:{start:{line:175,column:12},end:{line:175,column:19}},53:{start:{line:177,column:8},end:{line:177,column:64}},54:{start:{line:185,column:8},end:{line:185,column:43}},55:{start:{line:186,column:8},end:{line:186,column:47}},56:{start:{line:192,column:8},end:{line:192,column:30}},57:{start:{line:193,column:8},end:{line:193,column:28}},58:{start:{line:199,column:8},end:{line:199,column:43}},59:{start:{line:205,column:8},end:{line:205,column:28}},60:{start:{line:213,column:8},end:{line:213,column:33}},61:{start:{line:214,column:8},end:{line:216,column:9}},62:{start:{line:215,column:12},end:{line:215,column:53}},63:{start:{line:217,column:8},end:{line:219,column:9}},64:{start:{line:218,column:12},end:{line:218,column:56}},65:{start:{line:220,column:8},end:{line:223,column:9}},66:{start:{line:221,column:12},end:{line:221,column:37}},67:{start:{line:222,column:12},end:{line:222,column:19}},68:{start:{line:224,column:8},end:{line:227,column:9}},69:{start:{line:225,column:12},end:{line:225,column:117}},70:{start:{line:226,column:12},end:{line:226,column:36}},71:{start:{line:235,column:23},end:{line:235,column:34}},72:{start:{line:236,column:26},end:{line:236,column:83}},73:{start:{line:237,column:24},end:{line:237,column:73}},74:{start:{line:238,column:33},end:{line:238,column:91}},75:{start:{line:239,column:33},end:{line:239,column:79}},76:{start:{line:240,column:8},end:{line:240,column:55}},77:{start:{line:241,column:8},end:{line:241,column:46}},78:{start:{line:242,column:8},end:{line:242,column:39}},79:{start:{line:243,column:8},end:{line:243,column:49}},80:{start:{line:244,column:8},end:{line:247,column:10}},81:{start:{line:255,column:8},end:{line:257,column:9}},82:{start:{line:256,column:12},end:{line:256,column:19}},83:{start:{line:258,column:27},end:{line:258,column:45}},84:{start:{line:259,column:8},end:{line:259,column:34}},85:{start:{line:260,column:8},end:{line:260,column:55}},86:{start:{line:261,column:8},end:{line:263,column:14}},87:{start:{line:262,column:12},end:{line:262,column:39}},88:{start:{line:271,column:8},end:{line:273,column:9}},89:{start:{line:272,column:12},end:{line:272,column:19}},90:{start:{line:274,column:8},end:{line:277,column:9}},91:{start:{line:275,column:12},end:{line:275,column:38}},92:{start:{line:276,column:12},end:{line:276,column:38}},93:{start:{line:278,column:45},end:{line:278,column:76}},94:{start:{line:280,column:43},end:{line:280,column:91}},95:{start:{line:281,column:43},end:{line:281,column:89}},96:{start:{line:282,column:8},end:{line:282,column:93}},97:{start:{line:283,column:8},end:{line:288,column:9}},98:{start:{line:284,column:12},end:{line:284,column:43}},99:{start:{line:285,column:12},end:{line:285,column:49}},100:{start:{line:286,column:12},end:{line:286,column:42}},101:{start:{line:287,column:12},end:{line:287,column:58}},102:{start:{line:289,column:8},end:{line:289,column:35}},103:{start:{line:290,column:8},end:{line:292,column:9}},104:{start:{line:291,column:12},end:{line:291,column:19}},105:{start:{line:293,column:8},end:{line:293,column:39}},106:{start:{line:295,column:8},end:{line:295,column:32}},107:{start:{line:296,column:8},end:{line:296,column:47}},108:{start:{line:297,column:8},end:{line:297,column:31}},109:{start:{line:303,column:8},end:{line:303,column:83}},110:{start:{line:304,column:8},end:{line:304,column:82}},111:{start:{line:305,column:8},end:{line:305,column:97}},112:{start:{line:306,column:8},end:{line:306,column:96}},113:{start:{line:312,column:34},end:{line:312,column:99}},114:{start:{line:313,column:31},end:{line:313,column:57}},115:{start:{line:314,column:8},end:{line:318,column:9}},116:{start:{line:315,column:12},end:{line:317,column:13}},117:{start:{line:316,column:16},end:{line:316,column:66}},118:{start:{line:319,column:8},end:{line:323,column:9}},119:{start:{line:320,column:12},end:{line:322,column:13}},120:{start:{line:321,column:16},end:{line:321,column:68}},121:{start:{line:331,column:8},end:{line:338,column:9}},122:{start:{line:332,column:12},end:{line:332,column:86}},123:{start:{line:333,column:12},end:{line:333,column:101}},124:{start:{line:336,column:12},end:{line:336,column:101}},125:{start:{line:337,column:12},end:{line:337,column:86}},126:{start:{line:339,column:8},end:{line:346,column:9}},127:{start:{line:340,column:12},end:{line:340,column:87}},128:{start:{line:341,column:12},end:{line:341,column:100}},129:{start:{line:344,column:12},end:{line:344,column:100}},130:{start:{line:345,column:12},end:{line:345,column:87}},131:{start:{line:354,column:32},end:{line:354,column:57}},132:{start:{line:355,column:33},end:{line:355,column:52}},133:{start:{line:356,column:18},end:{line:356,column:50}},134:{start:{line:357,column:34},end:{line:357,column:80}},135:{start:{line:358,column:34},end:{line:358,column:97}},136:{start:{line:360,column:8},end:{line:362,column:9}},137:{start:{line:361,column:12},end:{line:361,column:116}},138:{start:{line:361,column:73},end:{line:361,column:114}},139:{start:{line:363,column:31},end:{line:363,column:111}},140:{start:{line:364,column:30},end:{line:364,column:100}},141:{start:{line:365,column:24},end:{line:365,column:56}},142:{start:{line:366,column:25},end:{line:366,column:57}},143:{start:{line:367,column:8},end:{line:371,column:10}},144:{start:{line:379,column:8},end:{line:381,column:9}},145:{start:{line:380,column:12},end:{line:380,column:65}},146:{start:{line:382,column:8},end:{line:382,column:41}},147:{start:{line:390,column:26},end:{line:390,column:89}},148:{start:{line:391,column:26},end:{line:391,column:53}},149:{start:{line:392,column:21},end:{line:392,column:22}},150:{start:{line:392,column:29},end:{line:392,column:31}},151:{start:{line:392,column:41},end:{line:392,column:42}},152:{start:{line:393,column:8},end:{line:395,column:9}},153:{start:{line:394,column:12},end:{line:394,column:19}},154:{start:{line:396,column:37},end:{line:396,column:114}},155:{start:{line:397,column:24},end:{line:397,column:29}},156:{start:{line:398,column:8},end:{line:400,column:9}},157:{start:{line:399,column:12},end:{line:399,column:57}},158:{start:{line:401,column:41},end:{line:401,column:106}},159:{start:{line:402,column:39},end:{line:402,column:102}},160:{start:{line:403,column:33},end:{line:403,column:106}},161:{start:{line:404,column:26},end:{line:404,column:43}},162:{start:{line:406,column:8},end:{line:413,column:9}},163:{start:{line:408,column:22},end:{line:408,column:70}},164:{start:{line:409,column:12},end:{line:411,column:13}},165:{start:{line:410,column:16},end:{line:410,column:46}},166:{start:{line:412,column:12},end:{line:412,column:19}},167:{start:{line:415,column:8},end:{line:420,column:9}},168:{start:{line:416,column:12},end:{line:418,column:13}},169:{start:{line:416,column:27},end:{line:416,column:66}},170:{start:{line:417,column:16},end:{line:417,column:46}},171:{start:{line:419,column:12},end:{line:419,column:19}},172:{start:{line:421,column:8},end:{line:423,column:9}},173:{start:{line:422,column:12},end:{line:422,column:19}},174:{start:{line:424,column:16},end:{line:424,column:29}},175:{start:{line:427,column:8},end:{line:432,column:9}},176:{start:{line:428,column:12},end:{line:428,column:56}},177:{start:{line:428,column:24},end:{line:428,column:55}},178:{start:{line:431,column:12},end:{line:431,column:56}},179:{start:{line:431,column:24},end:{line:431,column:55}},180:{start:{line:435,column:8},end:{line:441,column:9}},181:{start:{line:436,column:12},end:{line:438,column:13}},182:{start:{line:437,column:16},end:{line:437,column:89}},183:{start:{line:439,column:12},end:{line:439,column:39}},184:{start:{line:440,column:12},end:{line:440,column:16}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:18},end:{line:68,column:5}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:74,column:4},end:{line:74,column:5}},loc:{start:{line:74,column:21},end:{line:82,column:5}},line:74},2:{name:"(anonymous_2)",decl:{start:{line:87,column:4},end:{line:87,column:5}},loc:{start:{line:87,column:14},end:{line:89,column:5}},line:87},3:{name:"(anonymous_3)",decl:{start:{line:96,column:4},end:{line:96,column:5}},loc:{start:{line:96,column:33},end:{line:124,column:5}},line:96},4:{name:"(anonymous_4)",decl:{start:{line:114,column:62},end:{line:114,column:63}},loc:{start:{line:114,column:76},end:{line:114,column:119}},line:114},5:{name:"(anonymous_5)",decl:{start:{line:128,column:4},end:{line:128,column:5}},loc:{start:{line:128,column:19},end:{line:133,column:5}},line:128},6:{name:"(anonymous_6)",decl:{start:{line:137,column:4},end:{line:137,column:5}},loc:{start:{line:137,column:22},end:{line:139,column:5}},line:137},7:{name:"(anonymous_7)",decl:{start:{line:143,column:4},end:{line:143,column:5}},loc:{start:{line:143,column:21},end:{line:145,column:5}},line:143},8:{name:"(anonymous_8)",decl:{start:{line:149,column:4},end:{line:149,column:5}},loc:{start:{line:149,column:27},end:{line:167,column:5}},line:149},9:{name:"(anonymous_9)",decl:{start:{line:152,column:45},end:{line:152,column:46}},loc:{start:{line:152,column:61},end:{line:154,column:9}},line:152},10:{name:"(anonymous_10)",decl:{start:{line:155,column:49},end:{line:155,column:50}},loc:{start:{line:155,column:65},end:{line:157,column:9}},line:155},11:{name:"(anonymous_11)",decl:{start:{line:158,column:50},end:{line:158,column:51}},loc:{start:{line:158,column:56},end:{line:160,column:9}},line:158},12:{name:"(anonymous_12)",decl:{start:{line:161,column:39},end:{line:161,column:40}},loc:{start:{line:161,column:55},end:{line:163,column:9}},line:161},13:{name:"(anonymous_13)",decl:{start:{line:164,column:47},end:{line:164,column:48}},loc:{start:{line:164,column:53},end:{line:166,column:9}},line:164},14:{name:"(anonymous_14)",decl:{start:{line:173,column:4},end:{line:173,column:5}},loc:{start:{line:173,column:33},end:{line:178,column:5}},line:173},15:{name:"(anonymous_15)",decl:{start:{line:184,column:4},end:{line:184,column:5}},loc:{start:{line:184,column:33},end:{line:187,column:5}},line:184},16:{name:"(anonymous_16)",decl:{start:{line:191,column:4},end:{line:191,column:5}},loc:{start:{line:191,column:24},end:{line:194,column:5}},line:191},17:{name:"(anonymous_17)",decl:{start:{line:198,column:4},end:{line:198,column:5}},loc:{start:{line:198,column:30},end:{line:200,column:5}},line:198},18:{name:"(anonymous_18)",decl:{start:{line:204,column:4},end:{line:204,column:5}},loc:{start:{line:204,column:21},end:{line:206,column:5}},line:204},19:{name:"(anonymous_19)",decl:{start:{line:212,column:4},end:{line:212,column:5}},loc:{start:{line:212,column:27},end:{line:228,column:5}},line:212},20:{name:"(anonymous_20)",decl:{start:{line:234,column:4},end:{line:234,column:5}},loc:{start:{line:234,column:14},end:{line:248,column:5}},line:234},21:{name:"(anonymous_21)",decl:{start:{line:254,column:4},end:{line:254,column:5}},loc:{start:{line:254,column:26},end:{line:264,column:5}},line:254},22:{name:"(anonymous_22)",decl:{start:{line:261,column:19},end:{line:261,column:20}},loc:{start:{line:261,column:25},end:{line:263,column:9}},line:261},23:{name:"(anonymous_23)",decl:{start:{line:270,column:4},end:{line:270,column:5}},loc:{start:{line:270,column:29},end:{line:298,column:5}},line:270},24:{name:"(anonymous_24)",decl:{start:{line:302,column:4},end:{line:302,column:5}},loc:{start:{line:302,column:29},end:{line:307,column:5}},line:302},25:{name:"(anonymous_25)",decl:{start:{line:311,column:4},end:{line:311,column:5}},loc:{start:{line:311,column:23},end:{line:324,column:5}},line:311},26:{name:"(anonymous_26)",decl:{start:{line:328,column:4},end:{line:328,column:5}},loc:{start:{line:328,column:26},end:{line:347,column:5}},line:328},27:{name:"(anonymous_27)",decl:{start:{line:353,column:4},end:{line:353,column:5}},loc:{start:{line:353,column:31},end:{line:372,column:5}},line:353},28:{name:"(anonymous_28)",decl:{start:{line:361,column:62},end:{line:361,column:63}},loc:{start:{line:361,column:73},end:{line:361,column:114}},line:361},29:{name:"(anonymous_29)",decl:{start:{line:378,column:4},end:{line:378,column:5}},loc:{start:{line:378,column:31},end:{line:383,column:5}},line:378},30:{name:"(anonymous_30)",decl:{start:{line:389,column:4},end:{line:389,column:5}},loc:{start:{line:389,column:30},end:{line:442,column:5}},line:389},31:{name:"(anonymous_31)",decl:{start:{line:428,column:18},end:{line:428,column:19}},loc:{start:{line:428,column:24},end:{line:428,column:55}},line:428},32:{name:"(anonymous_32)",decl:{start:{line:431,column:18},end:{line:431,column:19}},loc:{start:{line:431,column:24},end:{line:431,column:55}},line:431}},branchMap:{0:{loc:{start:{line:103,column:8},end:{line:107,column:9}},type:"if",locations:[{start:{line:103,column:8},end:{line:107,column:9}},{start:{line:103,column:8},end:{line:107,column:9}}],line:103},1:{loc:{start:{line:118,column:8},end:{line:120,column:9}},type:"if",locations:[{start:{line:118,column:8},end:{line:120,column:9}},{start:{line:118,column:8},end:{line:120,column:9}}],line:118},2:{loc:{start:{line:118,column:12},end:{line:118,column:58}},type:"binary-expr",locations:[{start:{line:118,column:12},end:{line:118,column:31}},{start:{line:118,column:35},end:{line:118,column:58}}],line:118},3:{loc:{start:{line:174,column:8},end:{line:176,column:9}},type:"if",locations:[{start:{line:174,column:8},end:{line:176,column:9}},{start:{line:174,column:8},end:{line:176,column:9}}],line:174},4:{loc:{start:{line:214,column:8},end:{line:216,column:9}},type:"if",locations:[{start:{line:214,column:8},end:{line:216,column:9}},{start:{line:214,column:8},end:{line:216,column:9}}],line:214},5:{loc:{start:{line:217,column:8},end:{line:219,column:9}},type:"if",locations:[{start:{line:217,column:8},end:{line:219,column:9}},{start:{line:217,column:8},end:{line:219,column:9}}],line:217},6:{loc:{start:{line:220,column:8},end:{line:223,column:9}},type:"if",locations:[{start:{line:220,column:8},end:{line:223,column:9}},{start:{line:220,column:8},end:{line:223,column:9}}],line:220},7:{loc:{start:{line:224,column:8},end:{line:227,column:9}},type:"if",locations:[{start:{line:224,column:8},end:{line:227,column:9}},{start:{line:224,column:8},end:{line:227,column:9}}],line:224},8:{loc:{start:{line:225,column:32},end:{line:225,column:115}},type:"cond-expr",locations:[{start:{line:225,column:77},end:{line:225,column:95}},{start:{line:225,column:98},end:{line:225,column:115}}],line:225},9:{loc:{start:{line:255,column:8},end:{line:257,column:9}},type:"if",locations:[{start:{line:255,column:8},end:{line:257,column:9}},{start:{line:255,column:8},end:{line:257,column:9}}],line:255},10:{loc:{start:{line:255,column:14},end:{line:255,column:49}},type:"binary-expr",locations:[{start:{line:255,column:14},end:{line:255,column:31}},{start:{line:255,column:35},end:{line:255,column:49}}],line:255},11:{loc:{start:{line:271,column:8},end:{line:273,column:9}},type:"if",locations:[{start:{line:271,column:8},end:{line:273,column:9}},{start:{line:271,column:8},end:{line:273,column:9}}],line:271},12:{loc:{start:{line:274,column:8},end:{line:277,column:9}},type:"if",locations:[{start:{line:274,column:8},end:{line:277,column:9}},{start:{line:274,column:8},end:{line:277,column:9}}],line:274},13:{loc:{start:{line:280,column:43},end:{line:280,column:91}},type:"binary-expr",locations:[{start:{line:280,column:43},end:{line:280,column:65}},{start:{line:280,column:69},end:{line:280,column:91}}],line:280},14:{loc:{start:{line:281,column:43},end:{line:281,column:89}},type:"binary-expr",locations:[{start:{line:281,column:43},end:{line:281,column:64}},{start:{line:281,column:68},end:{line:281,column:89}}],line:281},15:{loc:{start:{line:282,column:35},end:{line:282,column:91}},type:"binary-expr",locations:[{start:{line:282,column:35},end:{line:282,column:61}},{start:{line:282,column:65},end:{line:282,column:91}}],line:282},16:{loc:{start:{line:283,column:8},end:{line:288,column:9}},type:"if",locations:[{start:{line:283,column:8},end:{line:288,column:9}},{start:{line:283,column:8},end:{line:288,column:9}}],line:283},17:{loc:{start:{line:290,column:8},end:{line:292,column:9}},type:"if",locations:[{start:{line:290,column:8},end:{line:292,column:9}},{start:{line:290,column:8},end:{line:292,column:9}}],line:290},18:{loc:{start:{line:314,column:8},end:{line:318,column:9}},type:"if",locations:[{start:{line:314,column:8},end:{line:318,column:9}},{start:{line:314,column:8},end:{line:318,column:9}}],line:314},19:{loc:{start:{line:314,column:12},end:{line:314,column:53}},type:"binary-expr",locations:[{start:{line:314,column:12},end:{line:314,column:34}},{start:{line:314,column:38},end:{line:314,column:53}}],line:314},20:{loc:{start:{line:319,column:8},end:{line:323,column:9}},type:"if",locations:[{start:{line:319,column:8},end:{line:323,column:9}},{start:{line:319,column:8},end:{line:323,column:9}}],line:319},21:{loc:{start:{line:319,column:12},end:{line:319,column:53}},type:"binary-expr",locations:[{start:{line:319,column:12},end:{line:319,column:35}},{start:{line:319,column:39},end:{line:319,column:53}}],line:319},22:{loc:{start:{line:331,column:8},end:{line:338,column:9}},type:"if",locations:[{start:{line:331,column:8},end:{line:338,column:9}},{start:{line:331,column:8},end:{line:338,column:9}}],line:331},23:{loc:{start:{line:339,column:8},end:{line:346,column:9}},type:"if",locations:[{start:{line:339,column:8},end:{line:346,column:9}},{start:{line:339,column:8},end:{line:346,column:9}}],line:339},24:{loc:{start:{line:360,column:8},end:{line:362,column:9}},type:"if",locations:[{start:{line:360,column:8},end:{line:362,column:9}},{start:{line:360,column:8},end:{line:362,column:9}}],line:360},25:{loc:{start:{line:379,column:8},end:{line:381,column:9}},type:"if",locations:[{start:{line:379,column:8},end:{line:381,column:9}},{start:{line:379,column:8},end:{line:381,column:9}}],line:379},26:{loc:{start:{line:393,column:8},end:{line:395,column:9}},type:"if",locations:[{start:{line:393,column:8},end:{line:395,column:9}},{start:{line:393,column:8},end:{line:395,column:9}}],line:393},27:{loc:{start:{line:398,column:8},end:{line:400,column:9}},type:"if",locations:[{start:{line:398,column:8},end:{line:400,column:9}},{start:{line:398,column:8},end:{line:400,column:9}}],line:398},28:{loc:{start:{line:399,column:24},end:{line:399,column:56}},type:"cond-expr",locations:[{start:{line:399,column:47},end:{line:399,column:51}},{start:{line:399,column:54},end:{line:399,column:56}}],line:399},29:{loc:{start:{line:401,column:41},end:{line:401,column:106}},type:"binary-expr",locations:[{start:{line:401,column:41},end:{line:401,column:84}},{start:{line:401,column:88},end:{line:401,column:106}}],line:401},30:{loc:{start:{line:402,column:39},end:{line:402,column:102}},type:"binary-expr",locations:[{start:{line:402,column:39},end:{line:402,column:82}},{start:{line:402,column:86},end:{line:402,column:102}}],line:402},31:{loc:{start:{line:403,column:33},end:{line:403,column:106}},type:"binary-expr",locations:[{start:{line:403,column:33},end:{line:403,column:57}},{start:{line:403,column:61},end:{line:403,column:83}},{start:{line:403,column:87},end:{line:403,column:106}}],line:403},32:{loc:{start:{line:406,column:8},end:{line:413,column:9}},type:"if",locations:[{start:{line:406,column:8},end:{line:413,column:9}},{start:{line:406,column:8},end:{line:413,column:9}}],line:406},33:{loc:{start:{line:406,column:12},end:{line:407,column:62}},type:"binary-expr",locations:[{start:{line:406,column:12},end:{line:406,column:22}},{start:{line:406,column:27},end:{line:406,column:70}},{start:{line:407,column:12},end:{line:407,column:61}}],line:406},34:{loc:{start:{line:408,column:22},end:{line:408,column:70}},type:"binary-expr",locations:[{start:{line:408,column:22},end:{line:408,column:61}},{start:{line:408,column:65},end:{line:408,column:70}}],line:408},35:{loc:{start:{line:415,column:8},end:{line:420,column:9}},type:"if",locations:[{start:{line:415,column:8},end:{line:420,column:9}},{start:{line:415,column:8},end:{line:420,column:9}}],line:415},36:{loc:{start:{line:415,column:12},end:{line:415,column:71}},type:"binary-expr",locations:[{start:{line:415,column:12},end:{line:415,column:22}},{start:{line:415,column:27},end:{line:415,column:70}}],line:415},37:{loc:{start:{line:421,column:8},end:{line:423,column:9}},type:"if",locations:[{start:{line:421,column:8},end:{line:423,column:9}},{start:{line:421,column:8},end:{line:423,column:9}}],line:421},38:{loc:{start:{line:427,column:8},end:{line:432,column:9}},type:"if",locations:[{start:{line:427,column:8},end:{line:432,column:9}},{start:{line:427,column:8},end:{line:432,column:9}}],line:427},39:{loc:{start:{line:436,column:12},end:{line:438,column:13}},type:"if",locations:[{start:{line:436,column:12},end:{line:438,column:13}},{start:{line:436,column:12},end:{line:438,column:13}}],line:436}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0,0],32:[0,0],33:[0,0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/rectangleSelection.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/rectangleSelection.ts"],names:[],mappings:"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",sourcesContent:["/**\n * @class RectangleSelection\n * @classdesc Manages Block selection with mouse\n *\n * @module RectangleSelection\n * @version 1.0.0\n */\nimport Module from '../__module';\nimport $ from '../dom';\n\nimport SelectionUtils from '../selection';\nimport Block from '../block';\n\n/**\n *\n */\nexport default class RectangleSelection extends Module {\n  /**\n   * CSS classes for the Block\n   *\n   * @returns {{wrapper: string, content: string}}\n   */\n  public static get CSS(): {[name: string]: string} {\n    return {\n      overlay: 'codex-editor-overlay',\n      overlayContainer: 'codex-editor-overlay__container',\n      rect: 'codex-editor-overlay__rectangle',\n      topScrollZone: 'codex-editor-overlay__scroll-zone--top',\n      bottomScrollZone: 'codex-editor-overlay__scroll-zone--bottom',\n    };\n  }\n\n  /**\n   * Using the selection rectangle\n   *\n   * @type {boolean}\n   */\n  private isRectSelectionActivated = false;\n\n  /**\n   *  Speed of Scrolling\n   */\n  private readonly SCROLL_SPEED: number = 3;\n\n  /**\n   *  Height of scroll zone on boundary of screen\n   */\n  private readonly HEIGHT_OF_SCROLL_ZONE = 40;\n\n  /**\n   *  Scroll zone type indicators\n   */\n  private readonly BOTTOM_SCROLL_ZONE = 1;\n  private readonly TOP_SCROLL_ZONE = 2;\n\n  /**\n   * Id of main button for event.button\n   */\n  private readonly MAIN_MOUSE_BUTTON = 0;\n\n  /**\n   *  Mouse is clamped\n   */\n  private mousedown = false;\n\n  /**\n   *  Is scrolling now\n   */\n  private isScrolling = false;\n\n  /**\n   *  Mouse is in scroll zone\n   */\n  private inScrollZone: number | null = null;\n\n  /**\n   *  Coords of rect\n   */\n  private startX = 0;\n  private startY = 0;\n  private mouseX = 0;\n  private mouseY = 0;\n\n  /**\n   * Selected blocks\n   */\n  private stackOfSelected: number[] = [];\n\n  /**\n   * Does the rectangle intersect blocks\n   */\n  private rectCrossesBlocks: boolean;\n\n  /**\n   * Selection rectangle\n   */\n  private overlayRectangle: HTMLDivElement;\n\n  /**\n   * Listener identifiers\n   */\n  private listenerIds: string[] = [];\n\n  /**\n   * Module Preparation\n   * Creating rect and hang handlers\n   */\n  public prepare(): void {\n    this.enableModuleBindings();\n  }\n\n  /**\n   * Init rect params\n   *\n   * @param {number} pageX - X coord of mouse\n   * @param {number} pageY - Y coord of mouse\n   */\n  public startSelection(pageX, pageY): void {\n    const elemWhereSelectionStart = document.elementFromPoint(pageX - window.pageXOffset, pageY - window.pageYOffset);\n\n    /**\n     * Don't clear selected block by clicks on the Block settings\n     * because we need to keep highlighting working block\n     */\n    const startsInsideToolbar = elemWhereSelectionStart.closest(`.${this.Editor.Toolbar.CSS.toolbar}`);\n\n    if (!startsInsideToolbar) {\n      this.Editor.BlockSelection.allBlocksSelected = false;\n      this.clearSelection();\n      this.stackOfSelected = [];\n    }\n\n    const selectorsToAvoid = [\n      `.${Block.CSS.content}`,\n      `.${this.Editor.Toolbar.CSS.toolbar}`,\n      `.${this.Editor.InlineToolbar.CSS.inlineToolbar}`,\n    ];\n\n    const startsInsideEditor = elemWhereSelectionStart.closest('.' + this.Editor.UI.CSS.editorWrapper);\n    const startsInSelectorToAvoid = selectorsToAvoid.some((selector) => !!elemWhereSelectionStart.closest(selector));\n\n    /**\n     * If selection starts outside of the editor or inside the blocks or on Editor UI elements, do not handle it\n     */\n    if (!startsInsideEditor || startsInSelectorToAvoid) {\n      return;\n    }\n\n    this.mousedown = true;\n    this.startX = pageX;\n    this.startY = pageY;\n  }\n\n  /**\n   * Clear all params to end selection\n   */\n  public endSelection(): void {\n    this.mousedown = false;\n    this.startX = 0;\n    this.startY = 0;\n    this.overlayRectangle.style.display = 'none';\n  }\n\n  /**\n   * is RectSelection Activated\n   */\n  public isRectActivated(): boolean {\n    return this.isRectSelectionActivated;\n  }\n\n  /**\n   * Mark that selection is end\n   */\n  public clearSelection(): void {\n    this.isRectSelectionActivated = false;\n  }\n\n  /**\n   * Sets Module necessary event handlers\n   */\n  private enableModuleBindings(): void {\n    const { Listeners } = this.Editor;\n    const { container } = this.genHTML();\n\n    Listeners.on(container, 'mousedown', (mouseEvent: MouseEvent) => {\n      this.processMouseDown(mouseEvent);\n    }, false);\n\n    Listeners.on(document.body, 'mousemove', (mouseEvent: MouseEvent) => {\n      this.processMouseMove(mouseEvent);\n    }, false);\n\n    Listeners.on(document.body, 'mouseleave', () => {\n      this.processMouseLeave();\n    });\n\n    Listeners.on(window, 'scroll', (mouseEvent: MouseEvent) => {\n      this.processScroll(mouseEvent);\n    }, false);\n\n    Listeners.on(document.body, 'mouseup', () => {\n      this.processMouseUp();\n    }, false);\n  }\n\n  /**\n   * Handle mouse down events\n   *\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  private processMouseDown(mouseEvent: MouseEvent): void {\n    if (mouseEvent.button !== this.MAIN_MOUSE_BUTTON) {\n      return;\n    }\n    this.startSelection(mouseEvent.pageX, mouseEvent.pageY);\n  }\n\n  /**\n   * Handle mouse move events\n   *\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  private processMouseMove(mouseEvent: MouseEvent): void {\n    this.changingRectangle(mouseEvent);\n    this.scrollByZones(mouseEvent.clientY);\n  }\n\n  /**\n   * Handle mouse leave\n   */\n  private processMouseLeave(): void {\n    this.clearSelection();\n    this.endSelection();\n  }\n\n  /**\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  private processScroll(mouseEvent: MouseEvent): void {\n    this.changingRectangle(mouseEvent);\n  }\n\n  /**\n   * Handle mouse up\n   */\n  private processMouseUp(): void {\n    this.endSelection();\n  }\n\n  /**\n   * Scroll If mouse in scroll zone\n   *\n   * @param {number} clientY - Y coord of mouse\n   */\n  private scrollByZones(clientY): void {\n    this.inScrollZone = null;\n    if (clientY <= this.HEIGHT_OF_SCROLL_ZONE) {\n      this.inScrollZone = this.TOP_SCROLL_ZONE;\n    }\n    if (document.documentElement.clientHeight - clientY <= this.HEIGHT_OF_SCROLL_ZONE) {\n      this.inScrollZone = this.BOTTOM_SCROLL_ZONE;\n    }\n\n    if (!this.inScrollZone) {\n      this.isScrolling = false;\n\n      return;\n    }\n\n    if (!this.isScrolling) {\n      this.scrollVertical(this.inScrollZone === this.TOP_SCROLL_ZONE ? -this.SCROLL_SPEED : this.SCROLL_SPEED);\n      this.isScrolling = true;\n    }\n  }\n\n  /**\n   * Generates required HTML elements\n   *\n   * @returns {object<string, Element>}\n   */\n  private genHTML(): {container: Element; overlay: Element} {\n    const { UI } = this.Editor;\n\n    const container = UI.nodes.holder.querySelector('.' + UI.CSS.editorWrapper);\n    const overlay = $.make('div', RectangleSelection.CSS.overlay, {});\n    const overlayContainer = $.make('div', RectangleSelection.CSS.overlayContainer, {});\n    const overlayRectangle = $.make('div', RectangleSelection.CSS.rect, {});\n\n    overlayContainer.appendChild(overlayRectangle);\n    overlay.appendChild(overlayContainer);\n    container.appendChild(overlay);\n\n    this.overlayRectangle = overlayRectangle as HTMLDivElement;\n\n    return {\n      container,\n      overlay,\n    };\n  }\n\n  /**\n   * Activates scrolling if blockSelection is active and mouse is in scroll zone\n   *\n   * @param {number} speed - speed of scrolling\n   */\n  private scrollVertical(speed): void {\n    if (!(this.inScrollZone && this.mousedown)) {\n      return;\n    }\n    const lastOffset = window.pageYOffset;\n\n    window.scrollBy(0, speed);\n    this.mouseY += window.pageYOffset - lastOffset;\n    setTimeout(() => {\n      this.scrollVertical(speed);\n    }, 0);\n  }\n\n  /**\n   * Handles the change in the rectangle and its effect\n   *\n   * @param {MouseEvent} event - mouse event\n   */\n  private changingRectangle(event: MouseEvent): void {\n    if (!this.mousedown) {\n      return;\n    }\n\n    if (event.pageY !== undefined) {\n      this.mouseX = event.pageX;\n      this.mouseY = event.pageY;\n    }\n\n    const { rightPos, leftPos, index } = this.genInfoForMouseSelection();\n    // There is not new block in selection\n\n    const rectIsOnRighSideOfredactor = this.startX > rightPos && this.mouseX > rightPos;\n    const rectISOnLeftSideOfRedactor = this.startX < leftPos && this.mouseX < leftPos;\n\n    this.rectCrossesBlocks = !(rectIsOnRighSideOfredactor || rectISOnLeftSideOfRedactor);\n\n    if (!this.isRectSelectionActivated) {\n      this.rectCrossesBlocks = false;\n      this.isRectSelectionActivated = true;\n      this.shrinkRectangleToPoint();\n      this.overlayRectangle.style.display = 'block';\n    }\n\n    this.updateRectangleSize();\n\n    if (index === undefined) {\n      return;\n    }\n\n    this.trySelectNextBlock(index);\n    // For case, when rect is out from blocks\n    this.inverseSelection();\n\n    SelectionUtils.get().removeAllRanges();\n    event.preventDefault();\n  }\n\n  /**\n   * Shrink rect to singular point\n   */\n  private shrinkRectangleToPoint(): void {\n    this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`;\n    this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`;\n    this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`;\n    this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`;\n  }\n\n  /**\n   * Select or unselect all of blocks in array if rect is out or in selectable area\n   */\n  private inverseSelection(): void {\n    const firstBlockInStack = this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]);\n    const isSelectedMode = firstBlockInStack.selected;\n\n    if (this.rectCrossesBlocks && !isSelectedMode) {\n      for (const it of this.stackOfSelected) {\n        this.Editor.BlockSelection.selectBlockByIndex(it);\n      }\n    }\n\n    if (!this.rectCrossesBlocks && isSelectedMode) {\n      for (const it of this.stackOfSelected) {\n        this.Editor.BlockSelection.unSelectBlockByIndex(it);\n      }\n    }\n  }\n\n  /**\n   * Updates size of rectangle\n   */\n  private updateRectangleSize(): void {\n    // Depending on the position of the mouse relative to the starting point,\n    // change this.e distance from the desired edge of the screen*/\n    if (this.mouseY >= this.startY) {\n      this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`;\n      this.overlayRectangle.style.bottom = `calc(100% - ${this.mouseY - window.pageYOffset}px`;\n    } else {\n      this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`;\n      this.overlayRectangle.style.top = `${this.mouseY - window.pageYOffset}px`;\n    }\n\n    if (this.mouseX >= this.startX) {\n      this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`;\n      this.overlayRectangle.style.right = `calc(100% - ${this.mouseX - window.pageXOffset}px`;\n    } else {\n      this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`;\n      this.overlayRectangle.style.left = `${this.mouseX - window.pageXOffset}px`;\n    }\n  }\n\n  /**\n   * Collects information needed to determine the behavior of the rectangle\n   *\n   * @returns {object} index - index next Block, leftPos - start of left border of Block, rightPos - right border\n   */\n  private genInfoForMouseSelection(): {index: number; leftPos: number; rightPos: number} {\n    const widthOfRedactor = document.body.offsetWidth;\n    const centerOfRedactor = widthOfRedactor / 2;\n    const Y = this.mouseY - window.pageYOffset;\n    const elementUnderMouse = document.elementFromPoint(centerOfRedactor, Y);\n    const blockInCurrentPos = this.Editor.BlockManager.getBlockByChildNode(elementUnderMouse);\n    let index;\n\n    if (blockInCurrentPos !== undefined) {\n      index = this.Editor.BlockManager.blocks.findIndex((block) => block.holder === blockInCurrentPos.holder);\n    }\n    const contentElement = this.Editor.BlockManager.lastBlock.holder.querySelector('.' + Block.CSS.content);\n    const centerOfBlock = Number.parseInt(window.getComputedStyle(contentElement).width, 10) / 2;\n    const leftPos = centerOfRedactor - centerOfBlock;\n    const rightPos = centerOfRedactor + centerOfBlock;\n\n    return {\n      index,\n      leftPos,\n      rightPos,\n    };\n  }\n\n  /**\n   * Select block with index index\n   *\n   * @param index - index of block in redactor\n   */\n  private addBlockInSelection(index): void {\n    if (this.rectCrossesBlocks) {\n      this.Editor.BlockSelection.selectBlockByIndex(index);\n    }\n    this.stackOfSelected.push(index);\n  }\n\n  /**\n   * Adds a block to the selection and determines which blocks should be selected\n   *\n   * @param {object} index - index of new block in the reactor\n   */\n  private trySelectNextBlock(index): void {\n    const sameBlock = this.stackOfSelected[this.stackOfSelected.length - 1] === index;\n    const sizeStack = this.stackOfSelected.length;\n    const down = 1, up = -1, undef = 0;\n\n    if (sameBlock) {\n      return;\n    }\n\n    const blockNumbersIncrease = this.stackOfSelected[sizeStack - 1] - this.stackOfSelected[sizeStack - 2] > 0;\n\n    let direction = undef;\n\n    if (sizeStack > 1) {\n      direction = blockNumbersIncrease ? down : up;\n    }\n\n    const selectionInDownDirection = index > this.stackOfSelected[sizeStack - 1] && direction === down;\n    const selectionInUpDirection = index < this.stackOfSelected[sizeStack - 1] && direction === up;\n    const generalSelection = selectionInDownDirection || selectionInUpDirection || direction === undef;\n    const reduction = !generalSelection;\n\n    // When the selection is too fast, some blocks do not have time to be noticed. Fix it.\n    if (!reduction && (index > this.stackOfSelected[sizeStack - 1] ||\n      this.stackOfSelected[sizeStack - 1] === undefined)) {\n      let ind = this.stackOfSelected[sizeStack - 1] + 1 || index;\n\n      for (ind; ind <= index; ind++) {\n        this.addBlockInSelection(ind);\n      }\n\n      return;\n    }\n\n    // for both directions\n    if (!reduction && (index < this.stackOfSelected[sizeStack - 1])) {\n      for (let ind = this.stackOfSelected[sizeStack - 1] - 1; ind >= index; ind--) {\n        this.addBlockInSelection(ind);\n      }\n\n      return;\n    }\n\n    if (!reduction) {\n      return;\n    }\n\n    let i = sizeStack - 1;\n    let cmp;\n\n    // cmp for different directions\n    if (index > this.stackOfSelected[sizeStack - 1]) {\n      cmp = (): boolean => index > this.stackOfSelected[i];\n    } else {\n      cmp = (): boolean => index < this.stackOfSelected[i];\n    }\n\n    // Remove blocks missed due to speed.\n    // cmp checks if we have removed all the necessary blocks\n    while (cmp()) {\n      if (this.rectCrossesBlocks) {\n        this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[i]);\n      }\n      this.stackOfSelected.pop();\n      i--;\n    }\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6d1dc45045a4ce0eba67669bda9ab8be5a5e362a"});var l=t[n];return d=function(){return l},l}function f(n){if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(n=function(n,A){if(n){if("string"==typeof n)return p(n,A);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p(n,A):void 0}}(n))){var A=0,e=function(){};return{s:e,n:function(){return A>=n.length?{done:!0}:{done:!1,value:n[A++]}},e:function(n){throw n},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,l,o=!0,i=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return o=n.done,n},e:function(n){i=!0,l=n},f:function(){try{o||null==t.return||t.return()}finally{if(i)throw l}}}}function p(n,A){(null==A||A>n.length)&&(A=n.length);for(var e=0,t=new Array(A);e<A;e++)t[e]=n[e];return t}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=m(l),o=m(o),i=m(i),c=m(c),s=m(s),r=m(r),C=m(C),a=m(a),u=m(u),d();var I=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(E()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){var n;return(0,l.default)(this,t),d().f[0]++,d().s[0]++,n=e.apply(this,arguments),d().s[1]++,n.isRectSelectionActivated=!1,d().s[2]++,n.SCROLL_SPEED=3,d().s[3]++,n.HEIGHT_OF_SCROLL_ZONE=40,d().s[4]++,n.BOTTOM_SCROLL_ZONE=1,d().s[5]++,n.TOP_SCROLL_ZONE=2,d().s[6]++,n.MAIN_MOUSE_BUTTON=0,d().s[7]++,n.mousedown=!1,d().s[8]++,n.isScrolling=!1,d().s[9]++,n.inScrollZone=null,d().s[10]++,n.startX=0,d().s[11]++,n.startY=0,d().s[12]++,n.mouseX=0,d().s[13]++,n.mouseY=0,d().s[14]++,n.stackOfSelected=[],d().s[15]++,n.listenerIds=[],n}return(0,o.default)(t,[{key:"prepare",value:function(){d().f[2]++,d().s[17]++,this.enableModuleBindings()}},{key:"startSelection",value:function(n,A){d().f[3]++;var e=(d().s[18]++,document.elementFromPoint(n-window.pageXOffset,A-window.pageYOffset)),t=(d().s[19]++,e.closest(".".concat(this.Editor.Toolbar.CSS.toolbar)));d().s[20]++,t?d().b[0][1]++:(d().b[0][0]++,d().s[21]++,this.Editor.BlockSelection.allBlocksSelected=!1,d().s[22]++,this.clearSelection(),d().s[23]++,this.stackOfSelected=[]);var l=(d().s[24]++,[".".concat(u.default.CSS.content),".".concat(this.Editor.Toolbar.CSS.toolbar),".".concat(this.Editor.InlineToolbar.CSS.inlineToolbar)]),o=(d().s[25]++,e.closest("."+this.Editor.UI.CSS.editorWrapper)),i=(d().s[26]++,l.some((function(n){return d().f[4]++,d().s[27]++,!!e.closest(n)})));if(d().s[28]++,d().b[2][0]++,!o||(d().b[2][1]++,i))return d().b[1][0]++,void d().s[29]++;d().b[1][1]++,d().s[30]++,this.mousedown=!0,d().s[31]++,this.startX=n,d().s[32]++,this.startY=A}},{key:"endSelection",value:function(){d().f[5]++,d().s[33]++,this.mousedown=!1,d().s[34]++,this.startX=0,d().s[35]++,this.startY=0,d().s[36]++,this.overlayRectangle.style.display="none"}},{key:"isRectActivated",value:function(){return d().f[6]++,d().s[37]++,this.isRectSelectionActivated}},{key:"clearSelection",value:function(){d().f[7]++,d().s[38]++,this.isRectSelectionActivated=!1}},{key:"enableModuleBindings",value:function(){var n=this;d().f[8]++;var A=(d().s[39]++,this.Editor).Listeners,e=(d().s[40]++,this.genHTML()).container;d().s[41]++,A.on(e,"mousedown",(function(A){d().f[9]++,d().s[42]++,n.processMouseDown(A)}),!1),d().s[43]++,A.on(document.body,"mousemove",(function(A){d().f[10]++,d().s[44]++,n.processMouseMove(A)}),!1),d().s[45]++,A.on(document.body,"mouseleave",(function(){d().f[11]++,d().s[46]++,n.processMouseLeave()})),d().s[47]++,A.on(window,"scroll",(function(A){d().f[12]++,d().s[48]++,n.processScroll(A)}),!1),d().s[49]++,A.on(document.body,"mouseup",(function(){d().f[13]++,d().s[50]++,n.processMouseUp()}),!1)}},{key:"processMouseDown",value:function(n){if(d().f[14]++,d().s[51]++,n.button!==this.MAIN_MOUSE_BUTTON)return d().b[3][0]++,void d().s[52]++;d().b[3][1]++,d().s[53]++,this.startSelection(n.pageX,n.pageY)}},{key:"processMouseMove",value:function(n){d().f[15]++,d().s[54]++,this.changingRectangle(n),d().s[55]++,this.scrollByZones(n.clientY)}},{key:"processMouseLeave",value:function(){d().f[16]++,d().s[56]++,this.clearSelection(),d().s[57]++,this.endSelection()}},{key:"processScroll",value:function(n){d().f[17]++,d().s[58]++,this.changingRectangle(n)}},{key:"processMouseUp",value:function(){d().f[18]++,d().s[59]++,this.endSelection()}},{key:"scrollByZones",value:function(n){if(d().f[19]++,d().s[60]++,this.inScrollZone=null,d().s[61]++,n<=this.HEIGHT_OF_SCROLL_ZONE?(d().b[4][0]++,d().s[62]++,this.inScrollZone=this.TOP_SCROLL_ZONE):d().b[4][1]++,d().s[63]++,document.documentElement.clientHeight-n<=this.HEIGHT_OF_SCROLL_ZONE?(d().b[5][0]++,d().s[64]++,this.inScrollZone=this.BOTTOM_SCROLL_ZONE):d().b[5][1]++,d().s[65]++,!this.inScrollZone)return d().b[6][0]++,d().s[66]++,this.isScrolling=!1,void d().s[67]++;d().b[6][1]++,d().s[68]++,this.isScrolling?d().b[7][1]++:(d().b[7][0]++,d().s[69]++,this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?(d().b[8][0]++,-this.SCROLL_SPEED):(d().b[8][1]++,this.SCROLL_SPEED)),d().s[70]++,this.isScrolling=!0)}},{key:"genHTML",value:function(){d().f[20]++;var n=(d().s[71]++,this.Editor).UI,A=(d().s[72]++,n.nodes.holder.querySelector("."+n.CSS.editorWrapper)),e=(d().s[73]++,C.default.make("div",t.CSS.overlay,{})),l=(d().s[74]++,C.default.make("div",t.CSS.overlayContainer,{})),o=(d().s[75]++,C.default.make("div",t.CSS.rect,{}));return d().s[76]++,l.appendChild(o),d().s[77]++,e.appendChild(l),d().s[78]++,A.appendChild(e),d().s[79]++,this.overlayRectangle=o,d().s[80]++,{container:A,overlay:e}}},{key:"scrollVertical",value:function(n){var A=this;if(d().f[21]++,d().s[81]++,d().b[10][0]++,!this.inScrollZone||(d().b[10][1]++,!this.mousedown))return d().b[9][0]++,void d().s[82]++;d().b[9][1]++;var e=(d().s[83]++,window.pageYOffset);d().s[84]++,window.scrollBy(0,n),d().s[85]++,this.mouseY+=window.pageYOffset-e,d().s[86]++,setTimeout((function(){d().f[22]++,d().s[87]++,A.scrollVertical(n)}),0)}},{key:"changingRectangle",value:function(n){if(d().f[23]++,d().s[88]++,!this.mousedown)return d().b[11][0]++,void d().s[89]++;d().b[11][1]++,d().s[90]++,void 0!==n.pageY?(d().b[12][0]++,d().s[91]++,this.mouseX=n.pageX,d().s[92]++,this.mouseY=n.pageY):d().b[12][1]++;var A=(d().s[93]++,this.genInfoForMouseSelection()),e=A.rightPos,t=A.leftPos,l=A.index,o=(d().s[94]++,d().b[13][0]++,this.startX>e&&(d().b[13][1]++,this.mouseX>e)),i=(d().s[95]++,d().b[14][0]++,this.startX<t&&(d().b[14][1]++,this.mouseX<t));if(d().s[96]++,this.rectCrossesBlocks=(d().b[15][0]++,!(o||(d().b[15][1]++,i))),d().s[97]++,this.isRectSelectionActivated?d().b[16][1]++:(d().b[16][0]++,d().s[98]++,this.rectCrossesBlocks=!1,d().s[99]++,this.isRectSelectionActivated=!0,d().s[100]++,this.shrinkRectangleToPoint(),d().s[101]++,this.overlayRectangle.style.display="block"),d().s[102]++,this.updateRectangleSize(),d().s[103]++,void 0===l)return d().b[17][0]++,void d().s[104]++;d().b[17][1]++,d().s[105]++,this.trySelectNextBlock(l),d().s[106]++,this.inverseSelection(),d().s[107]++,a.default.get().removeAllRanges(),d().s[108]++,n.preventDefault()}},{key:"shrinkRectangleToPoint",value:function(){d().f[24]++,d().s[109]++,this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),d().s[110]++,this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),d().s[111]++,this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),d().s[112]++,this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px")}},{key:"inverseSelection",value:function(){d().f[25]++;var n=(d().s[113]++,this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0])),A=(d().s[114]++,n.selected);if(d().s[115]++,d().b[19][0]++,this.rectCrossesBlocks&&(d().b[19][1]++,!A)){d().b[18][0]++,d().s[116]++;var e,t=f(this.stackOfSelected);try{for(t.s();!(e=t.n()).done;){var l=e.value;d().s[117]++,this.Editor.BlockSelection.selectBlockByIndex(l)}}catch(n){t.e(n)}finally{t.f()}}else d().b[18][1]++;if(d().s[118]++,d().b[21][0]++,!this.rectCrossesBlocks&&(d().b[21][1]++,A)){d().b[20][0]++,d().s[119]++;var o,i=f(this.stackOfSelected);try{for(i.s();!(o=i.n()).done;){var c=o.value;d().s[120]++,this.Editor.BlockSelection.unSelectBlockByIndex(c)}}catch(n){i.e(n)}finally{i.f()}}else d().b[20][1]++}},{key:"updateRectangleSize",value:function(){d().f[26]++,d().s[121]++,this.mouseY>=this.startY?(d().b[22][0]++,d().s[122]++,this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),d().s[123]++,this.overlayRectangle.style.bottom="calc(100% - ".concat(this.mouseY-window.pageYOffset,"px")):(d().b[22][1]++,d().s[124]++,this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),d().s[125]++,this.overlayRectangle.style.top="".concat(this.mouseY-window.pageYOffset,"px")),d().s[126]++,this.mouseX>=this.startX?(d().b[23][0]++,d().s[127]++,this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),d().s[128]++,this.overlayRectangle.style.right="calc(100% - ".concat(this.mouseX-window.pageXOffset,"px")):(d().b[23][1]++,d().s[129]++,this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px"),d().s[130]++,this.overlayRectangle.style.left="".concat(this.mouseX-window.pageXOffset,"px"))}},{key:"genInfoForMouseSelection",value:function(){d().f[27]++;var n,A=(d().s[131]++,document.body.offsetWidth),e=(d().s[132]++,A/2),t=(d().s[133]++,this.mouseY-window.pageYOffset),l=(d().s[134]++,document.elementFromPoint(e,t)),o=(d().s[135]++,this.Editor.BlockManager.getBlockByChildNode(l));d().s[136]++,void 0!==o?(d().b[24][0]++,d().s[137]++,n=this.Editor.BlockManager.blocks.findIndex((function(n){return d().f[28]++,d().s[138]++,n.holder===o.holder}))):d().b[24][1]++;var i=(d().s[139]++,this.Editor.BlockManager.lastBlock.holder.querySelector("."+u.default.CSS.content)),c=(d().s[140]++,Number.parseInt(window.getComputedStyle(i).width,10)/2),s=(d().s[141]++,e-c),r=(d().s[142]++,e+c);return d().s[143]++,{index:n,leftPos:s,rightPos:r}}},{key:"addBlockInSelection",value:function(n){d().f[29]++,d().s[144]++,this.rectCrossesBlocks?(d().b[25][0]++,d().s[145]++,this.Editor.BlockSelection.selectBlockByIndex(n)):d().b[25][1]++,d().s[146]++,this.stackOfSelected.push(n)}},{key:"trySelectNextBlock",value:function(n){var A=this;d().f[30]++;var e=(d().s[147]++,this.stackOfSelected[this.stackOfSelected.length-1]===n),t=(d().s[148]++,this.stackOfSelected.length),l=(d().s[149]++,1),o=(d().s[150]++,-1),i=(d().s[151]++,0);if(d().s[152]++,e)return d().b[26][0]++,void d().s[153]++;d().b[26][1]++;var c=(d().s[154]++,this.stackOfSelected[t-1]-this.stackOfSelected[t-2]>0),s=(d().s[155]++,i);d().s[156]++,t>1?(d().b[27][0]++,d().s[157]++,s=c?(d().b[28][0]++,l):(d().b[28][1]++,o)):d().b[27][1]++;var r=(d().s[158]++,d().b[29][0]++,n>this.stackOfSelected[t-1]&&(d().b[29][1]++,s===l)),C=(d().s[159]++,d().b[30][0]++,n<this.stackOfSelected[t-1]&&(d().b[30][1]++,s===o)),a=(d().s[160]++,d().b[31][0]++,r||(d().b[31][1]++,C)||(d().b[31][2]++,s===i)),u=(d().s[161]++,!a);if(d().s[162]++,d().b[33][0]++,!u&&(d().b[33][1]++,n>this.stackOfSelected[t-1]||(d().b[33][2]++,void 0===this.stackOfSelected[t-1]))){d().b[32][0]++;var m=(d().s[163]++,d().b[34][0]++,this.stackOfSelected[t-1]+1||(d().b[34][1]++,n));for(d().s[164]++;m<=n;m++)d().s[165]++,this.addBlockInSelection(m);d().s[166]++}else if(d().b[32][1]++,d().s[167]++,d().b[36][0]++,!u&&(d().b[36][1]++,n<this.stackOfSelected[t-1])){d().b[35][0]++,d().s[168]++;for(var f=(d().s[169]++,this.stackOfSelected[t-1]-1);f>=n;f--)d().s[170]++,this.addBlockInSelection(f);d().s[171]++}else{if(d().b[35][1]++,d().s[172]++,!u)return d().b[37][0]++,void d().s[173]++;d().b[37][1]++;var p,E=(d().s[174]++,t-1);for(d().s[175]++,n>this.stackOfSelected[t-1]?(d().b[38][0]++,d().s[176]++,p=function(){return d().f[31]++,d().s[177]++,n>A.stackOfSelected[E]}):(d().b[38][1]++,d().s[178]++,p=function(){return d().f[32]++,d().s[179]++,n<A.stackOfSelected[E]}),d().s[180]++;p();)d().s[181]++,this.rectCrossesBlocks?(d().b[39][0]++,d().s[182]++,this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[E])):d().b[39][1]++,d().s[183]++,this.stackOfSelected.pop(),d().s[184]++,E--}}}],[{key:"CSS",get:function(){return d().f[1]++,d().s[16]++,{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}}]),t}(r.default);t.default=I,I.displayName="RectangleSelection",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(7),e(8)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u){"use strict";var m=e(13),d=e(1);function f(){var n="/home/hata/editor.js/src/components/modules/renderer.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"57b116b1a73e0fb7a821f5d535a6f7e89384b597"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/renderer.ts",statementMap:{0:{start:{line:42,column:26},end:{line:42,column:94}},1:{start:{line:42,column:49},end:{line:42,column:92}},2:{start:{line:42,column:67},end:{line:42,column:90}},3:{start:{line:43,column:25},end:{line:43,column:52}},4:{start:{line:44,column:8},end:{line:44,column:40}},5:{start:{line:45,column:8},end:{line:45,column:24}},6:{start:{line:57,column:40},end:{line:57,column:51}},7:{start:{line:58,column:21},end:{line:58,column:30}},8:{start:{line:59,column:21},end:{line:59,column:30}},9:{start:{line:60,column:8},end:{line:92,column:9}},10:{start:{line:61,column:12},end:{line:70,column:13}},11:{start:{line:62,column:16},end:{line:65,column:19}},12:{start:{line:68,column:16},end:{line:68,column:88}},13:{start:{line:69,column:16},end:{line:69,column:35}},14:{start:{line:74,column:29},end:{line:80,column:13}},15:{start:{line:81,column:12},end:{line:85,column:13}},16:{start:{line:82,column:44},end:{line:82,column:75}},17:{start:{line:83,column:44},end:{line:83,column:79}},18:{start:{line:84,column:16},end:{line:84,column:131}},19:{start:{line:86,column:25},end:{line:89,column:14}},20:{start:{line:90,column:12},end:{line:90,column:34}},21:{start:{line:91,column:12},end:{line:91,column:115}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:25},end:{line:46,column:5}},line:41},1:{name:"(anonymous_1)",decl:{start:{line:42,column:37},end:{line:42,column:38}},loc:{start:{line:42,column:49},end:{line:42,column:92}},line:42},2:{name:"(anonymous_2)",decl:{start:{line:42,column:61},end:{line:42,column:62}},loc:{start:{line:42,column:67},end:{line:42,column:90}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:28},end:{line:93,column:5}},line:56}},branchMap:{0:{loc:{start:{line:60,column:8},end:{line:92,column:9}},type:"if",locations:[{start:{line:60,column:8},end:{line:92,column:9}},{start:{line:60,column:8},end:{line:92,column:9}}],line:60},1:{loc:{start:{line:81,column:12},end:{line:85,column:13}},type:"if",locations:[{start:{line:81,column:12},end:{line:85,column:13}},{start:{line:81,column:12},end:{line:85,column:13}}],line:81},2:{loc:{start:{line:84,column:33},end:{line:84,column:130}},type:"binary-expr",locations:[{start:{line:84,column:33},end:{line:84,column:58}},{start:{line:84,column:63},end:{line:84,column:82}},{start:{line:84,column:86},end:{line:84,column:111}},{start:{line:84,column:116},end:{line:84,column:130}}],line:84}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0,0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/renderer.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/renderer.ts"],names:[],mappings:"AAAA,OAAO,MAAM,MAAM,aAAa,CAAC;AACjC,OAAO,KAAK,CAAC,MAAM,UAAU,CAAC;AAG9B;;;;;;;GAOG;AACH,MAAM,CAAC,OAAO,OAAO,QAAS,SAAQ,MAAM;IAC1C;;;;OAIG;IAEH;;;;;;;;;;;;;;;;;;OAkBG;IAEH;;;;OAIG;IACI,KAAK,CAAC,MAAM,CAAC,MAAyB;QAC3C,MAAM,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,QAAQ,EAAE,GAAkB,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;QAEtG,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,QAAQ,CAAC,SAA0B,CAAC,CAAC;QAE9D,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC;QAEhC,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED;;;;;;;;OAQG;IACI,KAAK,CAAC,WAAW,CAAC,IAAqB;QAC5C,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QAC5C,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACvB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QAEvB,IAAI,IAAI,IAAI,KAAK,CAAC,SAAS,EAAE;YAC3B,IAAI;gBACF,YAAY,CAAC,MAAM,CAAC;oBAClB,IAAI;oBACJ,IAAI;iBACL,CAAC,CAAC;aACJ;YAAC,OAAO,KAAK,EAAE;gBACd,CAAC,CAAC,GAAG,CAAC,UAAU,IAAI,oCAAoC,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;gBACxE,MAAM,KAAK,CAAC,KAAK,CAAC,CAAC;aACpB;SACF;aAAM;YACL,uDAAuD;YACvD,MAAM,QAAQ,GAAG;gBACf,SAAS,EAAE;oBACT,IAAI,EAAE,IAAI;oBACV,IAAI;iBACL;gBACD,KAAK,EAAE,IAAI;aACZ,CAAC;YAEF,IAAI,IAAI,IAAI,KAAK,CAAC,WAAW,EAAE;gBAC7B,MAAM,mBAAmB,GAAI,KAAK,CAAC,WAAW,CAAC,IAAI,CAA4B,CAAC,OAAO,CAAC;gBACxF,MAAM,mBAAmB,GAAG,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC;gBAEhE,QAAQ,CAAC,KAAK,GAAG,mBAAmB,CAAC,KAAK,IAAI,CAAC,mBAAmB,IAAI,mBAAmB,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,KAAK,CAAC;aACpH;YAED,MAAM,IAAI,GAAG,YAAY,CAAC,MAAM,CAAC;gBAC/B,IAAI,EAAE,KAAK,CAAC,QAAQ;gBACpB,IAAI,EAAE,QAAQ;aACf,CAAC,CAAC;YAEH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YAEtB,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI,0EAA0E,EAAE,MAAM,CAAC,CAAC;SACxG;IACH,CAAC;CACF",sourcesContent:["import Module from '../__module';\nimport * as _ from '../utils';\nimport { BlockToolConstructable, OutputBlockData } from '../../../types';\n\n/**\n * Editor.js Renderer Module\n *\n * @module Renderer\n * @author CodeX Team\n *\n * @version 2.0.0\n */\nexport default class Renderer extends Module {\n  /**\n   * @typedef {object} RendererBlocks\n   * @property {string} type - tool name\n   * @property {object} data - tool data\n   */\n\n  /**\n   * @example\n   *\n   * blocks: [\n   *   {\n   *     type : 'paragraph',\n   *     data : {\n   *       text : 'Hello from Codex!'\n   *     }\n   *   },\n   *   {\n   *     type : 'paragraph',\n   *     data : {\n   *       text : 'Leave feedback if you like it!'\n   *     }\n   *   },\n   * ]\n   *\n   */\n\n  /**\n   * Make plugin blocks from array of plugin`s data\n   *\n   * @param {OutputBlockData[]} blocks - blocks to render\n   */\n  public async render(blocks: OutputBlockData[]): Promise<void> {\n    const chainData = blocks.map((block) => ({ function: (): Promise<void> => this.insertBlock(block) }));\n\n    const sequence = await _.sequence(chainData as _.ChainData[]);\n\n    this.Editor.UI.checkEmptiness();\n\n    return sequence;\n  }\n\n  /**\n   * Get plugin instance\n   * Add plugin instance to BlockManager\n   * Insert block to working zone\n   *\n   * @param {object} item - Block data to insert\n   *\n   * @returns {Promise<void>}\n   */\n  public async insertBlock(item: OutputBlockData): Promise<void> {\n    const { Tools, BlockManager } = this.Editor;\n    const tool = item.type;\n    const data = item.data;\n\n    if (tool in Tools.available) {\n      try {\n        BlockManager.insert({\n          tool,\n          data,\n        });\n      } catch (error) {\n        _.log(`Block «${tool}» skipped because of plugins error`, 'warn', data);\n        throw Error(error);\n      }\n    } else {\n      /** If Tool is unavailable, create stub Block for it */\n      const stubData = {\n        savedData: {\n          type: tool,\n          data,\n        },\n        title: tool,\n      };\n\n      if (tool in Tools.unavailable) {\n        const toolToolboxSettings = (Tools.unavailable[tool] as BlockToolConstructable).toolbox;\n        const userToolboxSettings = Tools.getToolSettings(tool).toolbox;\n\n        stubData.title = toolToolboxSettings.title || (userToolboxSettings && userToolboxSettings.title) || stubData.title;\n      }\n\n      const stub = BlockManager.insert({\n        tool: Tools.stubTool,\n        data: stubData,\n      });\n\n      stub.stretched = true;\n\n      _.log(`Tool «${tool}» is not found. Check 'tools' property at your initial Editor.js config.`, 'warn');\n    }\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"57b116b1a73e0fb7a821f5d535a6f7e89384b597"});var l=t[n];return f=function(){return l},l}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=d(l),o=d(o),i=d(i),c=d(c),s=d(s),r=d(r),C=d(C),a=d(a),u=m(u),f();var E=function(n){(0,s.default)(m,n);var A,e,t,a=(A=m,function(){var n,e=(0,C.default)(A);if(p()){var t=(0,C.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,r.default)(this,n)});function m(){return(0,i.default)(this,m),a.apply(this,arguments)}return(0,c.default)(m,[{key:"render",value:(t=(0,o.default)(l.default.mark((function n(A){var e,t,o=this;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f().f[0]++,f().s[0]++,e=A.map((function(n){return f().f[1]++,f().s[1]++,{function:function(){return f().f[2]++,f().s[2]++,o.insertBlock(n)}}})),f().s[3]++,n.next=5,u.sequence(e);case 5:return t=n.sent,f().s[4]++,this.Editor.UI.checkEmptiness(),f().s[5]++,n.abrupt("return",t);case 10:case"end":return n.stop()}}),n,this)}))),function(n){return t.apply(this,arguments)})},{key:"insertBlock",value:(e=(0,o.default)(l.default.mark((function n(A){var e,t,o,i,c,s,r,C,a;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(f().f[3]++,f().s[6]++,e=this.Editor,t=e.Tools,o=e.BlockManager,f().s[7]++,i=A.type,f().s[8]++,c=A.data,f().s[9]++,!(i in t.available)){n.next=21;break}f().b[0][0]++,f().s[10]++,n.prev=8,f().s[11]++,o.insert({tool:i,data:c}),n.next=19;break;case 13:throw n.prev=13,n.t0=n.catch(8),f().s[12]++,u.log("Block «".concat(i,"» skipped because of plugins error"),"warn",c),f().s[13]++,Error(n.t0);case 19:n.next=30;break;case 21:f().b[0][1]++,f().s[14]++,s={savedData:{type:i,data:c},title:i},f().s[15]++,i in t.unavailable?(f().b[1][0]++,f().s[16]++,r=t.unavailable[i].toolbox,f().s[17]++,C=t.getToolSettings(i).toolbox,f().s[18]++,s.title=(f().b[2][0]++,r.title||(f().b[2][1]++,C&&(f().b[2][2]++,C.title))||(f().b[2][3]++,s.title))):f().b[1][1]++,f().s[19]++,a=o.insert({tool:t.stubTool,data:s}),f().s[20]++,a.stretched=!0,f().s[21]++,u.log("Tool «".concat(i,"» is not found. Check 'tools' property at your initial Editor.js config."),"warn");case 30:case"end":return n.stop()}}),n,this,[[8,13]])}))),function(n){return e.apply(this,arguments)})}]),m}(a.default);t.default=E,E.displayName="Renderer",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(39),e(52),e(2),e(3),e(5),e(6),e(4),e(7),e(8),e(385)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u,m){"use strict";var d=e(13),f=e(1);function p(){var n="/home/hata/editor.js/src/components/modules/sanitizer.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"4f098ad330816100701fcf9d95e75cd1ecd59143"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/sanitizer.ts",statementMap:{0:{start:{line:41,column:8},end:{line:41,column:28}},1:{start:{line:45,column:8},end:{line:45,column:30}},2:{start:{line:49,column:8},end:{line:49,column:43}},3:{start:{line:59,column:8},end:{line:66,column:11}},4:{start:{line:60,column:31},end:{line:60,column:65}},5:{start:{line:61,column:12},end:{line:63,column:13}},6:{start:{line:62,column:16},end:{line:62,column:29}},7:{start:{line:64,column:12},end:{line:64,column:67}},8:{start:{line:65,column:12},end:{line:65,column:25}},9:{start:{line:81,column:8},end:{line:103,column:9}},10:{start:{line:85,column:12},end:{line:85,column:58}},11:{start:{line:87,column:13},end:{line:103,column:9}},12:{start:{line:91,column:12},end:{line:91,column:59}},13:{start:{line:99,column:12},end:{line:101,column:13}},14:{start:{line:100,column:16},end:{line:100,column:64}},15:{start:{line:102,column:12},end:{line:102,column:34}},16:{start:{line:115,column:32},end:{line:117,column:9}},17:{start:{line:121,column:34},end:{line:121,column:81}},18:{start:{line:122,column:8},end:{line:122,column:52}},19:{start:{line:135,column:8},end:{line:137,column:9}},20:{start:{line:136,column:12},end:{line:136,column:46}},21:{start:{line:138,column:31},end:{line:138,column:82}},22:{start:{line:139,column:26},end:{line:139,column:63}},23:{start:{line:140,column:27},end:{line:140,column:62}},24:{start:{line:144,column:8},end:{line:146,column:9}},25:{start:{line:145,column:12},end:{line:145,column:30}},26:{start:{line:147,column:26},end:{line:147,column:44}},27:{start:{line:148,column:27},end:{line:148,column:29}},28:{start:{line:149,column:8},end:{line:159,column:9}},29:{start:{line:150,column:12},end:{line:158,column:13}},30:{start:{line:151,column:29},end:{line:151,column:49}},31:{start:{line:152,column:16},end:{line:157,column:17}},32:{start:{line:153,column:20},end:{line:153,column:80}},33:{start:{line:156,column:20},end:{line:156,column:49}},34:{start:{line:160,column:8},end:{line:160,column:48}},35:{start:{line:161,column:8},end:{line:161,column:26}},36:{start:{line:171,column:26},end:{line:171,column:37}},37:{start:{line:172,column:28},end:{line:172,column:55}},38:{start:{line:173,column:34},end:{line:173,column:65}},39:{start:{line:174,column:21},end:{line:174,column:23}},40:{start:{line:175,column:8},end:{line:188,column:9}},41:{start:{line:179,column:12},end:{line:179,column:52}},42:{start:{line:185,column:12},end:{line:187,column:15}},43:{start:{line:186,column:16},end:{line:186,column:118}},44:{start:{line:192,column:8},end:{line:192,column:28}},45:{start:{line:193,column:8},end:{line:193,column:29}},46:{start:{line:194,column:8},end:{line:194,column:22}},47:{start:{line:200,column:26},end:{line:200,column:37}},48:{start:{line:201,column:8},end:{line:203,column:9}},49:{start:{line:202,column:12},end:{line:202,column:47}},50:{start:{line:204,column:23},end:{line:204,column:25}},51:{start:{line:205,column:8},end:{line:208,column:11}},52:{start:{line:207,column:12},end:{line:207,column:87}},53:{start:{line:209,column:8},end:{line:209,column:45}},54:{start:{line:210,column:8},end:{line:210,column:43}},55:{start:{line:219,column:8},end:{line:219,column:83}},56:{start:{line:219,column:40},end:{line:219,column:81}},57:{start:{line:229,column:26},end:{line:229,column:28}},58:{start:{line:230,column:8},end:{line:242,column:9}},59:{start:{line:231,column:12},end:{line:233,column:13}},60:{start:{line:232,column:16},end:{line:232,column:25}},61:{start:{line:234,column:41},end:{line:234,column:58}},62:{start:{line:240,column:32},end:{line:240,column:88}},63:{start:{line:241,column:12},end:{line:241,column:88}},64:{start:{line:243,column:8},end:{line:243,column:25}},65:{start:{line:254,column:8},end:{line:262,column:9}},66:{start:{line:255,column:12},end:{line:255,column:49}},67:{start:{line:257,column:13},end:{line:262,column:9}},68:{start:{line:258,column:12},end:{line:258,column:47}},69:{start:{line:261,column:12},end:{line:261,column:31}},70:{start:{line:272,column:8},end:{line:272,column:97}},71:{start:{line:286,column:8},end:{line:288,column:9}},72:{start:{line:287,column:12},end:{line:287,column:43}},73:{start:{line:289,column:8},end:{line:289,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:18},end:{line:50,column:5}},line:40},1:{name:"(anonymous_1)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:31},end:{line:67,column:5}},line:58},2:{name:"(anonymous_2)",decl:{start:{line:59,column:30},end:{line:59,column:31}},loc:{start:{line:59,column:41},end:{line:66,column:9}},line:59},3:{name:"(anonymous_3)",decl:{start:{line:74,column:4},end:{line:74,column:5}},loc:{start:{line:74,column:40},end:{line:104,column:5}},line:74},4:{name:"(anonymous_4)",decl:{start:{line:114,column:4},end:{line:114,column:5}},loc:{start:{line:114,column:42},end:{line:123,column:5}},line:114},5:{name:"(anonymous_5)",decl:{start:{line:131,column:4},end:{line:131,column:5}},loc:{start:{line:131,column:32},end:{line:162,column:5}},line:131},6:{name:"(anonymous_6)",decl:{start:{line:170,column:4},end:{line:170,column:5}},loc:{start:{line:170,column:31},end:{line:195,column:5}},line:170},7:{name:"(anonymous_7)",decl:{start:{line:185,column:34},end:{line:185,column:35}},loc:{start:{line:185,column:54},end:{line:187,column:13}},line:185},8:{name:"(anonymous_8)",decl:{start:{line:199,column:4},end:{line:199,column:5}},loc:{start:{line:199,column:30},end:{line:211,column:5}},line:199},9:{name:"(anonymous_9)",decl:{start:{line:206,column:21},end:{line:206,column:22}},loc:{start:{line:206,column:41},end:{line:208,column:9}},line:206},10:{name:"(anonymous_10)",decl:{start:{line:218,column:4},end:{line:218,column:5}},loc:{start:{line:218,column:35},end:{line:220,column:5}},line:218},11:{name:"(anonymous_11)",decl:{start:{line:219,column:25},end:{line:219,column:26}},loc:{start:{line:219,column:40},end:{line:219,column:81}},line:219},12:{name:"(anonymous_12)",decl:{start:{line:228,column:4},end:{line:228,column:5}},loc:{start:{line:228,column:31},end:{line:244,column:5}},line:228},13:{name:"(anonymous_13)",decl:{start:{line:253,column:4},end:{line:253,column:5}},loc:{start:{line:253,column:36},end:{line:263,column:5}},line:253},14:{name:"(anonymous_14)",decl:{start:{line:271,column:4},end:{line:271,column:5}},loc:{start:{line:271,column:19},end:{line:273,column:5}},line:271},15:{name:"(anonymous_15)",decl:{start:{line:285,column:4},end:{line:285,column:5}},loc:{start:{line:285,column:38},end:{line:290,column:5}},line:285}},branchMap:{0:{loc:{start:{line:61,column:12},end:{line:63,column:13}},type:"if",locations:[{start:{line:61,column:12},end:{line:63,column:13}},{start:{line:61,column:12},end:{line:63,column:13}}],line:61},1:{loc:{start:{line:81,column:8},end:{line:103,column:9}},type:"if",locations:[{start:{line:81,column:8},end:{line:103,column:9}},{start:{line:81,column:8},end:{line:103,column:9}}],line:81},2:{loc:{start:{line:87,column:13},end:{line:103,column:9}},type:"if",locations:[{start:{line:87,column:13},end:{line:103,column:9}},{start:{line:87,column:13},end:{line:103,column:9}}],line:87},3:{loc:{start:{line:99,column:12},end:{line:101,column:13}},type:"if",locations:[{start:{line:99,column:12},end:{line:101,column:13}},{start:{line:99,column:12},end:{line:101,column:13}}],line:99},4:{loc:{start:{line:114,column:23},end:{line:114,column:40}},type:"default-arg",locations:[{start:{line:114,column:38},end:{line:114,column:40}}],line:114},5:{loc:{start:{line:135,column:8},end:{line:137,column:9}},type:"if",locations:[{start:{line:135,column:8},end:{line:137,column:9}},{start:{line:135,column:8},end:{line:137,column:9}}],line:135},6:{loc:{start:{line:144,column:8},end:{line:146,column:9}},type:"if",locations:[{start:{line:144,column:8},end:{line:146,column:9}},{start:{line:144,column:8},end:{line:146,column:9}}],line:144},7:{loc:{start:{line:144,column:12},end:{line:144,column:102}},type:"binary-expr",locations:[{start:{line:144,column:12},end:{line:144,column:31}},{start:{line:144,column:36},end:{line:144,column:61}},{start:{line:144,column:65},end:{line:144,column:101}}],line:144},8:{loc:{start:{line:150,column:12},end:{line:158,column:13}},type:"if",locations:[{start:{line:150,column:12},end:{line:158,column:13}},{start:{line:150,column:12},end:{line:158,column:13}}],line:150},9:{loc:{start:{line:152,column:16},end:{line:157,column:17}},type:"if",locations:[{start:{line:152,column:16},end:{line:157,column:17}},{start:{line:152,column:16},end:{line:157,column:17}}],line:152},10:{loc:{start:{line:173,column:34},end:{line:173,column:65}},type:"binary-expr",locations:[{start:{line:173,column:34},end:{line:173,column:59}},{start:{line:173,column:63},end:{line:173,column:65}}],line:173},11:{loc:{start:{line:175,column:8},end:{line:188,column:9}},type:"if",locations:[{start:{line:175,column:8},end:{line:188,column:9}},{start:{line:175,column:8},end:{line:188,column:9}}],line:175},12:{loc:{start:{line:175,column:12},end:{line:175,column:71}},type:"binary-expr",locations:[{start:{line:175,column:12},end:{line:175,column:50}},{start:{line:175,column:54},end:{line:175,column:71}}],line:175},13:{loc:{start:{line:201,column:8},end:{line:203,column:9}},type:"if",locations:[{start:{line:201,column:8},end:{line:203,column:9}},{start:{line:201,column:8},end:{line:203,column:9}}],line:201},14:{loc:{start:{line:231,column:12},end:{line:233,column:13}},type:"if",locations:[{start:{line:231,column:12},end:{line:233,column:13}},{start:{line:231,column:12},end:{line:233,column:13}}],line:231},15:{loc:{start:{line:240,column:32},end:{line:240,column:88}},type:"cond-expr",locations:[{start:{line:240,column:64},end:{line:240,column:80}},{start:{line:240,column:83},end:{line:240,column:88}}],line:240},16:{loc:{start:{line:254,column:8},end:{line:262,column:9}},type:"if",locations:[{start:{line:254,column:8},end:{line:262,column:9}},{start:{line:254,column:8},end:{line:262,column:9}}],line:254},17:{loc:{start:{line:257,column:13},end:{line:262,column:9}},type:"if",locations:[{start:{line:257,column:13},end:{line:262,column:9}},{start:{line:257,column:13},end:{line:262,column:9}}],line:257},18:{loc:{start:{line:272,column:15},end:{line:272,column:96}},type:"binary-expr",locations:[{start:{line:272,column:15},end:{line:272,column:41}},{start:{line:272,column:45},end:{line:272,column:72}},{start:{line:272,column:76},end:{line:272,column:96}}],line:272},19:{loc:{start:{line:286,column:8},end:{line:288,column:9}},type:"if",locations:[{start:{line:286,column:8},end:{line:288,column:9}},{start:{line:286,column:8},end:{line:288,column:9}}],line:286}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0],5:[0,0],6:[0,0],7:[0,0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0,0],19:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/sanitizer.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/sanitizer.ts"],names:[],mappings:"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",sourcesContent:["/**\n * CodeX Sanitizer\n *\n * @module Sanitizer\n * Clears HTML from taint tags\n *\n * @version 2.0.0\n *\n * @example\n *  Module can be used within two ways:\n *     1) When you have an instance\n *         - this.Editor.Sanitizer.clean(yourTaintString);\n *     2) As static method\n *         - EditorJS.Sanitizer.clean(yourTaintString, yourCustomConfiguration);\n *\n * {@link SanitizerConfig}\n */\n\nimport Module from '../__module';\nimport * as _ from '../utils';\n\n/**\n * @typedef {object} SanitizerConfig\n * @property {object} tags - define tags restrictions\n *\n * @example\n *\n * tags : {\n *     p: true,\n *     a: {\n *       href: true,\n *       rel: \"nofollow\",\n *       target: \"_blank\"\n *     }\n * }\n */\n\nimport HTMLJanitor from 'html-janitor';\nimport { BlockToolData, InlineToolConstructable, SanitizerConfig } from '../../../types';\nimport { SavedData } from '../../../types/data-formats';\n\n/**\n *\n */\nexport default class Sanitizer extends Module {\n  /**\n   * Memoize tools config\n   */\n  private configCache: {[toolName: string]: SanitizerConfig} = {};\n\n  /**\n   * Cached inline tools config\n   */\n  private inlineToolsConfigCache: SanitizerConfig | null = null;\n\n  /**\n   * Sanitize Blocks\n   *\n   * Enumerate blocks and clean data\n   *\n   * @param {Array<{tool, data: BlockToolData}>} blocksData - blocks' data to sanitize\n   */\n  public sanitizeBlocks(\n    blocksData: Array<Pick<SavedData, 'data' | 'tool'>>\n  ): Array<Pick<SavedData, 'data' | 'tool'>> {\n    return blocksData.map((block) => {\n      const toolConfig = this.composeToolConfig(block.tool);\n\n      if (_.isEmpty(toolConfig)) {\n        return block;\n      }\n\n      block.data = this.deepSanitize(block.data, toolConfig) as BlockToolData;\n\n      return block;\n    });\n  }\n\n  /**\n   * Method recursively reduces Block's data and cleans with passed rules\n   *\n   * @param {BlockToolData|object|*} dataToSanitize - taint string or object/array that contains taint string\n   * @param {SanitizerConfig} rules - object with sanitizer rules\n   */\n  public deepSanitize(dataToSanitize: object | string, rules: SanitizerConfig): object | string {\n    /**\n     * BlockData It may contain 3 types:\n     *  - Array\n     *  - Object\n     *  - Primitive\n     */\n    if (Array.isArray(dataToSanitize)) {\n      /**\n       * Array: call sanitize for each item\n       */\n      return this.cleanArray(dataToSanitize, rules);\n    } else if (typeof dataToSanitize === 'object') {\n      /**\n       * Objects: just clean object deeper.\n       */\n      return this.cleanObject(dataToSanitize, rules);\n    } else {\n      /**\n       * Primitives (number|string|boolean): clean this item\n       *\n       * Clean only strings\n       */\n      if (typeof dataToSanitize === 'string') {\n        return this.cleanOneItem(dataToSanitize, rules);\n      }\n\n      return dataToSanitize;\n    }\n  }\n\n  /**\n   * Cleans string from unwanted tags\n   * Method allows to use default config\n   *\n   * @param {string} taintString - taint string\n   * @param {SanitizerConfig} customConfig - allowed tags\n   *\n   * @returns {string} clean HTML\n   */\n  public clean(taintString: string, customConfig: SanitizerConfig = {} as SanitizerConfig): string {\n    const sanitizerConfig = {\n      tags: customConfig,\n    };\n\n    /**\n     * API client can use custom config to manage sanitize process\n     */\n    const sanitizerInstance = this.createHTMLJanitorInstance(sanitizerConfig);\n\n    return sanitizerInstance.clean(taintString);\n  }\n\n  /**\n   * Merge with inline tool config\n   *\n   * @param {string} toolName - tool name\n   *\n   * @returns {SanitizerConfig}\n   */\n  public composeToolConfig(toolName: string): SanitizerConfig {\n    /**\n     * If cache is empty, then compose tool config and put it to the cache object\n     */\n    if (this.configCache[toolName]) {\n      return this.configCache[toolName];\n    }\n\n    const sanitizeGetter = this.Editor.Tools.INTERNAL_SETTINGS.SANITIZE_CONFIG;\n    const toolClass = this.Editor.Tools.available[toolName];\n    const baseConfig = this.getInlineToolsConfig(toolName);\n\n    /**\n     * If Tools doesn't provide sanitizer config or it is empty\n     */\n    if (!toolClass.sanitize || (toolClass[sanitizeGetter] && _.isEmpty(toolClass[sanitizeGetter]))) {\n      return baseConfig;\n    }\n\n    const toolRules = toolClass.sanitize;\n\n    const toolConfig = {} as SanitizerConfig;\n\n    for (const fieldName in toolRules) {\n      if (Object.prototype.hasOwnProperty.call(toolRules, fieldName)) {\n        const rule = toolRules[fieldName];\n\n        if (typeof rule === 'object') {\n          toolConfig[fieldName] = Object.assign({}, baseConfig, rule);\n        } else {\n          toolConfig[fieldName] = rule;\n        }\n      }\n    }\n    this.configCache[toolName] = toolConfig;\n\n    return toolConfig;\n  }\n\n  /**\n   * Returns Sanitizer config\n   * When Tool's \"inlineToolbar\" value is True, get all sanitizer rules from all tools,\n   * otherwise get only enabled\n   *\n   * @param {string} name - Inline Tool name\n   */\n  public getInlineToolsConfig(name: string): SanitizerConfig {\n    const { Tools } = this.Editor;\n    const toolsConfig = Tools.getToolSettings(name);\n    const enableInlineTools = toolsConfig.inlineToolbar || [];\n\n    let config = {} as SanitizerConfig;\n\n    if (typeof enableInlineTools === 'boolean' && enableInlineTools) {\n      /**\n       * getting all tools sanitizer rule\n       */\n      config = this.getAllInlineToolsConfig();\n    } else {\n      /**\n       * getting only enabled\n       */\n      (enableInlineTools as string[]).map((inlineToolName) => {\n        config = Object.assign(\n          config,\n          Tools.inline[inlineToolName][Tools.INTERNAL_SETTINGS.SANITIZE_CONFIG]\n        ) as SanitizerConfig;\n      });\n    }\n\n    /**\n     * Allow linebreaks\n     */\n    config['br'] = true;\n    config['wbr'] = true;\n\n    return config;\n  }\n\n  /**\n   * Return general config for all inline tools\n   */\n  public getAllInlineToolsConfig(): SanitizerConfig {\n    const { Tools } = this.Editor;\n\n    if (this.inlineToolsConfigCache) {\n      return this.inlineToolsConfigCache;\n    }\n\n    const config: SanitizerConfig = {} as SanitizerConfig;\n\n    Object.entries(Tools.inline)\n      .forEach(([, inlineTool]: [string, InlineToolConstructable]) => {\n        Object.assign(config, inlineTool[Tools.INTERNAL_SETTINGS.SANITIZE_CONFIG]);\n      });\n\n    this.inlineToolsConfigCache = config;\n\n    return this.inlineToolsConfigCache;\n  }\n\n  /**\n   * Clean array\n   *\n   * @param {Array} array - [1, 2, {}, []]\n   * @param {SanitizerConfig} ruleForItem - sanitizer config for array\n   */\n  private cleanArray(array: Array<object | string>, ruleForItem: SanitizerConfig): Array<object | string> {\n    return array.map((arrayItem) => this.deepSanitize(arrayItem, ruleForItem));\n  }\n\n  /**\n   * Clean object\n   *\n   * @param {object} object  - {level: 0, text: 'adada', items: [1,2,3]}}\n   * @param {object} rules - { b: true } or true|false\n   * @returns {object}\n   */\n  private cleanObject(object: object, rules: SanitizerConfig|{[field: string]: SanitizerConfig}): object {\n    const cleanData = {};\n\n    for (const fieldName in object) {\n      if (!Object.prototype.hasOwnProperty.call(object, fieldName)) {\n        continue;\n      }\n\n      const currentIterationItem = object[fieldName];\n\n      /**\n       *  Get object from config by field name\n       *   - if it is a HTML Janitor rule, call with this rule\n       *   - otherwise, call with parent's config\n       */\n      const ruleForItem = this.isRule(rules[fieldName] as SanitizerConfig) ? rules[fieldName] : rules;\n\n      cleanData[fieldName] = this.deepSanitize(currentIterationItem, ruleForItem as SanitizerConfig);\n    }\n\n    return cleanData;\n  }\n\n  /**\n   * Clean primitive value\n   *\n   * @param {string} taintString - string to clean\n   * @param {SanitizerConfig|boolean} rule - sanitizer rule\n   *\n   * @returns {string}\n   */\n  private cleanOneItem(taintString: string, rule: SanitizerConfig|boolean): string {\n    if (typeof rule === 'object') {\n      return this.clean(taintString, rule);\n    } else if (rule === false) {\n      return this.clean(taintString, {} as SanitizerConfig);\n    } else {\n      return taintString;\n    }\n  }\n\n  /**\n   * Check if passed item is a HTML Janitor rule:\n   *  { a : true }, {}, false, true, function(){} — correct rules\n   *  undefined, null, 0, 1, 2 — not a rules\n   *\n   * @param {SanitizerConfig} config - config to check\n   */\n  private isRule(config: SanitizerConfig): boolean {\n    return typeof config === 'object' || typeof config === 'boolean' || _.isFunction(config);\n  }\n\n  /**\n   * If developer uses editor's API, then he can customize sanitize restrictions.\n   * Or, sanitizing config can be defined globally in editors initialization. That config will be used everywhere\n   * At least, if there is no config overrides, that API uses Default configuration\n   *\n   * @see {@link https://www.npmjs.com/package/html-janitor}\n   * @license Apache-2.0\n   * @see {@link https://github.com/guardian/html-janitor/blob/master/LICENSE}\n   *\n   * @param {SanitizerConfig} config - sanitizer extension\n   */\n  private createHTMLJanitorInstance(config: {tags: SanitizerConfig}): HTMLJanitor|null {\n    if (config) {\n      return new HTMLJanitor(config);\n    }\n\n    return null;\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4f098ad330816100701fcf9d95e75cd1ecd59143"});var l=t[n];return p=function(){return l},l}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=f(l),o=f(o),i=f(i),c=f(c),s=f(s),r=f(r),C=f(C),a=f(a),u=d(u),m=f(m),p();var I=function(n){(0,s.default)(t,n);var A,e=(A=t,function(){var n,e=(0,C.default)(A);if(E()){var t=(0,C.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,r.default)(this,n)});function t(){var n;return(0,i.default)(this,t),p().f[0]++,p().s[0]++,n=e.apply(this,arguments),p().s[1]++,n.configCache={},p().s[2]++,n.inlineToolsConfigCache=null,n}return(0,c.default)(t,[{key:"sanitizeBlocks",value:function(n){var A=this;return p().f[1]++,p().s[3]++,n.map((function(n){p().f[2]++;var e=(p().s[4]++,A.composeToolConfig(n.tool));return p().s[5]++,u.isEmpty(e)?(p().b[0][0]++,p().s[6]++,n):(p().b[0][1]++,p().s[7]++,n.data=A.deepSanitize(n.data,e),p().s[8]++,n)}))}},{key:"deepSanitize",value:function(n,A){return p().f[3]++,p().s[9]++,Array.isArray(n)?(p().b[1][0]++,p().s[10]++,this.cleanArray(n,A)):(p().b[1][1]++,p().s[11]++,"object"===(0,o.default)(n)?(p().b[2][0]++,p().s[12]++,this.cleanObject(n,A)):(p().b[2][1]++,p().s[13]++,"string"==typeof n?(p().b[3][0]++,p().s[14]++,this.cleanOneItem(n,A)):(p().b[3][1]++,p().s[15]++,n)))}},{key:"clean",value:function(n){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(p().b[4][0]++,{});p().f[4]++;var e=(p().s[16]++,{tags:A}),t=(p().s[17]++,this.createHTMLJanitorInstance(e));return p().s[18]++,t.clean(n)}},{key:"composeToolConfig",value:function(n){if(p().f[5]++,p().s[19]++,this.configCache[n])return p().b[5][0]++,p().s[20]++,this.configCache[n];p().b[5][1]++;var A=(p().s[21]++,this.Editor.Tools.INTERNAL_SETTINGS.SANITIZE_CONFIG),e=(p().s[22]++,this.Editor.Tools.available[n]),t=(p().s[23]++,this.getInlineToolsConfig(n));if(p().s[24]++,p().b[7][0]++,!e.sanitize||(p().b[7][1]++,e[A]&&(p().b[7][2]++,u.isEmpty(e[A]))))return p().b[6][0]++,p().s[25]++,t;p().b[6][1]++;var l=(p().s[26]++,e.sanitize),i=(p().s[27]++,{});for(var c in p().s[28]++,l)if(p().s[29]++,Object.prototype.hasOwnProperty.call(l,c)){p().b[8][0]++;var s=(p().s[30]++,l[c]);p().s[31]++,"object"===(0,o.default)(s)?(p().b[9][0]++,p().s[32]++,i[c]=Object.assign({},t,s)):(p().b[9][1]++,p().s[33]++,i[c]=s)}else p().b[8][1]++;return p().s[34]++,this.configCache[n]=i,p().s[35]++,i}},{key:"getInlineToolsConfig",value:function(n){p().f[6]++;var A=(p().s[36]++,this.Editor).Tools,e=(p().s[37]++,A.getToolSettings(n)),t=(p().s[38]++,p().b[10][0]++,e.inlineToolbar||(p().b[10][1]++,[])),l=(p().s[39]++,{});return p().s[40]++,p().b[12][0]++,"boolean"==typeof t&&(p().b[12][1]++,t)?(p().b[11][0]++,p().s[41]++,l=this.getAllInlineToolsConfig()):(p().b[11][1]++,p().s[42]++,t.map((function(n){p().f[7]++,p().s[43]++,l=Object.assign(l,A.inline[n][A.INTERNAL_SETTINGS.SANITIZE_CONFIG])}))),p().s[44]++,l.br=!0,p().s[45]++,l.wbr=!0,p().s[46]++,l}},{key:"getAllInlineToolsConfig",value:function(){p().f[8]++;var n=(p().s[47]++,this.Editor).Tools;if(p().s[48]++,this.inlineToolsConfigCache)return p().b[13][0]++,p().s[49]++,this.inlineToolsConfigCache;p().b[13][1]++;var A=(p().s[50]++,{});return p().s[51]++,Object.entries(n.inline).forEach((function(e){var t=(0,l.default)(e,2)[1];p().f[9]++,p().s[52]++,Object.assign(A,t[n.INTERNAL_SETTINGS.SANITIZE_CONFIG])})),p().s[53]++,this.inlineToolsConfigCache=A,p().s[54]++,this.inlineToolsConfigCache}},{key:"cleanArray",value:function(n,A){var e=this;return p().f[10]++,p().s[55]++,n.map((function(n){return p().f[11]++,p().s[56]++,e.deepSanitize(n,A)}))}},{key:"cleanObject",value:function(n,A){p().f[12]++;var e=(p().s[57]++,{});for(var t in p().s[58]++,n)if(p().s[59]++,Object.prototype.hasOwnProperty.call(n,t)){p().b[14][1]++;var l=(p().s[61]++,n[t]),o=(p().s[62]++,this.isRule(A[t])?(p().b[15][0]++,A[t]):(p().b[15][1]++,A));p().s[63]++,e[t]=this.deepSanitize(l,o)}else p().b[14][0]++,p().s[60]++;return p().s[64]++,e}},{key:"cleanOneItem",value:function(n,A){return p().f[13]++,p().s[65]++,"object"===(0,o.default)(A)?(p().b[16][0]++,p().s[66]++,this.clean(n,A)):(p().b[16][1]++,p().s[67]++,!1===A?(p().b[17][0]++,p().s[68]++,this.clean(n,{})):(p().b[17][1]++,p().s[69]++,n))}},{key:"isRule",value:function(n){return p().f[14]++,p().s[70]++,p().b[18][0]++,"object"===(0,o.default)(n)||(p().b[18][1]++,"boolean"==typeof n)||(p().b[18][2]++,u.isFunction(n))}},{key:"createHTMLJanitorInstance",value:function(n){return p().f[15]++,p().s[71]++,n?(p().b[19][0]++,p().s[72]++,new m.default(n)):(p().b[19][1]++,p().s[73]++,null)}}]),t}(a.default);t.default=I,I.displayName="Sanitizer",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(7),e(8)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u){"use strict";var m=e(13),d=e(1);function f(){var n="/home/hata/editor.js/src/components/modules/saver.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"2cd026f83e4e1fd320215cbf56682fbd2a0ca94e"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/saver.ts",statementMap:{0:{start:{line:24,column:67},end:{line:24,column:78}},1:{start:{line:25,column:23},end:{line:25,column:42}},2:{start:{line:25,column:56},end:{line:25,column:58}},3:{start:{line:29,column:8},end:{line:29,column:40}},4:{start:{line:30,column:8},end:{line:40,column:9}},5:{start:{line:31,column:12},end:{line:33,column:15}},6:{start:{line:32,column:16},end:{line:32,column:57}},7:{start:{line:34,column:34},end:{line:34,column:62}},8:{start:{line:35,column:34},end:{line:35,column:79}},9:{start:{line:36,column:12},end:{line:36,column:50}},10:{start:{line:39,column:12},end:{line:39,column:43}},11:{start:{line:49,column:26},end:{line:49,column:44}},12:{start:{line:50,column:24},end:{line:50,column:73}},13:{start:{line:51,column:8},end:{line:51,column:72}},14:{start:{line:60,column:24},end:{line:60,column:25}},15:{start:{line:61,column:23},end:{line:61,column:25}},16:{start:{line:62,column:8},end:{line:62,column:55}},17:{start:{line:63,column:8},end:{line:88,column:11}},18:{start:{line:64,column:12},end:{line:64,column:30}},19:{start:{line:68,column:12},end:{line:68,column:78}},20:{start:{line:69,column:12},end:{line:78,column:13}},21:{start:{line:71,column:16},end:{line:71,column:28}},22:{start:{line:72,column:16},end:{line:72,column:45}},23:{start:{line:75,column:16},end:{line:75,column:79}},24:{start:{line:76,column:16},end:{line:76,column:45}},25:{start:{line:77,column:16},end:{line:77,column:23}},26:{start:{line:80,column:12},end:{line:83,column:13}},27:{start:{line:81,column:16},end:{line:81,column:34}},28:{start:{line:82,column:16},end:{line:82,column:23}},29:{start:{line:84,column:12},end:{line:87,column:15}},30:{start:{line:89,column:8},end:{line:89,column:41}},31:{start:{line:90,column:8},end:{line:90,column:37}},32:{start:{line:91,column:8},end:{line:95,column:10}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:17},end:{line:41,column:5}},line:23},1:{name:"(anonymous_1)",decl:{start:{line:31,column:27},end:{line:31,column:28}},loc:{start:{line:31,column:38},end:{line:33,column:13}},line:31},2:{name:"(anonymous_2)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:30},end:{line:52,column:5}},line:48},3:{name:"(anonymous_3)",decl:{start:{line:59,column:4},end:{line:59,column:5}},loc:{start:{line:59,column:33},end:{line:96,column:5}},line:59},4:{name:"(anonymous_4)",decl:{start:{line:63,column:33},end:{line:63,column:34}},loc:{start:{line:63,column:68},end:{line:88,column:9}},line:63}},branchMap:{0:{loc:{start:{line:50,column:24},end:{line:50,column:73}},type:"binary-expr",locations:[{start:{line:50,column:24},end:{line:50,column:33}},{start:{line:50,column:37},end:{line:50,column:73}}],line:50},1:{loc:{start:{line:69,column:12},end:{line:78,column:13}},type:"if",locations:[{start:{line:69,column:12},end:{line:78,column:13}},{start:{line:69,column:12},end:{line:78,column:13}}],line:69},2:{loc:{start:{line:80,column:12},end:{line:83,column:13}},type:"if",locations:[{start:{line:80,column:12},end:{line:83,column:13}},{start:{line:80,column:12},end:{line:83,column:13}}],line:80}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/saver.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/saver.ts"],names:[],mappings:"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",sourcesContent:["/**\n * Editor.js Saver\n *\n * @module Saver\n * @author Codex Team\n * @version 2.0.0\n */\nimport Module from '../__module';\nimport { OutputData } from '../../../types';\nimport { ValidatedData } from '../../../types/data-formats';\nimport Block from '../block';\nimport * as _ from '../utils';\n\ndeclare const VERSION: string;\n\n/**\n * @classdesc This method reduces all Blocks asyncronically and calls Block's save method to extract data\n *\n * @typedef {Saver} Saver\n * @property {Element} html - Editor HTML content\n * @property {string} json - Editor JSON output\n */\nexport default class Saver extends Module {\n  /**\n   * Composes new chain of Promises to fire them alternatelly\n   *\n   * @returns {OutputData}\n   */\n  public async save(): Promise<OutputData> {\n    const { BlockManager, Sanitizer, ModificationsObserver } = this.Editor;\n    const blocks = BlockManager.blocks,\n        chainData = [];\n\n    /**\n     * Disable modifications observe while saving\n     */\n    ModificationsObserver.disable();\n\n    try {\n      blocks.forEach((block: Block) => {\n        chainData.push(this.getSavedData(block));\n      });\n\n      const extractedData = await Promise.all(chainData);\n      const sanitizedData = await Sanitizer.sanitizeBlocks(extractedData);\n\n      return this.makeOutput(sanitizedData);\n    } finally {\n      ModificationsObserver.enable();\n    }\n  }\n\n  /**\n   * Saves and validates\n   *\n   * @param {Block} block - Editor's Tool\n   * @returns {ValidatedData} - Tool's validated data\n   */\n  private async getSavedData(block: Block): Promise<ValidatedData> {\n    const blockData = await block.save();\n    const isValid = blockData && await block.validate(blockData.data);\n\n    return {\n      ...blockData,\n      isValid,\n    };\n  }\n\n  /**\n   * Creates output object with saved data, time and version of editor\n   *\n   * @param {ValidatedData} allExtractedData - data extracted from Blocks\n   * @returns {OutputData}\n   */\n  private makeOutput(allExtractedData): OutputData {\n    let totalTime = 0;\n    const blocks = [];\n\n    _.log('[Editor.js saving]:', 'groupCollapsed');\n\n    allExtractedData.forEach(({ tool, data, time, isValid }) => {\n      totalTime += time;\n\n      /**\n       * Capitalize Tool name\n       */\n      _.log(`${tool.charAt(0).toUpperCase() + tool.slice(1)}`, 'group');\n\n      if (isValid) {\n        /** Group process info */\n        _.log(data);\n        _.log(undefined, 'groupEnd');\n      } else {\n        _.log(`Block «${tool}» skipped because saved data is invalid`);\n        _.log(undefined, 'groupEnd');\n\n        return;\n      }\n\n      /** If it was stub Block, get original data */\n      if (tool === this.Editor.Tools.stubTool) {\n        blocks.push(data);\n\n        return;\n      }\n\n      blocks.push({\n        type: tool,\n        data,\n      });\n    });\n\n    _.log('Total', 'log', totalTime);\n    _.log(undefined, 'groupEnd');\n\n    return {\n      time: +new Date(),\n      blocks,\n      version: VERSION,\n    };\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2cd026f83e4e1fd320215cbf56682fbd2a0ca94e"});var l=t[n];return f=function(){return l},l}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=d(l),o=d(o),i=d(i),c=d(c),s=d(s),r=d(r),C=d(C),a=d(a),u=m(u),f();var E=function(n){(0,s.default)(m,n);var A,e,t,a=(A=m,function(){var n,e=(0,C.default)(A);if(p()){var t=(0,C.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,r.default)(this,n)});function m(){return(0,i.default)(this,m),a.apply(this,arguments)}return(0,c.default)(m,[{key:"save",value:(t=(0,o.default)(l.default.mark((function n(){var A,e,t,o,i,c,s,r,C=this;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f().f[0]++,f().s[0]++,A=this.Editor,e=A.BlockManager,t=A.Sanitizer,o=A.ModificationsObserver,f().s[1]++,i=e.blocks,f().s[2]++,c=[],f().s[3]++,o.disable(),f().s[4]++,n.prev=6,f().s[5]++,i.forEach((function(n){f().f[1]++,f().s[6]++,c.push(C.getSavedData(n))})),f().s[7]++,n.next=12,Promise.all(c);case 12:return s=n.sent,f().s[8]++,n.next=16,t.sanitizeBlocks(s);case 16:return r=n.sent,f().s[9]++,n.abrupt("return",this.makeOutput(r));case 19:return n.prev=19,f().s[10]++,o.enable(),n.finish(19);case 23:case"end":return n.stop()}}),n,this,[[6,,19,23]])}))),function(){return t.apply(this,arguments)})},{key:"getSavedData",value:(e=(0,o.default)(l.default.mark((function n(A){var e,t;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f().f[2]++,f().s[11]++,n.next=4,A.save();case 4:if(e=n.sent,f().s[12]++,n.t0=(f().b[0][0]++,e),!n.t0){n.next=12;break}return f().b[0][1]++,n.next=11,A.validate(e.data);case 11:n.t0=n.sent;case 12:return t=n.t0,f().s[13]++,n.abrupt("return",Object.assign(Object.assign({},e),{isValid:t}));case 15:case"end":return n.stop()}}),n)}))),function(n){return e.apply(this,arguments)})},{key:"makeOutput",value:function(n){var A=this;f().f[3]++;var e=(f().s[14]++,0),t=(f().s[15]++,[]);return f().s[16]++,u.log("[Editor.js saving]:","groupCollapsed"),f().s[17]++,n.forEach((function(n){var l=n.tool,o=n.data,i=n.time,c=n.isValid;return f().f[4]++,f().s[18]++,e+=i,f().s[19]++,u.log("".concat(l.charAt(0).toUpperCase()+l.slice(1)),"group"),f().s[20]++,c?(f().b[1][0]++,f().s[21]++,u.log(o),f().s[22]++,u.log(void 0,"groupEnd"),f().s[26]++,l===A.Editor.Tools.stubTool?(f().b[2][0]++,f().s[27]++,t.push(o),void f().s[28]++):(f().b[2][1]++,f().s[29]++,void t.push({type:l,data:o}))):(f().b[1][1]++,f().s[23]++,u.log("Block «".concat(l,"» skipped because saved data is invalid")),f().s[24]++,u.log(void 0,"groupEnd"),void f().s[25]++)})),f().s[30]++,u.log("Total","log",e),f().s[31]++,u.log(void 0,"groupEnd"),f().s[32]++,{time:+new Date,blocks:t,version:"2.19.0"}}}]),m}(a.default);t.default=E,E.displayName="Saver",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(386),e(7)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C){"use strict";var a=e(1);function u(){var n="/home/hata/editor.js/src/components/modules/shortcuts.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"8c5a6a227ef27fe533ec9354033ecd0ac963f9ab"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/shortcuts.ts",statementMap:{0:{start:{line:14,column:8},end:{line:14,column:28}},1:{start:{line:20,column:8},end:{line:20,column:38}},2:{start:{line:28,column:28},end:{line:32,column:10}},3:{start:{line:33,column:8},end:{line:33,column:51}},4:{start:{line:41,column:22},end:{line:41,column:88}},5:{start:{line:41,column:66},end:{line:41,column:87}},6:{start:{line:42,column:8},end:{line:44,column:9}},7:{start:{line:43,column:12},end:{line:43,column:19}},8:{start:{line:45,column:8},end:{line:45,column:49}},9:{start:{line:46,column:8},end:{line:46,column:50}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:18},end:{line:21,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:18},end:{line:34,column:5}},line:27},2:{name:"(anonymous_2)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:21},end:{line:47,column:5}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:41,column:57},end:{line:41,column:58}},loc:{start:{line:41,column:66},end:{line:41,column:87}},line:41}},branchMap:{0:{loc:{start:{line:42,column:8},end:{line:44,column:9}},type:"if",locations:[{start:{line:42,column:8},end:{line:44,column:9}},{start:{line:42,column:8},end:{line:44,column:9}}],line:42},1:{loc:{start:{line:42,column:12},end:{line:42,column:60}},type:"binary-expr",locations:[{start:{line:42,column:12},end:{line:42,column:24}},{start:{line:42,column:28},end:{line:42,column:60}}],line:42}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/shortcuts.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/shortcuts.ts"],names:[],mappings:"AAAA,OAAO,QAAQ,MAAM,sBAAsB,CAAC;AAE5C;;GAEG;AACH,OAAO,MAAM,MAAM,aAAa,CAAC;AAwBjC;;;;;GAKG;AACH,MAAM,CAAC,OAAO,OAAO,SAAU,SAAQ,MAAM;IAA7C;;QACE;;;;WAIG;QACK,wBAAmB,GAAe,EAAE,CAAC;IAgC/C,CAAC;IA9BC;;;;OAIG;IACI,GAAG,CAAC,QAAsB;QAC/B,MAAM,WAAW,GAAG,IAAI,QAAQ,CAAC;YAC/B,IAAI,EAAE,QAAQ,CAAC,IAAI;YACnB,EAAE,EAAE,QAAQ;YACZ,QAAQ,EAAE,QAAQ,CAAC,OAAO;SAC3B,CAAC,CAAC;QAEH,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC7C,CAAC;IAED;;;;OAIG;IACI,MAAM,CAAC,QAAgB;QAC5B,MAAM,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC;QAEjF,IAAI,KAAK,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,EAAE;YACpD,OAAO;SACR;QAED,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC;QACzC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC5C,CAAC;CACF",sourcesContent:["import Shortcut from '@codexteam/shortcuts';\n\n/**\n * Contains keyboard and mouse events binded on each Block by Block Manager\n */\nimport Module from '../__module';\n\n/**\n * ShortcutData interface\n * Each shortcut must have name and handler\n * `name` is a shortcut, like 'CMD+K', 'CMD+B' etc\n * `handler` is a callback\n *\n * @interface ShortcutData\n */\nexport interface ShortcutData {\n\n  /**\n   * Shortcut name\n   * Ex. CMD+I, CMD+B ....\n   */\n  name: string;\n\n  /**\n   * Shortcut handler\n   */\n  handler(event): void;\n}\n\n/**\n * @class Shortcut\n * @classdesc Allows to register new shortcut\n *\n * Internal Shortcuts Module\n */\nexport default class Shortcuts extends Module {\n  /**\n   * All registered shortcuts\n   *\n   * @type {Shortcut[]}\n   */\n  private registeredShortcuts: Shortcut[] = [];\n\n  /**\n   * Register shortcut\n   *\n   * @param {ShortcutData} shortcut - shortcut options\n   */\n  public add(shortcut: ShortcutData): void {\n    const newShortcut = new Shortcut({\n      name: shortcut.name,\n      on: document, // UI.nodes.redactor\n      callback: shortcut.handler,\n    });\n\n    this.registeredShortcuts.push(newShortcut);\n  }\n\n  /**\n   * Remove shortcut\n   *\n   * @param {string} shortcut - shortcut name\n   */\n  public remove(shortcut: string): void {\n    const index = this.registeredShortcuts.findIndex((shc) => shc.name === shortcut);\n\n    if (index === -1 || !this.registeredShortcuts[index]) {\n      return;\n    }\n\n    this.registeredShortcuts[index].remove();\n    this.registeredShortcuts.splice(index, 1);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8c5a6a227ef27fe533ec9354033ecd0ac963f9ab"});var l=t[n];return u=function(){return l},l}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=a(l),o=a(o),i=a(i),c=a(c),s=a(s),r=a(r),C=a(C),u();var d=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(m()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){var n;return(0,l.default)(this,t),u().f[0]++,u().s[0]++,n=e.apply(this,arguments),u().s[1]++,n.registeredShortcuts=[],n}return(0,o.default)(t,[{key:"add",value:function(n){u().f[1]++;var A=(u().s[2]++,new r.default({name:n.name,on:document,callback:n.handler}));u().s[3]++,this.registeredShortcuts.push(A)}},{key:"remove",value:function(n){u().f[2]++;var A=(u().s[4]++,this.registeredShortcuts.findIndex((function(A){return u().f[3]++,u().s[5]++,A.name===n})));if(u().s[6]++,u().b[1][0]++,-1===A||(u().b[1][1]++,!this.registeredShortcuts[A]))return u().b[0][0]++,void u().s[7]++;u().b[0][1]++,u().s[8]++,this.registeredShortcuts[A].remove(),u().s[9]++,this.registeredShortcuts.splice(A,1)}}]),t}(C.default);t.default=d,d.displayName="Shortcuts",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7),e(15),e(60),e(8),e(25)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u,m){"use strict";var d=e(13),f=e(1);function p(){var n="/home/hata/editor.js/src/components/modules/toolbar/blockSettings.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"de9dd74ed8239ad4bd1384b5e1b5a1c7d6ae49b8"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/toolbar/blockSettings.ts",statementMap:{0:{start:{line:19,column:8},end:{line:19,column:28}},1:{start:{line:23,column:8},end:{line:23,column:26}},2:{start:{line:29,column:8},end:{line:29,column:28}},3:{start:{line:33,column:8},end:{line:33,column:46}},4:{start:{line:41,column:8},end:{line:44,column:10}},5:{start:{line:52,column:8},end:{line:61,column:10}},6:{start:{line:69,column:8},end:{line:69,column:77}},7:{start:{line:77,column:8},end:{line:77,column:61}},8:{start:{line:78,column:8},end:{line:78,column:71}},9:{start:{line:79,column:8},end:{line:79,column:77}},10:{start:{line:80,column:8},end:{line:80,column:92}},11:{start:{line:85,column:8},end:{line:85,column:29}},12:{start:{line:91,column:8},end:{line:91,column:34}},13:{start:{line:92,column:8},end:{line:92,column:28}},14:{start:{line:93,column:8},end:{line:93,column:30}},15:{start:{line:99,column:8},end:{line:99,column:65}},16:{start:{line:104,column:8},end:{line:104,column:30}},17:{start:{line:108,column:8},end:{line:108,column:62}},18:{start:{line:109,column:8},end:{line:109,column:48}},19:{start:{line:113,column:8},end:{line:113,column:31}},20:{start:{line:117,column:8},end:{line:117,column:34}},21:{start:{line:119,column:8},end:{line:119,column:52}},22:{start:{line:120,column:8},end:{line:120,column:54}},23:{start:{line:126,column:8},end:{line:126,column:68}},24:{start:{line:134,column:8},end:{line:136,column:9}},25:{start:{line:135,column:12},end:{line:135,column:37}},26:{start:{line:137,column:8},end:{line:137,column:36}},27:{start:{line:139,column:8},end:{line:139,column:47}},28:{start:{line:140,column:8},end:{line:140,column:50}},29:{start:{line:142,column:8},end:{line:142,column:52}},30:{start:{line:144,column:8},end:{line:144,column:26}},31:{start:{line:146,column:8},end:{line:146,column:34}},32:{start:{line:154,column:30},end:{line:154,column:41}},33:{start:{line:159,column:8},end:{line:161,column:9}},34:{start:{line:160,column:12},end:{line:160,column:32}},35:{start:{line:162,column:29},end:{line:164,column:71}},36:{start:{line:165,column:32},end:{line:165,column:98}},37:{start:{line:166,column:8},end:{line:168,column:11}},38:{start:{line:167,column:12},end:{line:167,column:36}},39:{start:{line:169,column:8},end:{line:171,column:11}},40:{start:{line:170,column:12},end:{line:170,column:36}},41:{start:{line:172,column:8},end:{line:172,column:28}},42:{start:{line:178,column:8},end:{line:180,column:9}},43:{start:{line:179,column:12},end:{line:179,column:107}},44:{start:{line:186,column:8},end:{line:186,column:98}},45:{start:{line:193,column:8},end:{line:214,column:11}},46:{start:{line:202,column:16},end:{line:205,column:17}},47:{start:{line:203,column:20},end:{line:203,column:33}},48:{start:{line:204,column:20},end:{line:204,column:27}},49:{start:{line:210,column:16},end:{line:212,column:25}},50:{start:{line:211,column:20},end:{line:211,column:88}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:18},end:{line:34,column:5}},line:18},1:{name:"(anonymous_1)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:17},end:{line:45,column:5}},line:40},2:{name:"(anonymous_2)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:14},end:{line:62,column:5}},line:51},3:{name:"(anonymous_3)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:17},end:{line:70,column:5}},line:68},4:{name:"(anonymous_4)",decl:{start:{line:76,column:4},end:{line:76,column:5}},loc:{start:{line:76,column:11},end:{line:86,column:5}},line:76},5:{name:"(anonymous_5)",decl:{start:{line:90,column:4},end:{line:90,column:5}},loc:{start:{line:90,column:14},end:{line:94,column:5}},line:90},6:{name:"(anonymous_6)",decl:{start:{line:98,column:4},end:{line:98,column:5}},loc:{start:{line:98,column:11},end:{line:121,column:5}},line:98},7:{name:"(anonymous_7)",decl:{start:{line:125,column:4},end:{line:125,column:5}},loc:{start:{line:125,column:12},end:{line:147,column:5}},line:125},8:{name:"(anonymous_8)",decl:{start:{line:153,column:4},end:{line:153,column:5}},loc:{start:{line:153,column:28},end:{line:173,column:5}},line:153},9:{name:"(anonymous_9)",decl:{start:{line:166,column:29},end:{line:166,column:30}},loc:{start:{line:166,column:39},end:{line:168,column:9}},line:166},10:{name:"(anonymous_10)",decl:{start:{line:169,column:32},end:{line:169,column:33}},loc:{start:{line:169,column:42},end:{line:171,column:9}},line:169},11:{name:"(anonymous_11)",decl:{start:{line:177,column:4},end:{line:177,column:5}},loc:{start:{line:177,column:22},end:{line:181,column:5}},line:177},12:{name:"(anonymous_12)",decl:{start:{line:185,column:4},end:{line:185,column:5}},loc:{start:{line:185,column:25},end:{line:187,column:5}},line:185},13:{name:"(anonymous_13)",decl:{start:{line:192,column:4},end:{line:192,column:5}},loc:{start:{line:192,column:20},end:{line:215,column:5}},line:192},14:{name:"(anonymous_14)",decl:{start:{line:198,column:30},end:{line:198,column:31}},loc:{start:{line:198,column:47},end:{line:213,column:13}},line:198},15:{name:"(anonymous_15)",decl:{start:{line:210,column:24},end:{line:210,column:25}},loc:{start:{line:210,column:30},end:{line:212,column:17}},line:210}},branchMap:{0:{loc:{start:{line:134,column:8},end:{line:136,column:9}},type:"if",locations:[{start:{line:134,column:8},end:{line:136,column:9}},{start:{line:134,column:8},end:{line:136,column:9}}],line:134},1:{loc:{start:{line:159,column:8},end:{line:161,column:9}},type:"if",locations:[{start:{line:159,column:8},end:{line:161,column:9}},{start:{line:159,column:8},end:{line:161,column:9}}],line:159},2:{loc:{start:{line:178,column:8},end:{line:180,column:9}},type:"if",locations:[{start:{line:178,column:8},end:{line:180,column:9}},{start:{line:178,column:8},end:{line:180,column:9}}],line:178},3:{loc:{start:{line:202,column:16},end:{line:205,column:17}},type:"if",locations:[{start:{line:202,column:16},end:{line:205,column:17}},{start:{line:202,column:16},end:{line:205,column:17}}],line:202},4:{loc:{start:{line:202,column:20},end:{line:202,column:61}},type:"binary-expr",locations:[{start:{line:202,column:20},end:{line:202,column:31}},{start:{line:202,column:35},end:{line:202,column:61}}],line:202}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/toolbar/blockSettings.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/toolbar/blockSettings.ts"],names:[],mappings:"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",sourcesContent:["import Module from '../../__module';\nimport $ from '../../dom';\nimport Flipper, { FlipperOptions } from '../../flipper';\nimport * as _ from '../../utils';\nimport SelectionUtils from '../../selection';\n\n/**\n * HTML Elements that used for BlockSettings\n */\ninterface BlockSettingsNodes {\n  wrapper: HTMLElement;\n  toolSettings: HTMLElement;\n  defaultSettings: HTMLElement;\n}\n\n/**\n * Block Settings\n *\n *   ____ Settings Panel ____\n *  | ...................... |\n *  | .   Tool Settings    . |\n *  | ...................... |\n *  | .  Default Settings  . |\n *  | ...................... |\n *  |________________________|\n */\nexport default class BlockSettings extends Module<BlockSettingsNodes> {\n  /**\n   * Module Events\n   *\n   * @returns {{opened: string, closed: string}}\n   */\n  public get events(): {opened: string; closed: string} {\n    return {\n      opened: 'block-settings-opened',\n      closed: 'block-settings-closed',\n    };\n  }\n\n  /**\n   * Block Settings CSS\n   *\n   * @returns {{wrapper, wrapperOpened, toolSettings, defaultSettings, button}}\n   */\n  public get CSS(): {[name: string]: string} {\n    return {\n      // Settings Panel\n      wrapper: 'ce-settings',\n      wrapperOpened: 'ce-settings--opened',\n      toolSettings: 'ce-settings__plugin-zone',\n      defaultSettings: 'ce-settings__default-zone',\n\n      button: 'ce-settings__button',\n\n      focusedButton: 'ce-settings__button--focused',\n      focusedButtonAnimated: 'ce-settings__button--focused-animated',\n    };\n  }\n\n  /**\n   * Is Block Settings opened or not\n   *\n   * @returns {boolean}\n   */\n  public get opened(): boolean {\n    return this.nodes.wrapper.classList.contains(this.CSS.wrapperOpened);\n  }\n\n  /**\n   * List of buttons\n   */\n  private buttons: HTMLElement[] = [];\n\n  /**\n   * Instance of class that responses for leafing buttons by arrows/tab\n   *\n   * @type {Flipper|null}\n   */\n  private flipper: Flipper = null;\n\n  /**\n   * Page selection utils\n   */\n  private selection: SelectionUtils = new SelectionUtils();\n\n  /**\n   * Panel with block settings with 2 sections:\n   *  - Tool's Settings\n   *  - Default Settings [Move, Remove, etc]\n   */\n  public make(): void {\n    this.nodes.wrapper = $.make('div', this.CSS.wrapper);\n\n    this.nodes.toolSettings = $.make('div', this.CSS.toolSettings);\n    this.nodes.defaultSettings = $.make('div', this.CSS.defaultSettings);\n\n    $.append(this.nodes.wrapper, [this.nodes.toolSettings, this.nodes.defaultSettings]);\n\n    /**\n     * Active leafing by arrows/tab\n     * Buttons will be filled on opening\n     */\n    this.enableFlipper();\n  }\n\n  /**\n   * Destroys module\n   */\n  public destroy(): void {\n    this.flipper.deactivate();\n    this.flipper = null;\n    this.removeAllNodes();\n  }\n\n  /**\n   * Open Block Settings pane\n   */\n  public open(): void {\n    this.nodes.wrapper.classList.add(this.CSS.wrapperOpened);\n\n    /**\n     * If block settings contains any inputs, focus will be set there,\n     * so we need to save current selection to restore it after block settings is closed\n     */\n    this.selection.save();\n\n    /**\n     * Highlight content of a Block we are working with\n     */\n    this.Editor.BlockManager.currentBlock.selected = true;\n    this.Editor.BlockSelection.clearCache();\n\n    /**\n     * Fill Tool's settings\n     */\n    this.addToolSettings();\n\n    /**\n     * Add default settings that presents for all Blocks\n     */\n    this.addDefaultSettings();\n\n    /** Tell to subscribers that block settings is opened */\n    this.Editor.Events.emit(this.events.opened);\n\n    this.flipper.activate(this.blockTunesButtons);\n  }\n\n  /**\n   * Close Block Settings pane\n   */\n  public close(): void {\n    this.nodes.wrapper.classList.remove(this.CSS.wrapperOpened);\n\n    /**\n     * If selection is at editor on Block Settings closing,\n     * it means that caret placed at some editable element inside the Block Settings.\n     * Previously we have saved the selection, then open the Block Settings and set caret to the input\n     *\n     * So, we need to restore selection back to Block after closing the Block Settings\n     */\n    if (!SelectionUtils.isAtEditor) {\n      this.selection.restore();\n    }\n\n    this.selection.clearSaved();\n\n    /** Clear settings */\n    this.nodes.toolSettings.innerHTML = '';\n    this.nodes.defaultSettings.innerHTML = '';\n\n    /** Tell to subscribers that block settings is closed */\n    this.Editor.Events.emit(this.events.closed);\n\n    /** Clear cached buttons */\n    this.buttons = [];\n\n    /** Clear focus on active button */\n    this.flipper.deactivate();\n  }\n\n  /**\n   * Returns Tools Settings and Default Settings\n   *\n   * @returns {HTMLElement[]}\n   */\n  public get blockTunesButtons(): HTMLElement[] {\n    const { StylesAPI } = this.Editor;\n\n    /**\n     * Return from cache\n     * if exists\n     */\n    if (this.buttons.length !== 0) {\n      return this.buttons;\n    }\n\n    const toolSettings = this.nodes.toolSettings.querySelectorAll(\n      // Select buttons and inputs\n      `.${StylesAPI.classes.settingsButton}, ${$.allInputsSelector}`\n    );\n    const defaultSettings = this.nodes.defaultSettings.querySelectorAll(`.${this.CSS.button}`);\n\n    toolSettings.forEach((item) => {\n      this.buttons.push((item as HTMLElement));\n    });\n\n    defaultSettings.forEach((item) => {\n      this.buttons.push((item as HTMLElement));\n    });\n\n    return this.buttons;\n  }\n\n  /**\n   * Add Tool's settings\n   */\n  private addToolSettings(): void {\n    if (_.isFunction(this.Editor.BlockManager.currentBlock.tool.renderSettings)) {\n      $.append(this.nodes.toolSettings, this.Editor.BlockManager.currentBlock.tool.renderSettings());\n    }\n  }\n\n  /**\n   * Add default settings\n   */\n  private addDefaultSettings(): void {\n    $.append(this.nodes.defaultSettings, this.Editor.BlockManager.currentBlock.renderTunes());\n  }\n\n  /**\n   * Active leafing by arrows/tab\n   * Buttons will be filled on opening\n   */\n  private enableFlipper(): void {\n    this.flipper = new Flipper({\n      focusedItemClass: this.CSS.focusedButton,\n      /**\n       * @param {HTMLElement} focusedItem - activated Tune\n       */\n      activateCallback: (focusedItem) => {\n        /**\n         * If focused item is editable element, close block settings\n         */\n        if (focusedItem && $.canSetCaret(focusedItem)) {\n          this.close();\n\n          return;\n        }\n\n        /**\n         * Restoring focus on current Block after settings clicked.\n         * For example, when H3 changed to H2 — DOM Elements replaced, so we need to focus a new one\n         */\n        _.delay(() => {\n          this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock);\n        }, 50)();\n      },\n    } as FlipperOptions);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"de9dd74ed8239ad4bd1384b5e1b5a1c7d6ae49b8"});var l=t[n];return p=function(){return l},l}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=f(l),o=f(o),i=f(i),c=f(c),s=f(s),r=f(r),C=f(C),a=f(a),u=d(u),m=f(m),p();var I=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(E()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){var n;return(0,l.default)(this,t),p().f[0]++,p().s[0]++,n=e.apply(this,arguments),p().s[1]++,n.buttons=[],p().s[2]++,n.flipper=null,p().s[3]++,n.selection=new m.default,n}return(0,o.default)(t,[{key:"make",value:function(){p().f[4]++,p().s[7]++,this.nodes.wrapper=C.default.make("div",this.CSS.wrapper),p().s[8]++,this.nodes.toolSettings=C.default.make("div",this.CSS.toolSettings),p().s[9]++,this.nodes.defaultSettings=C.default.make("div",this.CSS.defaultSettings),p().s[10]++,C.default.append(this.nodes.wrapper,[this.nodes.toolSettings,this.nodes.defaultSettings]),p().s[11]++,this.enableFlipper()}},{key:"destroy",value:function(){p().f[5]++,p().s[12]++,this.flipper.deactivate(),p().s[13]++,this.flipper=null,p().s[14]++,this.removeAllNodes()}},{key:"open",value:function(){p().f[6]++,p().s[15]++,this.nodes.wrapper.classList.add(this.CSS.wrapperOpened),p().s[16]++,this.selection.save(),p().s[17]++,this.Editor.BlockManager.currentBlock.selected=!0,p().s[18]++,this.Editor.BlockSelection.clearCache(),p().s[19]++,this.addToolSettings(),p().s[20]++,this.addDefaultSettings(),p().s[21]++,this.Editor.Events.emit(this.events.opened),p().s[22]++,this.flipper.activate(this.blockTunesButtons)}},{key:"close",value:function(){p().f[7]++,p().s[23]++,this.nodes.wrapper.classList.remove(this.CSS.wrapperOpened),p().s[24]++,m.default.isAtEditor?p().b[0][1]++:(p().b[0][0]++,p().s[25]++,this.selection.restore()),p().s[26]++,this.selection.clearSaved(),p().s[27]++,this.nodes.toolSettings.innerHTML="",p().s[28]++,this.nodes.defaultSettings.innerHTML="",p().s[29]++,this.Editor.Events.emit(this.events.closed),p().s[30]++,this.buttons=[],p().s[31]++,this.flipper.deactivate()}},{key:"addToolSettings",value:function(){p().f[11]++,p().s[42]++,u.isFunction(this.Editor.BlockManager.currentBlock.tool.renderSettings)?(p().b[2][0]++,p().s[43]++,C.default.append(this.nodes.toolSettings,this.Editor.BlockManager.currentBlock.tool.renderSettings())):p().b[2][1]++}},{key:"addDefaultSettings",value:function(){p().f[12]++,p().s[44]++,C.default.append(this.nodes.defaultSettings,this.Editor.BlockManager.currentBlock.renderTunes())}},{key:"enableFlipper",value:function(){var n=this;p().f[13]++,p().s[45]++,this.flipper=new a.default({focusedItemClass:this.CSS.focusedButton,activateCallback:function(A){if(p().f[14]++,p().s[46]++,p().b[4][0]++,A&&(p().b[4][1]++,C.default.canSetCaret(A)))return p().b[3][0]++,p().s[47]++,n.close(),void p().s[48]++;p().b[3][1]++,p().s[49]++,u.delay((function(){p().f[15]++,p().s[50]++,n.Editor.Caret.setToBlock(n.Editor.BlockManager.currentBlock)}),50)()}})}},{key:"events",get:function(){return p().f[1]++,p().s[4]++,{opened:"block-settings-opened",closed:"block-settings-closed"}}},{key:"CSS",get:function(){return p().f[2]++,p().s[5]++,{wrapper:"ce-settings",wrapperOpened:"ce-settings--opened",toolSettings:"ce-settings__plugin-zone",defaultSettings:"ce-settings__default-zone",button:"ce-settings__button",focusedButton:"ce-settings__button--focused",focusedButtonAnimated:"ce-settings__button--focused-animated"}}},{key:"opened",get:function(){return p().f[3]++,p().s[6]++,this.nodes.wrapper.classList.contains(this.CSS.wrapperOpened)}},{key:"blockTunesButtons",get:function(){var n=this;p().f[8]++;var A=(p().s[32]++,this.Editor).StylesAPI;if(p().s[33]++,0!==this.buttons.length)return p().b[1][0]++,p().s[34]++,this.buttons;p().b[1][1]++;var e=(p().s[35]++,this.nodes.toolSettings.querySelectorAll(".".concat(A.classes.settingsButton,", ").concat(C.default.allInputsSelector))),t=(p().s[36]++,this.nodes.defaultSettings.querySelectorAll(".".concat(this.CSS.button)));return p().s[37]++,e.forEach((function(A){p().f[9]++,p().s[38]++,n.buttons.push(A)})),p().s[39]++,t.forEach((function(A){p().f[10]++,p().s[40]++,n.buttons.push(A)})),p().s[41]++,this.buttons}}]),t}(r.default);t.default=I,I.displayName="BlockSettings",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(39),e(21),e(22),e(66),e(2),e(3),e(5),e(6),e(4),e(7),e(15),e(8),e(60),e(59),e(82)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u,m,d,f,p,E,I){"use strict";var h=e(13),b=e(1);function B(){var n="/home/hata/editor.js/src/components/modules/toolbar/conversion.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"aa372acac8429244c97dcac22e12fc8a8411b88d"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/toolbar/conversion.ts",statementMap:{0:{start:{line:12,column:8},end:{line:12,column:28}},1:{start:{line:18,column:8},end:{line:18,column:28}},2:{start:{line:22,column:8},end:{line:22,column:24}},3:{start:{line:28,column:8},end:{line:28,column:28}},4:{start:{line:32,column:8},end:{line:32,column:37}},5:{start:{line:38,column:8},end:{line:48,column:10}},6:{start:{line:54,column:8},end:{line:57,column:11}},7:{start:{line:58,column:8},end:{line:58,column:87}},8:{start:{line:59,column:22},end:{line:61,column:10}},9:{start:{line:65,column:8},end:{line:65,column:24}},10:{start:{line:69,column:8},end:{line:69,column:29}},11:{start:{line:70,column:8},end:{line:70,column:44}},12:{start:{line:71,column:8},end:{line:71,column:55}},13:{start:{line:72,column:8},end:{line:72,column:34}},14:{start:{line:78,column:8},end:{line:78,column:34}},15:{start:{line:79,column:8},end:{line:79,column:28}},16:{start:{line:80,column:8},end:{line:80,column:30}},17:{start:{line:88,column:8},end:{line:93,column:9}},18:{start:{line:89,column:12},end:{line:89,column:24}},19:{start:{line:92,column:12},end:{line:92,column:25}},20:{start:{line:94,column:8},end:{line:96,column:9}},21:{start:{line:95,column:12},end:{line:95,column:53}},22:{start:{line:102,column:8},end:{line:102,column:27}},23:{start:{line:103,column:8},end:{line:103,column:27}},24:{start:{line:104,column:8},end:{line:104,column:88}},25:{start:{line:109,column:8},end:{line:117,column:15}},26:{start:{line:110,column:12},end:{line:112,column:16}},27:{start:{line:111,column:16},end:{line:111,column:94}},28:{start:{line:113,column:12},end:{line:113,column:38}},29:{start:{line:114,column:12},end:{line:116,column:13}},30:{start:{line:115,column:16},end:{line:115,column:44}},31:{start:{line:123,column:8},end:{line:123,column:28}},32:{start:{line:124,column:8},end:{line:124,column:34}},33:{start:{line:125,column:8},end:{line:125,column:91}},34:{start:{line:126,column:8},end:{line:128,column:9}},35:{start:{line:127,column:12},end:{line:127,column:41}},36:{start:{line:134,column:22},end:{line:134,column:45}},37:{start:{line:135,column:8},end:{line:135,column:83}},38:{start:{line:149,column:34},end:{line:149,column:77}},39:{start:{line:150,column:33},end:{line:150,column:75}},40:{start:{line:151,column:27},end:{line:151,column:77}},41:{start:{line:152,column:38},end:{line:152,column:55}},42:{start:{line:153,column:26},end:{line:153,column:41}},43:{start:{line:158,column:8},end:{line:160,column:9}},44:{start:{line:159,column:12},end:{line:159,column:57}},45:{start:{line:166,column:30},end:{line:166,column:79}},46:{start:{line:174,column:25},end:{line:174,column:27}},47:{start:{line:175,column:27},end:{line:175,column:88}},48:{start:{line:176,column:8},end:{line:186,column:9}},49:{start:{line:177,column:12},end:{line:177,column:47}},50:{start:{line:179,column:13},end:{line:186,column:9}},51:{start:{line:180,column:12},end:{line:180,column:47}},52:{start:{line:183,column:12},end:{line:184,column:119}},53:{start:{line:185,column:12},end:{line:185,column:19}},54:{start:{line:190,column:24},end:{line:190,column:87}},55:{start:{line:196,column:27},end:{line:196,column:29}},56:{start:{line:197,column:27},end:{line:197,column:84}},57:{start:{line:198,column:8},end:{line:208,column:9}},58:{start:{line:199,column:12},end:{line:199,column:47}},59:{start:{line:201,column:13},end:{line:208,column:9}},60:{start:{line:202,column:12},end:{line:202,column:47}},61:{start:{line:205,column:12},end:{line:206,column:126}},62:{start:{line:207,column:12},end:{line:207,column:19}},63:{start:{line:209,column:8},end:{line:212,column:11}},64:{start:{line:213,column:8},end:{line:213,column:52}},65:{start:{line:214,column:8},end:{line:214,column:21}},66:{start:{line:215,column:8},end:{line:215,column:42}},67:{start:{line:216,column:8},end:{line:218,column:17}},68:{start:{line:217,column:12},end:{line:217,column:80}},69:{start:{line:225,column:22},end:{line:225,column:50}},70:{start:{line:226,column:8},end:{line:250,column:9}},71:{start:{line:227,column:12},end:{line:229,column:13}},72:{start:{line:228,column:16},end:{line:228,column:25}},73:{start:{line:230,column:37},end:{line:230,column:72}},74:{start:{line:231,column:30},end:{line:231,column:45}},75:{start:{line:232,column:40},end:{line:232,column:75}},76:{start:{line:233,column:37},end:{line:233,column:82}},77:{start:{line:234,column:33},end:{line:234,column:64}},78:{start:{line:235,column:40},end:{line:235,column:105}},79:{start:{line:236,column:36},end:{line:236,column:142}},80:{start:{line:240,column:12},end:{line:242,column:13}},81:{start:{line:241,column:16},end:{line:241,column:25}},82:{start:{line:246,column:12},end:{line:248,column:13}},83:{start:{line:247,column:16},end:{line:247,column:25}},84:{start:{line:249,column:12},end:{line:249,column:80}},85:{start:{line:260,column:21},end:{line:260,column:74}},86:{start:{line:261,column:21},end:{line:261,column:78}},87:{start:{line:262,column:8},end:{line:262,column:37}},88:{start:{line:263,column:8},end:{line:263,column:34}},89:{start:{line:264,column:8},end:{line:264,column:29}},90:{start:{line:265,column:8},end:{line:265,column:98}},91:{start:{line:266,column:8},end:{line:266,column:41}},92:{start:{line:267,column:8},end:{line:267,column:36}},93:{start:{line:268,column:8},end:{line:270,column:11}},94:{start:{line:269,column:12},end:{line:269,column:50}},95:{start:{line:276,column:33},end:{line:276,column:57}},96:{start:{line:280,column:8},end:{line:283,column:11}},97:{start:{line:281,column:12},end:{line:281,column:34}},98:{start:{line:282,column:12},end:{line:282,column:108}},99:{start:{line:289,column:8},end:{line:291,column:11}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:4},end:{line:11,column:5}},loc:{start:{line:11,column:18},end:{line:33,column:5}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:21},end:{line:49,column:5}},line:37},2:{name:"(anonymous_2)",decl:{start:{line:53,column:4},end:{line:53,column:5}},loc:{start:{line:53,column:11},end:{line:73,column:5}},line:53},3:{name:"(anonymous_3)",decl:{start:{line:77,column:4},end:{line:77,column:5}},loc:{start:{line:77,column:14},end:{line:81,column:5}},line:77},4:{name:"(anonymous_4)",decl:{start:{line:87,column:4},end:{line:87,column:5}},loc:{start:{line:87,column:29},end:{line:97,column:5}},line:87},5:{name:"(anonymous_5)",decl:{start:{line:101,column:4},end:{line:101,column:5}},loc:{start:{line:101,column:11},end:{line:118,column:5}},line:101},6:{name:"(anonymous_6)",decl:{start:{line:109,column:19},end:{line:109,column:20}},loc:{start:{line:109,column:25},end:{line:117,column:9}},line:109},7:{name:"(anonymous_7)",decl:{start:{line:110,column:67},end:{line:110,column:68}},loc:{start:{line:110,column:79},end:{line:112,column:13}},line:110},8:{name:"(anonymous_8)",decl:{start:{line:122,column:4},end:{line:122,column:5}},loc:{start:{line:122,column:12},end:{line:129,column:5}},line:122},9:{name:"(anonymous_9)",decl:{start:{line:133,column:4},end:{line:133,column:5}},loc:{start:{line:133,column:15},end:{line:136,column:5}},line:133},10:{name:"(anonymous_10)",decl:{start:{line:143,column:4},end:{line:143,column:5}},loc:{start:{line:143,column:46},end:{line:219,column:5}},line:143},11:{name:"(anonymous_11)",decl:{start:{line:216,column:16},end:{line:216,column:17}},loc:{start:{line:216,column:22},end:{line:218,column:9}},line:216},12:{name:"(anonymous_12)",decl:{start:{line:224,column:4},end:{line:224,column:5}},loc:{start:{line:224,column:15},end:{line:251,column:5}},line:224},13:{name:"(anonymous_13)",decl:{start:{line:259,column:4},end:{line:259,column:5}},loc:{start:{line:259,column:39},end:{line:271,column:5}},line:259},14:{name:"(anonymous_14)",decl:{start:{line:268,column:48},end:{line:268,column:49}},loc:{start:{line:268,column:60},end:{line:270,column:9}},line:268},15:{name:"(anonymous_15)",decl:{start:{line:275,column:4},end:{line:275,column:5}},loc:{start:{line:275,column:18},end:{line:284,column:5}},line:275},16:{name:"(anonymous_16)",decl:{start:{line:280,column:43},end:{line:280,column:44}},loc:{start:{line:280,column:63},end:{line:283,column:9}},line:280},17:{name:"(anonymous_17)",decl:{start:{line:288,column:4},end:{line:288,column:5}},loc:{start:{line:288,column:20},end:{line:292,column:5}},line:288}},branchMap:{0:{loc:{start:{line:56,column:16},end:{line:56,column:67}},type:"cond-expr",locations:[{start:{line:56,column:29},end:{line:56,column:62}},{start:{line:56,column:65},end:{line:56,column:67}}],line:56},1:{loc:{start:{line:88,column:8},end:{line:93,column:9}},type:"if",locations:[{start:{line:88,column:8},end:{line:93,column:9}},{start:{line:88,column:8},end:{line:93,column:9}}],line:88},2:{loc:{start:{line:94,column:8},end:{line:96,column:9}},type:"if",locations:[{start:{line:94,column:8},end:{line:96,column:9}},{start:{line:94,column:8},end:{line:96,column:9}}],line:94},3:{loc:{start:{line:114,column:12},end:{line:116,column:13}},type:"if",locations:[{start:{line:114,column:12},end:{line:116,column:13}},{start:{line:114,column:12},end:{line:116,column:13}}],line:114},4:{loc:{start:{line:126,column:8},end:{line:128,column:9}},type:"if",locations:[{start:{line:126,column:8},end:{line:128,column:9}},{start:{line:126,column:8},end:{line:128,column:9}}],line:126},5:{loc:{start:{line:135,column:17},end:{line:135,column:81}},type:"binary-expr",locations:[{start:{line:135,column:17},end:{line:135,column:35}},{start:{line:135,column:39},end:{line:135,column:81}}],line:135},6:{loc:{start:{line:158,column:8},end:{line:160,column:9}},type:"if",locations:[{start:{line:158,column:8},end:{line:160,column:9}},{start:{line:158,column:8},end:{line:160,column:9}}],line:158},7:{loc:{start:{line:176,column:8},end:{line:186,column:9}},type:"if",locations:[{start:{line:176,column:8},end:{line:186,column:9}},{start:{line:176,column:8},end:{line:186,column:9}}],line:176},8:{loc:{start:{line:179,column:13},end:{line:186,column:9}},type:"if",locations:[{start:{line:179,column:13},end:{line:186,column:9}},{start:{line:179,column:13},end:{line:186,column:9}}],line:179},9:{loc:{start:{line:198,column:8},end:{line:208,column:9}},type:"if",locations:[{start:{line:198,column:8},end:{line:208,column:9}},{start:{line:198,column:8},end:{line:208,column:9}}],line:198},10:{loc:{start:{line:201,column:13},end:{line:208,column:9}},type:"if",locations:[{start:{line:201,column:13},end:{line:208,column:9}},{start:{line:201,column:13},end:{line:208,column:9}}],line:201},11:{loc:{start:{line:227,column:12},end:{line:229,column:13}},type:"if",locations:[{start:{line:227,column:12},end:{line:229,column:13}},{start:{line:227,column:12},end:{line:229,column:13}}],line:227},12:{loc:{start:{line:236,column:36},end:{line:236,column:142}},type:"cond-expr",locations:[{start:{line:236,column:101},end:{line:236,column:120}},{start:{line:236,column:123},end:{line:236,column:142}}],line:236},13:{loc:{start:{line:236,column:36},end:{line:236,column:98}},type:"binary-expr",locations:[{start:{line:236,column:36},end:{line:236,column:64}},{start:{line:236,column:68},end:{line:236,column:98}}],line:236},14:{loc:{start:{line:240,column:12},end:{line:242,column:13}},type:"if",locations:[{start:{line:240,column:12},end:{line:242,column:13}},{start:{line:240,column:12},end:{line:242,column:13}}],line:240},15:{loc:{start:{line:240,column:16},end:{line:240,column:67}},type:"binary-expr",locations:[{start:{line:240,column:16},end:{line:240,column:42}},{start:{line:240,column:46},end:{line:240,column:67}}],line:240},16:{loc:{start:{line:246,column:12},end:{line:248,column:13}},type:"if",locations:[{start:{line:246,column:12},end:{line:248,column:13}},{start:{line:246,column:12},end:{line:248,column:13}}],line:246},17:{loc:{start:{line:246,column:16},end:{line:246,column:61}},type:"binary-expr",locations:[{start:{line:246,column:16},end:{line:246,column:33}},{start:{line:246,column:37},end:{line:246,column:61}}],line:246},18:{loc:{start:{line:265,column:63},end:{line:265,column:94}},type:"binary-expr",locations:[{start:{line:265,column:63},end:{line:265,column:68}},{start:{line:265,column:72},end:{line:265,column:94}}],line:265}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/toolbar/conversion.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/toolbar/conversion.ts"],names:[],mappings:"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",sourcesContent:["import Module from '../../__module';\nimport $ from '../../dom';\nimport { BlockToolConstructable } from '../../../../types';\nimport * as _ from '../../utils';\nimport { SavedData } from '../../../../types/data-formats';\nimport Flipper from '../../flipper';\nimport I18n from '../../i18n';\nimport { I18nInternalNS } from '../../i18n/namespace-internal';\n\n/**\n * HTML Elements used for ConversionToolbar\n */\ninterface ConversionToolbarNodes {\n  wrapper: HTMLElement;\n  tools: HTMLElement;\n}\n\n/**\n * Block Converter\n */\nexport default class ConversionToolbar extends Module<ConversionToolbarNodes> {\n  /**\n   * CSS getter\n   */\n  public static get CSS(): { [key: string]: string } {\n    return {\n      conversionToolbarWrapper: 'ce-conversion-toolbar',\n      conversionToolbarShowed: 'ce-conversion-toolbar--showed',\n      conversionToolbarTools: 'ce-conversion-toolbar__tools',\n      conversionToolbarLabel: 'ce-conversion-toolbar__label',\n      conversionTool: 'ce-conversion-tool',\n      conversionToolHidden: 'ce-conversion-tool--hidden',\n      conversionToolIcon: 'ce-conversion-tool__icon',\n\n      conversionToolFocused: 'ce-conversion-tool--focused',\n      conversionToolActive: 'ce-conversion-tool--active',\n    };\n  }\n\n  /**\n   * Conversion Toolbar open/close state\n   *\n   * @type {boolean}\n   */\n  public opened = false;\n\n  /**\n   * Available tools\n   */\n  private tools: { [key: string]: HTMLElement } = {};\n\n  /**\n   * Instance of class that responses for leafing buttons by arrows/tab\n   *\n   * @type {Flipper|null}\n   */\n  private flipper: Flipper = null;\n\n  /**\n   * Callback that fill be fired on open/close and accepts an opening state\n   */\n  private togglingCallback = null;\n\n  /**\n   * Create UI of Conversion Toolbar\n   */\n  public make(): HTMLElement {\n    this.nodes.wrapper = $.make('div', [\n      ConversionToolbar.CSS.conversionToolbarWrapper,\n      ...(this.isRtl ? [ this.Editor.UI.CSS.editorRtlFix ] : []),\n    ]);\n    this.nodes.tools = $.make('div', ConversionToolbar.CSS.conversionToolbarTools);\n\n    const label = $.make('div', ConversionToolbar.CSS.conversionToolbarLabel, {\n      textContent: I18n.ui(I18nInternalNS.ui.inlineToolbar.converter, 'Convert to'),\n    });\n\n    /**\n     * Add Tools that has 'import' method\n     */\n    this.addTools();\n\n    /**\n     * Prepare Flipper to be able to leaf tools by arrows/tab\n     */\n    this.enableFlipper();\n\n    $.append(this.nodes.wrapper, label);\n    $.append(this.nodes.wrapper, this.nodes.tools);\n\n    return this.nodes.wrapper;\n  }\n\n  /**\n   * Deactivates flipper and removes all nodes\n   */\n  public destroy(): void {\n    this.flipper.deactivate();\n    this.flipper = null;\n    this.removeAllNodes();\n  }\n\n  /**\n   * Toggle conversion dropdown visibility\n   *\n   * @param {Function} [togglingCallback] — callback that will accept opening state\n   */\n  public toggle(togglingCallback?: (openedState: boolean) => void): void {\n    if (!this.opened) {\n      this.open();\n    } else {\n      this.close();\n    }\n\n    if (_.isFunction(togglingCallback)) {\n      this.togglingCallback = togglingCallback;\n    }\n  }\n\n  /**\n   * Shows Conversion Toolbar\n   */\n  public open(): void {\n    this.filterTools();\n\n    this.opened = true;\n    this.nodes.wrapper.classList.add(ConversionToolbar.CSS.conversionToolbarShowed);\n\n    /**\n     * We use timeout to prevent bubbling Enter keydown on first dropdown item\n     * Conversion flipper will be activated after dropdown will open\n     */\n    setTimeout(() => {\n      this.flipper.activate(Object.values(this.tools).filter((button) => {\n        return !button.classList.contains(ConversionToolbar.CSS.conversionToolHidden);\n      }));\n      this.flipper.focusFirst();\n\n      if (_.isFunction(this.togglingCallback)) {\n        this.togglingCallback(true);\n      }\n    }, 50);\n  }\n\n  /**\n   * Closes Conversion Toolbar\n   */\n  public close(): void {\n    this.opened = false;\n    this.flipper.deactivate();\n    this.nodes.wrapper.classList.remove(ConversionToolbar.CSS.conversionToolbarShowed);\n\n    if (_.isFunction(this.togglingCallback)) {\n      this.togglingCallback(false);\n    }\n  }\n\n  /**\n   * Returns true if it has more than one tool available for convert in\n   */\n  public hasTools(): boolean {\n    const tools = Object.keys(this.tools); // available tools in array representation\n\n    return !(tools.length === 1 && tools.shift() === this.config.defaultBlock);\n  }\n\n  /**\n   * Replaces one Block with another\n   * For that Tools must provide import/export methods\n   *\n   * @param {string} replacingToolName - name of Tool which replaces current\n   */\n  public async replaceWithBlock(replacingToolName: string): Promise<void> {\n    /**\n     * At first, we get current Block data\n     *\n     * @type {BlockToolConstructable}\n     */\n    const currentBlockClass = this.Editor.BlockManager.currentBlock.class;\n    const currentBlockName = this.Editor.BlockManager.currentBlock.name;\n    const savedBlock = await this.Editor.BlockManager.currentBlock.save() as SavedData;\n    const { INTERNAL_SETTINGS } = this.Editor.Tools;\n    const blockData = savedBlock.data;\n\n    /**\n     * When current Block name is equals to the replacing tool Name,\n     * than convert this Block back to the default Block\n     */\n    if (currentBlockName === replacingToolName) {\n      replacingToolName = this.config.defaultBlock;\n    }\n\n    /**\n     * Getting a class of replacing Tool\n     *\n     * @type {BlockToolConstructable}\n     */\n    const replacingTool = this.Editor.Tools.toolsClasses[replacingToolName] as BlockToolConstructable;\n\n    /**\n     * Export property can be:\n     * 1) Function — Tool defines which data to return\n     * 2) String — the name of saved property\n     *\n     * In both cases returning value must be a string\n     */\n    let exportData = '';\n    const exportProp = currentBlockClass[INTERNAL_SETTINGS.CONVERSION_CONFIG].export;\n\n    if (_.isFunction(exportProp)) {\n      exportData = exportProp(blockData);\n    } else if (typeof exportProp === 'string') {\n      exportData = blockData[exportProp];\n    } else {\n      _.log('Conversion «export» property must be a string or function. ' +\n        'String means key of saved data object to export. Function should export processed string to export.');\n\n      return;\n    }\n\n    /**\n     * Clean exported data with replacing sanitizer config\n     */\n    const cleaned: string = this.Editor.Sanitizer.clean(\n      exportData,\n      replacingTool.sanitize\n    );\n\n    /**\n     * «import» property can be Function or String\n     * function — accept imported string and compose tool data object\n     * string — the name of data field to import\n     */\n    let newBlockData = {};\n    const importProp = replacingTool[INTERNAL_SETTINGS.CONVERSION_CONFIG].import;\n\n    if (_.isFunction(importProp)) {\n      newBlockData = importProp(cleaned);\n    } else if (typeof importProp === 'string') {\n      newBlockData[importProp] = cleaned;\n    } else {\n      _.log('Conversion «import» property must be a string or function. ' +\n        'String means key of tool data to import. Function accepts a imported string and return composed tool data.');\n\n      return;\n    }\n\n    this.Editor.BlockManager.replace({\n      tool: replacingToolName,\n      data: newBlockData,\n    });\n    this.Editor.BlockSelection.clearSelection();\n\n    this.close();\n    this.Editor.InlineToolbar.close();\n\n    _.delay(() => {\n      this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock);\n    }, 10)();\n  }\n\n  /**\n   * Iterates existing Tools and inserts to the ConversionToolbar\n   * if tools have ability to import\n   */\n  private addTools(): void {\n    const tools = this.Editor.Tools.blockTools;\n\n    for (const toolName in tools) {\n      if (!Object.prototype.hasOwnProperty.call(tools, toolName)) {\n        continue;\n      }\n\n      const internalSettings = this.Editor.Tools.INTERNAL_SETTINGS;\n      const toolClass = tools[toolName] as BlockToolConstructable;\n      const toolToolboxSettings = toolClass[internalSettings.TOOLBOX];\n      const conversionConfig = toolClass[internalSettings.CONVERSION_CONFIG];\n\n      const userSettings = this.Editor.Tools.USER_SETTINGS;\n      const userToolboxSettings = this.Editor.Tools.getToolSettings(toolName)[userSettings.TOOLBOX];\n\n      const toolboxSettings = userToolboxSettings ?? toolToolboxSettings;\n\n      /**\n       * Skip tools that don't pass 'toolbox' property\n       */\n      if (_.isEmpty(toolboxSettings) || !toolboxSettings.icon) {\n        continue;\n      }\n\n      /**\n       * Skip tools without «import» rule specified\n       */\n      if (!conversionConfig || !conversionConfig.import) {\n        continue;\n      }\n\n      this.addTool(toolName, toolboxSettings.icon, toolboxSettings.title);\n    }\n  }\n\n  /**\n   * Add tool to the Conversion Toolbar\n   *\n   * @param {string} toolName - name of Tool to add\n   * @param {string} toolIcon - Tool icon\n   * @param {string} title - button title\n   */\n  private addTool(toolName: string, toolIcon: string, title: string): void {\n    const tool = $.make('div', [ ConversionToolbar.CSS.conversionTool ]);\n    const icon = $.make('div', [ ConversionToolbar.CSS.conversionToolIcon ]);\n\n    tool.dataset.tool = toolName;\n    icon.innerHTML = toolIcon;\n\n    $.append(tool, icon);\n    $.append(tool, $.text(I18n.t(I18nInternalNS.toolNames, title || _.capitalize(toolName))));\n\n    $.append(this.nodes.tools, tool);\n    this.tools[toolName] = tool;\n\n    this.Editor.Listeners.on(tool, 'click', async () => {\n      await this.replaceWithBlock(toolName);\n    });\n  }\n\n  /**\n   * Hide current Tool and show others\n   */\n  private filterTools(): void {\n    const { currentBlock } = this.Editor.BlockManager;\n\n    /**\n     * Show previously hided\n     */\n    Object.entries(this.tools).forEach(([name, button]) => {\n      button.hidden = false;\n      button.classList.toggle(ConversionToolbar.CSS.conversionToolHidden, name === currentBlock.name);\n    });\n  }\n\n  /**\n   * Prepare Flipper to be able to leaf tools by arrows/tab\n   */\n  private enableFlipper(): void {\n    this.flipper = new Flipper({\n      focusedItemClass: ConversionToolbar.CSS.conversionToolFocused,\n    });\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"aa372acac8429244c97dcac22e12fc8a8411b88d"});var l=t[n];return B=function(){return l},l}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=b(l),o=b(o),i=b(i),c=b(c),s=b(s),r=b(r),C=b(C),a=b(a),u=b(u),m=b(m),d=b(d),f=h(f),p=b(p),E=b(E),B();var M=function(n){(0,C.default)(m,n);var A,e,t=(A=m,function(){var n,e=(0,u.default)(A);if(g()){var t=(0,u.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,a.default)(this,n)});function m(){var n;return(0,s.default)(this,m),B().f[0]++,B().s[0]++,n=t.apply(this,arguments),B().s[1]++,n.opened=!1,B().s[2]++,n.tools={},B().s[3]++,n.flipper=null,B().s[4]++,n.togglingCallback=null,n}return(0,r.default)(m,[{key:"make",value:function(){B().f[2]++,B().s[6]++,this.nodes.wrapper=d.default.make("div",[m.CSS.conversionToolbarWrapper].concat((0,c.default)(this.isRtl?(B().b[0][0]++,[this.Editor.UI.CSS.editorRtlFix]):(B().b[0][1]++,[])))),B().s[7]++,this.nodes.tools=d.default.make("div",m.CSS.conversionToolbarTools);var n=(B().s[8]++,d.default.make("div",m.CSS.conversionToolbarLabel,{textContent:E.default.ui(I.I18nInternalNS.ui.inlineToolbar.converter,"Convert to")}));return B().s[9]++,this.addTools(),B().s[10]++,this.enableFlipper(),B().s[11]++,d.default.append(this.nodes.wrapper,n),B().s[12]++,d.default.append(this.nodes.wrapper,this.nodes.tools),B().s[13]++,this.nodes.wrapper}},{key:"destroy",value:function(){B().f[3]++,B().s[14]++,this.flipper.deactivate(),B().s[15]++,this.flipper=null,B().s[16]++,this.removeAllNodes()}},{key:"toggle",value:function(n){B().f[4]++,B().s[17]++,this.opened?(B().b[1][1]++,B().s[19]++,this.close()):(B().b[1][0]++,B().s[18]++,this.open()),B().s[20]++,f.isFunction(n)?(B().b[2][0]++,B().s[21]++,this.togglingCallback=n):B().b[2][1]++}},{key:"open",value:function(){var n=this;B().f[5]++,B().s[22]++,this.filterTools(),B().s[23]++,this.opened=!0,B().s[24]++,this.nodes.wrapper.classList.add(m.CSS.conversionToolbarShowed),B().s[25]++,setTimeout((function(){B().f[6]++,B().s[26]++,n.flipper.activate(Object.values(n.tools).filter((function(n){return B().f[7]++,B().s[27]++,!n.classList.contains(m.CSS.conversionToolHidden)}))),B().s[28]++,n.flipper.focusFirst(),B().s[29]++,f.isFunction(n.togglingCallback)?(B().b[3][0]++,B().s[30]++,n.togglingCallback(!0)):B().b[3][1]++}),50)}},{key:"close",value:function(){B().f[8]++,B().s[31]++,this.opened=!1,B().s[32]++,this.flipper.deactivate(),B().s[33]++,this.nodes.wrapper.classList.remove(m.CSS.conversionToolbarShowed),B().s[34]++,f.isFunction(this.togglingCallback)?(B().b[4][0]++,B().s[35]++,this.togglingCallback(!1)):B().b[4][1]++}},{key:"hasTools",value:function(){B().f[9]++;var n=(B().s[36]++,Object.keys(this.tools));return B().s[37]++,B().b[5][0]++,!(1===n.length&&(B().b[5][1]++,n.shift()===this.config.defaultBlock))}},{key:"replaceWithBlock",value:(e=(0,i.default)(o.default.mark((function n(A){var e,t,l,i,c,s,r,C,a,u,m,d,p=this;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return B().f[10]++,B().s[38]++,e=this.Editor.BlockManager.currentBlock.class,B().s[39]++,t=this.Editor.BlockManager.currentBlock.name,B().s[40]++,n.next=6,this.Editor.BlockManager.currentBlock.save();case 6:if(l=n.sent,B().s[41]++,i=this.Editor.Tools,c=i.INTERNAL_SETTINGS,B().s[42]++,s=l.data,B().s[43]++,t===A?(B().b[6][0]++,B().s[44]++,A=this.config.defaultBlock):B().b[6][1]++,B().s[45]++,r=this.Editor.Tools.toolsClasses[A],B().s[46]++,C="",B().s[47]++,a=e[c.CONVERSION_CONFIG].export,B().s[48]++,!f.isFunction(a)){n.next=21;break}B().b[7][0]++,B().s[49]++,C=a(s),n.next=34;break;case 21:if(B().b[7][1]++,B().s[50]++,"string"!=typeof a){n.next=29;break}B().b[8][0]++,B().s[51]++,C=s[a],n.next=34;break;case 29:return B().b[8][1]++,B().s[52]++,f.log("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),B().s[53]++,n.abrupt("return");case 34:if(B().s[54]++,u=this.Editor.Sanitizer.clean(C,r.sanitize),B().s[55]++,m={},B().s[56]++,d=r[c.CONVERSION_CONFIG].import,B().s[57]++,!f.isFunction(d)){n.next=44;break}B().b[9][0]++,B().s[58]++,m=d(u),n.next=57;break;case 44:if(B().b[9][1]++,B().s[59]++,"string"!=typeof d){n.next=52;break}B().b[10][0]++,B().s[60]++,m[d]=u,n.next=57;break;case 52:return B().b[10][1]++,B().s[61]++,f.log("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),B().s[62]++,n.abrupt("return");case 57:B().s[63]++,this.Editor.BlockManager.replace({tool:A,data:m}),B().s[64]++,this.Editor.BlockSelection.clearSelection(),B().s[65]++,this.close(),B().s[66]++,this.Editor.InlineToolbar.close(),B().s[67]++,f.delay((function(){B().f[11]++,B().s[68]++,p.Editor.Caret.setToBlock(p.Editor.BlockManager.currentBlock)}),10)();case 67:case"end":return n.stop()}}),n,this)}))),function(n){return e.apply(this,arguments)})},{key:"addTools",value:function(){B().f[12]++;var n=(B().s[69]++,this.Editor.Tools.blockTools);for(var A in B().s[70]++,n)if(B().s[71]++,Object.prototype.hasOwnProperty.call(n,A)){B().b[11][1]++;var e=(B().s[73]++,this.Editor.Tools.INTERNAL_SETTINGS),t=(B().s[74]++,n[A]),l=(B().s[75]++,t[e.TOOLBOX]),o=(B().s[76]++,t[e.CONVERSION_CONFIG]),i=(B().s[77]++,this.Editor.Tools.USER_SETTINGS),c=(B().s[78]++,this.Editor.Tools.getToolSettings(A)[i.TOOLBOX]),s=(B().s[79]++,B().b[13][0]++,null!==c&&(B().b[13][1]++,void 0!==c)?(B().b[12][0]++,c):(B().b[12][1]++,l));B().s[80]++,B().b[15][0]++,!f.isEmpty(s)&&(B().b[15][1]++,s.icon)?(B().b[14][1]++,B().s[82]++,B().b[17][0]++,o&&(B().b[17][1]++,o.import)?(B().b[16][1]++,B().s[84]++,this.addTool(A,s.icon,s.title)):(B().b[16][0]++,B().s[83]++)):(B().b[14][0]++,B().s[81]++)}else B().b[11][0]++,B().s[72]++}},{key:"addTool",value:function(n,A,e){var t=this;B().f[13]++;var l=(B().s[85]++,d.default.make("div",[m.CSS.conversionTool])),c=(B().s[86]++,d.default.make("div",[m.CSS.conversionToolIcon]));B().s[87]++,l.dataset.tool=n,B().s[88]++,c.innerHTML=A,B().s[89]++,d.default.append(l,c),B().s[90]++,d.default.append(l,d.default.text(E.default.t(I.I18nInternalNS.toolNames,(B().b[18][0]++,e||(B().b[18][1]++,f.capitalize(n)))))),B().s[91]++,d.default.append(this.nodes.tools,l),B().s[92]++,this.tools[n]=l,B().s[93]++,this.Editor.Listeners.on(l,"click",(0,i.default)(o.default.mark((function A(){return o.default.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return B().f[14]++,B().s[94]++,A.next=4,t.replaceWithBlock(n);case 4:case"end":return A.stop()}}),A)}))))}},{key:"filterTools",value:function(){B().f[15]++;var n=(B().s[95]++,this.Editor.BlockManager).currentBlock;B().s[96]++,Object.entries(this.tools).forEach((function(A){var e=(0,l.default)(A,2),t=e[0],o=e[1];B().f[16]++,B().s[97]++,o.hidden=!1,B().s[98]++,o.classList.toggle(m.CSS.conversionToolHidden,t===n.name)}))}},{key:"enableFlipper",value:function(){B().f[17]++,B().s[99]++,this.flipper=new p.default({focusedItemClass:m.CSS.conversionToolFocused})}}],[{key:"CSS",get:function(){return B().f[1]++,B().s[5]++,{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}}]),m}(m.default);t.default=M,M.displayName="ConversionToolbar",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(66),e(39),e(2),e(3),e(5),e(6),e(4),e(7),e(15),e(25),e(8),e(60),e(59),e(82)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u,m,d,f,p,E){"use strict";var I=e(13),h=e(1);function b(){var n="/home/hata/editor.js/src/components/modules/toolbar/inline.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"03b6a4217743bdb43fb70f873c0284764d2710e0"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/toolbar/inline.ts",statementMap:{0:{start:{line:17,column:8},end:{line:17,column:28}},1:{start:{line:21,column:8},end:{line:36,column:10}},2:{start:{line:42,column:8},end:{line:42,column:28}},3:{start:{line:46,column:8},end:{line:46,column:39}},4:{start:{line:52,column:8},end:{line:52,column:32}},5:{start:{line:58,column:8},end:{line:58,column:23}},6:{start:{line:62,column:8},end:{line:62,column:28}},7:{start:{line:70,column:8},end:{line:75,column:9}},8:{start:{line:71,column:12},end:{line:71,column:24}},9:{start:{line:74,column:12},end:{line:74,column:27}},10:{start:{line:88,column:8},end:{line:93,column:9}},11:{start:{line:89,column:12},end:{line:91,column:13}},12:{start:{line:90,column:16},end:{line:90,column:29}},13:{start:{line:92,column:12},end:{line:92,column:19}},14:{start:{line:94,column:8},end:{line:94,column:20}},15:{start:{line:95,column:8},end:{line:95,column:20}},16:{start:{line:96,column:8},end:{line:96,column:36}},17:{start:{line:102,column:30},end:{line:102,column:49}},18:{start:{line:103,column:30},end:{line:103,column:82}},19:{start:{line:104,column:26},end:{line:111,column:9}},20:{start:{line:115,column:8},end:{line:117,column:9}},21:{start:{line:116,column:12},end:{line:116,column:63}},22:{start:{line:121,column:30},end:{line:121,column:58}},23:{start:{line:122,column:31},end:{line:122,column:59}},24:{start:{line:127,column:8},end:{line:127,column:129}},25:{start:{line:128,column:8},end:{line:128,column:132}},26:{start:{line:129,column:8},end:{line:129,column:71}},27:{start:{line:130,column:8},end:{line:130,column:70}},28:{start:{line:136,column:8},end:{line:138,column:9}},29:{start:{line:137,column:12},end:{line:137,column:19}},30:{start:{line:139,column:8},end:{line:141,column:9}},31:{start:{line:140,column:12},end:{line:140,column:19}},32:{start:{line:142,column:8},end:{line:142,column:74}},33:{start:{line:143,column:8},end:{line:150,column:11}},34:{start:{line:147,column:12},end:{line:149,column:13}},35:{start:{line:148,column:16},end:{line:148,column:37}},36:{start:{line:151,column:8},end:{line:151,column:28}},37:{start:{line:152,column:8},end:{line:152,column:34}},38:{start:{line:153,column:8},end:{line:153,column:46}},39:{start:{line:159,column:8},end:{line:161,column:9}},40:{start:{line:160,column:12},end:{line:160,column:19}},41:{start:{line:165,column:8},end:{line:165,column:32}},42:{start:{line:169,column:8},end:{line:169,column:71}},43:{start:{line:170,column:8},end:{line:170,column:96}},44:{start:{line:171,column:8},end:{line:171,column:27}},45:{start:{line:172,column:8},end:{line:183,column:9}},46:{start:{line:176,column:12},end:{line:176,column:47}},47:{start:{line:182,column:12},end:{line:182,column:55}},48:{start:{line:187,column:27},end:{line:187,column:55}},49:{start:{line:188,column:8},end:{line:188,column:59}},50:{start:{line:189,column:8},end:{line:189,column:67}},51:{start:{line:189,column:53},end:{line:189,column:65}},52:{start:{line:190,column:8},end:{line:190,column:44}},53:{start:{line:198,column:8},end:{line:198,column:49}},54:{start:{line:204,column:8},end:{line:204,column:34}},55:{start:{line:205,column:8},end:{line:205,column:28}},56:{start:{line:206,column:8},end:{line:206,column:48}},57:{start:{line:215,column:29},end:{line:215,column:72}},58:{start:{line:219,column:32},end:{line:219,column:98}},59:{start:{line:224,column:31},end:{line:224,column:89}},60:{start:{line:228,column:8},end:{line:230,column:9}},61:{start:{line:229,column:12},end:{line:229,column:25}},62:{start:{line:236,column:8},end:{line:238,column:9}},63:{start:{line:237,column:12},end:{line:237,column:35}},64:{start:{line:249,column:44},end:{line:249,column:69}},65:{start:{line:253,column:8},end:{line:255,column:9}},66:{start:{line:254,column:12},end:{line:254,column:47}},67:{start:{line:259,column:8},end:{line:268,column:9}},68:{start:{line:260,column:38},end:{line:266,column:14}},69:{start:{line:262,column:16},end:{line:262,column:75}},70:{start:{line:265,column:16},end:{line:265,column:28}},71:{start:{line:267,column:12},end:{line:267,column:37}},72:{start:{line:269,column:8},end:{line:269,column:21}},73:{start:{line:275,column:8},end:{line:278,column:11}},74:{start:{line:282,column:8},end:{line:282,column:95}},75:{start:{line:283,column:8},end:{line:283,column:68}},76:{start:{line:284,column:8},end:{line:284,column:68}},77:{start:{line:286,column:8},end:{line:293,column:11}},78:{start:{line:287,column:46},end:{line:287,column:97}},79:{start:{line:290,column:12},end:{line:292,column:13}},80:{start:{line:291,column:16},end:{line:291,column:39}},81:{start:{line:297,column:8},end:{line:297,column:96}},82:{start:{line:301,column:8},end:{line:301,column:67}},83:{start:{line:305,column:8},end:{line:305,column:36}},84:{start:{line:310,column:8},end:{line:310,column:74}},85:{start:{line:315,column:8},end:{line:315,column:40}},86:{start:{line:319,column:8},end:{line:319,column:32}},87:{start:{line:324,column:8},end:{line:324,column:29}},88:{start:{line:334,column:43},end:{line:334,column:59}},89:{start:{line:335,column:33},end:{line:335,column:53}},90:{start:{line:336,column:29},end:{line:336,column:48}},91:{start:{line:338,column:8},end:{line:340,column:9}},92:{start:{line:339,column:12},end:{line:339,column:25}},93:{start:{line:342,column:8},end:{line:344,column:9}},94:{start:{line:343,column:12},end:{line:343,column:25}},95:{start:{line:345,column:23},end:{line:347,column:41}},96:{start:{line:348,column:8},end:{line:350,column:9}},97:{start:{line:349,column:12},end:{line:349,column:25}},98:{start:{line:352,column:32},end:{line:352,column:74}},99:{start:{line:353,column:8},end:{line:355,column:9}},100:{start:{line:354,column:12},end:{line:354,column:25}},101:{start:{line:357,column:29},end:{line:357,column:91}},102:{start:{line:358,column:8},end:{line:360,column:9}},103:{start:{line:359,column:12},end:{line:359,column:25}},104:{start:{line:364,column:38},end:{line:364,column:86}},105:{start:{line:365,column:8},end:{line:365,column:47}},106:{start:{line:371,column:8},end:{line:371,column:52}},107:{start:{line:378,column:8},end:{line:378,column:81}},108:{start:{line:379,column:8},end:{line:379,column:95}},109:{start:{line:380,column:21},end:{line:380,column:50}},110:{start:{line:381,column:8},end:{line:381,column:86}},111:{start:{line:382,column:8},end:{line:382,column:55}},112:{start:{line:383,column:8},end:{line:383,column:86}},113:{start:{line:384,column:8},end:{line:401,column:11}},114:{start:{line:385,column:12},end:{line:400,column:15}},115:{start:{line:393,column:56},end:{line:393,column:95}},116:{start:{line:394,column:16},end:{line:399,column:17}},117:{start:{line:395,column:20},end:{line:395,column:44}},118:{start:{line:397,column:21},end:{line:399,column:17}},119:{start:{line:398,column:20},end:{line:398,column:46}},120:{start:{line:402,column:8},end:{line:405,column:11}},121:{start:{line:411,column:40},end:{line:411,column:51}},122:{start:{line:412,column:25},end:{line:412,column:55}},123:{start:{line:416,column:33},end:{line:416,column:107}},124:{start:{line:417,column:34},end:{line:417,column:77}},125:{start:{line:418,column:8},end:{line:418,column:65}},126:{start:{line:419,column:8},end:{line:419,column:108}},127:{start:{line:423,column:29},end:{line:423,column:60}},128:{start:{line:424,column:32},end:{line:424,column:96}},129:{start:{line:425,column:36},end:{line:425,column:62}},130:{start:{line:426,column:8},end:{line:431,column:39}},131:{start:{line:437,column:19},end:{line:437,column:55}},132:{start:{line:438,column:8},end:{line:438,column:41}},133:{start:{line:448,column:33},end:{line:448,column:53}},134:{start:{line:449,column:29},end:{line:449,column:91}},135:{start:{line:453,column:8},end:{line:453,column:42}},136:{start:{line:454,column:8},end:{line:454,column:42}},137:{start:{line:455,column:8},end:{line:455,column:40}},138:{start:{line:463,column:35},end:{line:463,column:83}},139:{start:{line:464,column:8},end:{line:469,column:11}},140:{start:{line:465,column:33},end:{line:465,column:76}},141:{start:{line:466,column:25},end:{line:466,column:118}},142:{start:{line:467,column:12},end:{line:467,column:41}},143:{start:{line:468,column:12},end:{line:468,column:50}},144:{start:{line:473,column:8},end:{line:473,column:32}},145:{start:{line:482,column:47},end:{line:482,column:58}},146:{start:{line:483,column:23},end:{line:483,column:36}},147:{start:{line:484,column:8},end:{line:487,column:9}},148:{start:{line:485,column:12},end:{line:485,column:85}},149:{start:{line:486,column:12},end:{line:486,column:19}},150:{start:{line:488,column:8},end:{line:488,column:39}},151:{start:{line:489,column:8},end:{line:489,column:47}},152:{start:{line:490,column:8},end:{line:490,column:48}},153:{start:{line:491,column:8},end:{line:494,column:9}},154:{start:{line:492,column:28},end:{line:492,column:48}},155:{start:{line:493,column:12},end:{line:493,column:52}},156:{start:{line:495,column:8},end:{line:498,column:11}},157:{start:{line:496,column:12},end:{line:496,column:35}},158:{start:{line:497,column:12},end:{line:497,column:35}},159:{start:{line:503,column:29},end:{line:503,column:60}},160:{start:{line:504,column:23},end:{line:504,column:27}},161:{start:{line:508,column:30},end:{line:516,column:34}},162:{start:{line:511,column:12},end:{line:513,column:13}},163:{start:{line:512,column:16},end:{line:512,column:68}},164:{start:{line:514,column:12},end:{line:514,column:70}},165:{start:{line:516,column:29},end:{line:516,column:33}},166:{start:{line:522,column:8},end:{line:530,column:9}},167:{start:{line:523,column:12},end:{line:523,column:84}},168:{start:{line:525,column:13},end:{line:530,column:9}},169:{start:{line:526,column:12},end:{line:526,column:66}},170:{start:{line:528,column:13},end:{line:530,column:9}},171:{start:{line:529,column:12},end:{line:529,column:37}},172:{start:{line:531,column:8},end:{line:533,column:9}},173:{start:{line:532,column:12},end:{line:532,column:49}},174:{start:{line:537,column:31},end:{line:537,column:44}},175:{start:{line:538,column:26},end:{line:538,column:145}},176:{start:{line:539,column:8},end:{line:539,column:54}},177:{start:{line:540,column:8},end:{line:544,column:9}},178:{start:{line:541,column:12},end:{line:543,column:16}},179:{start:{line:545,column:8},end:{line:548,column:11}},180:{start:{line:557,column:8},end:{line:580,column:11}},181:{start:{line:560,column:41},end:{line:560,column:65}},182:{start:{line:564,column:16},end:{line:566,column:17}},183:{start:{line:565,column:20},end:{line:565,column:27}},184:{start:{line:573,column:37},end:{line:573,column:89}},185:{start:{line:574,column:16},end:{line:576,column:17}},186:{start:{line:575,column:20},end:{line:575,column:27}},187:{start:{line:577,column:16},end:{line:577,column:39}},188:{start:{line:578,column:16},end:{line:578,column:39}},189:{start:{line:588,column:22},end:{line:588,column:42}},190:{start:{line:589,column:8},end:{line:589,column:29}},191:{start:{line:590,column:8},end:{line:590,column:31}},192:{start:{line:596,column:8},end:{line:598,column:11}},193:{start:{line:597,column:12},end:{line:597,column:58}},194:{start:{line:605,column:23},end:{line:605,column:25}},195:{start:{line:606,column:8},end:{line:611,column:9}},196:{start:{line:607,column:12},end:{line:610,column:13}},197:{start:{line:608,column:37},end:{line:608,column:76}},198:{start:{line:609,column:16},end:{line:609,column:117}},199:{start:{line:612,column:8},end:{line:612,column:22}},200:{start:{line:619,column:8},end:{line:622,column:11}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:18},end:{line:63,column:5}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:69,column:4},end:{line:69,column:5}},loc:{start:{line:69,column:36},end:{line:76,column:5}},line:69},2:{name:"(anonymous_2)",decl:{start:{line:87,column:4},end:{line:87,column:5}},loc:{start:{line:87,column:35},end:{line:97,column:5}},line:87},3:{name:"(anonymous_3)",decl:{start:{line:101,column:4},end:{line:101,column:5}},loc:{start:{line:101,column:11},end:{line:131,column:5}},line:101},4:{name:"(anonymous_4)",decl:{start:{line:135,column:4},end:{line:135,column:5}},loc:{start:{line:135,column:12},end:{line:154,column:5}},line:135},5:{name:"(anonymous_5)",decl:{start:{line:143,column:36},end:{line:143,column:37}},loc:{start:{line:143,column:54},end:{line:150,column:9}},line:143},6:{name:"(anonymous_6)",decl:{start:{line:158,column:4},end:{line:158,column:5}},loc:{start:{line:158,column:11},end:{line:191,column:5}},line:158},7:{name:"(anonymous_7)",decl:{start:{line:189,column:43},end:{line:189,column:44}},loc:{start:{line:189,column:53},end:{line:189,column:65}},line:189},8:{name:"(anonymous_8)",decl:{start:{line:197,column:4},end:{line:197,column:5}},loc:{start:{line:197,column:23},end:{line:199,column:5}},line:197},9:{name:"(anonymous_9)",decl:{start:{line:203,column:4},end:{line:203,column:5}},loc:{start:{line:203,column:14},end:{line:207,column:5}},line:203},10:{name:"(anonymous_10)",decl:{start:{line:214,column:4},end:{line:214,column:5}},loc:{start:{line:214,column:39},end:{line:270,column:5}},line:214},11:{name:"(anonymous_11)",decl:{start:{line:261,column:24},end:{line:261,column:25}},loc:{start:{line:261,column:42},end:{line:263,column:13}},line:261},12:{name:"(anonymous_12)",decl:{start:{line:264,column:21},end:{line:264,column:22}},loc:{start:{line:264,column:39},end:{line:266,column:13}},line:264},13:{name:"(anonymous_13)",decl:{start:{line:274,column:4},end:{line:274,column:5}},loc:{start:{line:274,column:11},end:{line:325,column:5}},line:274},14:{name:"(anonymous_14)",decl:{start:{line:286,column:66},end:{line:286,column:67}},loc:{start:{line:286,column:77},end:{line:293,column:9}},line:286},15:{name:"(anonymous_15)",decl:{start:{line:329,column:4},end:{line:329,column:5}},loc:{start:{line:329,column:20},end:{line:366,column:5}},line:329},16:{name:"(anonymous_16)",decl:{start:{line:370,column:4},end:{line:370,column:5}},loc:{start:{line:370,column:23},end:{line:372,column:5}},line:370},17:{name:"(anonymous_17)",decl:{start:{line:377,column:4},end:{line:377,column:5}},loc:{start:{line:377,column:27},end:{line:406,column:5}},line:377},18:{name:"(anonymous_18)",decl:{start:{line:384,column:72},end:{line:384,column:73}},loc:{start:{line:384,column:78},end:{line:401,column:9}},line:384},19:{name:"(anonymous_19)",decl:{start:{line:385,column:49},end:{line:385,column:50}},loc:{start:{line:385,column:78},end:{line:400,column:13}},line:385},20:{name:"(anonymous_20)",decl:{start:{line:410,column:4},end:{line:410,column:5}},loc:{start:{line:410,column:34},end:{line:432,column:5}},line:410},21:{name:"(anonymous_21)",decl:{start:{line:436,column:4},end:{line:436,column:5}},loc:{start:{line:436,column:31},end:{line:439,column:5}},line:436},22:{name:"(anonymous_22)",decl:{start:{line:447,column:4},end:{line:447,column:5}},loc:{start:{line:447,column:23},end:{line:474,column:5}},line:447},23:{name:"(anonymous_23)",decl:{start:{line:464,column:35},end:{line:464,column:36}},loc:{start:{line:464,column:49},end:{line:469,column:9}},line:464},24:{name:"(anonymous_24)",decl:{start:{line:481,column:4},end:{line:481,column:5}},loc:{start:{line:481,column:28},end:{line:549,column:5}},line:481},25:{name:"(anonymous_25)",decl:{start:{line:495,column:38},end:{line:495,column:39}},loc:{start:{line:495,column:49},end:{line:498,column:9}},line:495},26:{name:"(anonymous_26)",decl:{start:{line:510,column:20},end:{line:510,column:21}},loc:{start:{line:510,column:39},end:{line:515,column:9}},line:510},27:{name:"(anonymous_27)",decl:{start:{line:516,column:17},end:{line:516,column:18}},loc:{start:{line:516,column:29},end:{line:516,column:33}},line:516},28:{name:"(anonymous_28)",decl:{start:{line:556,column:4},end:{line:556,column:5}},loc:{start:{line:556,column:36},end:{line:581,column:5}},line:556},29:{name:"(anonymous_29)",decl:{start:{line:559,column:21},end:{line:559,column:22}},loc:{start:{line:559,column:32},end:{line:579,column:13}},line:559},30:{name:"(anonymous_30)",decl:{start:{line:587,column:4},end:{line:587,column:5}},loc:{start:{line:587,column:22},end:{line:591,column:5}},line:587},31:{name:"(anonymous_31)",decl:{start:{line:595,column:4},end:{line:595,column:5}},loc:{start:{line:595,column:22},end:{line:599,column:5}},line:595},32:{name:"(anonymous_32)",decl:{start:{line:596,column:36},end:{line:596,column:37}},loc:{start:{line:596,column:54},end:{line:598,column:9}},line:596},33:{name:"(anonymous_33)",decl:{start:{line:604,column:4},end:{line:604,column:5}},loc:{start:{line:604,column:22},end:{line:613,column:5}},line:604},34:{name:"(anonymous_34)",decl:{start:{line:618,column:4},end:{line:618,column:5}},loc:{start:{line:618,column:20},end:{line:623,column:5}},line:618}},branchMap:{0:{loc:{start:{line:70,column:8},end:{line:75,column:9}},type:"if",locations:[{start:{line:70,column:8},end:{line:75,column:9}},{start:{line:70,column:8},end:{line:75,column:9}}],line:70},1:{loc:{start:{line:87,column:14},end:{line:87,column:33}},type:"default-arg",locations:[{start:{line:87,column:28},end:{line:87,column:33}}],line:87},2:{loc:{start:{line:88,column:8},end:{line:93,column:9}},type:"if",locations:[{start:{line:88,column:8},end:{line:93,column:9}},{start:{line:88,column:8},end:{line:93,column:9}}],line:88},3:{loc:{start:{line:89,column:12},end:{line:91,column:13}},type:"if",locations:[{start:{line:89,column:12},end:{line:91,column:13}},{start:{line:89,column:12},end:{line:91,column:13}}],line:89},4:{loc:{start:{line:115,column:8},end:{line:117,column:9}},type:"if",locations:[{start:{line:115,column:8},end:{line:117,column:9}},{start:{line:115,column:8},end:{line:117,column:9}}],line:115},5:{loc:{start:{line:136,column:8},end:{line:138,column:9}},type:"if",locations:[{start:{line:136,column:8},end:{line:138,column:9}},{start:{line:136,column:8},end:{line:138,column:9}}],line:136},6:{loc:{start:{line:139,column:8},end:{line:141,column:9}},type:"if",locations:[{start:{line:139,column:8},end:{line:141,column:9}},{start:{line:139,column:8},end:{line:141,column:9}}],line:139},7:{loc:{start:{line:147,column:12},end:{line:149,column:13}},type:"if",locations:[{start:{line:147,column:12},end:{line:149,column:13}},{start:{line:147,column:12},end:{line:149,column:13}}],line:147},8:{loc:{start:{line:159,column:8},end:{line:161,column:9}},type:"if",locations:[{start:{line:159,column:8},end:{line:161,column:9}},{start:{line:159,column:8},end:{line:161,column:9}}],line:159},9:{loc:{start:{line:172,column:8},end:{line:183,column:9}},type:"if",locations:[{start:{line:172,column:8},end:{line:183,column:9}},{start:{line:172,column:8},end:{line:183,column:9}}],line:172},10:{loc:{start:{line:224,column:31},end:{line:224,column:89}},type:"binary-expr",locations:[{start:{line:224,column:31},end:{line:224,column:55}},{start:{line:224,column:59},end:{line:224,column:89}}],line:224},11:{loc:{start:{line:228,column:8},end:{line:230,column:9}},type:"if",locations:[{start:{line:228,column:8},end:{line:230,column:9}},{start:{line:228,column:8},end:{line:230,column:9}}],line:228},12:{loc:{start:{line:236,column:8},end:{line:238,column:9}},type:"if",locations:[{start:{line:236,column:8},end:{line:238,column:9}},{start:{line:236,column:8},end:{line:238,column:9}}],line:236},13:{loc:{start:{line:253,column:8},end:{line:255,column:9}},type:"if",locations:[{start:{line:253,column:8},end:{line:255,column:9}},{start:{line:253,column:8},end:{line:255,column:9}}],line:253},14:{loc:{start:{line:259,column:8},end:{line:268,column:9}},type:"if",locations:[{start:{line:259,column:8},end:{line:268,column:9}},{start:{line:259,column:8},end:{line:268,column:9}}],line:259},15:{loc:{start:{line:277,column:16},end:{line:277,column:67}},type:"cond-expr",locations:[{start:{line:277,column:29},end:{line:277,column:62}},{start:{line:277,column:65},end:{line:277,column:67}}],line:277},16:{loc:{start:{line:290,column:12},end:{line:292,column:13}},type:"if",locations:[{start:{line:290,column:12},end:{line:292,column:13}},{start:{line:290,column:12},end:{line:292,column:13}}],line:290},17:{loc:{start:{line:338,column:8},end:{line:340,column:9}},type:"if",locations:[{start:{line:338,column:8},end:{line:340,column:9}},{start:{line:338,column:8},end:{line:340,column:9}}],line:338},18:{loc:{start:{line:338,column:12},end:{line:338,column:61}},type:"binary-expr",locations:[{start:{line:338,column:12},end:{line:338,column:29}},{start:{line:338,column:33},end:{line:338,column:61}}],line:338},19:{loc:{start:{line:342,column:8},end:{line:344,column:9}},type:"if",locations:[{start:{line:342,column:8},end:{line:344,column:9}},{start:{line:342,column:8},end:{line:344,column:9}}],line:342},20:{loc:{start:{line:342,column:12},end:{line:342,column:67}},type:"binary-expr",locations:[{start:{line:342,column:12},end:{line:342,column:40}},{start:{line:342,column:44},end:{line:342,column:67}}],line:342},21:{loc:{start:{line:345,column:23},end:{line:347,column:41}},type:"cond-expr",locations:[{start:{line:346,column:14},end:{line:346,column:55}},{start:{line:347,column:14},end:{line:347,column:41}}],line:345},22:{loc:{start:{line:348,column:8},end:{line:350,column:9}},type:"if",locations:[{start:{line:348,column:8},end:{line:350,column:9}},{start:{line:348,column:8},end:{line:350,column:9}}],line:348},23:{loc:{start:{line:348,column:12},end:{line:348,column:83}},type:"binary-expr",locations:[{start:{line:348,column:12},end:{line:348,column:28}},{start:{line:348,column:32},end:{line:348,column:83}}],line:348},24:{loc:{start:{line:353,column:8},end:{line:355,column:9}},type:"if",locations:[{start:{line:353,column:8},end:{line:355,column:9}},{start:{line:353,column:8},end:{line:355,column:9}}],line:353},25:{loc:{start:{line:358,column:8},end:{line:360,column:9}},type:"if",locations:[{start:{line:358,column:8},end:{line:360,column:9}},{start:{line:358,column:8},end:{line:360,column:9}}],line:358},26:{loc:{start:{line:393,column:56},end:{line:393,column:95}},type:"binary-expr",locations:[{start:{line:393,column:56},end:{line:393,column:80}},{start:{line:393,column:84},end:{line:393,column:95}}],line:393},27:{loc:{start:{line:394,column:16},end:{line:399,column:17}},type:"if",locations:[{start:{line:394,column:16},end:{line:399,column:17}},{start:{line:394,column:16},end:{line:399,column:17}}],line:394},28:{loc:{start:{line:397,column:21},end:{line:399,column:17}},type:"if",locations:[{start:{line:397,column:21},end:{line:399,column:17}},{start:{line:397,column:21},end:{line:399,column:17}}],line:397},29:{loc:{start:{line:416,column:33},end:{line:416,column:107}},type:"binary-expr",locations:[{start:{line:416,column:33},end:{line:416,column:101}},{start:{line:416,column:105},end:{line:416,column:107}}],line:416},30:{loc:{start:{line:417,column:34},end:{line:417,column:77}},type:"binary-expr",locations:[{start:{line:417,column:34},end:{line:417,column:50}},{start:{line:417,column:54},end:{line:417,column:77}}],line:417},31:{loc:{start:{line:424,column:32},end:{line:424,column:96}},type:"binary-expr",locations:[{start:{line:424,column:32},end:{line:424,column:90}},{start:{line:424,column:94},end:{line:424,column:96}}],line:424},32:{loc:{start:{line:425,column:36},end:{line:425,column:62}},type:"binary-expr",locations:[{start:{line:425,column:36},end:{line:425,column:56}},{start:{line:425,column:60},end:{line:425,column:62}}],line:425},33:{loc:{start:{line:427,column:12},end:{line:431,column:38}},type:"binary-expr",locations:[{start:{line:427,column:12},end:{line:427,column:36}},{start:{line:428,column:16},end:{line:428,column:36}},{start:{line:429,column:16},end:{line:429,column:41}},{start:{line:430,column:16},end:{line:430,column:37}},{start:{line:431,column:16},end:{line:431,column:38}}],line:427},34:{loc:{start:{line:484,column:8},end:{line:487,column:9}},type:"if",locations:[{start:{line:484,column:8},end:{line:487,column:9}},{start:{line:484,column:8},end:{line:487,column:9}}],line:484},35:{loc:{start:{line:491,column:8},end:{line:494,column:9}},type:"if",locations:[{start:{line:491,column:8},end:{line:494,column:9}},{start:{line:491,column:8},end:{line:494,column:9}}],line:491},36:{loc:{start:{line:511,column:12},end:{line:513,column:13}},type:"if",locations:[{start:{line:511,column:12},end:{line:513,column:13}},{start:{line:511,column:12},end:{line:513,column:13}}],line:511},37:{loc:{start:{line:522,column:8},end:{line:530,column:9}},type:"if",locations:[{start:{line:522,column:8},end:{line:530,column:9}},{start:{line:522,column:8},end:{line:530,column:9}}],line:522},38:{loc:{start:{line:525,column:13},end:{line:530,column:9}},type:"if",locations:[{start:{line:525,column:13},end:{line:530,column:9}},{start:{line:525,column:13},end:{line:530,column:9}}],line:525},39:{loc:{start:{line:525,column:17},end:{line:525,column:75}},type:"binary-expr",locations:[{start:{line:525,column:17},end:{line:525,column:29}},{start:{line:525,column:33},end:{line:525,column:75}}],line:525},40:{loc:{start:{line:528,column:13},end:{line:530,column:9}},type:"if",locations:[{start:{line:528,column:13},end:{line:530,column:9}},{start:{line:528,column:13},end:{line:530,column:9}}],line:528},41:{loc:{start:{line:531,column:8},end:{line:533,column:9}},type:"if",locations:[{start:{line:531,column:8},end:{line:533,column:9}},{start:{line:531,column:8},end:{line:533,column:9}}],line:531},42:{loc:{start:{line:538,column:59},end:{line:538,column:144}},type:"binary-expr",locations:[{start:{line:538,column:59},end:{line:538,column:118}},{start:{line:538,column:122},end:{line:538,column:144}}],line:538},43:{loc:{start:{line:540,column:8},end:{line:544,column:9}},type:"if",locations:[{start:{line:540,column:8},end:{line:544,column:9}},{start:{line:540,column:8},end:{line:544,column:9}}],line:540},44:{loc:{start:{line:564,column:16},end:{line:566,column:17}},type:"if",locations:[{start:{line:564,column:16},end:{line:566,column:17}},{start:{line:564,column:16},end:{line:566,column:17}}],line:564},45:{loc:{start:{line:574,column:16},end:{line:576,column:17}},type:"if",locations:[{start:{line:574,column:16},end:{line:576,column:17}},{start:{line:574,column:16},end:{line:576,column:17}}],line:574},46:{loc:{start:{line:574,column:20},end:{line:574,column:104}},type:"binary-expr",locations:[{start:{line:574,column:20},end:{line:574,column:33}},{start:{line:574,column:37},end:{line:574,column:104}}],line:574},47:{loc:{start:{line:607,column:12},end:{line:610,column:13}},type:"if",locations:[{start:{line:607,column:12},end:{line:610,column:13}},{start:{line:607,column:12},end:{line:610,column:13}}],line:607}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0},b:{0:[0,0],1:[0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0,0,0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/toolbar/inline.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/toolbar/inline.ts"],names:[],mappings:"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",sourcesContent:["import Module from '../../__module';\nimport $ from '../../dom';\nimport SelectionUtils from '../../selection';\nimport * as _ from '../../utils';\nimport { InlineTool, InlineToolConstructable, ToolConstructable, ToolSettings } from '../../../../types';\nimport Flipper from '../../flipper';\nimport I18n from '../../i18n';\nimport { I18nInternalNS } from '../../i18n/namespace-internal';\n\n/**\n * Inline Toolbar elements\n */\ninterface InlineToolbarNodes {\n  wrapper: HTMLElement;\n  togglerAndButtonsWrapper: HTMLElement;\n  buttons: HTMLElement;\n  conversionToggler: HTMLElement;\n  conversionTogglerContent: HTMLElement;\n  /**\n   * Zone below the buttons where Tools can create additional actions by 'renderActions()' method\n   * For example, input for the 'link' tool or textarea for the 'comment' tool\n   */\n  actions: HTMLElement;\n}\n\n/**\n * Inline toolbar with actions that modifies selected text fragment\n *\n * |¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯|\n * |   B  i [link] [mark]   |\n * |________________________|\n */\nexport default class InlineToolbar extends Module<InlineToolbarNodes> {\n  /**\n   * CSS styles\n   */\n  public CSS = {\n    inlineToolbar: 'ce-inline-toolbar',\n    inlineToolbarShowed: 'ce-inline-toolbar--showed',\n    inlineToolbarLeftOriented: 'ce-inline-toolbar--left-oriented',\n    inlineToolbarRightOriented: 'ce-inline-toolbar--right-oriented',\n    inlineToolbarShortcut: 'ce-inline-toolbar__shortcut',\n    buttonsWrapper: 'ce-inline-toolbar__buttons',\n    actionsWrapper: 'ce-inline-toolbar__actions',\n    inlineToolButton: 'ce-inline-tool',\n    inputField: 'cdx-input',\n    focusedButton: 'ce-inline-tool--focused',\n    conversionToggler: 'ce-inline-toolbar__dropdown',\n    conversionTogglerHidden: 'ce-inline-toolbar__dropdown--hidden',\n    conversionTogglerContent: 'ce-inline-toolbar__dropdown-content',\n    togglerAndButtonsWrapper: 'ce-inline-toolbar__toggler-and-button-wrapper',\n  };\n\n  /**\n   * State of inline toolbar\n   *\n   * @type {boolean}\n   */\n  public opened = false;\n\n  /**\n   * Margin above/below the Toolbar\n   */\n  private readonly toolbarVerticalMargin: number = 5;\n\n  /**\n   * Currently visible tools instances\n   */\n  private toolsInstances: Map<string, InlineTool>;\n\n  /**\n   * Buttons List\n   *\n   * @type {NodeList}\n   */\n  private buttonsList: NodeList = null;\n\n  /**\n   * Cache for Inline Toolbar width\n   *\n   * @type {number}\n   */\n  private width = 0;\n\n  /**\n   * Instance of class that responses for leafing buttons by arrows/tab\n   */\n  private flipper: Flipper = null;\n\n  /**\n   * Toggles read-only mode\n   *\n   * @param {boolean} readOnlyEnabled - read-only mode\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (!readOnlyEnabled) {\n      this.make();\n    } else {\n      this.destroy();\n    }\n  }\n\n  /**\n   *  Moving / appearance\n   *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n   */\n\n  /**\n   * Shows Inline Toolbar if something is selected\n   *\n   * @param {boolean} [needToClose] - pass true to close toolbar if it is not allowed.\n   *                                  Avoid to use it just for closing IT, better call .close() clearly.\n   */\n  public tryToShow(needToClose = false): void {\n    if (!this.allowedToShow()) {\n      if (needToClose) {\n        this.close();\n      }\n\n      return;\n    }\n\n    this.move();\n    this.open();\n    this.Editor.Toolbar.close();\n  }\n\n  /**\n   * Move Toolbar to the selected text\n   */\n  public move(): void {\n    const selectionRect = SelectionUtils.rect as DOMRect;\n    const wrapperOffset = this.Editor.UI.nodes.wrapper.getBoundingClientRect();\n    const newCoords = {\n      x: selectionRect.x - wrapperOffset.left,\n      y: selectionRect.y +\n        selectionRect.height -\n        // + window.scrollY\n        wrapperOffset.top +\n        this.toolbarVerticalMargin,\n    };\n\n    /**\n     * If we know selections width, place InlineToolbar to center\n     */\n    if (selectionRect.width) {\n      newCoords.x += Math.floor(selectionRect.width / 2);\n    }\n\n    /**\n     * Inline Toolbar has -50% translateX, so we need to check real coords to prevent overflowing\n     */\n    const realLeftCoord = newCoords.x - this.width / 2;\n    const realRightCoord = newCoords.x + this.width / 2;\n\n    /**\n     * By default, Inline Toolbar has top-corner at the center\n     * We are adding a modifiers for to move corner to the left or right\n     */\n    this.nodes.wrapper.classList.toggle(\n      this.CSS.inlineToolbarLeftOriented,\n      realLeftCoord < this.Editor.UI.contentRect.left\n    );\n\n    this.nodes.wrapper.classList.toggle(\n      this.CSS.inlineToolbarRightOriented,\n      realRightCoord > this.Editor.UI.contentRect.right\n    );\n\n    this.nodes.wrapper.style.left = Math.floor(newCoords.x) + 'px';\n    this.nodes.wrapper.style.top = Math.floor(newCoords.y) + 'px';\n  }\n\n  /**\n   * Hides Inline Toolbar\n   */\n  public close(): void {\n    if (!this.opened) {\n      return;\n    }\n\n    if (this.Editor.ReadOnly.isEnabled) {\n      return;\n    }\n\n    this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed);\n    this.toolsInstances.forEach((toolInstance) => {\n      /**\n       * @todo replace 'clear' with 'destroy'\n       */\n      if (_.isFunction(toolInstance.clear)) {\n        toolInstance.clear();\n      }\n    });\n\n    this.opened = false;\n\n    this.flipper.deactivate();\n    this.Editor.ConversionToolbar.close();\n  }\n\n  /**\n   * Shows Inline Toolbar\n   */\n  public open(): void {\n    if (this.opened) {\n      return;\n    }\n    /**\n     * Filter inline-tools and show only allowed by Block's Tool\n     */\n    this.addToolsFiltered();\n\n    /**\n     * Show Inline Toolbar\n     */\n    this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed);\n\n    this.buttonsList = this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`);\n    this.opened = true;\n\n    if (this.Editor.ConversionToolbar.hasTools()) {\n      /**\n       * Change Conversion Dropdown content for current tool\n       */\n      this.setConversionTogglerContent();\n    } else {\n      /**\n       * hide Conversion Dropdown with there are no tools\n       */\n      this.nodes.conversionToggler.hidden = true;\n    }\n\n    /**\n     * Get currently visible buttons to pass it to the Flipper\n     */\n    let visibleTools = Array.from(this.buttonsList);\n\n    visibleTools.unshift(this.nodes.conversionToggler);\n    visibleTools = visibleTools.filter((tool) => !(tool as HTMLElement).hidden);\n\n    this.flipper.activate(visibleTools as HTMLElement[]);\n  }\n\n  /**\n   * Check if node is contained by Inline Toolbar\n   *\n   * @param {Node} node — node to chcek\n   */\n  public containsNode(node: Node): boolean {\n    return this.nodes.wrapper.contains(node);\n  }\n\n  /**\n   * Removes UI and its components\n   */\n  public destroy(): void {\n    this.flipper.deactivate();\n    this.flipper = null;\n\n    this.Editor.ConversionToolbar.destroy();\n  }\n\n  /**\n   * Returns inline toolbar settings for a particular tool\n   *\n   * @param {string} toolName - user specified name of tool\n   * @returns - array of ordered tool names or false\n   */\n  private getInlineToolbarSettings(toolName): string[]|boolean {\n    const toolSettings = this.Editor.Tools.getToolSettings(toolName);\n\n    /**\n     * InlineToolbar property of a particular tool\n     */\n    const settingsForTool = toolSettings[this.Editor.Tools.USER_SETTINGS.ENABLED_INLINE_TOOLS];\n\n    /**\n     * Whether to enable IT for a particular tool is the decision of the editor user.\n     * He can enable it by the inlineToolbar settings for this tool. To enable, he should pass true or strings[]\n     */\n    const enabledForTool = settingsForTool === true || Array.isArray(settingsForTool);\n\n    /**\n     * Disabled by user\n     */\n    if (!enabledForTool) {\n      return false;\n    }\n\n    /**\n     * 1st priority.\n     *\n     * If user pass the list of inline tools for the particular tool, return it.\n     */\n    if (Array.isArray(settingsForTool)) {\n      return settingsForTool;\n    }\n\n    /**\n     * 2nd priority.\n     *\n     * If user pass just 'true' for tool, get common inlineToolbar settings\n     * - if common settings is an array, use it\n     * - if common settings is 'true' or not specified, get default order\n     */\n\n    /**\n     * Common inlineToolbar settings got from the root of EditorConfig\n     */\n    const commonInlineToolbarSettings = this.config.inlineToolbar;\n\n    /**\n     * If common settings is an array, use it\n     */\n    if (Array.isArray(commonInlineToolbarSettings)) {\n      return commonInlineToolbarSettings;\n    }\n\n    /**\n     * If common settings is 'true' or not specified (will be set as true at core.ts), get the default order\n     */\n    if (commonInlineToolbarSettings === true) {\n      const defaultToolsOrder: string[] = Object.entries(this.Editor.Tools.available)\n        .filter(([name, tool]) => {\n          return tool[this.Editor.Tools.INTERNAL_SETTINGS.IS_INLINE];\n        })\n        .map(([name, tool]) => {\n          return name;\n        });\n\n      return defaultToolsOrder;\n    }\n\n    return false;\n  }\n\n  /**\n   * Making DOM\n   */\n  private make(): void {\n    this.nodes.wrapper = $.make('div', [\n      this.CSS.inlineToolbar,\n      ...(this.isRtl ? [ this.Editor.UI.CSS.editorRtlFix ] : []),\n    ]);\n    /**\n     * Creates a different wrapper for toggler and buttons.\n     */\n    this.nodes.togglerAndButtonsWrapper = $.make('div', this.CSS.togglerAndButtonsWrapper);\n    this.nodes.buttons = $.make('div', this.CSS.buttonsWrapper);\n    this.nodes.actions = $.make('div', this.CSS.actionsWrapper);\n\n    // To prevent reset of a selection when click on the wrapper\n    this.Editor.Listeners.on(this.nodes.wrapper, 'mousedown', (event) => {\n      const isClickedOnActionsWrapper = (event.target as Element).closest(`.${this.CSS.actionsWrapper}`);\n\n      // If click is on actions wrapper,\n      // do not prevent default behaviour because actions might include interactive elements\n      if (!isClickedOnActionsWrapper) {\n        event.preventDefault();\n      }\n    });\n\n    /**\n     * Append the intermediary wrapper which contains toggler and buttons and button actions.\n     */\n    $.append(this.nodes.wrapper, [this.nodes.togglerAndButtonsWrapper, this.nodes.actions]);\n    /**\n     * Append the inline toolbar to the editor.\n     */\n    $.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);\n\n    /**\n     * Add button that will allow switching block type\n     */\n    this.addConversionToggler();\n\n    /**\n     * Wrapper for the inline tools\n     * Will be appended after the Conversion Toolbar toggler\n     */\n    $.append(this.nodes.togglerAndButtonsWrapper, this.nodes.buttons);\n\n    /**\n     * Prepare conversion toolbar.\n     * If it has any conversion tool then it will be enabled in the Inline Toolbar\n     */\n    this.prepareConversionToolbar();\n\n    /**\n     * Recalculate initial width with all buttons\n     */\n    this.recalculateWidth();\n\n    /**\n     * Allow to leaf buttons by arrows / tab\n     * Buttons will be filled on opening\n     */\n    this.enableFlipper();\n  }\n\n  /**\n   * Need to show Inline Toolbar or not\n   */\n  private allowedToShow(): boolean {\n    /**\n     * Tags conflicts with window.selection function.\n     * Ex. IMG tag returns null (Firefox) or Redactors wrapper (Chrome)\n     */\n    const tagsConflictsWithSelection = ['IMG', 'INPUT'];\n    const currentSelection = SelectionUtils.get();\n    const selectedText = SelectionUtils.text;\n\n    // old browsers\n    if (!currentSelection || !currentSelection.anchorNode) {\n      return false;\n    }\n\n    // empty selection\n    if (currentSelection.isCollapsed || selectedText.length < 1) {\n      return false;\n    }\n\n    const target = !$.isElement(currentSelection.anchorNode)\n      ? currentSelection.anchorNode.parentElement\n      : currentSelection.anchorNode;\n\n    if (currentSelection && tagsConflictsWithSelection.includes(target.tagName)) {\n      return false;\n    }\n\n    // The selection of the element only in contenteditable\n    const contenteditable = target.closest('[contenteditable=\"true\"]');\n\n    if (contenteditable === null) {\n      return false;\n    }\n\n    // is enabled by current Block's Tool\n    const currentBlock = this.Editor.BlockManager.getBlock(currentSelection.anchorNode as HTMLElement);\n\n    if (!currentBlock) {\n      return false;\n    }\n\n    /**\n     * getInlineToolbarSettings could return an string[] (order of tools) or false (Inline Toolbar disabled).\n     */\n    const inlineToolbarSettings = this.getInlineToolbarSettings(currentBlock.name);\n\n    return inlineToolbarSettings !== false;\n  }\n\n  /**\n   * Recalculate inline toolbar width\n   */\n  private recalculateWidth(): void {\n    this.width = this.nodes.wrapper.offsetWidth;\n  }\n\n  /**\n   * Create a toggler for Conversion Dropdown\n   * and prepend it to the buttons list\n   */\n  private addConversionToggler(): void {\n    this.nodes.conversionToggler = $.make('div', this.CSS.conversionToggler);\n    this.nodes.conversionTogglerContent = $.make('div', this.CSS.conversionTogglerContent);\n\n    const icon = $.svg('toggler-down', 13, 13);\n\n    this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent);\n    this.nodes.conversionToggler.appendChild(icon);\n\n    this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler);\n\n    this.Editor.Listeners.on(this.nodes.conversionToggler, 'click', () => {\n      this.Editor.ConversionToolbar.toggle((conversionToolbarOpened) => {\n        /**\n         * When ConversionToolbar is opening on activated InlineToolbar flipper\n         * Then we need to temporarily deactivate InlineToolbar flipper so that we could flip ConversionToolbar items\n         *\n         * Other case when ConversionToolbar is closing (for example, by escape) but we need to continue flipping\n         * InlineToolbar items, we activate InlineToolbar flipper\n         */\n        const canActivateInlineToolbarFlipper = !conversionToolbarOpened && this.opened;\n\n        if (canActivateInlineToolbarFlipper) {\n          this.flipper.activate();\n        } else if (this.opened) {\n          this.flipper.deactivate();\n        }\n      });\n    });\n\n    this.Editor.Tooltip.onHover(this.nodes.conversionToggler, I18n.ui(I18nInternalNS.ui.inlineToolbar.converter, 'Convert to'), {\n      placement: 'top',\n      hidingDelay: 100,\n    });\n  }\n\n  /**\n   * Changes Conversion Dropdown content for current block's Tool\n   */\n  private setConversionTogglerContent(): void {\n    const { BlockManager, Tools } = this.Editor;\n    const toolName = BlockManager.currentBlock.name;\n\n    /**\n     * If tool does not provide 'export' rule, hide conversion dropdown\n     */\n    const conversionConfig = Tools.available[toolName][Tools.INTERNAL_SETTINGS.CONVERSION_CONFIG] || {};\n    const exportRuleDefined = conversionConfig && conversionConfig.export;\n\n    this.nodes.conversionToggler.hidden = !exportRuleDefined;\n    this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden, !exportRuleDefined);\n\n    /**\n     * Get icon or title for dropdown\n     */\n    const toolSettings = Tools.getToolSettings(toolName);\n    const toolboxSettings = Tools.available[toolName][Tools.INTERNAL_SETTINGS.TOOLBOX] || {};\n    const userToolboxSettings = toolSettings.toolbox || {};\n\n    this.nodes.conversionTogglerContent.innerHTML =\n      userToolboxSettings.icon ||\n      toolboxSettings.icon ||\n      userToolboxSettings.title ||\n      toolboxSettings.title ||\n      _.capitalize(toolName);\n  }\n\n  /**\n   * Makes the Conversion Dropdown\n   */\n  private prepareConversionToolbar(): void {\n    const ct = this.Editor.ConversionToolbar.make();\n\n    $.append(this.nodes.wrapper, ct);\n  }\n\n  /**\n   *  Working with Tools\n   *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n   */\n\n  /**\n   * Append only allowed Tools\n   */\n  private addToolsFiltered(): void {\n    const currentSelection = SelectionUtils.get();\n    const currentBlock = this.Editor.BlockManager.getBlock(currentSelection.anchorNode as HTMLElement);\n\n    /**\n     * Clear buttons list\n     */\n    this.nodes.buttons.innerHTML = '';\n    this.nodes.actions.innerHTML = '';\n    this.toolsInstances = new Map();\n\n    /**\n     * Filter buttons if Block Tool pass config like inlineToolbar=['link']\n     * Else filter them according to the default inlineToolbar property.\n     *\n     * For this moment, inlineToolbarOrder could not be 'false'\n     * because this method will be called only if the Inline Toolbar is enabled\n     */\n    const inlineToolbarOrder = this.getInlineToolbarSettings(currentBlock.name) as string[];\n\n    inlineToolbarOrder.forEach((toolName) => {\n      const toolSettings = this.Editor.Tools.getToolSettings(toolName);\n      const tool = this.Editor.Tools.constructInline(this.Editor.Tools.inline[toolName], toolName, toolSettings);\n\n      this.addTool(toolName, tool);\n      tool.checkState(SelectionUtils.get());\n    });\n\n    /**\n     * Recalculate width because some buttons can be hidden\n     */\n    this.recalculateWidth();\n  }\n\n  /**\n   * Add tool button and activate clicks\n   *\n   * @param {string} toolName - name of Tool to add\n   * @param {InlineTool} tool - Tool class instance\n   */\n  private addTool(toolName: string, tool: InlineTool): void {\n    const {\n      Listeners,\n      Tools,\n      Tooltip,\n    } = this.Editor;\n\n    const button = tool.render();\n\n    if (!button) {\n      _.log('Render method must return an instance of Node', 'warn', toolName);\n\n      return;\n    }\n\n    button.dataset.tool = toolName;\n    this.nodes.buttons.appendChild(button);\n    this.toolsInstances.set(toolName, tool);\n\n    if (_.isFunction(tool.renderActions)) {\n      const actions = tool.renderActions();\n\n      this.nodes.actions.appendChild(actions);\n    }\n\n    Listeners.on(button, 'click', (event) => {\n      this.toolClicked(tool);\n      event.preventDefault();\n    });\n\n    /**\n     * Enable shortcuts\n     * Ignore tool that doesn't have shortcut or empty string\n     */\n    const toolSettings = Tools.getToolSettings(toolName);\n\n    let shortcut = null;\n\n    /**\n     * Get internal inline tools\n     */\n    const internalTools: string[] = Object\n      .entries(Tools.internalTools)\n      .filter(([, toolClass]: [string, ToolConstructable | ToolSettings]) => {\n        if (_.isFunction(toolClass)) {\n          return toolClass[Tools.INTERNAL_SETTINGS.IS_INLINE];\n        }\n\n        return (toolClass as ToolSettings).class[Tools.INTERNAL_SETTINGS.IS_INLINE];\n      })\n      .map(([ name ]: [string, InlineToolConstructable | ToolSettings]) => name);\n\n    /**\n     * 1) For internal tools, check public getter 'shortcut'\n     * 2) For external tools, check tool's settings\n     * 3) If shortcut is not set in settings, check Tool's public property\n     */\n    if (internalTools.includes(toolName)) {\n      shortcut = this.inlineTools[toolName][Tools.INTERNAL_SETTINGS.SHORTCUT];\n    } else if (toolSettings && toolSettings[Tools.USER_SETTINGS.SHORTCUT]) {\n      shortcut = toolSettings[Tools.USER_SETTINGS.SHORTCUT];\n    } else if (tool.shortcut) {\n      shortcut = tool.shortcut;\n    }\n\n    if (shortcut) {\n      this.enableShortcuts(tool, shortcut);\n    }\n\n    /**\n     * Enable tooltip module on button\n     */\n    const tooltipContent = $.make('div');\n    const toolTitle = I18n.t(\n      I18nInternalNS.toolNames,\n      Tools.toolsClasses[toolName][Tools.INTERNAL_SETTINGS.TITLE] || _.capitalize(toolName)\n    );\n\n    tooltipContent.appendChild($.text(toolTitle));\n\n    if (shortcut) {\n      tooltipContent.appendChild($.make('div', this.CSS.inlineToolbarShortcut, {\n        textContent: _.beautifyShortcut(shortcut),\n      }));\n    }\n\n    Tooltip.onHover(button, tooltipContent, {\n      placement: 'top',\n      hidingDelay: 100,\n    });\n  }\n\n  /**\n   * Enable Tool shortcut with Editor Shortcuts Module\n   *\n   * @param {InlineTool} tool - Tool instance\n   * @param {string} shortcut - shortcut according to the ShortcutData Module format\n   */\n  private enableShortcuts(tool: InlineTool, shortcut: string): void {\n    this.Editor.Shortcuts.add({\n      name: shortcut,\n      handler: (event) => {\n        const { currentBlock } = this.Editor.BlockManager;\n\n        /**\n         * Editor is not focused\n         */\n        if (!currentBlock) {\n          return;\n        }\n\n        /**\n         * We allow to fire shortcut with empty selection (isCollapsed=true)\n         * it can be used by tools like «Mention» that works without selection:\n         * Example: by SHIFT+@ show dropdown and insert selected username\n         */\n        // if (SelectionUtils.isCollapsed) return;\n\n        const toolSettings = this.Editor.Tools.getToolSettings(currentBlock.name);\n\n        if (!toolSettings || !toolSettings[this.Editor.Tools.USER_SETTINGS.ENABLED_INLINE_TOOLS]) {\n          return;\n        }\n\n        event.preventDefault();\n        this.toolClicked(tool);\n      },\n    });\n  }\n\n  /**\n   * Inline Tool button clicks\n   *\n   * @param {InlineTool} tool - Tool's instance\n   */\n  private toolClicked(tool: InlineTool): void {\n    const range = SelectionUtils.range;\n\n    tool.surround(range);\n    this.checkToolsState();\n  }\n\n  /**\n   * Check Tools` state by selection\n   */\n  private checkToolsState(): void {\n    this.toolsInstances.forEach((toolInstance) => {\n      toolInstance.checkState(SelectionUtils.get());\n    });\n  }\n\n  /**\n   * Get inline tools tools\n   * Tools that has isInline is true\n   */\n  private get inlineTools(): { [name: string]: InlineTool } {\n    const result = {};\n\n    for (const tool in this.Editor.Tools.inline) {\n      if (Object.prototype.hasOwnProperty.call(this.Editor.Tools.inline, tool)) {\n        const toolSettings = this.Editor.Tools.getToolSettings(tool);\n\n        result[tool] = this.Editor.Tools.constructInline(this.Editor.Tools.inline[tool], tool, toolSettings);\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * Allow to leaf buttons by arrows / tab\n   * Buttons will be filled on opening\n   */\n  private enableFlipper(): void {\n    this.flipper = new Flipper({\n      focusedItemClass: this.CSS.focusedButton,\n      allowArrows: false,\n    });\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"03b6a4217743bdb43fb70f873c0284764d2710e0"});var l=t[n];return b=function(){return l},l}function B(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=h(l),o=h(o),i=h(i),c=h(c),s=h(s),r=h(r),C=h(C),a=h(a),u=h(u),m=h(m),d=I(d),f=h(f),p=h(p),b();var g=function(n){(0,s.default)(t,n);var A,e=(A=t,function(){var n,e=(0,C.default)(A);if(B()){var t=(0,C.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,r.default)(this,n)});function t(){var n;return(0,i.default)(this,t),b().f[0]++,b().s[0]++,n=e.apply(this,arguments),b().s[1]++,n.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},b().s[2]++,n.opened=!1,b().s[3]++,n.toolbarVerticalMargin=5,b().s[4]++,n.buttonsList=null,b().s[5]++,n.width=0,b().s[6]++,n.flipper=null,n}return(0,c.default)(t,[{key:"toggleReadOnly",value:function(n){b().f[1]++,b().s[7]++,n?(b().b[0][1]++,b().s[9]++,this.destroy()):(b().b[0][0]++,b().s[8]++,this.make())}},{key:"tryToShow",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(b().b[1][0]++,!1);if(b().f[2]++,b().s[10]++,!this.allowedToShow())return b().b[2][0]++,b().s[11]++,n?(b().b[3][0]++,b().s[12]++,this.close()):b().b[3][1]++,void b().s[13]++;b().b[2][1]++,b().s[14]++,this.move(),b().s[15]++,this.open(),b().s[16]++,this.Editor.Toolbar.close()}},{key:"move",value:function(){b().f[3]++;var n=(b().s[17]++,m.default.rect),A=(b().s[18]++,this.Editor.UI.nodes.wrapper.getBoundingClientRect()),e=(b().s[19]++,{x:n.x-A.left,y:n.y+n.height-A.top+this.toolbarVerticalMargin});b().s[20]++,n.width?(b().b[4][0]++,b().s[21]++,e.x+=Math.floor(n.width/2)):b().b[4][1]++;var t=(b().s[22]++,e.x-this.width/2),l=(b().s[23]++,e.x+this.width/2);b().s[24]++,this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,t<this.Editor.UI.contentRect.left),b().s[25]++,this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,l>this.Editor.UI.contentRect.right),b().s[26]++,this.nodes.wrapper.style.left=Math.floor(e.x)+"px",b().s[27]++,this.nodes.wrapper.style.top=Math.floor(e.y)+"px"}},{key:"close",value:function(){return b().f[4]++,b().s[28]++,this.opened?(b().b[5][1]++,b().s[30]++,this.Editor.ReadOnly.isEnabled?(b().b[6][0]++,void b().s[31]++):(b().b[6][1]++,b().s[32]++,this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),b().s[33]++,this.toolsInstances.forEach((function(n){b().f[5]++,b().s[34]++,d.isFunction(n.clear)?(b().b[7][0]++,b().s[35]++,n.clear()):b().b[7][1]++})),b().s[36]++,this.opened=!1,b().s[37]++,this.flipper.deactivate(),b().s[38]++,void this.Editor.ConversionToolbar.close())):(b().b[5][0]++,void b().s[29]++)}},{key:"open",value:function(){if(b().f[6]++,b().s[39]++,this.opened)return b().b[8][0]++,void b().s[40]++;b().b[8][1]++,b().s[41]++,this.addToolsFiltered(),b().s[42]++,this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),b().s[43]++,this.buttonsList=this.nodes.buttons.querySelectorAll(".".concat(this.CSS.inlineToolButton)),b().s[44]++,this.opened=!0,b().s[45]++,this.Editor.ConversionToolbar.hasTools()?(b().b[9][0]++,b().s[46]++,this.setConversionTogglerContent()):(b().b[9][1]++,b().s[47]++,this.nodes.conversionToggler.hidden=!0);var n=(b().s[48]++,Array.from(this.buttonsList));b().s[49]++,n.unshift(this.nodes.conversionToggler),b().s[50]++,n=n.filter((function(n){return b().f[7]++,b().s[51]++,!n.hidden})),b().s[52]++,this.flipper.activate(n)}},{key:"containsNode",value:function(n){return b().f[8]++,b().s[53]++,this.nodes.wrapper.contains(n)}},{key:"destroy",value:function(){b().f[9]++,b().s[54]++,this.flipper.deactivate(),b().s[55]++,this.flipper=null,b().s[56]++,this.Editor.ConversionToolbar.destroy()}},{key:"getInlineToolbarSettings",value:function(n){var A=this;b().f[10]++;var e=(b().s[57]++,this.Editor.Tools.getToolSettings(n)),t=(b().s[58]++,e[this.Editor.Tools.USER_SETTINGS.ENABLED_INLINE_TOOLS]),l=(b().s[59]++,b().b[10][0]++,!0===t||(b().b[10][1]++,Array.isArray(t)));if(b().s[60]++,!l)return b().b[11][0]++,b().s[61]++,!1;if(b().b[11][1]++,b().s[62]++,Array.isArray(t))return b().b[12][0]++,b().s[63]++,t;b().b[12][1]++;var i=(b().s[64]++,this.config.inlineToolbar);if(b().s[65]++,Array.isArray(i))return b().b[13][0]++,b().s[66]++,i;if(b().b[13][1]++,b().s[67]++,!0===i){b().b[14][0]++;var c=(b().s[68]++,Object.entries(this.Editor.Tools.available).filter((function(n){var e=(0,o.default)(n,2),t=(e[0],e[1]);return b().f[11]++,b().s[69]++,t[A.Editor.Tools.INTERNAL_SETTINGS.IS_INLINE]})).map((function(n){var A=(0,o.default)(n,2),e=A[0];return A[1],b().f[12]++,b().s[70]++,e})));return b().s[71]++,c}return b().b[14][1]++,b().s[72]++,!1}},{key:"make",value:function(){var n=this;b().f[13]++,b().s[73]++,this.nodes.wrapper=u.default.make("div",[this.CSS.inlineToolbar].concat((0,l.default)(this.isRtl?(b().b[15][0]++,[this.Editor.UI.CSS.editorRtlFix]):(b().b[15][1]++,[])))),b().s[74]++,this.nodes.togglerAndButtonsWrapper=u.default.make("div",this.CSS.togglerAndButtonsWrapper),b().s[75]++,this.nodes.buttons=u.default.make("div",this.CSS.buttonsWrapper),b().s[76]++,this.nodes.actions=u.default.make("div",this.CSS.actionsWrapper),b().s[77]++,this.Editor.Listeners.on(this.nodes.wrapper,"mousedown",(function(A){b().f[14]++;var e=(b().s[78]++,A.target.closest(".".concat(n.CSS.actionsWrapper)));b().s[79]++,e?b().b[16][1]++:(b().b[16][0]++,b().s[80]++,A.preventDefault())})),b().s[81]++,u.default.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),b().s[82]++,u.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),b().s[83]++,this.addConversionToggler(),b().s[84]++,u.default.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),b().s[85]++,this.prepareConversionToolbar(),b().s[86]++,this.recalculateWidth(),b().s[87]++,this.enableFlipper()}},{key:"allowedToShow",value:function(){b().f[15]++;var n=(b().s[88]++,["IMG","INPUT"]),A=(b().s[89]++,m.default.get()),e=(b().s[90]++,m.default.text);if(b().s[91]++,b().b[18][0]++,!A||(b().b[18][1]++,!A.anchorNode))return b().b[17][0]++,b().s[92]++,!1;if(b().b[17][1]++,b().s[93]++,b().b[20][0]++,A.isCollapsed||(b().b[20][1]++,e.length<1))return b().b[19][0]++,b().s[94]++,!1;b().b[19][1]++;var t=(b().s[95]++,u.default.isElement(A.anchorNode)?(b().b[21][1]++,A.anchorNode):(b().b[21][0]++,A.anchorNode.parentElement));if(b().s[96]++,b().b[23][0]++,A&&(b().b[23][1]++,n.includes(t.tagName)))return b().b[22][0]++,b().s[97]++,!1;b().b[22][1]++;var l=(b().s[98]++,t.closest('[contenteditable="true"]'));if(b().s[99]++,null===l)return b().b[24][0]++,b().s[100]++,!1;b().b[24][1]++;var o=(b().s[101]++,this.Editor.BlockManager.getBlock(A.anchorNode));if(b().s[102]++,!o)return b().b[25][0]++,b().s[103]++,!1;b().b[25][1]++;var i=(b().s[104]++,this.getInlineToolbarSettings(o.name));return b().s[105]++,!1!==i}},{key:"recalculateWidth",value:function(){b().f[16]++,b().s[106]++,this.width=this.nodes.wrapper.offsetWidth}},{key:"addConversionToggler",value:function(){var n=this;b().f[17]++,b().s[107]++,this.nodes.conversionToggler=u.default.make("div",this.CSS.conversionToggler),b().s[108]++,this.nodes.conversionTogglerContent=u.default.make("div",this.CSS.conversionTogglerContent);var A=(b().s[109]++,u.default.svg("toggler-down",13,13));b().s[110]++,this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),b().s[111]++,this.nodes.conversionToggler.appendChild(A),b().s[112]++,this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),b().s[113]++,this.Editor.Listeners.on(this.nodes.conversionToggler,"click",(function(){b().f[18]++,b().s[114]++,n.Editor.ConversionToolbar.toggle((function(A){b().f[19]++;var e=(b().s[115]++,b().b[26][0]++,!A&&(b().b[26][1]++,n.opened));b().s[116]++,e?(b().b[27][0]++,b().s[117]++,n.flipper.activate()):(b().b[27][1]++,b().s[118]++,n.opened?(b().b[28][0]++,b().s[119]++,n.flipper.deactivate()):b().b[28][1]++)}))})),b().s[120]++,this.Editor.Tooltip.onHover(this.nodes.conversionToggler,p.default.ui(E.I18nInternalNS.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}},{key:"setConversionTogglerContent",value:function(){b().f[20]++;var n=(b().s[121]++,this.Editor),A=n.BlockManager,e=n.Tools,t=(b().s[122]++,A.currentBlock.name),l=(b().s[123]++,b().b[29][0]++,e.available[t][e.INTERNAL_SETTINGS.CONVERSION_CONFIG]||(b().b[29][1]++,{})),o=(b().s[124]++,b().b[30][0]++,l&&(b().b[30][1]++,l.export));b().s[125]++,this.nodes.conversionToggler.hidden=!o,b().s[126]++,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!o);var i=(b().s[127]++,e.getToolSettings(t)),c=(b().s[128]++,b().b[31][0]++,e.available[t][e.INTERNAL_SETTINGS.TOOLBOX]||(b().b[31][1]++,{})),s=(b().s[129]++,b().b[32][0]++,i.toolbox||(b().b[32][1]++,{}));b().s[130]++,this.nodes.conversionTogglerContent.innerHTML=(b().b[33][0]++,s.icon||(b().b[33][1]++,c.icon)||(b().b[33][2]++,s.title)||(b().b[33][3]++,c.title)||(b().b[33][4]++,d.capitalize(t)))}},{key:"prepareConversionToolbar",value:function(){b().f[21]++;var n=(b().s[131]++,this.Editor.ConversionToolbar.make());b().s[132]++,u.default.append(this.nodes.wrapper,n)}},{key:"addToolsFiltered",value:function(){var n=this;b().f[22]++;var A=(b().s[133]++,m.default.get()),e=(b().s[134]++,this.Editor.BlockManager.getBlock(A.anchorNode));b().s[135]++,this.nodes.buttons.innerHTML="",b().s[136]++,this.nodes.actions.innerHTML="",b().s[137]++,this.toolsInstances=new Map;var t=(b().s[138]++,this.getInlineToolbarSettings(e.name));b().s[139]++,t.forEach((function(A){b().f[23]++;var e=(b().s[140]++,n.Editor.Tools.getToolSettings(A)),t=(b().s[141]++,n.Editor.Tools.constructInline(n.Editor.Tools.inline[A],A,e));b().s[142]++,n.addTool(A,t),b().s[143]++,t.checkState(m.default.get())})),b().s[144]++,this.recalculateWidth()}},{key:"addTool",value:function(n,A){var e=this;b().f[24]++;var t=(b().s[145]++,this.Editor),l=t.Listeners,i=t.Tools,c=t.Tooltip,s=(b().s[146]++,A.render());if(b().s[147]++,!s)return b().b[34][0]++,b().s[148]++,d.log("Render method must return an instance of Node","warn",n),void b().s[149]++;if(b().b[34][1]++,b().s[150]++,s.dataset.tool=n,b().s[151]++,this.nodes.buttons.appendChild(s),b().s[152]++,this.toolsInstances.set(n,A),b().s[153]++,d.isFunction(A.renderActions)){b().b[35][0]++;var r=(b().s[154]++,A.renderActions());b().s[155]++,this.nodes.actions.appendChild(r)}else b().b[35][1]++;b().s[156]++,l.on(s,"click",(function(n){b().f[25]++,b().s[157]++,e.toolClicked(A),b().s[158]++,n.preventDefault()}));var C=(b().s[159]++,i.getToolSettings(n)),a=(b().s[160]++,null),m=(b().s[161]++,Object.entries(i.internalTools).filter((function(n){var A=(0,o.default)(n,2)[1];return b().f[26]++,b().s[162]++,d.isFunction(A)?(b().b[36][0]++,b().s[163]++,A[i.INTERNAL_SETTINGS.IS_INLINE]):(b().b[36][1]++,b().s[164]++,A.class[i.INTERNAL_SETTINGS.IS_INLINE])})).map((function(n){var A=(0,o.default)(n,1)[0];return b().f[27]++,b().s[165]++,A})));b().s[166]++,m.includes(n)?(b().b[37][0]++,b().s[167]++,a=this.inlineTools[n][i.INTERNAL_SETTINGS.SHORTCUT]):(b().b[37][1]++,b().s[168]++,b().b[39][0]++,C&&(b().b[39][1]++,C[i.USER_SETTINGS.SHORTCUT])?(b().b[38][0]++,b().s[169]++,a=C[i.USER_SETTINGS.SHORTCUT]):(b().b[38][1]++,b().s[170]++,A.shortcut?(b().b[40][0]++,b().s[171]++,a=A.shortcut):b().b[40][1]++)),b().s[172]++,a?(b().b[41][0]++,b().s[173]++,this.enableShortcuts(A,a)):b().b[41][1]++;var f=(b().s[174]++,u.default.make("div")),I=(b().s[175]++,p.default.t(E.I18nInternalNS.toolNames,(b().b[42][0]++,i.toolsClasses[n][i.INTERNAL_SETTINGS.TITLE]||(b().b[42][1]++,d.capitalize(n)))));b().s[176]++,f.appendChild(u.default.text(I)),b().s[177]++,a?(b().b[43][0]++,b().s[178]++,f.appendChild(u.default.make("div",this.CSS.inlineToolbarShortcut,{textContent:d.beautifyShortcut(a)}))):b().b[43][1]++,b().s[179]++,c.onHover(s,f,{placement:"top",hidingDelay:100})}},{key:"enableShortcuts",value:function(n,A){var e=this;b().f[28]++,b().s[180]++,this.Editor.Shortcuts.add({name:A,handler:function(A){b().f[29]++;var t=(b().s[181]++,e.Editor.BlockManager).currentBlock;if(b().s[182]++,!t)return b().b[44][0]++,void b().s[183]++;b().b[44][1]++;var l=(b().s[184]++,e.Editor.Tools.getToolSettings(t.name));if(b().s[185]++,b().b[46][0]++,!l||(b().b[46][1]++,!l[e.Editor.Tools.USER_SETTINGS.ENABLED_INLINE_TOOLS]))return b().b[45][0]++,void b().s[186]++;b().b[45][1]++,b().s[187]++,A.preventDefault(),b().s[188]++,e.toolClicked(n)}})}},{key:"toolClicked",value:function(n){b().f[30]++;var A=(b().s[189]++,m.default.range);b().s[190]++,n.surround(A),b().s[191]++,this.checkToolsState()}},{key:"checkToolsState",value:function(){b().f[31]++,b().s[192]++,this.toolsInstances.forEach((function(n){b().f[32]++,b().s[193]++,n.checkState(m.default.get())}))}},{key:"enableFlipper",value:function(){b().f[34]++,b().s[200]++,this.flipper=new f.default({focusedItemClass:this.CSS.focusedButton,allowArrows:!1})}},{key:"inlineTools",get:function(){b().f[33]++;var n=(b().s[194]++,{});for(var A in b().s[195]++,this.Editor.Tools.inline)if(b().s[196]++,Object.prototype.hasOwnProperty.call(this.Editor.Tools.inline,A)){b().b[47][0]++;var e=(b().s[197]++,this.Editor.Tools.getToolSettings(A));b().s[198]++,n[A]=this.Editor.Tools.constructInline(this.Editor.Tools.inline[A],A,e)}else b().b[47][1]++;return b().s[199]++,n}}]),t}(a.default);t.default=g,g.displayName="InlineToolbar",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7),e(15),e(8),e(60),e(61),e(59),e(82)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u,m,d,f){"use strict";var p=e(13),E=e(1);function I(){var n="/home/hata/editor.js/src/components/modules/toolbar/toolbox.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"5e0ccac67e25cc8abc23842dabd249e6ce663b14"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/toolbar/toolbox.ts",statementMap:{0:{start:{line:20,column:8},end:{line:20,column:28}},1:{start:{line:24,column:8},end:{line:27,column:10}},2:{start:{line:33,column:8},end:{line:33,column:28}},3:{start:{line:39,column:8},end:{line:39,column:37}},4:{start:{line:45,column:8},end:{line:45,column:28}},5:{start:{line:53,column:8},end:{line:61,column:10}},6:{start:{line:69,column:8},end:{line:69,column:46}},7:{start:{line:75,column:8},end:{line:75,column:61}},8:{start:{line:76,column:8},end:{line:76,column:24}},9:{start:{line:77,column:8},end:{line:77,column:29}},10:{start:{line:83,column:8},end:{line:83,column:34}},11:{start:{line:84,column:8},end:{line:84,column:28}},12:{start:{line:85,column:8},end:{line:85,column:30}},13:{start:{line:86,column:8},end:{line:86,column:34}},14:{start:{line:95,column:21},end:{line:95,column:61}},15:{start:{line:96,column:8},end:{line:96,column:44}},16:{start:{line:102,column:8},end:{line:104,column:9}},17:{start:{line:103,column:12},end:{line:103,column:19}},18:{start:{line:105,column:8},end:{line:105,column:89}},19:{start:{line:106,column:8},end:{line:106,column:65}},20:{start:{line:107,column:8},end:{line:107,column:27}},21:{start:{line:108,column:8},end:{line:108,column:32}},22:{start:{line:114,column:8},end:{line:114,column:68}},23:{start:{line:115,column:8},end:{line:115,column:92}},24:{start:{line:116,column:8},end:{line:116,column:28}},25:{start:{line:117,column:8},end:{line:117,column:34}},26:{start:{line:123,column:8},end:{line:128,column:9}},27:{start:{line:124,column:12},end:{line:124,column:24}},28:{start:{line:127,column:12},end:{line:127,column:25}},29:{start:{line:134,column:22},end:{line:134,column:49}},30:{start:{line:135,column:8},end:{line:139,column:9}},31:{start:{line:136,column:12},end:{line:138,column:13}},32:{start:{line:137,column:16},end:{line:137,column:56}},33:{start:{line:148,column:33},end:{line:148,column:68}},34:{start:{line:149,column:29},end:{line:149,column:60}},35:{start:{line:150,column:36},end:{line:150,column:66}},36:{start:{line:154,column:8},end:{line:156,column:9}},37:{start:{line:155,column:12},end:{line:155,column:19}},38:{start:{line:157,column:8},end:{line:160,column:9}},39:{start:{line:158,column:12},end:{line:158,column:79}},40:{start:{line:159,column:12},end:{line:159,column:19}},41:{start:{line:168,column:36},end:{line:168,column:101}},42:{start:{line:172,column:8},end:{line:174,column:9}},43:{start:{line:173,column:12},end:{line:173,column:19}},44:{start:{line:175,column:23},end:{line:175,column:61}},45:{start:{line:176,column:8},end:{line:176,column:39}},46:{start:{line:177,column:8},end:{line:177,column:105}},47:{start:{line:178,column:8},end:{line:178,column:45}},48:{start:{line:179,column:8},end:{line:179,column:47}},49:{start:{line:180,column:8},end:{line:180,column:40}},50:{start:{line:184,column:8},end:{line:186,column:11}},51:{start:{line:185,column:12},end:{line:185,column:53}},52:{start:{line:190,column:31},end:{line:190,column:57}},53:{start:{line:191,column:8},end:{line:194,column:11}},54:{start:{line:195,column:25},end:{line:195,column:61}},55:{start:{line:196,column:8},end:{line:198,column:9}},56:{start:{line:197,column:12},end:{line:197,column:58}},57:{start:{line:200,column:8},end:{line:200,column:35}},58:{start:{line:213,column:29},end:{line:213,column:72}},59:{start:{line:214,column:37},end:{line:214,column:87}},60:{start:{line:215,column:38},end:{line:215,column:114}},61:{start:{line:216,column:8},end:{line:216,column:61}},62:{start:{line:225,column:21},end:{line:225,column:58}},63:{start:{line:226,column:29},end:{line:226,column:72}},64:{start:{line:227,column:32},end:{line:227,column:120}},65:{start:{line:228,column:36},end:{line:228,column:62}},66:{start:{line:229,column:21},end:{line:229,column:117}},67:{start:{line:230,column:23},end:{line:230,column:59}},68:{start:{line:231,column:24},end:{line:231,column:61}},69:{start:{line:232,column:21},end:{line:232,column:64}},70:{start:{line:233,column:8},end:{line:233,column:34}},71:{start:{line:234,column:8},end:{line:239,column:9}},72:{start:{line:235,column:12},end:{line:235,column:52}},73:{start:{line:236,column:12},end:{line:238,column:16}},74:{start:{line:240,column:8},end:{line:240,column:23}},75:{start:{line:250,column:8},end:{line:256,column:11}},76:{start:{line:253,column:16},end:{line:253,column:39}},77:{start:{line:254,column:16},end:{line:254,column:52}},78:{start:{line:263,column:22},end:{line:263,column:49}},79:{start:{line:264,column:8},end:{line:271,column:9}},80:{start:{line:265,column:12},end:{line:270,column:13}},81:{start:{line:266,column:33},end:{line:266,column:80}},82:{start:{line:267,column:16},end:{line:269,column:17}},83:{start:{line:268,column:20},end:{line:268,column:59}},84:{start:{line:277,column:22},end:{line:277,column:63}},85:{start:{line:278,column:8},end:{line:281,column:11}},86:{start:{line:291,column:40},end:{line:291,column:51}},87:{start:{line:292,column:33},end:{line:292,column:45}},88:{start:{line:293,column:25},end:{line:296,column:10}},89:{start:{line:300,column:8},end:{line:300,column:52}},90:{start:{line:301,column:8},end:{line:301,column:47}},91:{start:{line:303,column:8},end:{line:311,column:9}},92:{start:{line:304,column:12},end:{line:310,column:13}},93:{start:{line:305,column:16},end:{line:305,column:43}},94:{start:{line:306,column:16},end:{line:306,column:57}},95:{start:{line:309,column:16},end:{line:309,column:57}},96:{start:{line:315,column:8},end:{line:315,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:18},end:{line:46,column:5}},line:19},1:{name:"(anonymous_1)",decl:{start:{line:52,column:4},end:{line:52,column:5}},loc:{start:{line:52,column:14},end:{line:62,column:5}},line:52},2:{name:"(anonymous_2)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:18},end:{line:70,column:5}},line:68},3:{name:"(anonymous_3)",decl:{start:{line:74,column:4},end:{line:74,column:5}},loc:{start:{line:74,column:11},end:{line:78,column:5}},line:74},4:{name:"(anonymous_4)",decl:{start:{line:82,column:4},end:{line:82,column:5}},loc:{start:{line:82,column:14},end:{line:87,column:5}},line:82},5:{name:"(anonymous_5)",decl:{start:{line:94,column:4},end:{line:94,column:5}},loc:{start:{line:94,column:40},end:{line:97,column:5}},line:94},6:{name:"(anonymous_6)",decl:{start:{line:101,column:4},end:{line:101,column:5}},loc:{start:{line:101,column:11},end:{line:109,column:5}},line:101},7:{name:"(anonymous_7)",decl:{start:{line:113,column:4},end:{line:113,column:5}},loc:{start:{line:113,column:12},end:{line:118,column:5}},line:113},8:{name:"(anonymous_8)",decl:{start:{line:122,column:4},end:{line:122,column:5}},loc:{start:{line:122,column:13},end:{line:129,column:5}},line:122},9:{name:"(anonymous_9)",decl:{start:{line:133,column:4},end:{line:133,column:5}},loc:{start:{line:133,column:15},end:{line:140,column:5}},line:133},10:{name:"(anonymous_10)",decl:{start:{line:147,column:4},end:{line:147,column:5}},loc:{start:{line:147,column:28},end:{line:201,column:5}},line:147},11:{name:"(anonymous_11)",decl:{start:{line:184,column:50},end:{line:184,column:51}},loc:{start:{line:184,column:61},end:{line:186,column:9}},line:184},12:{name:"(anonymous_12)",decl:{start:{line:209,column:4},end:{line:209,column:5}},loc:{start:{line:209,column:36},end:{line:217,column:5}},line:209},13:{name:"(anonymous_13)",decl:{start:{line:224,column:4},end:{line:224,column:5}},loc:{start:{line:224,column:26},end:{line:241,column:5}},line:224},14:{name:"(anonymous_14)",decl:{start:{line:249,column:4},end:{line:249,column:5}},loc:{start:{line:249,column:45},end:{line:257,column:5}},line:249},15:{name:"(anonymous_15)",decl:{start:{line:252,column:21},end:{line:252,column:22}},loc:{start:{line:252,column:32},end:{line:255,column:13}},line:252},16:{name:"(anonymous_16)",decl:{start:{line:262,column:4},end:{line:262,column:5}},loc:{start:{line:262,column:25},end:{line:272,column:5}},line:262},17:{name:"(anonymous_17)",decl:{start:{line:276,column:4},end:{line:276,column:5}},loc:{start:{line:276,column:20},end:{line:282,column:5}},line:276},18:{name:"(anonymous_18)",decl:{start:{line:290,column:4},end:{line:290,column:5}},loc:{start:{line:290,column:35},end:{line:316,column:5}},line:290}},branchMap:{0:{loc:{start:{line:102,column:8},end:{line:104,column:9}},type:"if",locations:[{start:{line:102,column:8},end:{line:104,column:9}},{start:{line:102,column:8},end:{line:104,column:9}}],line:102},1:{loc:{start:{line:123,column:8},end:{line:128,column:9}},type:"if",locations:[{start:{line:123,column:8},end:{line:128,column:9}},{start:{line:123,column:8},end:{line:128,column:9}}],line:123},2:{loc:{start:{line:136,column:12},end:{line:138,column:13}},type:"if",locations:[{start:{line:136,column:12},end:{line:138,column:13}},{start:{line:136,column:12},end:{line:138,column:13}}],line:136},3:{loc:{start:{line:154,column:8},end:{line:156,column:9}},type:"if",locations:[{start:{line:154,column:8},end:{line:156,column:9}},{start:{line:154,column:8},end:{line:156,column:9}}],line:154},4:{loc:{start:{line:157,column:8},end:{line:160,column:9}},type:"if",locations:[{start:{line:157,column:8},end:{line:160,column:9}},{start:{line:157,column:8},end:{line:160,column:9}}],line:157},5:{loc:{start:{line:157,column:12},end:{line:157,column:60}},type:"binary-expr",locations:[{start:{line:157,column:12},end:{line:157,column:31}},{start:{line:157,column:35},end:{line:157,column:60}}],line:157},6:{loc:{start:{line:172,column:8},end:{line:174,column:9}},type:"if",locations:[{start:{line:172,column:8},end:{line:174,column:9}},{start:{line:172,column:8},end:{line:174,column:9}}],line:172},7:{loc:{start:{line:172,column:13},end:{line:172,column:119}},type:"cond-expr",locations:[{start:{line:172,column:78},end:{line:172,column:97}},{start:{line:172,column:100},end:{line:172,column:119}}],line:172},8:{loc:{start:{line:172,column:13},end:{line:172,column:75}},type:"binary-expr",locations:[{start:{line:172,column:13},end:{line:172,column:41}},{start:{line:172,column:45},end:{line:172,column:75}}],line:172},9:{loc:{start:{line:177,column:27},end:{line:177,column:104}},type:"binary-expr",locations:[{start:{line:177,column:28},end:{line:177,column:47}},{start:{line:177,column:51},end:{line:177,column:75}},{start:{line:177,column:80},end:{line:177,column:104}}],line:177},10:{loc:{start:{line:196,column:8},end:{line:198,column:9}},type:"if",locations:[{start:{line:196,column:8},end:{line:198,column:9}},{start:{line:196,column:8},end:{line:198,column:9}}],line:196},11:{loc:{start:{line:215,column:38},end:{line:215,column:114}},type:"cond-expr",locations:[{start:{line:215,column:53},end:{line:215,column:107}},{start:{line:215,column:110},end:{line:215,column:114}}],line:215},12:{loc:{start:{line:216,column:15},end:{line:216,column:60}},type:"binary-expr",locations:[{start:{line:216,column:15},end:{line:216,column:36}},{start:{line:216,column:40},end:{line:216,column:60}}],line:216},13:{loc:{start:{line:227,column:32},end:{line:227,column:120}},type:"binary-expr",locations:[{start:{line:227,column:32},end:{line:227,column:114}},{start:{line:227,column:118},end:{line:227,column:120}}],line:227},14:{loc:{start:{line:228,column:36},end:{line:228,column:62}},type:"binary-expr",locations:[{start:{line:228,column:36},end:{line:228,column:56}},{start:{line:228,column:60},end:{line:228,column:62}}],line:228},15:{loc:{start:{line:229,column:54},end:{line:229,column:116}},type:"binary-expr",locations:[{start:{line:229,column:54},end:{line:229,column:79}},{start:{line:229,column:83},end:{line:229,column:104}},{start:{line:229,column:108},end:{line:229,column:116}}],line:229},16:{loc:{start:{line:234,column:8},end:{line:239,column:9}},type:"if",locations:[{start:{line:234,column:8},end:{line:239,column:9}},{start:{line:234,column:8},end:{line:239,column:9}}],line:234},17:{loc:{start:{line:265,column:12},end:{line:270,column:13}},type:"if",locations:[{start:{line:265,column:12},end:{line:270,column:13}},{start:{line:265,column:12},end:{line:270,column:13}}],line:265},18:{loc:{start:{line:267,column:16},end:{line:269,column:17}},type:"if",locations:[{start:{line:267,column:16},end:{line:269,column:17}},{start:{line:267,column:16},end:{line:269,column:17}}],line:267},19:{loc:{start:{line:303,column:8},end:{line:311,column:9}},type:"if",locations:[{start:{line:303,column:8},end:{line:311,column:9}},{start:{line:303,column:8},end:{line:311,column:9}}],line:303},20:{loc:{start:{line:304,column:12},end:{line:310,column:13}},type:"if",locations:[{start:{line:304,column:12},end:{line:310,column:13}},{start:{line:304,column:12},end:{line:310,column:13}}],line:304}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/toolbar/toolbox.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/toolbar/toolbox.ts"],names:[],mappings:"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",sourcesContent:["import Module from '../../__module';\nimport $ from '../../dom';\nimport * as _ from '../../utils';\nimport { BlockToolConstructable, ToolConstructable } from '../../../../types';\nimport Flipper from '../../flipper';\nimport { BlockToolAPI } from '../../block';\nimport I18n from '../../i18n';\nimport { I18nInternalNS } from '../../i18n/namespace-internal';\n\n/**\n * HTMLElements used for Toolbox UI\n */\ninterface ToolboxNodes {\n  toolbox: HTMLElement;\n  buttons: HTMLElement[];\n}\n\n/**\n * @class Toolbox\n * @classdesc Holder for Tools\n *\n * @typedef {Toolbox} Toolbox\n * @property {boolean} opened - opening state\n * @property {object} nodes   - Toolbox nodes\n * @property {object} CSS     - CSS class names\n *\n */\nexport default class Toolbox extends Module<ToolboxNodes> {\n  /**\n   * Current module HTML Elements\n   */\n  public nodes = {\n    toolbox: null,\n    buttons: [],\n  }\n\n  /**\n   * CSS styles\n   *\n   * @returns {object.<string, string>}\n   */\n  public get CSS(): {[name: string]: string} {\n    return {\n      toolbox: 'ce-toolbox',\n      toolboxButton: 'ce-toolbox__button',\n      toolboxButtonActive: 'ce-toolbox__button--active',\n      toolboxOpened: 'ce-toolbox--opened',\n      openedToolbarHolderModifier: 'codex-editor--toolbox-opened',\n\n      buttonTooltip: 'ce-toolbox-button-tooltip',\n      buttonShortcut: 'ce-toolbox-button-tooltip__shortcut',\n    };\n  }\n\n  /**\n   * Returns True if Toolbox is Empty and nothing to show\n   *\n   * @returns {boolean}\n   */\n  public get isEmpty(): boolean {\n    return this.displayedToolsCount === 0;\n  }\n\n  /**\n   * Opening state\n   *\n   * @type {boolean}\n   */\n  public opened = false;\n\n  /**\n   * How many tools displayed in Toolbox\n   *\n   * @type {number}\n   */\n  private displayedToolsCount = 0;\n\n  /**\n   * Instance of class that responses for leafing buttons by arrows/tab\n   *\n   * @type {Flipper|null}\n   */\n  private flipper: Flipper = null;\n\n  /**\n   * Makes the Toolbox\n   */\n  public make(): void {\n    this.nodes.toolbox = $.make('div', this.CSS.toolbox);\n\n    this.addTools();\n    this.enableFlipper();\n  }\n\n  /**\n   * Destroy Module\n   */\n  public destroy(): void {\n    this.flipper.deactivate();\n    this.flipper = null;\n    this.removeAllNodes();\n    this.removeAllShortcuts();\n  }\n\n  /**\n   * Toolbox Tool's button click handler\n   *\n   * @param {MouseEvent|KeyboardEvent} event - event that activates toolbox button\n   * @param {string} toolName - button to activate\n   */\n  public toolButtonActivate(event: MouseEvent|KeyboardEvent, toolName: string): void {\n    const tool = this.Editor.Tools.toolsClasses[toolName] as BlockToolConstructable;\n\n    this.insertNewBlock(tool, toolName);\n  }\n\n  /**\n   * Open Toolbox with Tools\n   */\n  public open(): void {\n    if (this.isEmpty) {\n      return;\n    }\n\n    this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolbarHolderModifier);\n    this.nodes.toolbox.classList.add(this.CSS.toolboxOpened);\n\n    this.opened = true;\n    this.flipper.activate();\n  }\n\n  /**\n   * Close Toolbox\n   */\n  public close(): void {\n    this.nodes.toolbox.classList.remove(this.CSS.toolboxOpened);\n    this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolbarHolderModifier);\n\n    this.opened = false;\n    this.flipper.deactivate();\n  }\n\n  /**\n   * Close Toolbox\n   */\n  public toggle(): void {\n    if (!this.opened) {\n      this.open();\n    } else {\n      this.close();\n    }\n  }\n\n  /**\n   * Iterates available tools and appends them to the Toolbox\n   */\n  private addTools(): void {\n    const tools = this.Editor.Tools.available;\n\n    for (const toolName in tools) {\n      if (Object.prototype.hasOwnProperty.call(tools, toolName)) {\n        this.addTool(toolName, tools[toolName] as BlockToolConstructable);\n      }\n    }\n  }\n\n  /**\n   * Append Tool to the Toolbox\n   *\n   * @param {string} toolName - tool name\n   * @param {BlockToolConstructable} tool - tool class\n   */\n  private addTool(toolName: string, tool: BlockToolConstructable): void {\n    const internalSettings = this.Editor.Tools.INTERNAL_SETTINGS;\n    const userSettings = this.Editor.Tools.USER_SETTINGS;\n\n    const toolToolboxSettings = tool[internalSettings.TOOLBOX];\n\n    /**\n     * Skip tools that don't pass 'toolbox' property\n     */\n    if (_.isEmpty(toolToolboxSettings)) {\n      return;\n    }\n\n    if (toolToolboxSettings && !toolToolboxSettings.icon) {\n      _.log('Toolbar icon is missed. Tool %o skipped', 'warn', toolName);\n\n      return;\n    }\n\n    /**\n     * @todo Add checkup for the render method\n     */\n    // if (typeof tool.render !== 'function') {\n    //   _.log('render method missed. Tool %o skipped', 'warn', tool);\n    //   return;\n    // }\n\n    const userToolboxSettings = this.Editor.Tools.getToolSettings(toolName)[userSettings.TOOLBOX];\n\n    /**\n     * Hide Toolbox button if Toolbox settings is false\n     */\n    if ((userToolboxSettings ?? toolToolboxSettings) === false) {\n      return;\n    }\n\n    const button = $.make('li', [ this.CSS.toolboxButton ]);\n\n    button.dataset.tool = toolName;\n    button.innerHTML = (userToolboxSettings && userToolboxSettings.icon) || toolToolboxSettings.icon;\n\n    $.append(this.nodes.toolbox, button);\n\n    this.nodes.toolbox.appendChild(button);\n    this.nodes.buttons.push(button);\n\n    /**\n     * Add click listener\n     */\n    this.Editor.Listeners.on(button, 'click', (event: KeyboardEvent|MouseEvent) => {\n      this.toolButtonActivate(event, toolName);\n    });\n\n    /**\n     * Add listeners to show/hide toolbox tooltip\n     */\n    const tooltipContent = this.drawTooltip(toolName);\n\n    this.Editor.Tooltip.onHover(button, tooltipContent, {\n      placement: 'bottom',\n      hidingDelay: 200,\n    });\n\n    const shortcut = this.getToolShortcut(toolName, tool);\n\n    if (shortcut) {\n      this.enableShortcut(tool, toolName, shortcut);\n    }\n\n    /** Increment Tools count */\n    this.displayedToolsCount++;\n  }\n\n  /**\n   * Returns tool's shortcut\n   * It can be specified via internal 'shortcut' static getter or by user settings for tool\n   *\n   * @param {string} toolName - tool's name\n   * @param {ToolConstructable} tool - tool's class (not instance)\n   */\n  private getToolShortcut(toolName: string, tool: ToolConstructable): string|null {\n    /**\n     * Enable shortcut\n     */\n    const toolSettings = this.Editor.Tools.getToolSettings(toolName);\n    const internalToolShortcut = tool[this.Editor.Tools.INTERNAL_SETTINGS.SHORTCUT];\n    const userSpecifiedShortcut = toolSettings ? toolSettings[this.Editor.Tools.USER_SETTINGS.SHORTCUT] : null;\n\n    return userSpecifiedShortcut || internalToolShortcut;\n  }\n\n  /**\n   * Draw tooltip for toolbox tools\n   *\n   * @param {string} toolName - toolbox tool name\n   * @returns {HTMLElement}\n   */\n  private drawTooltip(toolName: string): HTMLElement {\n    const tool = this.Editor.Tools.available[toolName];\n    const toolSettings = this.Editor.Tools.getToolSettings(toolName);\n    const toolboxSettings = this.Editor.Tools.available[toolName][this.Editor.Tools.INTERNAL_SETTINGS.TOOLBOX] || {};\n    const userToolboxSettings = toolSettings.toolbox || {};\n    const name = I18n.t(I18nInternalNS.toolNames, userToolboxSettings.title || toolboxSettings.title || toolName);\n\n    let shortcut = this.getToolShortcut(toolName, tool);\n\n    const tooltip = $.make('div', this.CSS.buttonTooltip);\n    const hint = document.createTextNode(_.capitalize(name));\n\n    tooltip.appendChild(hint);\n\n    if (shortcut) {\n      shortcut = _.beautifyShortcut(shortcut);\n\n      tooltip.appendChild($.make('div', this.CSS.buttonShortcut, {\n        textContent: shortcut,\n      }));\n    }\n\n    return tooltip;\n  }\n\n  /**\n   * Enable shortcut Block Tool implemented shortcut\n   *\n   * @param {BlockToolConstructable} tool - Tool class\n   * @param {string} toolName - Tool name\n   * @param {string} shortcut - shortcut according to the ShortcutData Module format\n   */\n  private enableShortcut(tool: BlockToolConstructable, toolName: string, shortcut: string): void {\n    this.Editor.Shortcuts.add({\n      name: shortcut,\n      handler: (event: KeyboardEvent) => {\n        event.preventDefault();\n        this.insertNewBlock(tool, toolName);\n      },\n    });\n  }\n\n  /**\n   * Removes all added shortcuts\n   * Fired when the Read-Only mode is activated\n   */\n  private removeAllShortcuts(): void {\n    const tools = this.Editor.Tools.available;\n\n    for (const toolName in tools) {\n      if (Object.prototype.hasOwnProperty.call(tools, toolName)) {\n        const shortcut = this.getToolShortcut(toolName, tools[toolName]);\n\n        if (shortcut) {\n          this.Editor.Shortcuts.remove(shortcut);\n        }\n      }\n    }\n  }\n\n  /**\n   * Creates Flipper instance to be able to leaf tools\n   */\n  private enableFlipper(): void {\n    const tools = Array.from(this.nodes.toolbox.childNodes) as HTMLElement[];\n\n    this.flipper = new Flipper({\n      items: tools,\n      focusedItemClass: this.CSS.toolboxButtonActive,\n    });\n  }\n\n  /**\n   * Inserts new block\n   * Can be called when button clicked on Toolbox or by ShortcutData\n   *\n   * @param {BlockToolConstructable} tool - Tool Class\n   * @param {string} toolName - Tool name\n   */\n  private insertNewBlock(tool: BlockToolConstructable, toolName: string): void {\n    const { BlockManager, Caret } = this.Editor;\n    const { currentBlock } = BlockManager;\n\n    const newBlock = BlockManager.insert({\n      tool: toolName,\n      replace: currentBlock.isEmpty,\n    });\n\n    /**\n     * Apply callback before inserting html\n     */\n    newBlock.call(BlockToolAPI.APPEND_CALLBACK);\n\n    this.Editor.Caret.setToBlock(newBlock);\n\n    /** If new block doesn't contain inpus, insert new paragraph above */\n    if (newBlock.inputs.length === 0) {\n      if (newBlock === BlockManager.lastBlock) {\n        BlockManager.insertAtEnd();\n        Caret.setToBlock(BlockManager.lastBlock);\n      } else {\n        Caret.setToBlock(BlockManager.nextBlock);\n      }\n    }\n\n    /**\n     * close toolbar when node is changed\n     */\n    this.Editor.Toolbar.close();\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5e0ccac67e25cc8abc23842dabd249e6ce663b14"});var l=t[n];return I=function(){return l},l}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=E(l),o=E(o),i=E(i),c=E(c),s=E(s),r=E(r),C=E(C),a=p(a),u=E(u),d=E(d),I();var b=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(h()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(){var n;return(0,l.default)(this,t),I().f[0]++,I().s[0]++,n=e.apply(this,arguments),I().s[1]++,n.nodes={toolbox:null,buttons:[]},I().s[2]++,n.opened=!1,I().s[3]++,n.displayedToolsCount=0,I().s[4]++,n.flipper=null,n}return(0,o.default)(t,[{key:"make",value:function(){I().f[3]++,I().s[7]++,this.nodes.toolbox=C.default.make("div",this.CSS.toolbox),I().s[8]++,this.addTools(),I().s[9]++,this.enableFlipper()}},{key:"destroy",value:function(){I().f[4]++,I().s[10]++,this.flipper.deactivate(),I().s[11]++,this.flipper=null,I().s[12]++,this.removeAllNodes(),I().s[13]++,this.removeAllShortcuts()}},{key:"toolButtonActivate",value:function(n,A){I().f[5]++;var e=(I().s[14]++,this.Editor.Tools.toolsClasses[A]);I().s[15]++,this.insertNewBlock(e,A)}},{key:"open",value:function(){if(I().f[6]++,I().s[16]++,this.isEmpty)return I().b[0][0]++,void I().s[17]++;I().b[0][1]++,I().s[18]++,this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolbarHolderModifier),I().s[19]++,this.nodes.toolbox.classList.add(this.CSS.toolboxOpened),I().s[20]++,this.opened=!0,I().s[21]++,this.flipper.activate()}},{key:"close",value:function(){I().f[7]++,I().s[22]++,this.nodes.toolbox.classList.remove(this.CSS.toolboxOpened),I().s[23]++,this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolbarHolderModifier),I().s[24]++,this.opened=!1,I().s[25]++,this.flipper.deactivate()}},{key:"toggle",value:function(){I().f[8]++,I().s[26]++,this.opened?(I().b[1][1]++,I().s[28]++,this.close()):(I().b[1][0]++,I().s[27]++,this.open())}},{key:"addTools",value:function(){I().f[9]++;var n=(I().s[29]++,this.Editor.Tools.available);for(var A in I().s[30]++,n)I().s[31]++,Object.prototype.hasOwnProperty.call(n,A)?(I().b[2][0]++,I().s[32]++,this.addTool(A,n[A])):I().b[2][1]++}},{key:"addTool",value:function(n,A){var e=this;I().f[10]++;var t=(I().s[33]++,this.Editor.Tools.INTERNAL_SETTINGS),l=(I().s[34]++,this.Editor.Tools.USER_SETTINGS),o=(I().s[35]++,A[t.TOOLBOX]);if(I().s[36]++,a.isEmpty(o))return I().b[3][0]++,void I().s[37]++;if(I().b[3][1]++,I().s[38]++,I().b[5][0]++,o&&(I().b[5][1]++,!o.icon))return I().b[4][0]++,I().s[39]++,a.log("Toolbar icon is missed. Tool %o skipped","warn",n),void I().s[40]++;I().b[4][1]++;var i=(I().s[41]++,this.Editor.Tools.getToolSettings(n)[l.TOOLBOX]);if(I().s[42]++,!1===(I().b[8][0]++,null!==i&&(I().b[8][1]++,void 0!==i)?(I().b[7][0]++,i):(I().b[7][1]++,o)))return I().b[6][0]++,void I().s[43]++;I().b[6][1]++;var c=(I().s[44]++,C.default.make("li",[this.CSS.toolboxButton]));I().s[45]++,c.dataset.tool=n,I().s[46]++,c.innerHTML=(I().b[9][0]++,i&&(I().b[9][1]++,i.icon)||(I().b[9][2]++,o.icon)),I().s[47]++,C.default.append(this.nodes.toolbox,c),I().s[48]++,this.nodes.toolbox.appendChild(c),I().s[49]++,this.nodes.buttons.push(c),I().s[50]++,this.Editor.Listeners.on(c,"click",(function(A){I().f[11]++,I().s[51]++,e.toolButtonActivate(A,n)}));var s=(I().s[52]++,this.drawTooltip(n));I().s[53]++,this.Editor.Tooltip.onHover(c,s,{placement:"bottom",hidingDelay:200});var r=(I().s[54]++,this.getToolShortcut(n,A));I().s[55]++,r?(I().b[10][0]++,I().s[56]++,this.enableShortcut(A,n,r)):I().b[10][1]++,I().s[57]++,this.displayedToolsCount++}},{key:"getToolShortcut",value:function(n,A){I().f[12]++;var e=(I().s[58]++,this.Editor.Tools.getToolSettings(n)),t=(I().s[59]++,A[this.Editor.Tools.INTERNAL_SETTINGS.SHORTCUT]),l=(I().s[60]++,e?(I().b[11][0]++,e[this.Editor.Tools.USER_SETTINGS.SHORTCUT]):(I().b[11][1]++,null));return I().s[61]++,I().b[12][0]++,l||(I().b[12][1]++,t)}},{key:"drawTooltip",value:function(n){I().f[13]++;var A=(I().s[62]++,this.Editor.Tools.available[n]),e=(I().s[63]++,this.Editor.Tools.getToolSettings(n)),t=(I().s[64]++,I().b[13][0]++,this.Editor.Tools.available[n][this.Editor.Tools.INTERNAL_SETTINGS.TOOLBOX]||(I().b[13][1]++,{})),l=(I().s[65]++,I().b[14][0]++,e.toolbox||(I().b[14][1]++,{})),o=(I().s[66]++,d.default.t(f.I18nInternalNS.toolNames,(I().b[15][0]++,l.title||(I().b[15][1]++,t.title)||(I().b[15][2]++,n)))),i=(I().s[67]++,this.getToolShortcut(n,A)),c=(I().s[68]++,C.default.make("div",this.CSS.buttonTooltip)),s=(I().s[69]++,document.createTextNode(a.capitalize(o)));return I().s[70]++,c.appendChild(s),I().s[71]++,i?(I().b[16][0]++,I().s[72]++,i=a.beautifyShortcut(i),I().s[73]++,c.appendChild(C.default.make("div",this.CSS.buttonShortcut,{textContent:i}))):I().b[16][1]++,I().s[74]++,c}},{key:"enableShortcut",value:function(n,A,e){var t=this;I().f[14]++,I().s[75]++,this.Editor.Shortcuts.add({name:e,handler:function(e){I().f[15]++,I().s[76]++,e.preventDefault(),I().s[77]++,t.insertNewBlock(n,A)}})}},{key:"removeAllShortcuts",value:function(){I().f[16]++;var n=(I().s[78]++,this.Editor.Tools.available);for(var A in I().s[79]++,n)if(I().s[80]++,Object.prototype.hasOwnProperty.call(n,A)){I().b[17][0]++;var e=(I().s[81]++,this.getToolShortcut(A,n[A]));I().s[82]++,e?(I().b[18][0]++,I().s[83]++,this.Editor.Shortcuts.remove(e)):I().b[18][1]++}else I().b[17][1]++}},{key:"enableFlipper",value:function(){I().f[17]++;var n=(I().s[84]++,Array.from(this.nodes.toolbox.childNodes));I().s[85]++,this.flipper=new u.default({items:n,focusedItemClass:this.CSS.toolboxButtonActive})}},{key:"insertNewBlock",value:function(n,A){I().f[18]++;var e=(I().s[86]++,this.Editor),t=e.BlockManager,l=e.Caret,o=(I().s[87]++,t).currentBlock,i=(I().s[88]++,t.insert({tool:A,replace:o.isEmpty}));I().s[89]++,i.call(m.BlockToolAPI.APPEND_CALLBACK),I().s[90]++,this.Editor.Caret.setToBlock(i),I().s[91]++,0===i.inputs.length?(I().b[19][0]++,I().s[92]++,i===t.lastBlock?(I().b[20][0]++,I().s[93]++,t.insertAtEnd(),I().s[94]++,l.setToBlock(t.lastBlock)):(I().b[20][1]++,I().s[95]++,l.setToBlock(t.nextBlock))):I().b[19][1]++,I().s[96]++,this.Editor.Toolbar.close()}},{key:"CSS",get:function(){return I().f[1]++,I().s[5]++,{toolbox:"ce-toolbox",toolboxButton:"ce-toolbox__button",toolboxButtonActive:"ce-toolbox__button--active",toolboxOpened:"ce-toolbox--opened",openedToolbarHolderModifier:"codex-editor--toolbox-opened",buttonTooltip:"ce-toolbox-button-tooltip",buttonShortcut:"ce-toolbox-button-tooltip__shortcut"}}},{key:"isEmpty",get:function(){return I().f[2]++,I().s[6]++,0===this.displayedToolsCount}}]),t}(r.default);t.default=b,b.displayName="Toolbox",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(5),e(6),e(4),e(7),e(387)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C){"use strict";var a=e(1);function u(){var n="/home/hata/editor.js/src/components/modules/tooltip.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"120327190eb2f78a5b70cde008b6373d973cb568"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/tooltip.ts",statementMap:{0:{start:{line:18,column:8},end:{line:18,column:26}},1:{start:{line:24,column:8},end:{line:24,column:39}},2:{start:{line:34,column:8},end:{line:34,column:49}},3:{start:{line:40,column:8},end:{line:40,column:24}},4:{start:{line:50,column:8},end:{line:50,column:52}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:28},end:{line:25,column:5}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:36},end:{line:35,column:5}},line:33},2:{name:"(anonymous_2)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:11},end:{line:41,column:5}},line:39},3:{name:"(anonymous_3)",decl:{start:{line:49,column:4},end:{line:49,column:5}},loc:{start:{line:49,column:39},end:{line:51,column:5}},line:49}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0,3:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/tooltip.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/tooltip.ts"],names:[],mappings:"AAAA,6CAA6C;AAC7C,OAAO,MAAM,MAAM,aAAa,CAAC;AAEjC;;GAEG;AACH,OAAO,aAAiD,MAAM,eAAe,CAAC;AAG9E;;;;GAIG;AACH,MAAM,CAAC,OAAO,OAAO,OAAQ,SAAQ,MAAM;IAQzC;;;OAGG;IACH,YAAY,EAAE,MAAM,EAAgB;QAClC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;QAZpB;;;;WAIG;QACK,QAAG,GAAkB,IAAI,aAAa,EAAE,CAAC;IAQjD,CAAC;IAED;;;;;;OAMG;IACI,IAAI,CAAC,OAAoB,EAAE,OAAuB,EAAE,OAAwB;QACjF,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IAC3C,CAAC;IAED;;OAEG;IACI,IAAI;QACT,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;IAClB,CAAC;IAED;;;;;;OAMG;IACI,OAAO,CAAC,OAAoB,EAAE,OAAuB,EAAE,OAAwB;QACpF,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IAC9C,CAAC;CACF",sourcesContent:["/* eslint-disable jsdoc/no-undefined-types */\nimport Module from '../__module';\n\n/**\n * Use external module CodeX Tooltip\n */\nimport CodeXTooltips, { TooltipContent, TooltipOptions } from 'codex-tooltip';\nimport { ModuleConfig } from '../../types-internal/module-config';\n\n/**\n * Tooltip\n *\n * Decorates any tooltip module like adapter\n */\nexport default class Tooltip extends Module {\n  /**\n   * Tooltips lib: CodeX Tooltips\n   *\n   * @see https://github.com/codex-team/codex.tooltips\n   */\n  private lib: CodeXTooltips = new CodeXTooltips();\n\n  /**\n   * @class\n   * @param {EditorConfig} - Editor's config\n   */\n  constructor({ config }: ModuleConfig) {\n    super({ config });\n  }\n\n  /**\n   * Shows tooltip on element with passed HTML content\n   *\n   * @param {HTMLElement} element - any HTML element in DOM\n   * @param {TooltipContent} content - tooltip's content\n   * @param {TooltipOptions} options - showing settings\n   */\n  public show(element: HTMLElement, content: TooltipContent, options?: TooltipOptions): void {\n    this.lib.show(element, content, options);\n  }\n\n  /**\n   * Hides tooltip\n   */\n  public hide(): void {\n    this.lib.hide();\n  }\n\n  /**\n   * Binds 'mouseenter' and 'mouseleave' events that shows/hides the Tooltip\n   *\n   * @param {HTMLElement} element - any HTML element in DOM\n   * @param {TooltipContent} content - tooltip's content\n   * @param {TooltipOptions} options - showing settings\n   */\n  public onHover(element: HTMLElement, content: TooltipContent, options?: TooltipOptions): void {\n    this.lib.onHover(element, content, options);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"120327190eb2f78a5b70cde008b6373d973cb568"});var l=t[n];return u=function(){return l},l}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=a(l),o=a(o),i=a(i),c=a(c),s=a(s),r=a(r),C=a(C),u();var d=function(n){(0,i.default)(t,n);var A,e=(A=t,function(){var n,e=(0,s.default)(A);if(m()){var t=(0,s.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,c.default)(this,n)});function t(n){var A,o=n.config;return(0,l.default)(this,t),u().f[0]++,u().s[0]++,A=e.call(this,{config:o}),u().s[1]++,A.lib=new C.default,A}return(0,o.default)(t,[{key:"show",value:function(n,A,e){u().f[1]++,u().s[2]++,this.lib.show(n,A,e)}},{key:"hide",value:function(){u().f[2]++,u().s[3]++,this.lib.hide()}},{key:"onHover",value:function(n,A,e){u().f[3]++,u().s[4]++,this.lib.onHover(n,A,e)}}]),t}(r.default);t.default=d,d.displayName="Tooltip",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(39),e(66),e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(388),e(7),e(15),e(8),e(25),e(61),e(60)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u,m,d,f,p,E,I,h){"use strict";var b=e(13),B=e(1);function g(){var n="/home/hata/editor.js/src/components/modules/ui.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"1e77c8f0181db7211c0029f0af4e7368b053fa5c"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/modules/ui.ts",statementMap:{0:{start:{line:37,column:8},end:{line:37,column:28}},1:{start:{line:43,column:8},end:{line:43,column:30}},2:{start:{line:50,column:8},end:{line:50,column:42}},3:{start:{line:56,column:8},end:{line:58,column:16}},4:{start:{line:57,column:12},end:{line:57,column:32}},5:{start:{line:66,column:8},end:{line:74,column:10}},6:{start:{line:82,column:8},end:{line:84,column:9}},7:{start:{line:83,column:12},end:{line:83,column:41}},8:{start:{line:85,column:26},end:{line:85,column:83}},9:{start:{line:89,column:8},end:{line:95,column:9}},10:{start:{line:90,column:12},end:{line:94,column:14}},11:{start:{line:96,column:8},end:{line:96,column:66}},12:{start:{line:97,column:8},end:{line:97,column:37}},13:{start:{line:103,column:8},end:{line:103,column:65}},14:{start:{line:104,column:8},end:{line:104,column:54}},15:{start:{line:105,column:8},end:{line:105,column:69}},16:{start:{line:111,column:8},end:{line:111,column:35}},17:{start:{line:112,column:8},end:{line:112,column:72}},18:{start:{line:121,column:8},end:{line:121,column:29}},19:{start:{line:125,column:8},end:{line:125,column:20}},20:{start:{line:129,column:8},end:{line:129,column:25}},21:{start:{line:133,column:8},end:{line:133,column:31}},22:{start:{line:137,column:8},end:{line:137,column:26}},23:{start:{line:154,column:8},end:{line:165,column:9}},24:{start:{line:158,column:12},end:{line:158,column:40}},25:{start:{line:164,column:12},end:{line:164,column:41}},26:{start:{line:171,column:33},end:{line:171,column:44}},27:{start:{line:172,column:8},end:{line:172,column:94}},28:{start:{line:181,column:77},end:{line:181,column:88}},29:{start:{line:182,column:8},end:{line:182,column:106}},30:{start:{line:188,column:8},end:{line:193,column:11}},31:{start:{line:189,column:12},end:{line:189,column:58}},32:{start:{line:192,column:12},end:{line:192,column:51}},33:{start:{line:199,column:8},end:{line:199,column:41}},34:{start:{line:205,column:77},end:{line:205,column:88}},35:{start:{line:206,column:8},end:{line:206,column:30}},36:{start:{line:207,column:8},end:{line:207,column:30}},37:{start:{line:208,column:8},end:{line:208,column:34}},38:{start:{line:209,column:8},end:{line:209,column:24}},39:{start:{line:215,column:8},end:{line:215,column:48}},40:{start:{line:226,column:8},end:{line:226,column:60}},41:{start:{line:230,column:8},end:{line:233,column:11}},42:{start:{line:234,column:8},end:{line:234,column:65}},43:{start:{line:238,column:8},end:{line:240,column:9}},44:{start:{line:239,column:12},end:{line:239,column:75}},45:{start:{line:244,column:8},end:{line:244,column:79}},46:{start:{line:245,column:8},end:{line:245,column:60}},47:{start:{line:246,column:8},end:{line:246,column:58}},48:{start:{line:256,column:23},end:{line:256,column:55}},49:{start:{line:257,column:27},end:{line:257,column:45}},50:{start:{line:261,column:8},end:{line:263,column:9}},51:{start:{line:262,column:12},end:{line:262,column:19}},52:{start:{line:267,column:20},end:{line:270,column:10}},53:{start:{line:274,column:8},end:{line:274,column:38}},54:{start:{line:280,column:8},end:{line:282,column:18}},55:{start:{line:281,column:12},end:{line:281,column:40}},56:{start:{line:283,column:8},end:{line:285,column:17}},57:{start:{line:284,column:12},end:{line:284,column:40}},58:{start:{line:286,column:8},end:{line:288,column:17}},59:{start:{line:287,column:12},end:{line:287,column:40}},60:{start:{line:289,column:8},end:{line:291,column:17}},61:{start:{line:290,column:12},end:{line:290,column:40}},62:{start:{line:292,column:8},end:{line:294,column:17}},63:{start:{line:293,column:12},end:{line:293,column:40}},64:{start:{line:298,column:8},end:{line:300,column:17}},65:{start:{line:299,column:12},end:{line:299,column:41}},66:{start:{line:301,column:8},end:{line:305,column:11}},67:{start:{line:302,column:12},end:{line:302,column:35}},68:{start:{line:311,column:8},end:{line:311,column:49}},69:{start:{line:320,column:8},end:{line:320,column:37}},70:{start:{line:324,column:8},end:{line:324,column:29}},71:{start:{line:332,column:8},end:{line:345,column:9}},72:{start:{line:334,column:16},end:{line:334,column:41}},73:{start:{line:335,column:16},end:{line:335,column:22}},74:{start:{line:337,column:16},end:{line:337,column:45}},75:{start:{line:338,column:16},end:{line:338,column:22}},76:{start:{line:340,column:16},end:{line:340,column:42}},77:{start:{line:341,column:16},end:{line:341,column:22}},78:{start:{line:343,column:16},end:{line:343,column:45}},79:{start:{line:344,column:16},end:{line:344,column:22}},80:{start:{line:353,column:33},end:{line:353,column:57}},81:{start:{line:354,column:32},end:{line:354,column:82}},82:{start:{line:355,column:26},end:{line:355,column:90}},83:{start:{line:359,column:8},end:{line:362,column:9}},84:{start:{line:360,column:12},end:{line:360,column:51}},85:{start:{line:361,column:12},end:{line:361,column:19}},86:{start:{line:366,column:8},end:{line:368,column:9}},87:{start:{line:367,column:12},end:{line:367,column:19}},88:{start:{line:372,column:8},end:{line:372,column:47}},89:{start:{line:376,column:8},end:{line:376,column:36}},90:{start:{line:382,column:56},end:{line:382,column:67}},91:{start:{line:387,column:8},end:{line:400,column:9}},92:{start:{line:388,column:43},end:{line:388,column:78}},93:{start:{line:389,column:12},end:{line:389,column:122}},94:{start:{line:391,column:12},end:{line:391,column:49}},95:{start:{line:397,column:12},end:{line:397,column:35}},96:{start:{line:398,column:12},end:{line:398,column:36}},97:{start:{line:399,column:12},end:{line:399,column:45}},98:{start:{line:412,column:8},end:{line:412,column:57}},99:{start:{line:413,column:8},end:{line:427,column:9}},100:{start:{line:414,column:12},end:{line:414,column:40}},101:{start:{line:416,column:13},end:{line:427,column:9}},102:{start:{line:417,column:12},end:{line:417,column:46}},103:{start:{line:419,column:13},end:{line:427,column:9}},104:{start:{line:420,column:12},end:{line:420,column:50}},105:{start:{line:422,column:13},end:{line:427,column:9}},106:{start:{line:423,column:12},end:{line:423,column:46}},107:{start:{line:426,column:12},end:{line:426,column:40}},108:{start:{line:435,column:56},end:{line:435,column:67}},109:{start:{line:436,column:34},end:{line:436,column:69}},110:{start:{line:441,column:8},end:{line:453,column:9}},111:{start:{line:443,column:12},end:{line:443,column:49}},112:{start:{line:449,column:12},end:{line:449,column:35}},113:{start:{line:450,column:12},end:{line:450,column:45}},114:{start:{line:451,column:12},end:{line:451,column:36}},115:{start:{line:452,column:12},end:{line:452,column:19}},116:{start:{line:461,column:8},end:{line:476,column:9}},117:{start:{line:465,column:29},end:{line:465,column:62}},118:{start:{line:466,column:12},end:{line:466,column:51}},119:{start:{line:470,column:12},end:{line:470,column:60}},120:{start:{line:474,column:12},end:{line:474,column:39}},121:{start:{line:475,column:12},end:{line:475,column:50}},122:{start:{line:477,column:8},end:{line:477,column:57}},123:{start:{line:489,column:8},end:{line:491,column:9}},124:{start:{line:490,column:12},end:{line:490,column:19}},125:{start:{line:496,column:23},end:{line:496,column:35}},126:{start:{line:497,column:38},end:{line:497,column:96}},127:{start:{line:498,column:8},end:{line:509,column:9}},128:{start:{line:505,column:12},end:{line:505,column:51}},129:{start:{line:506,column:12},end:{line:506,column:46}},130:{start:{line:507,column:12},end:{line:507,column:40}},131:{start:{line:508,column:12},end:{line:508,column:50}},132:{start:{line:513,column:8},end:{line:515,column:9}},133:{start:{line:514,column:12},end:{line:514,column:61}},134:{start:{line:529,column:26},end:{line:529,column:38}},135:{start:{line:533,column:8},end:{line:537,column:9}},136:{start:{line:534,column:28},end:{line:534,column:98}},137:{start:{line:535,column:28},end:{line:535,column:98}},138:{start:{line:536,column:12},end:{line:536,column:70}},139:{start:{line:541,column:8},end:{line:558,column:9}},140:{start:{line:545,column:12},end:{line:545,column:77}},141:{start:{line:549,column:12},end:{line:549,column:60}},142:{start:{line:555,column:12},end:{line:557,column:13}},143:{start:{line:556,column:16},end:{line:556,column:54}},144:{start:{line:562,column:8},end:{line:562,column:35}},145:{start:{line:566,column:8},end:{line:566,column:46}},146:{start:{line:579,column:8},end:{line:581,column:9}},147:{start:{line:580,column:12},end:{line:580,column:19}},148:{start:{line:582,column:32},end:{line:585,column:9}},149:{start:{line:583,column:12},end:{line:583,column:45}},150:{start:{line:584,column:12},end:{line:584,column:36}},151:{start:{line:590,column:24},end:{line:590,column:36}},152:{start:{line:591,column:24},end:{line:591,column:54}},153:{start:{line:592,column:8},end:{line:598,column:9}},154:{start:{line:593,column:12},end:{line:593,column:30}},155:{start:{line:594,column:25},end:{line:594,column:53}},156:{start:{line:595,column:29},end:{line:595,column:48}},157:{start:{line:596,column:12},end:{line:596,column:32}},158:{start:{line:597,column:12},end:{line:597,column:19}},159:{start:{line:599,column:8},end:{line:602,column:9}},160:{start:{line:600,column:12},end:{line:600,column:30}},161:{start:{line:601,column:12},end:{line:601,column:46}},162:{start:{line:608,column:31},end:{line:608,column:102}},163:{start:{line:609,column:8},end:{line:618,column:9}},164:{start:{line:610,column:12},end:{line:610,column:30}},165:{start:{line:614,column:33},end:{line:614,column:78}},166:{start:{line:615,column:12},end:{line:617,column:13}},167:{start:{line:616,column:16},end:{line:616,column:54}},168:{start:{line:627,column:56},end:{line:627,column:67}},169:{start:{line:628,column:31},end:{line:628,column:54}},170:{start:{line:629,column:8},end:{line:634,column:9}},171:{start:{line:631,column:12},end:{line:633,column:13}},172:{start:{line:632,column:16},end:{line:632,column:50}},173:{start:{line:639,column:8},end:{line:647,column:9}},174:{start:{line:643,column:12},end:{line:645,column:13}},175:{start:{line:644,column:16},end:{line:644,column:50}},176:{start:{line:646,column:12},end:{line:646,column:19}},177:{start:{line:651,column:8},end:{line:651,column:50}},178:{start:{line:657,column:29},end:{line:657,column:42}},179:{start:{line:658,column:8},end:{line:658,column:35}},180:{start:{line:659,column:8},end:{line:659,column:44}},181:{start:{line:660,column:8},end:{line:660,column:40}},182:{start:{line:661,column:8},end:{line:661,column:51}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:18},end:{line:59,column:5}},line:36},1:{name:"(anonymous_1)",decl:{start:{line:56,column:42},end:{line:56,column:43}},loc:{start:{line:56,column:48},end:{line:58,column:9}},line:56},2:{name:"(anonymous_2)",decl:{start:{line:65,column:4},end:{line:65,column:5}},loc:{start:{line:65,column:14},end:{line:75,column:5}},line:65},3:{name:"(anonymous_3)",decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:22},end:{line:98,column:5}},line:81},4:{name:"(anonymous_4)",decl:{start:{line:102,column:4},end:{line:102,column:5}},loc:{start:{line:102,column:16},end:{line:106,column:5}},line:102},5:{name:"(anonymous_5)",decl:{start:{line:110,column:4},end:{line:110,column:5}},loc:{start:{line:110,column:19},end:{line:113,column:5}},line:110},6:{name:"(anonymous_6)",decl:{start:{line:117,column:4},end:{line:117,column:5}},loc:{start:{line:117,column:20},end:{line:138,column:5}},line:117},7:{name:"(anonymous_7)",decl:{start:{line:150,column:4},end:{line:150,column:5}},loc:{start:{line:150,column:36},end:{line:166,column:5}},line:150},8:{name:"(anonymous_8)",decl:{start:{line:170,column:4},end:{line:170,column:5}},loc:{start:{line:170,column:21},end:{line:173,column:5}},line:170},9:{name:"(anonymous_9)",decl:{start:{line:180,column:4},end:{line:180,column:5}},loc:{start:{line:180,column:28},end:{line:183,column:5}},line:180},10:{name:"(anonymous_10)",decl:{start:{line:187,column:4},end:{line:187,column:5}},loc:{start:{line:187,column:35},end:{line:194,column:5}},line:187},11:{name:"(anonymous_11)",decl:{start:{line:188,column:50},end:{line:188,column:51}},loc:{start:{line:188,column:81},end:{line:190,column:9}},line:188},12:{name:"(anonymous_12)",decl:{start:{line:191,column:18},end:{line:191,column:19}},loc:{start:{line:191,column:49},end:{line:193,column:9}},line:191},13:{name:"(anonymous_13)",decl:{start:{line:198,column:4},end:{line:198,column:5}},loc:{start:{line:198,column:14},end:{line:200,column:5}},line:198},14:{name:"(anonymous_14)",decl:{start:{line:204,column:4},end:{line:204,column:5}},loc:{start:{line:204,column:23},end:{line:210,column:5}},line:204},15:{name:"(anonymous_15)",decl:{start:{line:214,column:4},end:{line:214,column:5}},loc:{start:{line:214,column:20},end:{line:216,column:5}},line:214},16:{name:"(anonymous_16)",decl:{start:{line:220,column:4},end:{line:220,column:5}},loc:{start:{line:220,column:11},end:{line:247,column:5}},line:220},17:{name:"(anonymous_17)",decl:{start:{line:251,column:4},end:{line:251,column:5}},loc:{start:{line:251,column:17},end:{line:275,column:5}},line:251},18:{name:"(anonymous_18)",decl:{start:{line:279,column:4},end:{line:279,column:5}},loc:{start:{line:279,column:27},end:{line:306,column:5}},line:279},19:{name:"(anonymous_19)",decl:{start:{line:280,column:71},end:{line:280,column:72}},loc:{start:{line:280,column:82},end:{line:282,column:9}},line:280},20:{name:"(anonymous_20)",decl:{start:{line:283,column:75},end:{line:283,column:76}},loc:{start:{line:283,column:86},end:{line:285,column:9}},line:283},21:{name:"(anonymous_21)",decl:{start:{line:286,column:76},end:{line:286,column:77}},loc:{start:{line:286,column:87},end:{line:288,column:9}},line:286},22:{name:"(anonymous_22)",decl:{start:{line:289,column:62},end:{line:289,column:63}},loc:{start:{line:289,column:73},end:{line:291,column:9}},line:289},23:{name:"(anonymous_23)",decl:{start:{line:292,column:60},end:{line:292,column:61}},loc:{start:{line:292,column:71},end:{line:294,column:9}},line:292},24:{name:"(anonymous_24)",decl:{start:{line:298,column:70},end:{line:298,column:71}},loc:{start:{line:298,column:81},end:{line:300,column:9}},line:298},25:{name:"(anonymous_25)",decl:{start:{line:301,column:59},end:{line:301,column:60}},loc:{start:{line:301,column:65},end:{line:303,column:9}},line:301},26:{name:"(anonymous_26)",decl:{start:{line:310,column:4},end:{line:310,column:5}},loc:{start:{line:310,column:28},end:{line:312,column:5}},line:310},27:{name:"(anonymous_27)",decl:{start:{line:316,column:4},end:{line:316,column:5}},loc:{start:{line:316,column:19},end:{line:325,column:5}},line:316},28:{name:"(anonymous_28)",decl:{start:{line:331,column:4},end:{line:331,column:5}},loc:{start:{line:331,column:27},end:{line:346,column:5}},line:331},29:{name:"(anonymous_29)",decl:{start:{line:352,column:4},end:{line:352,column:5}},loc:{start:{line:352,column:28},end:{line:377,column:5}},line:352},30:{name:"(anonymous_30)",decl:{start:{line:381,column:4},end:{line:381,column:5}},loc:{start:{line:381,column:28},end:{line:401,column:5}},line:381},31:{name:"(anonymous_31)",decl:{start:{line:408,column:4},end:{line:408,column:5}},loc:{start:{line:408,column:25},end:{line:428,column:5}},line:408},32:{name:"(anonymous_32)",decl:{start:{line:434,column:4},end:{line:434,column:5}},loc:{start:{line:434,column:24},end:{line:478,column:5}},line:434},33:{name:"(anonymous_33)",decl:{start:{line:484,column:4},end:{line:484,column:5}},loc:{start:{line:484,column:27},end:{line:516,column:5}},line:484},34:{name:"(anonymous_34)",decl:{start:{line:528,column:4},end:{line:528,column:5}},loc:{start:{line:528,column:27},end:{line:567,column:5}},line:528},35:{name:"(anonymous_35)",decl:{start:{line:578,column:4},end:{line:578,column:5}},loc:{start:{line:578,column:27},end:{line:619,column:5}},line:578},36:{name:"(anonymous_36)",decl:{start:{line:582,column:32},end:{line:582,column:33}},loc:{start:{line:582,column:38},end:{line:585,column:9}},line:582},37:{name:"(anonymous_37)",decl:{start:{line:626,column:4},end:{line:626,column:5}},loc:{start:{line:626,column:28},end:{line:652,column:5}},line:626},38:{name:"(anonymous_38)",decl:{start:{line:656,column:4},end:{line:656,column:5}},loc:{start:{line:656,column:22},end:{line:662,column:5}},line:656}},branchMap:{0:{loc:{start:{line:82,column:8},end:{line:84,column:9}},type:"if",locations:[{start:{line:82,column:8},end:{line:84,column:9}},{start:{line:82,column:8},end:{line:84,column:9}}],line:82},1:{loc:{start:{line:89,column:8},end:{line:95,column:9}},type:"if",locations:[{start:{line:89,column:8},end:{line:95,column:9}},{start:{line:89,column:8},end:{line:95,column:9}}],line:89},2:{loc:{start:{line:154,column:8},end:{line:165,column:9}},type:"if",locations:[{start:{line:154,column:8},end:{line:165,column:9}},{start:{line:154,column:8},end:{line:165,column:9}}],line:154},3:{loc:{start:{line:182,column:15},end:{line:182,column:105}},type:"binary-expr",locations:[{start:{line:182,column:15},end:{line:182,column:35}},{start:{line:182,column:39},end:{line:182,column:59}},{start:{line:182,column:63},end:{line:182,column:87}},{start:{line:182,column:91},end:{line:182,column:105}}],line:182},4:{loc:{start:{line:232,column:16},end:{line:232,column:57}},type:"cond-expr",locations:[{start:{line:232,column:29},end:{line:232,column:52}},{start:{line:232,column:55},end:{line:232,column:57}}],line:232},5:{loc:{start:{line:238,column:8},end:{line:240,column:9}},type:"if",locations:[{start:{line:238,column:8},end:{line:240,column:9}},{start:{line:238,column:8},end:{line:240,column:9}}],line:238},6:{loc:{start:{line:261,column:8},end:{line:263,column:9}},type:"if",locations:[{start:{line:261,column:8},end:{line:263,column:9}},{start:{line:261,column:8},end:{line:263,column:9}}],line:261},7:{loc:{start:{line:332,column:8},end:{line:345,column:9}},type:"switch",locations:[{start:{line:333,column:12},end:{line:335,column:22}},{start:{line:336,column:12},end:{line:338,column:22}},{start:{line:339,column:12},end:{line:341,column:22}},{start:{line:342,column:12},end:{line:344,column:22}}],line:332},8:{loc:{start:{line:355,column:26},end:{line:355,column:90}},type:"binary-expr",locations:[{start:{line:355,column:26},end:{line:355,column:38}},{start:{line:355,column:42},end:{line:355,column:55}},{start:{line:355,column:59},end:{line:355,column:72}},{start:{line:355,column:76},end:{line:355,column:90}}],line:355},9:{loc:{start:{line:359,column:8},end:{line:362,column:9}},type:"if",locations:[{start:{line:359,column:8},end:{line:362,column:9}},{start:{line:359,column:8},end:{line:362,column:9}}],line:359},10:{loc:{start:{line:359,column:12},end:{line:359,column:66}},type:"binary-expr",locations:[{start:{line:359,column:12},end:{line:359,column:38}},{start:{line:359,column:42},end:{line:359,column:66}}],line:359},11:{loc:{start:{line:366,column:8},end:{line:368,column:9}},type:"if",locations:[{start:{line:366,column:8},end:{line:368,column:9}},{start:{line:366,column:8},end:{line:368,column:9}}],line:366},12:{loc:{start:{line:366,column:12},end:{line:366,column:58}},type:"binary-expr",locations:[{start:{line:366,column:12},end:{line:366,column:27}},{start:{line:366,column:32},end:{line:366,column:44}},{start:{line:366,column:48},end:{line:366,column:57}}],line:366},13:{loc:{start:{line:387,column:8},end:{line:400,column:9}},type:"if",locations:[{start:{line:387,column:8},end:{line:400,column:9}},{start:{line:387,column:8},end:{line:400,column:9}}],line:387},14:{loc:{start:{line:387,column:12},end:{line:387,column:75}},type:"binary-expr",locations:[{start:{line:387,column:12},end:{line:387,column:43}},{start:{line:387,column:47},end:{line:387,column:75}}],line:387},15:{loc:{start:{line:413,column:8},end:{line:427,column:9}},type:"if",locations:[{start:{line:413,column:8},end:{line:427,column:9}},{start:{line:413,column:8},end:{line:427,column:9}}],line:413},16:{loc:{start:{line:416,column:13},end:{line:427,column:9}},type:"if",locations:[{start:{line:416,column:13},end:{line:427,column:9}},{start:{line:416,column:13},end:{line:427,column:9}}],line:416},17:{loc:{start:{line:419,column:13},end:{line:427,column:9}},type:"if",locations:[{start:{line:419,column:13},end:{line:427,column:9}},{start:{line:419,column:13},end:{line:427,column:9}}],line:419},18:{loc:{start:{line:422,column:13},end:{line:427,column:9}},type:"if",locations:[{start:{line:422,column:13},end:{line:427,column:9}},{start:{line:422,column:13},end:{line:427,column:9}}],line:422},19:{loc:{start:{line:441,column:8},end:{line:453,column:9}},type:"if",locations:[{start:{line:441,column:8},end:{line:453,column:9}},{start:{line:441,column:8},end:{line:453,column:9}}],line:441},20:{loc:{start:{line:441,column:12},end:{line:441,column:75}},type:"binary-expr",locations:[{start:{line:441,column:12},end:{line:441,column:43}},{start:{line:441,column:47},end:{line:441,column:75}}],line:441},21:{loc:{start:{line:461,column:8},end:{line:476,column:9}},type:"if",locations:[{start:{line:461,column:8},end:{line:476,column:9}},{start:{line:461,column:8},end:{line:476,column:9}}],line:461},22:{loc:{start:{line:461,column:12},end:{line:461,column:91}},type:"binary-expr",locations:[{start:{line:461,column:12},end:{line:461,column:35}},{start:{line:461,column:39},end:{line:461,column:56}},{start:{line:461,column:60},end:{line:461,column:91}}],line:461},23:{loc:{start:{line:489,column:8},end:{line:491,column:9}},type:"if",locations:[{start:{line:489,column:8},end:{line:491,column:9}},{start:{line:489,column:8},end:{line:491,column:9}}],line:489},24:{loc:{start:{line:497,column:38},end:{line:497,column:96}},type:"binary-expr",locations:[{start:{line:497,column:38},end:{line:497,column:72}},{start:{line:497,column:76},end:{line:497,column:96}}],line:497},25:{loc:{start:{line:498,column:8},end:{line:509,column:9}},type:"if",locations:[{start:{line:498,column:8},end:{line:509,column:9}},{start:{line:498,column:8},end:{line:509,column:9}}],line:498},26:{loc:{start:{line:513,column:8},end:{line:515,column:9}},type:"if",locations:[{start:{line:513,column:8},end:{line:515,column:9}},{start:{line:513,column:8},end:{line:515,column:9}}],line:513},27:{loc:{start:{line:533,column:8},end:{line:537,column:9}},type:"if",locations:[{start:{line:533,column:8},end:{line:537,column:9}},{start:{line:533,column:8},end:{line:537,column:9}}],line:533},28:{loc:{start:{line:534,column:28},end:{line:534,column:98}},type:"cond-expr",locations:[{start:{line:534,column:58},end:{line:534,column:71}},{start:{line:534,column:74},end:{line:534,column:98}}],line:534},29:{loc:{start:{line:535,column:28},end:{line:535,column:98}},type:"cond-expr",locations:[{start:{line:535,column:58},end:{line:535,column:71}},{start:{line:535,column:74},end:{line:535,column:98}}],line:535},30:{loc:{start:{line:555,column:12},end:{line:557,column:13}},type:"if",locations:[{start:{line:555,column:12},end:{line:557,column:13}},{start:{line:555,column:12},end:{line:557,column:13}}],line:555},31:{loc:{start:{line:579,column:8},end:{line:581,column:9}},type:"if",locations:[{start:{line:579,column:8},end:{line:581,column:9}},{start:{line:579,column:8},end:{line:581,column:9}}],line:579},32:{loc:{start:{line:591,column:24},end:{line:591,column:54}},type:"binary-expr",locations:[{start:{line:591,column:24},end:{line:591,column:37}},{start:{line:591,column:41},end:{line:591,column:54}}],line:591},33:{loc:{start:{line:592,column:8},end:{line:598,column:9}},type:"if",locations:[{start:{line:592,column:8},end:{line:598,column:9}},{start:{line:592,column:8},end:{line:598,column:9}}],line:592},34:{loc:{start:{line:592,column:12},end:{line:592,column:42}},type:"binary-expr",locations:[{start:{line:592,column:12},end:{line:592,column:31}},{start:{line:592,column:35},end:{line:592,column:42}}],line:592},35:{loc:{start:{line:599,column:8},end:{line:602,column:9}},type:"if",locations:[{start:{line:599,column:8},end:{line:602,column:9}},{start:{line:599,column:8},end:{line:602,column:9}}],line:599},36:{loc:{start:{line:609,column:8},end:{line:618,column:9}},type:"if",locations:[{start:{line:609,column:8},end:{line:618,column:9}},{start:{line:609,column:8},end:{line:618,column:9}}],line:609},37:{loc:{start:{line:615,column:12},end:{line:617,column:13}},type:"if",locations:[{start:{line:615,column:12},end:{line:617,column:13}},{start:{line:615,column:12},end:{line:617,column:13}}],line:615},38:{loc:{start:{line:629,column:8},end:{line:634,column:9}},type:"if",locations:[{start:{line:629,column:8},end:{line:634,column:9}},{start:{line:629,column:8},end:{line:634,column:9}}],line:629},39:{loc:{start:{line:631,column:12},end:{line:633,column:13}},type:"if",locations:[{start:{line:631,column:12},end:{line:633,column:13}},{start:{line:631,column:12},end:{line:633,column:13}}],line:631},40:{loc:{start:{line:639,column:8},end:{line:647,column:9}},type:"if",locations:[{start:{line:639,column:8},end:{line:647,column:9}},{start:{line:639,column:8},end:{line:647,column:9}}],line:639},41:{loc:{start:{line:639,column:12},end:{line:639,column:79}},type:"binary-expr",locations:[{start:{line:639,column:12},end:{line:639,column:27}},{start:{line:639,column:31},end:{line:639,column:79}}],line:639},42:{loc:{start:{line:643,column:12},end:{line:645,column:13}},type:"if",locations:[{start:{line:643,column:12},end:{line:645,column:13}},{start:{line:643,column:12},end:{line:645,column:13}}],line:643}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0,0,0],8:[0,0,0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/modules/ui.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/modules/ui.ts"],names:[],mappings:"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",sourcesContent:["/* eslint-disable jsdoc/no-undefined-types */\n/**\n * Prebuilded sprite of SVG icons\n */\nimport sprite from '../../../dist/sprite.svg';\n\n/**\n * Module UI\n *\n * @type {UI}\n */\nimport Module from '../__module';\nimport $ from '../dom';\nimport * as _ from '../utils';\n\nimport Selection from '../selection';\nimport Block from '../block';\nimport Flipper from '../flipper';\n\n/**\n * HTML Elements used for UI\n */\ninterface UINodes {\n  holder: HTMLElement;\n  wrapper: HTMLElement;\n  redactor: HTMLElement;\n  loader: HTMLElement;\n}\n\n/**\n * @class\n *\n * @classdesc Makes Editor.js UI:\n *                <codex-editor>\n *                    <ce-redactor />\n *                    <ce-toolbar />\n *                    <ce-inline-toolbar />\n *                </codex-editor>\n *\n * @typedef {UI} UI\n * @property {EditorConfig} config   - editor configuration {@link EditorJS#configuration}\n * @property {object} Editor         - available editor modules {@link EditorJS#moduleInstances}\n * @property {object} nodes          -\n * @property {Element} nodes.holder  - element where we need to append redactor\n * @property {Element} nodes.wrapper  - <codex-editor>\n * @property {Element} nodes.redactor - <ce-redactor>\n */\nexport default class UI extends Module<UINodes> {\n  /**\n   * Editor.js UI CSS class names\n   *\n   * @returns {{editorWrapper: string, editorZone: string}}\n   */\n  public get CSS(): {\n    editorWrapper: string; editorWrapperNarrow: string; editorZone: string; editorZoneHidden: string;\n    editorLoader: string; editorEmpty: string; editorRtlFix: string;\n    } {\n    return {\n      editorWrapper: 'codex-editor',\n      editorWrapperNarrow: 'codex-editor--narrow',\n      editorZone: 'codex-editor__redactor',\n      editorZoneHidden: 'codex-editor__redactor--hidden',\n      editorLoader: 'codex-editor__loader',\n      editorEmpty: 'codex-editor--empty',\n      editorRtlFix: 'codex-editor--rtl',\n    };\n  }\n\n  /**\n   * Return Width of center column of Editor\n   *\n   * @returns {DOMRect}\n   */\n  public get contentRect(): DOMRect {\n    if (this.contentRectCache) {\n      return this.contentRectCache;\n    }\n\n    const someBlock = this.nodes.wrapper.querySelector(`.${Block.CSS.content}`);\n\n    /**\n     * When Editor is not ready, there is no Blocks, so return the default value\n     */\n    if (!someBlock) {\n      return {\n        width: 650,\n        left: 0,\n        right: 0,\n      } as DOMRect;\n    }\n\n    this.contentRectCache = someBlock.getBoundingClientRect() as DOMRect;\n\n    return this.contentRectCache;\n  }\n\n  /**\n   * Flag that became true on mobile viewport\n   *\n   * @type {boolean}\n   */\n  public isMobile = false;\n\n  /**\n   * Cache for center column rectangle info\n   * Invalidates on window resize\n   *\n   * @type {DOMRect}\n   */\n  private contentRectCache: DOMRect = undefined;\n\n  /**\n   * Handle window resize only when it finished\n   *\n   * @type {() => void}\n   */\n  private resizeDebouncer: () => void = _.debounce(() => {\n    this.windowResize();\n  }, 200);\n\n  /**\n   * Adds loader to editor while content is not ready\n   */\n  public addLoader(): void {\n    this.nodes.loader = $.make('div', this.CSS.editorLoader);\n    this.nodes.wrapper.prepend(this.nodes.loader);\n    this.nodes.redactor.classList.add(this.CSS.editorZoneHidden);\n  }\n\n  /**\n   * Removes loader when content has loaded\n   */\n  public removeLoader(): void {\n    this.nodes.loader.remove();\n    this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden);\n  }\n\n  /**\n   * Making main interface\n   */\n  public async prepare(): Promise<void> {\n    /**\n     * Detect mobile version\n     */\n    this.checkIsMobile();\n\n    /**\n     * Make main UI elements\n     */\n    this.make();\n\n    /**\n     * Loader for rendering process\n     */\n    this.addLoader();\n\n    /**\n     * Append SVG sprite\n     */\n    this.appendSVGSprite();\n\n    /**\n     * Load and append CSS\n     */\n    this.loadStyles();\n  }\n\n  /**\n   * Toggle read-only state\n   *\n   * If readOnly is true:\n   *  - removes all listeners from main UI module elements\n   *\n   * if readOnly is false:\n   *  - enables all listeners to UI module elements\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    /**\n     * Prepare components based on read-only state\n     */\n    if (!readOnlyEnabled) {\n      /**\n       * Unbind all events\n       */\n      this.enableModuleBindings();\n    } else {\n      /**\n       * Bind events for the UI elements\n       */\n      this.disableModuleBindings();\n    }\n  }\n\n  /**\n   * Check if Editor is empty and set CSS class to wrapper\n   */\n  public checkEmptiness(): void {\n    const { BlockManager } = this.Editor;\n\n    this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty, BlockManager.isEditorEmpty);\n  }\n\n  /**\n   * Check if one of Toolbar is opened\n   * Used to prevent global keydowns (for example, Enter) conflicts with Enter-on-toolbar\n   *\n   * @returns {boolean}\n   */\n  public get someToolbarOpened(): boolean {\n    const { Toolbox, BlockSettings, InlineToolbar, ConversionToolbar } = this.Editor;\n\n    return BlockSettings.opened || InlineToolbar.opened || ConversionToolbar.opened || Toolbox.opened;\n  }\n\n  /**\n   * Check for some Flipper-buttons is under focus\n   */\n  public get someFlipperButtonFocused(): boolean {\n    return Object.entries(this.Editor).filter(([moduleName, moduleClass]) => {\n      return moduleClass.flipper instanceof Flipper;\n    })\n      .some(([moduleName, moduleClass]) => {\n        return moduleClass.flipper.currentItem;\n      });\n  }\n\n  /**\n   * Clean editor`s UI\n   */\n  public destroy(): void {\n    this.nodes.holder.innerHTML = '';\n  }\n\n  /**\n   * Close all Editor's toolbars\n   */\n  public closeAllToolbars(): void {\n    const { Toolbox, BlockSettings, InlineToolbar, ConversionToolbar } = this.Editor;\n\n    BlockSettings.close();\n    InlineToolbar.close();\n    ConversionToolbar.close();\n    Toolbox.close();\n  }\n\n  /**\n   * Check for mobile mode and cache a result\n   */\n  private checkIsMobile(): void {\n    this.isMobile = window.innerWidth < 650;\n  }\n\n  /**\n   * Makes Editor.js interface\n   */\n  private make(): void {\n    /**\n     * Element where we need to append Editor.js\n     *\n     * @type {Element}\n     */\n    this.nodes.holder = $.getHolder(this.config.holder);\n\n    /**\n     * Create and save main UI elements\n     */\n    this.nodes.wrapper = $.make('div', [\n      this.CSS.editorWrapper,\n      ...(this.isRtl ? [ this.CSS.editorRtlFix ] : []),\n    ]);\n    this.nodes.redactor = $.make('div', this.CSS.editorZone);\n\n    /**\n     * If Editor has injected into the narrow container, enable Narrow Mode\n     */\n    if (this.nodes.holder.offsetWidth < this.contentRect.width) {\n      this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow);\n    }\n\n    /**\n     * Set customizable bottom zone height\n     */\n    this.nodes.redactor.style.paddingBottom = this.config.minHeight + 'px';\n\n    this.nodes.wrapper.appendChild(this.nodes.redactor);\n    this.nodes.holder.appendChild(this.nodes.wrapper);\n  }\n\n  /**\n   * Appends CSS\n   */\n  private loadStyles(): void {\n    /**\n     * Load CSS\n     */\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const styles = require('../../styles/main.css');\n    const styleTagId = 'editor-js-styles';\n\n    /**\n     * Do not append styles again if they are already on the page\n     */\n    if ($.get(styleTagId)) {\n      return;\n    }\n\n    /**\n     * Make tag\n     */\n    const tag = $.make('style', null, {\n      id: styleTagId,\n      textContent: styles.toString(),\n    });\n\n    /**\n     * Append styles at the top of HEAD tag\n     */\n    $.prepend(document.head, tag);\n  }\n\n  /**\n   * Bind events on the Editor.js interface\n   */\n  private enableModuleBindings(): void {\n    this.readOnlyMutableListeners.on(this.nodes.redactor, 'click', (event: MouseEvent) => {\n      this.redactorClicked(event);\n    }, false);\n\n    this.readOnlyMutableListeners.on(this.nodes.redactor, 'mousedown', (event: MouseEvent | TouchEvent) => {\n      this.documentTouched(event);\n    }, true);\n\n    this.readOnlyMutableListeners.on(this.nodes.redactor, 'touchstart', (event: MouseEvent | TouchEvent) => {\n      this.documentTouched(event);\n    }, true);\n\n    this.readOnlyMutableListeners.on(document, 'keydown', (event: KeyboardEvent) => {\n      this.documentKeydown(event);\n    }, true);\n\n    this.readOnlyMutableListeners.on(document, 'click', (event: MouseEvent) => {\n      this.documentClicked(event);\n    }, true);\n\n    /**\n     * Handle selection change to manipulate Inline Toolbar appearance\n     */\n    this.readOnlyMutableListeners.on(document, 'selectionchange', (event: Event) => {\n      this.selectionChanged(event);\n    }, true);\n\n    this.readOnlyMutableListeners.on(window, 'resize', () => {\n      this.resizeDebouncer();\n    }, {\n      passive: true,\n    });\n  }\n\n  /**\n   * Unbind events on the Editor.js interface\n   */\n  private disableModuleBindings(): void {\n    this.readOnlyMutableListeners.clearAll();\n  }\n\n  /**\n   * Resize window handler\n   */\n  private windowResize(): void {\n    /**\n     * Invalidate content zone size cached, because it may be changed\n     */\n    this.contentRectCache = null;\n\n    /**\n     * Detect mobile version\n     */\n    this.checkIsMobile();\n  }\n\n  /**\n   * All keydowns on document\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private documentKeydown(event: KeyboardEvent): void {\n    switch (event.keyCode) {\n      case _.keyCodes.ENTER:\n        this.enterPressed(event);\n        break;\n\n      case _.keyCodes.BACKSPACE:\n        this.backspacePressed(event);\n        break;\n\n      case _.keyCodes.ESC:\n        this.escapePressed(event);\n        break;\n\n      default:\n        this.defaultBehaviour(event);\n        break;\n    }\n  }\n\n  /**\n   * Ignore all other document's keydown events\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private defaultBehaviour(event: KeyboardEvent): void {\n    const { currentBlock } = this.Editor.BlockManager;\n    const keyDownOnEditor = (event.target as HTMLElement).closest(`.${this.CSS.editorWrapper}`);\n    const isMetaKey = event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;\n\n    /**\n     * When some block is selected, but the caret is not set inside the editor, treat such keydowns as keydown on selected block.\n     */\n    if (currentBlock !== undefined && keyDownOnEditor === null) {\n      this.Editor.BlockEvents.keydown(event);\n\n      return;\n    }\n\n    /**\n     * Ignore keydowns on editor and meta keys\n     */\n    if (keyDownOnEditor || (currentBlock && isMetaKey)) {\n      return;\n    }\n\n    /**\n     * Remove all highlights and remove caret\n     */\n    this.Editor.BlockManager.dropPointer();\n\n    /**\n     * Close Toolbar\n     */\n    this.Editor.Toolbar.close();\n  }\n\n  /**\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private backspacePressed(event: KeyboardEvent): void {\n    const { BlockManager, BlockSelection, Caret } = this.Editor;\n\n    /**\n     * If any block selected and selection doesn't exists on the page (that means no other editable element is focused),\n     * remove selected blocks\n     */\n    if (BlockSelection.anyBlockSelected && !Selection.isSelectionExists) {\n      const selectionPositionIndex = BlockManager.removeSelectedBlocks();\n\n      Caret.setToBlock(BlockManager.insertDefaultBlockAtIndex(selectionPositionIndex, true), Caret.positions.START);\n\n      /** Clear selection */\n      BlockSelection.clearSelection(event);\n\n      /**\n       * Stop propagations\n       * Manipulation with BlockSelections is handled in global backspacePress because they may occur\n       * with CMD+A or RectangleSelection and they can be handled on document event\n       */\n      event.preventDefault();\n      event.stopPropagation();\n      event.stopImmediatePropagation();\n    }\n  }\n\n  /**\n   * Escape pressed\n   * If some of Toolbar components are opened, then close it otherwise close Toolbar\n   *\n   * @param {Event} event - escape keydown event\n   */\n  private escapePressed(event): void {\n    /**\n     * Clear blocks selection by ESC\n     */\n    this.Editor.BlockSelection.clearSelection(event);\n\n    if (this.Editor.Toolbox.opened) {\n      this.Editor.Toolbox.close();\n    } else if (this.Editor.BlockSettings.opened) {\n      this.Editor.BlockSettings.close();\n    } else if (this.Editor.ConversionToolbar.opened) {\n      this.Editor.ConversionToolbar.close();\n    } else if (this.Editor.InlineToolbar.opened) {\n      this.Editor.InlineToolbar.close();\n    } else {\n      this.Editor.Toolbar.close();\n    }\n  }\n\n  /**\n   * Enter pressed on document\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private enterPressed(event: KeyboardEvent): void {\n    const { BlockManager, BlockSelection, Caret } = this.Editor;\n    const hasPointerToBlock = BlockManager.currentBlockIndex >= 0;\n\n    /**\n     * If any block selected and selection doesn't exists on the page (that means no other editable element is focused),\n     * remove selected blocks\n     */\n    if (BlockSelection.anyBlockSelected && !Selection.isSelectionExists) {\n      /** Clear selection */\n      BlockSelection.clearSelection(event);\n\n      /**\n       * Stop propagations\n       * Manipulation with BlockSelections is handled in global enterPress because they may occur\n       * with CMD+A or RectangleSelection\n       */\n      event.preventDefault();\n      event.stopImmediatePropagation();\n      event.stopPropagation();\n\n      return;\n    }\n\n    /**\n     * If Caret is not set anywhere, event target on Enter is always Element that we handle\n     * In our case it is document.body\n     *\n     * So, BlockManager points some Block and Enter press is on Body\n     * We can create a new block\n     */\n    if (!this.someToolbarOpened && hasPointerToBlock && (event.target as HTMLElement).tagName === 'BODY') {\n      /**\n       * Insert the default typed Block\n       */\n      const newBlock = this.Editor.BlockManager.insert();\n\n      this.Editor.Caret.setToBlock(newBlock);\n\n      /**\n       * And highlight\n       */\n      this.Editor.BlockManager.highlightCurrentNode();\n\n      /**\n       * Move toolbar and show plus button because new Block is empty\n       */\n      this.Editor.Toolbar.move();\n      this.Editor.Toolbar.plusButton.show();\n    }\n\n    this.Editor.BlockSelection.clearSelection(event);\n  }\n\n  /**\n   * All clicks on document\n   *\n   * @param {MouseEvent} event - Click event\n   */\n  private documentClicked(event: MouseEvent): void {\n    /**\n     * Sometimes we emulate click on some UI elements, for example by Enter on Block Settings button\n     * We don't need to handle such events, because they handled in other place.\n     */\n    if (!event.isTrusted) {\n      return;\n    }\n    /**\n     * Close Inline Toolbar when nothing selected\n     * Do not fire check on clicks at the Inline Toolbar buttons\n     */\n    const target = event.target as HTMLElement;\n    const clickedInsideOfEditor = this.nodes.holder.contains(target) || Selection.isAtEditor;\n\n    if (!clickedInsideOfEditor) {\n      /**\n       * Clear highlightings and pointer on BlockManager\n       *\n       * Current page might contain several instances\n       * Click between instances MUST clear focus, pointers and close toolbars\n       */\n      this.Editor.BlockManager.dropPointer();\n      this.Editor.InlineToolbar.close();\n      this.Editor.Toolbar.close();\n      this.Editor.ConversionToolbar.close();\n    }\n\n    /**\n     * Clear Selection if user clicked somewhere\n     */\n    if (!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted) {\n      this.Editor.BlockSelection.clearSelection(event);\n    }\n  }\n\n  /**\n   * First touch on editor\n   * Fired before click\n   *\n   * Used to change current block — we need to do it before 'selectionChange' event.\n   * Also:\n   * - Move and show the Toolbar\n   * - Set a Caret\n   *\n   * @param {MouseEvent | TouchEvent} event - touch or mouse event\n   */\n  private documentTouched(event: MouseEvent | TouchEvent): void {\n    let clickedNode = event.target as HTMLElement;\n\n    /**\n     * If click was fired is on Editor`s wrapper, try to get clicked node by elementFromPoint method\n     */\n    if (clickedNode === this.nodes.redactor) {\n      const clientX = event instanceof MouseEvent ? event.clientX : event.touches[0].clientX;\n      const clientY = event instanceof MouseEvent ? event.clientY : event.touches[0].clientY;\n\n      clickedNode = document.elementFromPoint(clientX, clientY) as HTMLElement;\n    }\n\n    /**\n     * Select clicked Block as Current\n     */\n    try {\n      /**\n       * Renew Current Block\n       */\n      this.Editor.BlockManager.setCurrentBlockByChildNode(clickedNode);\n\n      /**\n       * Highlight Current Node\n       */\n      this.Editor.BlockManager.highlightCurrentNode();\n    } catch (e) {\n      /**\n       * If clicked outside first-level Blocks and it is not RectSelection, set Caret to the last empty Block\n       */\n      if (!this.Editor.RectangleSelection.isRectActivated()) {\n        this.Editor.Caret.setToTheLastBlock();\n      }\n    }\n\n    /**\n     * Move and open toolbar\n     */\n    this.Editor.Toolbar.open();\n\n    /**\n     * Hide the Plus Button\n     */\n    this.Editor.Toolbar.plusButton.hide();\n  }\n\n  /**\n   * All clicks on the redactor zone\n   *\n   * @param {MouseEvent} event - click event\n   *\n   * @description\n   * - By clicks on the Editor's bottom zone:\n   *      - if last Block is empty, set a Caret to this\n   *      - otherwise, add a new empty Block and set a Caret to that\n   */\n  private redactorClicked(event: MouseEvent): void {\n    if (!Selection.isCollapsed) {\n      return;\n    }\n\n    const stopPropagation = (): void => {\n      event.stopImmediatePropagation();\n      event.stopPropagation();\n    };\n\n    /**\n     * case when user clicks on anchor element\n     * if it is clicked via ctrl key, then we open new window with url\n     */\n    const element = event.target as Element;\n    const ctrlKey = event.metaKey || event.ctrlKey;\n\n    if ($.isAnchor(element) && ctrlKey) {\n      stopPropagation();\n\n      const href = element.getAttribute('href');\n      const validUrl = _.getValidUrl(href);\n\n      _.openTab(validUrl);\n\n      return;\n    }\n\n    if (!this.Editor.BlockManager.currentBlock) {\n      stopPropagation();\n\n      this.Editor.BlockManager.insert();\n    }\n\n    /**\n     * Show the Plus Button if:\n     * - Block is an default-block (Text)\n     * - Block is empty\n     */\n    const isDefaultBlock = this.Editor.Tools.isDefault(this.Editor.BlockManager.currentBlock.tool);\n\n    if (isDefaultBlock) {\n      stopPropagation();\n\n      /**\n       * Check isEmpty only for paragraphs to prevent unnecessary tree-walking on Tools with many nodes (for ex. Table)\n       */\n      const isEmptyBlock = this.Editor.BlockManager.currentBlock.isEmpty;\n\n      if (isEmptyBlock) {\n        this.Editor.Toolbar.plusButton.show();\n      }\n    }\n  }\n\n  /**\n   * Handle selection changes on mobile devices\n   * Uses for showing the Inline Toolbar\n   *\n   * @param {Event} event - selection event\n   */\n  private selectionChanged(event: Event): void {\n    const { CrossBlockSelection, BlockSelection } = this.Editor;\n    const focusedElement = Selection.anchorElement as Element;\n\n    if (CrossBlockSelection.isCrossBlockSelectionStarted) {\n      // Removes all ranges when any Block is selected\n      if (BlockSelection.anyBlockSelected) {\n        Selection.get().removeAllRanges();\n      }\n    }\n\n    /**\n     * Event can be fired on clicks at the Editor elements, for example, at the Inline Toolbar\n     * We need to skip such firings\n     */\n    if (!focusedElement || !focusedElement.closest(`.${Block.CSS.content}`)) {\n      /**\n       * If new selection is not on Inline Toolbar, we need to close it\n       */\n      if (!this.Editor.InlineToolbar.containsNode(focusedElement)) {\n        this.Editor.InlineToolbar.close();\n      }\n\n      return;\n    }\n\n    /**\n     * @todo add debounce\n     */\n    this.Editor.InlineToolbar.tryToShow(true);\n  }\n\n  /**\n   * Append prebuilt sprite with SVG icons\n   */\n  private appendSVGSprite(): void {\n    const spriteHolder = $.make('div');\n\n    spriteHolder.hidden = true;\n    spriteHolder.style.display = 'none';\n    spriteHolder.innerHTML = sprite;\n\n    $.append(this.nodes.wrapper, spriteHolder);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1e77c8f0181db7211c0029f0af4e7368b053fa5c"});var l=t[n];return g=function(){return l},l}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=B(l),o=B(o),i=B(i),c=B(c),s=B(s),r=B(r),C=B(C),a=B(a),u=B(u),m=B(m),d=B(d),f=B(f),p=b(p),E=B(E),I=B(I),h=B(h),g();var v=function(n){(0,C.default)(b,n);var A,t,d=(A=b,function(){var n,e=(0,u.default)(A);if(M()){var t=(0,u.default)(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return(0,a.default)(this,n)});function b(){var n;return(0,s.default)(this,b),g().f[0]++,g().s[0]++,n=d.apply(this,arguments),g().s[1]++,n.isMobile=!1,g().s[2]++,n.contentRectCache=void 0,g().s[3]++,n.resizeDebouncer=p.debounce((function(){g().f[1]++,g().s[4]++,n.windowResize()}),200),n}return(0,r.default)(b,[{key:"addLoader",value:function(){g().f[4]++,g().s[13]++,this.nodes.loader=f.default.make("div",this.CSS.editorLoader),g().s[14]++,this.nodes.wrapper.prepend(this.nodes.loader),g().s[15]++,this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}},{key:"removeLoader",value:function(){g().f[5]++,g().s[16]++,this.nodes.loader.remove(),g().s[17]++,this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}},{key:"prepare",value:(t=(0,c.default)(i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:g().f[6]++,g().s[18]++,this.checkIsMobile(),g().s[19]++,this.make(),g().s[20]++,this.addLoader(),g().s[21]++,this.appendSVGSprite(),g().s[22]++,this.loadStyles();case 11:case"end":return n.stop()}}),n,this)}))),function(){return t.apply(this,arguments)})},{key:"toggleReadOnly",value:function(n){g().f[7]++,g().s[23]++,n?(g().b[2][1]++,g().s[25]++,this.disableModuleBindings()):(g().b[2][0]++,g().s[24]++,this.enableModuleBindings())}},{key:"checkEmptiness",value:function(){g().f[8]++;var n=(g().s[26]++,this.Editor).BlockManager;g().s[27]++,this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,n.isEditorEmpty)}},{key:"destroy",value:function(){g().f[13]++,g().s[33]++,this.nodes.holder.innerHTML=""}},{key:"closeAllToolbars",value:function(){g().f[14]++;var n=(g().s[34]++,this.Editor),A=n.Toolbox,e=n.BlockSettings,t=n.InlineToolbar,l=n.ConversionToolbar;g().s[35]++,e.close(),g().s[36]++,t.close(),g().s[37]++,l.close(),g().s[38]++,A.close()}},{key:"checkIsMobile",value:function(){g().f[15]++,g().s[39]++,this.isMobile=window.innerWidth<650}},{key:"make",value:function(){g().f[16]++,g().s[40]++,this.nodes.holder=f.default.getHolder(this.config.holder),g().s[41]++,this.nodes.wrapper=f.default.make("div",[this.CSS.editorWrapper].concat((0,o.default)(this.isRtl?(g().b[4][0]++,[this.CSS.editorRtlFix]):(g().b[4][1]++,[])))),g().s[42]++,this.nodes.redactor=f.default.make("div",this.CSS.editorZone),g().s[43]++,this.nodes.holder.offsetWidth<this.contentRect.width?(g().b[5][0]++,g().s[44]++,this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow)):g().b[5][1]++,g().s[45]++,this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",g().s[46]++,this.nodes.wrapper.appendChild(this.nodes.redactor),g().s[47]++,this.nodes.holder.appendChild(this.nodes.wrapper)}},{key:"loadStyles",value:function(){g().f[17]++;var n=(g().s[48]++,e(389)),A=(g().s[49]++,"editor-js-styles");if(g().s[50]++,f.default.get(A))return g().b[6][0]++,void g().s[51]++;g().b[6][1]++;var t=(g().s[52]++,f.default.make("style",null,{id:A,textContent:n.toString()}));g().s[53]++,f.default.prepend(document.head,t)}},{key:"enableModuleBindings",value:function(){var n=this;g().f[18]++,g().s[54]++,this.readOnlyMutableListeners.on(this.nodes.redactor,"click",(function(A){g().f[19]++,g().s[55]++,n.redactorClicked(A)}),!1),g().s[56]++,this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",(function(A){g().f[20]++,g().s[57]++,n.documentTouched(A)}),!0),g().s[58]++,this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",(function(A){g().f[21]++,g().s[59]++,n.documentTouched(A)}),!0),g().s[60]++,this.readOnlyMutableListeners.on(document,"keydown",(function(A){g().f[22]++,g().s[61]++,n.documentKeydown(A)}),!0),g().s[62]++,this.readOnlyMutableListeners.on(document,"click",(function(A){g().f[23]++,g().s[63]++,n.documentClicked(A)}),!0),g().s[64]++,this.readOnlyMutableListeners.on(document,"selectionchange",(function(A){g().f[24]++,g().s[65]++,n.selectionChanged(A)}),!0),g().s[66]++,this.readOnlyMutableListeners.on(window,"resize",(function(){g().f[25]++,g().s[67]++,n.resizeDebouncer()}),{passive:!0})}},{key:"disableModuleBindings",value:function(){g().f[26]++,g().s[68]++,this.readOnlyMutableListeners.clearAll()}},{key:"windowResize",value:function(){g().f[27]++,g().s[69]++,this.contentRectCache=null,g().s[70]++,this.checkIsMobile()}},{key:"documentKeydown",value:function(n){switch(g().f[28]++,g().s[71]++,n.keyCode){case p.keyCodes.ENTER:g().b[7][0]++,g().s[72]++,this.enterPressed(n),g().s[73]++;break;case p.keyCodes.BACKSPACE:g().b[7][1]++,g().s[74]++,this.backspacePressed(n),g().s[75]++;break;case p.keyCodes.ESC:g().b[7][2]++,g().s[76]++,this.escapePressed(n),g().s[77]++;break;default:g().b[7][3]++,g().s[78]++,this.defaultBehaviour(n),g().s[79]++}}},{key:"defaultBehaviour",value:function(n){g().f[29]++;var A=(g().s[80]++,this.Editor.BlockManager).currentBlock,e=(g().s[81]++,n.target.closest(".".concat(this.CSS.editorWrapper))),t=(g().s[82]++,g().b[8][0]++,n.altKey||(g().b[8][1]++,n.ctrlKey)||(g().b[8][2]++,n.metaKey)||(g().b[8][3]++,n.shiftKey));return g().s[83]++,g().b[10][0]++,void 0!==A&&(g().b[10][1]++,null===e)?(g().b[9][0]++,g().s[84]++,this.Editor.BlockEvents.keydown(n),void g().s[85]++):(g().b[9][1]++,g().s[86]++,g().b[12][0]++,e||(g().b[12][1]++,A&&(g().b[12][2]++,t))?(g().b[11][0]++,void g().s[87]++):(g().b[11][1]++,g().s[88]++,this.Editor.BlockManager.dropPointer(),g().s[89]++,void this.Editor.Toolbar.close()))}},{key:"backspacePressed",value:function(n){g().f[30]++;var A=(g().s[90]++,this.Editor),e=A.BlockManager,t=A.BlockSelection,l=A.Caret;if(g().s[91]++,g().b[14][0]++,t.anyBlockSelected&&(g().b[14][1]++,!E.default.isSelectionExists)){g().b[13][0]++;var o=(g().s[92]++,e.removeSelectedBlocks());g().s[93]++,l.setToBlock(e.insertDefaultBlockAtIndex(o,!0),l.positions.START),g().s[94]++,t.clearSelection(n),g().s[95]++,n.preventDefault(),g().s[96]++,n.stopPropagation(),g().s[97]++,n.stopImmediatePropagation()}else g().b[13][1]++}},{key:"escapePressed",value:function(n){g().f[31]++,g().s[98]++,this.Editor.BlockSelection.clearSelection(n),g().s[99]++,this.Editor.Toolbox.opened?(g().b[15][0]++,g().s[100]++,this.Editor.Toolbox.close()):(g().b[15][1]++,g().s[101]++,this.Editor.BlockSettings.opened?(g().b[16][0]++,g().s[102]++,this.Editor.BlockSettings.close()):(g().b[16][1]++,g().s[103]++,this.Editor.ConversionToolbar.opened?(g().b[17][0]++,g().s[104]++,this.Editor.ConversionToolbar.close()):(g().b[17][1]++,g().s[105]++,this.Editor.InlineToolbar.opened?(g().b[18][0]++,g().s[106]++,this.Editor.InlineToolbar.close()):(g().b[18][1]++,g().s[107]++,this.Editor.Toolbar.close()))))}},{key:"enterPressed",value:function(n){g().f[32]++;var A=(g().s[108]++,this.Editor),e=A.BlockManager,t=A.BlockSelection,l=(A.Caret,g().s[109]++,e.currentBlockIndex>=0);if(g().s[110]++,g().b[20][0]++,t.anyBlockSelected&&(g().b[20][1]++,!E.default.isSelectionExists))return g().b[19][0]++,g().s[111]++,t.clearSelection(n),g().s[112]++,n.preventDefault(),g().s[113]++,n.stopImmediatePropagation(),g().s[114]++,n.stopPropagation(),void g().s[115]++;if(g().b[19][1]++,g().s[116]++,g().b[22][0]++,!this.someToolbarOpened&&(g().b[22][1]++,l)&&(g().b[22][2]++,"BODY"===n.target.tagName)){g().b[21][0]++;var o=(g().s[117]++,this.Editor.BlockManager.insert());g().s[118]++,this.Editor.Caret.setToBlock(o),g().s[119]++,this.Editor.BlockManager.highlightCurrentNode(),g().s[120]++,this.Editor.Toolbar.move(),g().s[121]++,this.Editor.Toolbar.plusButton.show()}else g().b[21][1]++;g().s[122]++,this.Editor.BlockSelection.clearSelection(n)}},{key:"documentClicked",value:function(n){if(g().f[33]++,g().s[123]++,!n.isTrusted)return g().b[23][0]++,void g().s[124]++;g().b[23][1]++;var A=(g().s[125]++,n.target),e=(g().s[126]++,g().b[24][0]++,this.nodes.holder.contains(A)||(g().b[24][1]++,E.default.isAtEditor));g().s[127]++,e?g().b[25][1]++:(g().b[25][0]++,g().s[128]++,this.Editor.BlockManager.dropPointer(),g().s[129]++,this.Editor.InlineToolbar.close(),g().s[130]++,this.Editor.Toolbar.close(),g().s[131]++,this.Editor.ConversionToolbar.close()),g().s[132]++,this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted?g().b[26][1]++:(g().b[26][0]++,g().s[133]++,this.Editor.BlockSelection.clearSelection(n))}},{key:"documentTouched",value:function(n){g().f[34]++;var A=(g().s[134]++,n.target);if(g().s[135]++,A===this.nodes.redactor){g().b[27][0]++;var e=(g().s[136]++,n instanceof MouseEvent?(g().b[28][0]++,n.clientX):(g().b[28][1]++,n.touches[0].clientX)),t=(g().s[137]++,n instanceof MouseEvent?(g().b[29][0]++,n.clientY):(g().b[29][1]++,n.touches[0].clientY));g().s[138]++,A=document.elementFromPoint(e,t)}else g().b[27][1]++;g().s[139]++;try{g().s[140]++,this.Editor.BlockManager.setCurrentBlockByChildNode(A),g().s[141]++,this.Editor.BlockManager.highlightCurrentNode()}catch(n){g().s[142]++,this.Editor.RectangleSelection.isRectActivated()?g().b[30][1]++:(g().b[30][0]++,g().s[143]++,this.Editor.Caret.setToTheLastBlock())}g().s[144]++,this.Editor.Toolbar.open(),g().s[145]++,this.Editor.Toolbar.plusButton.hide()}},{key:"redactorClicked",value:function(n){if(g().f[35]++,g().s[146]++,!E.default.isCollapsed)return g().b[31][0]++,void g().s[147]++;g().b[31][1]++,g().s[148]++;var A=function(){g().f[36]++,g().s[149]++,n.stopImmediatePropagation(),g().s[150]++,n.stopPropagation()},e=(g().s[151]++,n.target),t=(g().s[152]++,g().b[32][0]++,n.metaKey||(g().b[32][1]++,n.ctrlKey));if(g().s[153]++,g().b[34][0]++,f.default.isAnchor(e)&&(g().b[34][1]++,t)){g().b[33][0]++,g().s[154]++,A();var l=(g().s[155]++,e.getAttribute("href")),o=(g().s[156]++,p.getValidUrl(l));return g().s[157]++,p.openTab(o),void g().s[158]++}g().b[33][1]++,g().s[159]++,this.Editor.BlockManager.currentBlock?g().b[35][1]++:(g().b[35][0]++,g().s[160]++,A(),g().s[161]++,this.Editor.BlockManager.insert());var i=(g().s[162]++,this.Editor.Tools.isDefault(this.Editor.BlockManager.currentBlock.tool));if(g().s[163]++,i){g().b[36][0]++,g().s[164]++,A();var c=(g().s[165]++,this.Editor.BlockManager.currentBlock.isEmpty);g().s[166]++,c?(g().b[37][0]++,g().s[167]++,this.Editor.Toolbar.plusButton.show()):g().b[37][1]++}else g().b[36][1]++}},{key:"selectionChanged",value:function(n){g().f[37]++;var A=(g().s[168]++,this.Editor),e=A.CrossBlockSelection,t=A.BlockSelection,l=(g().s[169]++,E.default.anchorElement);if(g().s[170]++,e.isCrossBlockSelectionStarted?(g().b[38][0]++,g().s[171]++,t.anyBlockSelected?(g().b[39][0]++,g().s[172]++,E.default.get().removeAllRanges()):g().b[39][1]++):g().b[38][1]++,g().s[173]++,g().b[41][0]++,!l||(g().b[41][1]++,!l.closest(".".concat(I.default.CSS.content))))return g().b[40][0]++,g().s[174]++,this.Editor.InlineToolbar.containsNode(l)?g().b[42][1]++:(g().b[42][0]++,g().s[175]++,this.Editor.InlineToolbar.close()),void g().s[176]++;g().b[40][1]++,g().s[177]++,this.Editor.InlineToolbar.tryToShow(!0)}},{key:"appendSVGSprite",value:function(){g().f[38]++;var n=(g().s[178]++,f.default.make("div"));g().s[179]++,n.hidden=!0,g().s[180]++,n.style.display="none",g().s[181]++,n.innerHTML=m.default,g().s[182]++,f.default.append(this.nodes.wrapper,n)}},{key:"CSS",get:function(){return g().f[2]++,g().s[5]++,{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}},{key:"contentRect",get:function(){if(g().f[3]++,g().s[6]++,this.contentRectCache)return g().b[0][0]++,g().s[7]++,this.contentRectCache;g().b[0][1]++;var n=(g().s[8]++,this.nodes.wrapper.querySelector(".".concat(I.default.CSS.content)));return g().s[9]++,n?(g().b[1][1]++,g().s[11]++,this.contentRectCache=n.getBoundingClientRect(),g().s[12]++,this.contentRectCache):(g().b[1][0]++,g().s[10]++,{width:650,left:0,right:0})}},{key:"someToolbarOpened",get:function(){g().f[9]++;var n=(g().s[28]++,this.Editor),A=n.Toolbox,e=n.BlockSettings,t=n.InlineToolbar,l=n.ConversionToolbar;return g().s[29]++,g().b[3][0]++,e.opened||(g().b[3][1]++,t.opened)||(g().b[3][2]++,l.opened)||(g().b[3][3]++,A.opened)}},{key:"someFlipperButtonFocused",get:function(){return g().f[10]++,g().s[30]++,Object.entries(this.Editor).filter((function(n){var A=(0,l.default)(n,2),e=(A[0],A[1]);return g().f[11]++,g().s[31]++,e.flipper instanceof h.default})).some((function(n){var A=(0,l.default)(n,2),e=(A[0],A[1]);return g().f[12]++,g().s[32]++,e.flipper.currentItem}))}}]),b}(d.default);t.default=v,v.displayName="UI",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){e(184),n.exports=e(356)},function(n,A,e){e(185)},function(n,A,e){"use strict";e(186),e(329),e(331),e(334),e(336),e(338),e(340),e(342),e(344),e(346),e(348),e(350),e(352),e(140)},function(n,A,e){e(187),e(190),e(191),e(192),e(193),e(194),e(195),e(196),e(197),e(198),e(199),e(200),e(201),e(202),e(203),e(204),e(205),e(206),e(207),e(208),e(209),e(210),e(211),e(212),e(213),e(214),e(215),e(216),e(217),e(218),e(219),e(220),e(221),e(222),e(223),e(224),e(225),e(226),e(227),e(228),e(229),e(230),e(231),e(233),e(234),e(235),e(236),e(237),e(238),e(239),e(240),e(241),e(242),e(243),e(244),e(245),e(246),e(247),e(248),e(249),e(250),e(251),e(252),e(253),e(254),e(255),e(256),e(257),e(258),e(259),e(260),e(261),e(262),e(263),e(264),e(265),e(266),e(268),e(269),e(271),e(272),e(273),e(274),e(275),e(276),e(277),e(279),e(280),e(281),e(282),e(283),e(284),e(285),e(286),e(287),e(288),e(289),e(290),e(291),e(103),e(292),e(129),e(293),e(130),e(294),e(295),e(296),e(297),e(131),e(300),e(301),e(302),e(303),e(304),e(305),e(306),e(307),e(308),e(309),e(310),e(311),e(312),e(313),e(314),e(315),e(316),e(317),e(318),e(319),e(320),e(321),e(322),e(323),e(324),e(325),e(326),e(327),e(328),n.exports=e(17)},function(n,A,e){"use strict";var t=e(9),l=e(26),o=e(18),i=e(0),c=e(23),s=e(41).KEY,r=e(10),C=e(68),a=e(53),u=e(43),m=e(14),d=e(84),f=e(110),p=e(189),E=e(71),I=e(11),h=e(12),b=e(20),B=e(28),g=e(40),M=e(42),v=e(47),y=e(113),O=e(33),S=e(70),G=e(19),k=e(45),K=O.f,Q=G.f,T=y.f,x=t.Symbol,Y=t.JSON,w=Y&&Y.stringify,_=m("_hidden"),D=m("toPrimitive"),W={}.propertyIsEnumerable,N=C("symbol-registry"),L=C("symbols"),U=C("op-symbols"),R=Object.prototype,H="function"==typeof x&&!!S.f,P=t.QObject,j=!P||!P.prototype||!P.prototype.findChild,F=o&&r((function(){return 7!=v(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(n,A,e){var t=K(R,A);t&&delete R[A],Q(n,A,e),t&&n!==R&&Q(R,A,t)}:Q,z=function(n){var A=L[n]=v(x.prototype);return A._k=n,A},q=H&&"symbol"==typeof x.iterator?function(n){return"symbol"==typeof n}:function(n){return n instanceof x},$=function(n,A,e){return n===R&&$(U,A,e),I(n),A=g(A,!0),I(e),l(L,A)?(e.enumerable?(l(n,_)&&n[_][A]&&(n[_][A]=!1),e=v(e,{enumerable:M(0,!1)})):(l(n,_)||Q(n,_,M(1,{})),n[_][A]=!0),F(n,A,e)):Q(n,A,e)},V=function(n,A){I(n);for(var e,t=p(A=B(A)),l=0,o=t.length;o>l;)$(n,e=t[l++],A[e]);return n},X=function(n){var A=W.call(this,n=g(n,!0));return!(this===R&&l(L,n)&&!l(U,n))&&(!(A||!l(this,n)||!l(L,n)||l(this,_)&&this[_][n])||A)},Z=function(n,A){if(n=B(n),A=g(A,!0),n!==R||!l(L,A)||l(U,A)){var e=K(n,A);return!e||!l(L,A)||l(n,_)&&n[_][A]||(e.enumerable=!0),e}},J=function(n){for(var A,e=T(B(n)),t=[],o=0;e.length>o;)l(L,A=e[o++])||A==_||A==s||t.push(A);return t},nn=function(n){for(var A,e=n===R,t=T(e?U:B(n)),o=[],i=0;t.length>i;)!l(L,A=t[i++])||e&&!l(R,A)||o.push(L[A]);return o};H||(c((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var n=u(arguments.length>0?arguments[0]:void 0),A=function(e){this===R&&A.call(U,e),l(this,_)&&l(this[_],n)&&(this[_][n]=!1),F(this,n,M(1,e))};return o&&j&&F(R,n,{configurable:!0,set:A}),z(n)}).prototype,"toString",(function(){return this._k})),O.f=Z,G.f=$,e(48).f=y.f=J,e(63).f=X,S.f=nn,o&&!e(44)&&c(R,"propertyIsEnumerable",X,!0),d.f=function(n){return z(m(n))}),i(i.G+i.W+i.F*!H,{Symbol:x});for(var An="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),en=0;An.length>en;)m(An[en++]);for(var tn=k(m.store),ln=0;tn.length>ln;)f(tn[ln++]);i(i.S+i.F*!H,"Symbol",{for:function(n){return l(N,n+="")?N[n]:N[n]=x(n)},keyFor:function(n){if(!q(n))throw TypeError(n+" is not a symbol!");for(var A in N)if(N[A]===n)return A},useSetter:function(){j=!0},useSimple:function(){j=!1}}),i(i.S+i.F*!H,"Object",{create:function(n,A){return void 0===A?v(n):V(v(n),A)},defineProperty:$,defineProperties:V,getOwnPropertyDescriptor:Z,getOwnPropertyNames:J,getOwnPropertySymbols:nn});var on=r((function(){S.f(1)}));i(i.S+i.F*on,"Object",{getOwnPropertySymbols:function(n){return S.f(b(n))}}),Y&&i(i.S+i.F*(!H||r((function(){var n=x();return"[null]"!=w([n])||"{}"!=w({a:n})||"{}"!=w(Object(n))}))),"JSON",{stringify:function(n){for(var A,e,t=[n],l=1;arguments.length>l;)t.push(arguments[l++]);if(e=A=t[1],(h(A)||void 0!==n)&&!q(n))return E(A)||(A=function(n,A){if("function"==typeof e&&(A=e.call(this,n,A)),!q(A))return A}),t[1]=A,w.apply(Y,t)}}),x.prototype[D]||e(27)(x.prototype,D,x.prototype.valueOf),a(x,"Symbol"),a(Math,"Math",!0),a(t.JSON,"JSON",!0)},function(n,A,e){n.exports=e(68)("native-function-to-string",Function.toString)},function(n,A,e){var t=e(45),l=e(70),o=e(63);n.exports=function(n){var A=t(n),e=l.f;if(e)for(var i,c=e(n),s=o.f,r=0;c.length>r;)s.call(n,i=c[r++])&&A.push(i);return A}},function(n,A,e){var t=e(0);t(t.S,"Object",{create:e(47)})},function(n,A,e){var t=e(0);t(t.S+t.F*!e(18),"Object",{defineProperty:e(19).f})},function(n,A,e){var t=e(0);t(t.S+t.F*!e(18),"Object",{defineProperties:e(112)})},function(n,A,e){var t=e(28),l=e(33).f;e(34)("getOwnPropertyDescriptor",(function(){return function(n,A){return l(t(n),A)}}))},function(n,A,e){var t=e(20),l=e(49);e(34)("getPrototypeOf",(function(){return function(n){return l(t(n))}}))},function(n,A,e){var t=e(20),l=e(45);e(34)("keys",(function(){return function(n){return l(t(n))}}))},function(n,A,e){e(34)("getOwnPropertyNames",(function(){return e(113).f}))},function(n,A,e){var t=e(12),l=e(41).onFreeze;e(34)("freeze",(function(n){return function(A){return n&&t(A)?n(l(A)):A}}))},function(n,A,e){var t=e(12),l=e(41).onFreeze;e(34)("seal",(function(n){return function(A){return n&&t(A)?n(l(A)):A}}))},function(n,A,e){var t=e(12),l=e(41).onFreeze;e(34)("preventExtensions",(function(n){return function(A){return n&&t(A)?n(l(A)):A}}))},function(n,A,e){var t=e(12);e(34)("isFrozen",(function(n){return function(A){return!t(A)||!!n&&n(A)}}))},function(n,A,e){var t=e(12);e(34)("isSealed",(function(n){return function(A){return!t(A)||!!n&&n(A)}}))},function(n,A,e){var t=e(12);e(34)("isExtensible",(function(n){return function(A){return!!t(A)&&(!n||n(A))}}))},function(n,A,e){var t=e(0);t(t.S+t.F,"Object",{assign:e(114)})},function(n,A,e){var t=e(0);t(t.S,"Object",{is:e(115)})},function(n,A,e){var t=e(0);t(t.S,"Object",{setPrototypeOf:e(88).set})},function(n,A,e){"use strict";var t=e(64),l={};l[e(14)("toStringTag")]="z",l+""!="[object z]"&&e(23)(Object.prototype,"toString",(function(){return"[object "+t(this)+"]"}),!0)},function(n,A,e){var t=e(0);t(t.P,"Function",{bind:e(116)})},function(n,A,e){var t=e(19).f,l=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in l||e(18)&&t(l,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(n){return""}}})},function(n,A,e){"use strict";var t=e(12),l=e(49),o=e(14)("hasInstance"),i=Function.prototype;o in i||e(19).f(i,o,{value:function(n){if("function"!=typeof this||!t(n))return!1;if(!t(this.prototype))return n instanceof this;for(;n=l(n);)if(this.prototype===n)return!0;return!1}})},function(n,A,e){var t=e(0),l=e(118);t(t.G+t.F*(parseInt!=l),{parseInt:l})},function(n,A,e){var t=e(0),l=e(119);t(t.G+t.F*(parseFloat!=l),{parseFloat:l})},function(n,A,e){"use strict";var t=e(9),l=e(26),o=e(36),i=e(90),c=e(40),s=e(10),r=e(48).f,C=e(33).f,a=e(19).f,u=e(54).trim,m=t.Number,d=m,f=m.prototype,p="Number"==o(e(47)(f)),E="trim"in String.prototype,I=function(n){var A=c(n,!1);if("string"==typeof A&&A.length>2){var e,t,l,o=(A=E?A.trim():u(A,3)).charCodeAt(0);if(43===o||45===o){if(88===(e=A.charCodeAt(2))||120===e)return NaN}else if(48===o){switch(A.charCodeAt(1)){case 66:case 98:t=2,l=49;break;case 79:case 111:t=8,l=55;break;default:return+A}for(var i,s=A.slice(2),r=0,C=s.length;r<C;r++)if((i=s.charCodeAt(r))<48||i>l)return NaN;return parseInt(s,t)}}return+A};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(n){var A=arguments.length<1?0:n,e=this;return e instanceof m&&(p?s((function(){f.valueOf.call(e)})):"Number"!=o(e))?i(new d(I(A)),e,m):I(A)};for(var h,b=e(18)?r(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),B=0;b.length>B;B++)l(d,h=b[B])&&!l(m,h)&&a(m,h,C(d,h));m.prototype=f,f.constructor=m,e(23)(t,"Number",m)}},function(n,A,e){"use strict";var t=e(0),l=e(32),o=e(120),i=e(91),c=1..toFixed,s=Math.floor,r=[0,0,0,0,0,0],C="Number.toFixed: incorrect invocation!",a=function(n,A){for(var e=-1,t=A;++e<6;)t+=n*r[e],r[e]=t%1e7,t=s(t/1e7)},u=function(n){for(var A=6,e=0;--A>=0;)e+=r[A],r[A]=s(e/n),e=e%n*1e7},m=function(){for(var n=6,A="";--n>=0;)if(""!==A||0===n||0!==r[n]){var e=String(r[n]);A=""===A?e:A+i.call("0",7-e.length)+e}return A},d=function(n,A,e){return 0===A?e:A%2==1?d(n,A-1,e*n):d(n*n,A/2,e)};t(t.P+t.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e(10)((function(){c.call({})}))),"Number",{toFixed:function(n){var A,e,t,c,s=o(this,C),r=l(n),f="",p="0";if(r<0||r>20)throw RangeError(C);if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(f="-",s=-s),s>1e-21)if(e=(A=function(n){for(var A=0,e=n;e>=4096;)A+=12,e/=4096;for(;e>=2;)A+=1,e/=2;return A}(s*d(2,69,1))-69)<0?s*d(2,-A,1):s/d(2,A,1),e*=4503599627370496,(A=52-A)>0){for(a(0,e),t=r;t>=7;)a(1e7,0),t-=7;for(a(d(10,t,1),0),t=A-1;t>=23;)u(1<<23),t-=23;u(1<<t),a(1,1),u(2),p=m()}else a(0,e),a(1<<-A,0),p=m()+i.call("0",r);return p=r>0?f+((c=p.length)<=r?"0."+i.call("0",r-c)+p:p.slice(0,c-r)+"."+p.slice(c-r)):f+p}})},function(n,A,e){"use strict";var t=e(0),l=e(10),o=e(120),i=1..toPrecision;t(t.P+t.F*(l((function(){return"1"!==i.call(1,void 0)}))||!l((function(){i.call({})}))),"Number",{toPrecision:function(n){var A=o(this,"Number#toPrecision: incorrect invocation!");return void 0===n?i.call(A):i.call(A,n)}})},function(n,A,e){var t=e(0);t(t.S,"Number",{EPSILON:Math.pow(2,-52)})},function(n,A,e){var t=e(0),l=e(9).isFinite;t(t.S,"Number",{isFinite:function(n){return"number"==typeof n&&l(n)}})},function(n,A,e){var t=e(0);t(t.S,"Number",{isInteger:e(121)})},function(n,A,e){var t=e(0);t(t.S,"Number",{isNaN:function(n){return n!=n}})},function(n,A,e){var t=e(0),l=e(121),o=Math.abs;t(t.S,"Number",{isSafeInteger:function(n){return l(n)&&o(n)<=9007199254740991}})},function(n,A,e){var t=e(0);t(t.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(n,A,e){var t=e(0);t(t.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(n,A,e){var t=e(0),l=e(119);t(t.S+t.F*(Number.parseFloat!=l),"Number",{parseFloat:l})},function(n,A,e){var t=e(0),l=e(118);t(t.S+t.F*(Number.parseInt!=l),"Number",{parseInt:l})},function(n,A,e){var t=e(0),l=e(122),o=Math.sqrt,i=Math.acosh;t(t.S+t.F*!(i&&710==Math.floor(i(Number.MAX_VALUE))&&i(1/0)==1/0),"Math",{acosh:function(n){return(n=+n)<1?NaN:n>94906265.62425156?Math.log(n)+Math.LN2:l(n-1+o(n-1)*o(n+1))}})},function(n,A,e){var t=e(0),l=Math.asinh;t(t.S+t.F*!(l&&1/l(0)>0),"Math",{asinh:function n(A){return isFinite(A=+A)&&0!=A?A<0?-n(-A):Math.log(A+Math.sqrt(A*A+1)):A}})},function(n,A,e){var t=e(0),l=Math.atanh;t(t.S+t.F*!(l&&1/l(-0)<0),"Math",{atanh:function(n){return 0==(n=+n)?n:Math.log((1+n)/(1-n))/2}})},function(n,A,e){var t=e(0),l=e(92);t(t.S,"Math",{cbrt:function(n){return l(n=+n)*Math.pow(Math.abs(n),1/3)}})},function(n,A,e){var t=e(0);t(t.S,"Math",{clz32:function(n){return(n>>>=0)?31-Math.floor(Math.log(n+.5)*Math.LOG2E):32}})},function(n,A,e){var t=e(0),l=Math.exp;t(t.S,"Math",{cosh:function(n){return(l(n=+n)+l(-n))/2}})},function(n,A,e){var t=e(0),l=e(93);t(t.S+t.F*(l!=Math.expm1),"Math",{expm1:l})},function(n,A,e){var t=e(0);t(t.S,"Math",{fround:e(232)})},function(n,A,e){var t=e(92),l=Math.pow,o=l(2,-52),i=l(2,-23),c=l(2,127)*(2-i),s=l(2,-126);n.exports=Math.fround||function(n){var A,e,l=Math.abs(n),r=t(n);return l<s?r*(l/s/i+1/o-1/o)*s*i:(e=(A=(1+i/o)*l)-(A-l))>c||e!=e?r*(1/0):r*e}},function(n,A,e){var t=e(0),l=Math.abs;t(t.S,"Math",{hypot:function(n,A){for(var e,t,o=0,i=0,c=arguments.length,s=0;i<c;)s<(e=l(arguments[i++]))?(o=o*(t=s/e)*t+1,s=e):o+=e>0?(t=e/s)*t:e;return s===1/0?1/0:s*Math.sqrt(o)}})},function(n,A,e){var t=e(0),l=Math.imul;t(t.S+t.F*e(10)((function(){return-5!=l(4294967295,5)||2!=l.length})),"Math",{imul:function(n,A){var e=+n,t=+A,l=65535&e,o=65535&t;return 0|l*o+((65535&e>>>16)*o+l*(65535&t>>>16)<<16>>>0)}})},function(n,A,e){var t=e(0);t(t.S,"Math",{log10:function(n){return Math.log(n)*Math.LOG10E}})},function(n,A,e){var t=e(0);t(t.S,"Math",{log1p:e(122)})},function(n,A,e){var t=e(0);t(t.S,"Math",{log2:function(n){return Math.log(n)/Math.LN2}})},function(n,A,e){var t=e(0);t(t.S,"Math",{sign:e(92)})},function(n,A,e){var t=e(0),l=e(93),o=Math.exp;t(t.S+t.F*e(10)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(n){return Math.abs(n=+n)<1?(l(n)-l(-n))/2:(o(n-1)-o(-n-1))*(Math.E/2)}})},function(n,A,e){var t=e(0),l=e(93),o=Math.exp;t(t.S,"Math",{tanh:function(n){var A=l(n=+n),e=l(-n);return A==1/0?1:e==1/0?-1:(A-e)/(o(n)+o(-n))}})},function(n,A,e){var t=e(0);t(t.S,"Math",{trunc:function(n){return(n>0?Math.floor:Math.ceil)(n)}})},function(n,A,e){var t=e(0),l=e(46),o=String.fromCharCode,i=String.fromCodePoint;t(t.S+t.F*(!!i&&1!=i.length),"String",{fromCodePoint:function(n){for(var A,e=[],t=arguments.length,i=0;t>i;){if(A=+arguments[i++],l(A,1114111)!==A)throw RangeError(A+" is not a valid code point");e.push(A<65536?o(A):o(55296+((A-=65536)>>10),A%1024+56320))}return e.join("")}})},function(n,A,e){var t=e(0),l=e(28),o=e(16);t(t.S,"String",{raw:function(n){for(var A=l(n.raw),e=o(A.length),t=arguments.length,i=[],c=0;e>c;)i.push(String(A[c++])),c<t&&i.push(String(arguments[c]));return i.join("")}})},function(n,A,e){"use strict";e(54)("trim",(function(n){return function(){return n(this,3)}}))},function(n,A,e){"use strict";var t=e(94)(!0);e(95)(String,"String",(function(n){this._t=String(n),this._i=0}),(function(){var n,A=this._t,e=this._i;return e>=A.length?{value:void 0,done:!0}:(n=t(A,e),this._i+=n.length,{value:n,done:!1})}))},function(n,A,e){"use strict";var t=e(0),l=e(94)(!1);t(t.P,"String",{codePointAt:function(n){return l(this,n)}})},function(n,A,e){"use strict";var t=e(0),l=e(16),o=e(96),i="".endsWith;t(t.P+t.F*e(98)("endsWith"),"String",{endsWith:function(n){var A=o(this,n,"endsWith"),e=arguments.length>1?arguments[1]:void 0,t=l(A.length),c=void 0===e?t:Math.min(l(e),t),s=String(n);return i?i.call(A,s,c):A.slice(c-s.length,c)===s}})},function(n,A,e){"use strict";var t=e(0),l=e(96);t(t.P+t.F*e(98)("includes"),"String",{includes:function(n){return!!~l(this,n,"includes").indexOf(n,arguments.length>1?arguments[1]:void 0)}})},function(n,A,e){var t=e(0);t(t.P,"String",{repeat:e(91)})},function(n,A,e){"use strict";var t=e(0),l=e(16),o=e(96),i="".startsWith;t(t.P+t.F*e(98)("startsWith"),"String",{startsWith:function(n){var A=o(this,n,"startsWith"),e=l(Math.min(arguments.length>1?arguments[1]:void 0,A.length)),t=String(n);return i?i.call(A,t,e):A.slice(e,e+t.length)===t}})},function(n,A,e){"use strict";e(24)("anchor",(function(n){return function(A){return n(this,"a","name",A)}}))},function(n,A,e){"use strict";e(24)("big",(function(n){return function(){return n(this,"big","","")}}))},function(n,A,e){"use strict";e(24)("blink",(function(n){return function(){return n(this,"blink","","")}}))},function(n,A,e){"use strict";e(24)("bold",(function(n){return function(){return n(this,"b","","")}}))},function(n,A,e){"use strict";e(24)("fixed",(function(n){return function(){return n(this,"tt","","")}}))},function(n,A,e){"use strict";e(24)("fontcolor",(function(n){return function(A){return n(this,"font","color",A)}}))},function(n,A,e){"use strict";e(24)("fontsize",(function(n){return function(A){return n(this,"font","size",A)}}))},function(n,A,e){"use strict";e(24)("italics",(function(n){return function(){return n(this,"i","","")}}))},function(n,A,e){"use strict";e(24)("link",(function(n){return function(A){return n(this,"a","href",A)}}))},function(n,A,e){"use strict";e(24)("small",(function(n){return function(){return n(this,"small","","")}}))},function(n,A,e){"use strict";e(24)("strike",(function(n){return function(){return n(this,"strike","","")}}))},function(n,A,e){"use strict";e(24)("sub",(function(n){return function(){return n(this,"sub","","")}}))},function(n,A,e){"use strict";e(24)("sup",(function(n){return function(){return n(this,"sup","","")}}))},function(n,A,e){var t=e(0);t(t.S,"Date",{now:function(){return(new Date).getTime()}})},function(n,A,e){"use strict";var t=e(0),l=e(20),o=e(40);t(t.P+t.F*e(10)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(n){var A=l(this),e=o(A);return"number"!=typeof e||isFinite(e)?A.toISOString():null}})},function(n,A,e){var t=e(0),l=e(267);t(t.P+t.F*(Date.prototype.toISOString!==l),"Date",{toISOString:l})},function(n,A,e){"use strict";var t=e(10),l=Date.prototype.getTime,o=Date.prototype.toISOString,i=function(n){return n>9?n:"0"+n};n.exports=t((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!t((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(l.call(this)))throw RangeError("Invalid time value");var n=this,A=n.getUTCFullYear(),e=n.getUTCMilliseconds(),t=A<0?"-":A>9999?"+":"";return t+("00000"+Math.abs(A)).slice(t?-6:-4)+"-"+i(n.getUTCMonth()+1)+"-"+i(n.getUTCDate())+"T"+i(n.getUTCHours())+":"+i(n.getUTCMinutes())+":"+i(n.getUTCSeconds())+"."+(e>99?e:"0"+i(e))+"Z"}:o},function(n,A,e){var t=Date.prototype,l=t.toString,o=t.getTime;new Date(NaN)+""!="Invalid Date"&&e(23)(t,"toString",(function(){var n=o.call(this);return n==n?l.call(this):"Invalid Date"}))},function(n,A,e){var t=e(14)("toPrimitive"),l=Date.prototype;t in l||e(27)(l,t,e(270))},function(n,A,e){"use strict";var t=e(11),l=e(40);n.exports=function(n){if("string"!==n&&"number"!==n&&"default"!==n)throw TypeError("Incorrect hint");return l(t(this),"number"!=n)}},function(n,A,e){var t=e(0);t(t.S,"Array",{isArray:e(71)})},function(n,A,e){"use strict";var t=e(30),l=e(0),o=e(20),i=e(124),c=e(99),s=e(16),r=e(100),C=e(101);l(l.S+l.F*!e(72)((function(n){Array.from(n)})),"Array",{from:function(n){var A,e,l,a,u=o(n),m="function"==typeof this?this:Array,d=arguments.length,f=d>1?arguments[1]:void 0,p=void 0!==f,E=0,I=C(u);if(p&&(f=t(f,d>2?arguments[2]:void 0,2)),null==I||m==Array&&c(I))for(e=new m(A=s(u.length));A>E;E++)r(e,E,p?f(u[E],E):u[E]);else for(a=I.call(u),e=new m;!(l=a.next()).done;E++)r(e,E,p?i(a,f,[l.value,E],!0):l.value);return e.length=E,e}})},function(n,A,e){"use strict";var t=e(0),l=e(100);t(t.S+t.F*e(10)((function(){function n(){}return!(Array.of.call(n)instanceof n)})),"Array",{of:function(){for(var n=0,A=arguments.length,e=new("function"==typeof this?this:Array)(A);A>n;)l(e,n,arguments[n++]);return e.length=A,e}})},function(n,A,e){"use strict";var t=e(0),l=e(28),o=[].join;t(t.P+t.F*(e(62)!=Object||!e(29)(o)),"Array",{join:function(n){return o.call(l(this),void 0===n?",":n)}})},function(n,A,e){"use strict";var t=e(0),l=e(87),o=e(36),i=e(46),c=e(16),s=[].slice;t(t.P+t.F*e(10)((function(){l&&s.call(l)})),"Array",{slice:function(n,A){var e=c(this.length),t=o(this);if(A=void 0===A?e:A,"Array"==t)return s.call(this,n,A);for(var l=i(n,e),r=i(A,e),C=c(r-l),a=new Array(C),u=0;u<C;u++)a[u]="String"==t?this.charAt(l+u):this[l+u];return a}})},function(n,A,e){"use strict";var t=e(0),l=e(31),o=e(20),i=e(10),c=[].sort,s=[1,2,3];t(t.P+t.F*(i((function(){s.sort(void 0)}))||!i((function(){s.sort(null)}))||!e(29)(c)),"Array",{sort:function(n){return void 0===n?c.call(o(this)):c.call(o(this),l(n))}})},function(n,A,e){"use strict";var t=e(0),l=e(35)(0),o=e(29)([].forEach,!0);t(t.P+t.F*!o,"Array",{forEach:function(n){return l(this,n,arguments[1])}})},function(n,A,e){var t=e(12),l=e(71),o=e(14)("species");n.exports=function(n){var A;return l(n)&&("function"!=typeof(A=n.constructor)||A!==Array&&!l(A.prototype)||(A=void 0),t(A)&&null===(A=A[o])&&(A=void 0)),void 0===A?Array:A}},function(n,A,e){"use strict";var t=e(0),l=e(35)(1);t(t.P+t.F*!e(29)([].map,!0),"Array",{map:function(n){return l(this,n,arguments[1])}})},function(n,A,e){"use strict";var t=e(0),l=e(35)(2);t(t.P+t.F*!e(29)([].filter,!0),"Array",{filter:function(n){return l(this,n,arguments[1])}})},function(n,A,e){"use strict";var t=e(0),l=e(35)(3);t(t.P+t.F*!e(29)([].some,!0),"Array",{some:function(n){return l(this,n,arguments[1])}})},function(n,A,e){"use strict";var t=e(0),l=e(35)(4);t(t.P+t.F*!e(29)([].every,!0),"Array",{every:function(n){return l(this,n,arguments[1])}})},function(n,A,e){"use strict";var t=e(0),l=e(126);t(t.P+t.F*!e(29)([].reduce,!0),"Array",{reduce:function(n){return l(this,n,arguments.length,arguments[1],!1)}})},function(n,A,e){"use strict";var t=e(0),l=e(126);t(t.P+t.F*!e(29)([].reduceRight,!0),"Array",{reduceRight:function(n){return l(this,n,arguments.length,arguments[1],!0)}})},function(n,A,e){"use strict";var t=e(0),l=e(69)(!1),o=[].indexOf,i=!!o&&1/[1].indexOf(1,-0)<0;t(t.P+t.F*(i||!e(29)(o)),"Array",{indexOf:function(n){return i?o.apply(this,arguments)||0:l(this,n,arguments[1])}})},function(n,A,e){"use strict";var t=e(0),l=e(28),o=e(32),i=e(16),c=[].lastIndexOf,s=!!c&&1/[1].lastIndexOf(1,-0)<0;t(t.P+t.F*(s||!e(29)(c)),"Array",{lastIndexOf:function(n){if(s)return c.apply(this,arguments)||0;var A=l(this),e=i(A.length),t=e-1;for(arguments.length>1&&(t=Math.min(t,o(arguments[1]))),t<0&&(t=e+t);t>=0;t--)if(t in A&&A[t]===n)return t||0;return-1}})},function(n,A,e){var t=e(0);t(t.P,"Array",{copyWithin:e(127)}),e(50)("copyWithin")},function(n,A,e){var t=e(0);t(t.P,"Array",{fill:e(102)}),e(50)("fill")},function(n,A,e){"use strict";var t=e(0),l=e(35)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),t(t.P+t.F*o,"Array",{find:function(n){return l(this,n,arguments.length>1?arguments[1]:void 0)}}),e(50)("find")},function(n,A,e){"use strict";var t=e(0),l=e(35)(6),o="findIndex",i=!0;o in[]&&Array(1)[o]((function(){i=!1})),t(t.P+t.F*i,"Array",{findIndex:function(n){return l(this,n,arguments.length>1?arguments[1]:void 0)}}),e(50)(o)},function(n,A,e){e(56)("Array")},function(n,A,e){var t=e(9),l=e(90),o=e(19).f,i=e(48).f,c=e(97),s=e(73),r=t.RegExp,C=r,a=r.prototype,u=/a/g,m=/a/g,d=new r(u)!==u;if(e(18)&&(!d||e(10)((function(){return m[e(14)("match")]=!1,r(u)!=u||r(m)==m||"/a/i"!=r(u,"i")})))){r=function(n,A){var e=this instanceof r,t=c(n),o=void 0===A;return!e&&t&&n.constructor===r&&o?n:l(d?new C(t&&!o?n.source:n,A):C((t=n instanceof r)?n.source:n,t&&o?s.call(n):A),e?this:a,r)};for(var f=function(n){n in r||o(r,n,{configurable:!0,get:function(){return C[n]},set:function(A){C[n]=A}})},p=i(C),E=0;p.length>E;)f(p[E++]);a.constructor=r,r.prototype=a,e(23)(t,"RegExp",r)}e(56)("RegExp")},function(n,A,e){"use strict";e(130);var t=e(11),l=e(73),o=e(18),i=/./.toString,c=function(n){e(23)(RegExp.prototype,"toString",n,!0)};e(10)((function(){return"/a/b"!=i.call({source:"a",flags:"b"})}))?c((function(){var n=t(this);return"/".concat(n.source,"/","flags"in n?n.flags:!o&&n instanceof RegExp?l.call(n):void 0)})):"toString"!=i.name&&c((function(){return i.call(this)}))},function(n,A,e){"use strict";var t=e(11),l=e(16),o=e(105),i=e(74);e(75)("match",1,(function(n,A,e,c){return[function(e){var t=n(this),l=null==e?void 0:e[A];return void 0!==l?l.call(e,t):new RegExp(e)[A](String(t))},function(n){var A=c(e,n,this);if(A.done)return A.value;var s=t(n),r=String(this);if(!s.global)return i(s,r);var C=s.unicode;s.lastIndex=0;for(var a,u=[],m=0;null!==(a=i(s,r));){var d=String(a[0]);u[m]=d,""===d&&(s.lastIndex=o(r,l(s.lastIndex),C)),m++}return 0===m?null:u}]}))},function(n,A,e){"use strict";var t=e(11),l=e(20),o=e(16),i=e(32),c=e(105),s=e(74),r=Math.max,C=Math.min,a=Math.floor,u=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g;e(75)("replace",2,(function(n,A,e,d){return[function(t,l){var o=n(this),i=null==t?void 0:t[A];return void 0!==i?i.call(t,o,l):e.call(String(o),t,l)},function(n,A){var l=d(e,n,this,A);if(l.done)return l.value;var a=t(n),u=String(this),m="function"==typeof A;m||(A=String(A));var p=a.global;if(p){var E=a.unicode;a.lastIndex=0}for(var I=[];;){var h=s(a,u);if(null===h)break;if(I.push(h),!p)break;""===String(h[0])&&(a.lastIndex=c(u,o(a.lastIndex),E))}for(var b,B="",g=0,M=0;M<I.length;M++){h=I[M];for(var v=String(h[0]),y=r(C(i(h.index),u.length),0),O=[],S=1;S<h.length;S++)O.push(void 0===(b=h[S])?b:String(b));var G=h.groups;if(m){var k=[v].concat(O,y,u);void 0!==G&&k.push(G);var K=String(A.apply(void 0,k))}else K=f(v,u,y,O,G,A);y>=g&&(B+=u.slice(g,y)+K,g=y+v.length)}return B+u.slice(g)}];function f(n,A,t,o,i,c){var s=t+n.length,r=o.length,C=m;return void 0!==i&&(i=l(i),C=u),e.call(c,C,(function(e,l){var c;switch(l.charAt(0)){case"$":return"$";case"&":return n;case"`":return A.slice(0,t);case"'":return A.slice(s);case"<":c=i[l.slice(1,-1)];break;default:var C=+l;if(0===C)return e;if(C>r){var u=a(C/10);return 0===u?e:u<=r?void 0===o[u-1]?l.charAt(1):o[u-1]+l.charAt(1):e}c=o[C-1]}return void 0===c?"":c}))}}))},function(n,A,e){"use strict";var t=e(11),l=e(115),o=e(74);e(75)("search",1,(function(n,A,e,i){return[function(e){var t=n(this),l=null==e?void 0:e[A];return void 0!==l?l.call(e,t):new RegExp(e)[A](String(t))},function(n){var A=i(e,n,this);if(A.done)return A.value;var c=t(n),s=String(this),r=c.lastIndex;l(r,0)||(c.lastIndex=0);var C=o(c,s);return l(c.lastIndex,r)||(c.lastIndex=r),null===C?-1:C.index}]}))},function(n,A,e){"use strict";var t=e(97),l=e(11),o=e(65),i=e(105),c=e(16),s=e(74),r=e(104),C=e(10),a=Math.min,u=[].push,m="length",d=!C((function(){RegExp(4294967295,"y")}));e(75)("split",2,(function(n,A,e,C){var f;return f="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[m]||2!="ab".split(/(?:ab)*/)[m]||4!=".".split(/(.?)(.?)/)[m]||".".split(/()()/)[m]>1||"".split(/.?/)[m]?function(n,A){var l=String(this);if(void 0===n&&0===A)return[];if(!t(n))return e.call(l,n,A);for(var o,i,c,s=[],C=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),a=0,d=void 0===A?4294967295:A>>>0,f=new RegExp(n.source,C+"g");(o=r.call(f,l))&&!((i=f.lastIndex)>a&&(s.push(l.slice(a,o.index)),o[m]>1&&o.index<l[m]&&u.apply(s,o.slice(1)),c=o[0][m],a=i,s[m]>=d));)f.lastIndex===o.index&&f.lastIndex++;return a===l[m]?!c&&f.test("")||s.push(""):s.push(l.slice(a)),s[m]>d?s.slice(0,d):s}:"0".split(void 0,0)[m]?function(n,A){return void 0===n&&0===A?[]:e.call(this,n,A)}:e,[function(e,t){var l=n(this),o=null==e?void 0:e[A];return void 0!==o?o.call(e,l,t):f.call(String(l),e,t)},function(n,A){var t=C(f,n,this,A,f!==e);if(t.done)return t.value;var r=l(n),u=String(this),m=o(r,RegExp),p=r.unicode,E=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(d?"y":"g"),I=new m(d?r:"^(?:"+r.source+")",E),h=void 0===A?4294967295:A>>>0;if(0===h)return[];if(0===u.length)return null===s(I,u)?[u]:[];for(var b=0,B=0,g=[];B<u.length;){I.lastIndex=d?B:0;var M,v=s(I,d?u:u.slice(B));if(null===v||(M=a(c(I.lastIndex+(d?0:B)),u.length))===b)B=i(u,B,p);else{if(g.push(u.slice(b,B)),g.length===h)return g;for(var y=1;y<=v.length-1;y++)if(g.push(v[y]),g.length===h)return g;B=b=M}}return g.push(u.slice(b)),g}]}))},function(n,A,e){var t=e(9),l=e(106).set,o=t.MutationObserver||t.WebKitMutationObserver,i=t.process,c=t.Promise,s="process"==e(36)(i);n.exports=function(){var n,A,e,r=function(){var t,l;for(s&&(t=i.domain)&&t.exit();n;){l=n.fn,n=n.next;try{l()}catch(t){throw n?e():A=void 0,t}}A=void 0,t&&t.enter()};if(s)e=function(){i.nextTick(r)};else if(!o||t.navigator&&t.navigator.standalone)if(c&&c.resolve){var C=c.resolve(void 0);e=function(){C.then(r)}}else e=function(){l.call(t,r)};else{var a=!0,u=document.createTextNode("");new o(r).observe(u,{characterData:!0}),e=function(){u.data=a=!a}}return function(t){var l={fn:t,next:void 0};A&&(A.next=l),n||(n=l,e()),A=l}}},function(n,A){n.exports=function(n){try{return{e:!1,v:n()}}catch(n){return{e:!0,v:n}}}},function(n,A,e){"use strict";var t=e(134),l=e(51);n.exports=e(78)("Map",(function(n){return function(){return n(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(n){var A=t.getEntry(l(this,"Map"),n);return A&&A.v},set:function(n,A){return t.def(l(this,"Map"),0===n?0:n,A)}},t,!0)},function(n,A,e){"use strict";var t=e(134),l=e(51);n.exports=e(78)("Set",(function(n){return function(){return n(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(n){return t.def(l(this,"Set"),n=0===n?0:n,n)}},t)},function(n,A,e){"use strict";var t,l=e(9),o=e(35)(0),i=e(23),c=e(41),s=e(114),r=e(135),C=e(12),a=e(51),u=e(51),m=!l.ActiveXObject&&"ActiveXObject"in l,d=c.getWeak,f=Object.isExtensible,p=r.ufstore,E=function(n){return function(){return n(this,arguments.length>0?arguments[0]:void 0)}},I={get:function(n){if(C(n)){var A=d(n);return!0===A?p(a(this,"WeakMap")).get(n):A?A[this._i]:void 0}},set:function(n,A){return r.def(a(this,"WeakMap"),n,A)}},h=n.exports=e(78)("WeakMap",E,I,r,!0,!0);u&&m&&(s((t=r.getConstructor(E,"WeakMap")).prototype,I),c.NEED=!0,o(["delete","has","get","set"],(function(n){var A=h.prototype,e=A[n];i(A,n,(function(A,l){if(C(A)&&!f(A)){this._f||(this._f=new t);var o=this._f[n](A,l);return"set"==n?this:o}return e.call(this,A,l)}))})))},function(n,A,e){"use strict";var t=e(135),l=e(51);e(78)("WeakSet",(function(n){return function(){return n(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(n){return t.def(l(this,"WeakSet"),n,!0)}},t,!1,!0)},function(n,A,e){"use strict";var t=e(0),l=e(79),o=e(107),i=e(11),c=e(46),s=e(16),r=e(12),C=e(9).ArrayBuffer,a=e(65),u=o.ArrayBuffer,m=o.DataView,d=l.ABV&&C.isView,f=u.prototype.slice,p=l.VIEW;t(t.G+t.W+t.F*(C!==u),{ArrayBuffer:u}),t(t.S+t.F*!l.CONSTR,"ArrayBuffer",{isView:function(n){return d&&d(n)||r(n)&&p in n}}),t(t.P+t.U+t.F*e(10)((function(){return!new u(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(n,A){if(void 0!==f&&void 0===A)return f.call(i(this),n);for(var e=i(this).byteLength,t=c(n,e),l=c(void 0===A?e:A,e),o=new(a(this,u))(s(l-t)),r=new m(this),C=new m(o),d=0;t<l;)C.setUint8(d++,r.getUint8(t++));return o}}),e(56)("ArrayBuffer")},function(n,A,e){var t=e(0);t(t.G+t.W+t.F*!e(79).ABV,{DataView:e(107).DataView})},function(n,A,e){e(38)("Int8",1,(function(n){return function(A,e,t){return n(this,A,e,t)}}))},function(n,A,e){e(38)("Uint8",1,(function(n){return function(A,e,t){return n(this,A,e,t)}}))},function(n,A,e){e(38)("Uint8",1,(function(n){return function(A,e,t){return n(this,A,e,t)}}),!0)},function(n,A,e){e(38)("Int16",2,(function(n){return function(A,e,t){return n(this,A,e,t)}}))},function(n,A,e){e(38)("Uint16",2,(function(n){return function(A,e,t){return n(this,A,e,t)}}))},function(n,A,e){e(38)("Int32",4,(function(n){return function(A,e,t){return n(this,A,e,t)}}))},function(n,A,e){e(38)("Uint32",4,(function(n){return function(A,e,t){return n(this,A,e,t)}}))},function(n,A,e){e(38)("Float32",4,(function(n){return function(A,e,t){return n(this,A,e,t)}}))},function(n,A,e){e(38)("Float64",8,(function(n){return function(A,e,t){return n(this,A,e,t)}}))},function(n,A,e){var t=e(0),l=e(31),o=e(11),i=(e(9).Reflect||{}).apply,c=Function.apply;t(t.S+t.F*!e(10)((function(){i((function(){}))})),"Reflect",{apply:function(n,A,e){var t=l(n),s=o(e);return i?i(t,A,s):c.call(t,A,s)}})},function(n,A,e){var t=e(0),l=e(47),o=e(31),i=e(11),c=e(12),s=e(10),r=e(116),C=(e(9).Reflect||{}).construct,a=s((function(){function n(){}return!(C((function(){}),[],n)instanceof n)})),u=!s((function(){C((function(){}))}));t(t.S+t.F*(a||u),"Reflect",{construct:function(n,A){o(n),i(A);var e=arguments.length<3?n:o(arguments[2]);if(u&&!a)return C(n,A,e);if(n==e){switch(A.length){case 0:return new n;case 1:return new n(A[0]);case 2:return new n(A[0],A[1]);case 3:return new n(A[0],A[1],A[2]);case 4:return new n(A[0],A[1],A[2],A[3])}var t=[null];return t.push.apply(t,A),new(r.apply(n,t))}var s=e.prototype,m=l(c(s)?s:Object.prototype),d=Function.apply.call(n,m,A);return c(d)?d:m}})},function(n,A,e){var t=e(19),l=e(0),o=e(11),i=e(40);l(l.S+l.F*e(10)((function(){Reflect.defineProperty(t.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(n,A,e){o(n),A=i(A,!0),o(e);try{return t.f(n,A,e),!0}catch(n){return!1}}})},function(n,A,e){var t=e(0),l=e(33).f,o=e(11);t(t.S,"Reflect",{deleteProperty:function(n,A){var e=l(o(n),A);return!(e&&!e.configurable)&&delete n[A]}})},function(n,A,e){"use strict";var t=e(0),l=e(11),o=function(n){this._t=l(n),this._i=0;var A,e=this._k=[];for(A in n)e.push(A)};e(123)(o,"Object",(function(){var n,A=this._k;do{if(this._i>=A.length)return{value:void 0,done:!0}}while(!((n=A[this._i++])in this._t));return{value:n,done:!1}})),t(t.S,"Reflect",{enumerate:function(n){return new o(n)}})},function(n,A,e){var t=e(33),l=e(49),o=e(26),i=e(0),c=e(12),s=e(11);i(i.S,"Reflect",{get:function n(A,e){var i,r,C=arguments.length<3?A:arguments[2];return s(A)===C?A[e]:(i=t.f(A,e))?o(i,"value")?i.value:void 0!==i.get?i.get.call(C):void 0:c(r=l(A))?n(r,e,C):void 0}})},function(n,A,e){var t=e(33),l=e(0),o=e(11);l(l.S,"Reflect",{getOwnPropertyDescriptor:function(n,A){return t.f(o(n),A)}})},function(n,A,e){var t=e(0),l=e(49),o=e(11);t(t.S,"Reflect",{getPrototypeOf:function(n){return l(o(n))}})},function(n,A,e){var t=e(0);t(t.S,"Reflect",{has:function(n,A){return A in n}})},function(n,A,e){var t=e(0),l=e(11),o=Object.isExtensible;t(t.S,"Reflect",{isExtensible:function(n){return l(n),!o||o(n)}})},function(n,A,e){var t=e(0);t(t.S,"Reflect",{ownKeys:e(137)})},function(n,A,e){var t=e(0),l=e(11),o=Object.preventExtensions;t(t.S,"Reflect",{preventExtensions:function(n){l(n);try{return o&&o(n),!0}catch(n){return!1}}})},function(n,A,e){var t=e(19),l=e(33),o=e(49),i=e(26),c=e(0),s=e(42),r=e(11),C=e(12);c(c.S,"Reflect",{set:function n(A,e,c){var a,u,m=arguments.length<4?A:arguments[3],d=l.f(r(A),e);if(!d){if(C(u=o(A)))return n(u,e,c,m);d=s(0)}if(i(d,"value")){if(!1===d.writable||!C(m))return!1;if(a=l.f(m,e)){if(a.get||a.set||!1===a.writable)return!1;a.value=c,t.f(m,e,a)}else t.f(m,e,s(0,c));return!0}return void 0!==d.set&&(d.set.call(m,c),!0)}})},function(n,A,e){var t=e(0),l=e(88);l&&t(t.S,"Reflect",{setPrototypeOf:function(n,A){l.check(n,A);try{return l.set(n,A),!0}catch(n){return!1}}})},function(n,A,e){e(330),n.exports=e(17).Array.includes},function(n,A,e){"use strict";var t=e(0),l=e(69)(!0);t(t.P,"Array",{includes:function(n){return l(this,n,arguments.length>1?arguments[1]:void 0)}}),e(50)("includes")},function(n,A,e){e(332),n.exports=e(17).Array.flatMap},function(n,A,e){"use strict";var t=e(0),l=e(333),o=e(20),i=e(16),c=e(31),s=e(125);t(t.P,"Array",{flatMap:function(n){var A,e,t=o(this);return c(n),A=i(t.length),e=s(t,0),l(e,t,t,A,0,1,n,arguments[1]),e}}),e(50)("flatMap")},function(n,A,e){"use strict";var t=e(71),l=e(12),o=e(16),i=e(30),c=e(14)("isConcatSpreadable");n.exports=function n(A,e,s,r,C,a,u,m){for(var d,f,p=C,E=0,I=!!u&&i(u,m,3);E<r;){if(E in s){if(d=I?I(s[E],E,e):s[E],f=!1,l(d)&&(f=void 0!==(f=d[c])?!!f:t(d)),f&&a>0)p=n(A,e,d,o(d.length),p,a-1)-1;else{if(p>=9007199254740991)throw TypeError();A[p]=d}p++}E++}return p}},function(n,A,e){e(335),n.exports=e(17).String.padStart},function(n,A,e){"use strict";var t=e(0),l=e(138),o=e(77),i=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);t(t.P+t.F*i,"String",{padStart:function(n){return l(this,n,arguments.length>1?arguments[1]:void 0,!0)}})},function(n,A,e){e(337),n.exports=e(17).String.padEnd},function(n,A,e){"use strict";var t=e(0),l=e(138),o=e(77),i=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);t(t.P+t.F*i,"String",{padEnd:function(n){return l(this,n,arguments.length>1?arguments[1]:void 0,!1)}})},function(n,A,e){e(339),n.exports=e(17).String.trimLeft},function(n,A,e){"use strict";e(54)("trimLeft",(function(n){return function(){return n(this,1)}}),"trimStart")},function(n,A,e){e(341),n.exports=e(17).String.trimRight},function(n,A,e){"use strict";e(54)("trimRight",(function(n){return function(){return n(this,2)}}),"trimEnd")},function(n,A,e){e(343),n.exports=e(84).f("asyncIterator")},function(n,A,e){e(110)("asyncIterator")},function(n,A,e){e(345),n.exports=e(17).Object.getOwnPropertyDescriptors},function(n,A,e){var t=e(0),l=e(137),o=e(28),i=e(33),c=e(100);t(t.S,"Object",{getOwnPropertyDescriptors:function(n){for(var A,e,t=o(n),s=i.f,r=l(t),C={},a=0;r.length>a;)void 0!==(e=s(t,A=r[a++]))&&c(C,A,e);return C}})},function(n,A,e){e(347),n.exports=e(17).Object.values},function(n,A,e){var t=e(0),l=e(139)(!1);t(t.S,"Object",{values:function(n){return l(n)}})},function(n,A,e){e(349),n.exports=e(17).Object.entries},function(n,A,e){var t=e(0),l=e(139)(!0);t(t.S,"Object",{entries:function(n){return l(n)}})},function(n,A,e){"use strict";e(131),e(351),n.exports=e(17).Promise.finally},function(n,A,e){"use strict";var t=e(0),l=e(17),o=e(9),i=e(65),c=e(133);t(t.P+t.R,"Promise",{finally:function(n){var A=i(this,l.Promise||o.Promise),e="function"==typeof n;return this.then(e?function(e){return c(A,n()).then((function(){return e}))}:n,e?function(e){return c(A,n()).then((function(){throw e}))}:n)}})},function(n,A,e){e(353),e(354),e(355),n.exports=e(17)},function(n,A,e){var t=e(9),l=e(0),o=e(77),i=[].slice,c=/MSIE .\./.test(o),s=function(n){return function(A,e){var t=arguments.length>2,l=!!t&&i.call(arguments,2);return n(t?function(){("function"==typeof A?A:Function(A)).apply(this,l)}:A,e)}};l(l.G+l.B+l.F*c,{setTimeout:s(t.setTimeout),setInterval:s(t.setInterval)})},function(n,A,e){var t=e(0),l=e(106);t(t.G+t.B,{setImmediate:l.set,clearImmediate:l.clear})},function(n,A,e){for(var t=e(103),l=e(45),o=e(23),i=e(9),c=e(27),s=e(55),r=e(14),C=r("iterator"),a=r("toStringTag"),u=s.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=l(m),f=0;f<d.length;f++){var p,E=d[f],I=m[E],h=i[E],b=h&&h.prototype;if(b&&(b[C]||c(b,C,u),b[a]||c(b,a,E),s[E]=u,I))for(p in t)b[p]||o(b,p,t[p],!0)}},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(39),e(52),e(2),e(3),e(360),e(362),e(363),e(8)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a){"use strict";var u=e(13),m=e(1);function d(){var n="/home/hata/editor.js/src/codex.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"5add8a51e5f6e47860284ceb08e3b13d013fd7d9"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/codex.ts",statementMap:{0:{start:{line:28,column:22},end:{line:28,column:31}},1:{start:{line:32,column:8},end:{line:34,column:9}},2:{start:{line:33,column:12},end:{line:33,column:44}},3:{start:{line:38,column:23},end:{line:38,column:46}},4:{start:{line:45,column:8},end:{line:48,column:11}},5:{start:{line:46,column:12},end:{line:46,column:35}},6:{start:{line:47,column:12},end:{line:47,column:22}},7:{start:{line:52,column:8},end:{line:52,column:23}},8:{start:{line:60,column:31},end:{line:60,column:48}},9:{start:{line:61,column:24},end:{line:75,column:9}},10:{start:{line:62,column:12},end:{line:67,column:15}},11:{start:{line:64,column:16},end:{line:66,column:17}},12:{start:{line:65,column:20},end:{line:65,column:45}},13:{start:{line:68,column:12},end:{line:68,column:26}},14:{start:{line:69,column:12},end:{line:73,column:13}},15:{start:{line:70,column:16},end:{line:72,column:17}},16:{start:{line:71,column:20},end:{line:71,column:39}},17:{start:{line:74,column:12},end:{line:74,column:46}},18:{start:{line:76,column:8},end:{line:78,column:11}},19:{start:{line:77,column:12},end:{line:77,column:40}},20:{start:{line:79,column:8},end:{line:79,column:31}},21:{start:{line:80,column:8},end:{line:80,column:72}},22:{start:{line:81,column:8},end:{line:81,column:30}},23:{start:{line:82,column:27},end:{line:98,column:9}},24:{start:{line:99,column:8},end:{line:105,column:11}},25:{start:{line:101,column:12},end:{line:104,column:15}},26:{start:{line:103,column:16},end:{line:103,column:76}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:31},end:{line:49,column:5}},line:23},1:{name:"(anonymous_1)",decl:{start:{line:28,column:22},end:{line:28,column:23}},loc:{start:{line:28,column:28},end:{line:28,column:31}},line:28},2:{name:"(anonymous_2)",decl:{start:{line:45,column:43},end:{line:45,column:44}},loc:{start:{line:45,column:49},end:{line:48,column:9}},line:45},3:{name:"(anonymous_3)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:25},end:{line:53,column:5}},line:51},4:{name:"(anonymous_4)",decl:{start:{line:59,column:4},end:{line:59,column:5}},loc:{start:{line:59,column:22},end:{line:106,column:5}},line:59},5:{name:"(anonymous_5)",decl:{start:{line:61,column:24},end:{line:61,column:25}},loc:{start:{line:61,column:30},end:{line:75,column:9}},line:61},6:{name:"(anonymous_6)",decl:{start:{line:63,column:25},end:{line:63,column:26}},loc:{start:{line:63,column:45},end:{line:67,column:13}},line:63},7:{name:"(anonymous_7)",decl:{start:{line:76,column:31},end:{line:76,column:32}},loc:{start:{line:76,column:42},end:{line:78,column:9}},line:76},8:{name:"(anonymous_8)",decl:{start:{line:100,column:21},end:{line:100,column:22}},loc:{start:{line:100,column:41},end:{line:105,column:9}},line:100},9:{name:"(anonymous_9)",decl:{start:{line:102,column:25},end:{line:102,column:26}},loc:{start:{line:102,column:44},end:{line:104,column:13}},line:102}},branchMap:{0:{loc:{start:{line:32,column:8},end:{line:34,column:9}},type:"if",locations:[{start:{line:32,column:8},end:{line:34,column:9}},{start:{line:32,column:8},end:{line:34,column:9}}],line:32},1:{loc:{start:{line:32,column:12},end:{line:32,column:84}},type:"binary-expr",locations:[{start:{line:32,column:12},end:{line:32,column:45}},{start:{line:32,column:49},end:{line:32,column:84}}],line:32},2:{loc:{start:{line:64,column:16},end:{line:66,column:17}},type:"if",locations:[{start:{line:64,column:16},end:{line:66,column:17}},{start:{line:64,column:16},end:{line:66,column:17}}],line:64},3:{loc:{start:{line:70,column:16},end:{line:72,column:17}},type:"if",locations:[{start:{line:70,column:16},end:{line:72,column:17}},{start:{line:70,column:16},end:{line:72,column:17}}],line:70}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/codex.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/codex.ts"],names:[],mappings:"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",sourcesContent:["'use strict';\n\nimport { EditorConfig } from '../types';\n\n/**\n * Apply polyfills\n */\nimport '@babel/register';\n\nimport 'components/polyfills';\nimport Core from './components/core';\nimport * as _ from './components/utils';\n\ndeclare const VERSION: string;\n\n/**\n * Editor.js\n *\n * Short Description (눈_눈;)\n *\n * @version 2.18.0\n *\n * @license Apache-2.0\n * @author CodeX-Team <https://ifmo.su>\n */\nexport default class EditorJS {\n  /**\n   * Promise that resolves when core modules are ready and UI is rendered on the page\n   */\n  public isReady: Promise<void>;\n\n  /**\n   * Stores destroy method implementation.\n   * Clear heap occupied by Editor and remove UI components from the DOM.\n   */\n  public destroy: () => void;\n\n  /** Editor version */\n  public static get version(): string {\n    return VERSION;\n  }\n\n  /**\n   * @param {EditorConfig|string|undefined} [configuration] - user configuration\n   */\n  constructor(configuration?: EditorConfig|string) {\n    /**\n     * Set default onReady function\n     */\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    let onReady = (): void => {};\n\n    /**\n     * If `onReady` was passed in `configuration` then redefine onReady function\n     */\n    if (typeof configuration === 'object' && _.isFunction(configuration.onReady)) {\n      onReady = configuration.onReady;\n    }\n\n    /**\n     * Create a Editor.js instance\n     */\n    const editor = new Core(configuration);\n\n    /**\n     * We need to export isReady promise in the constructor\n     * as it can be used before other API methods are exported\n     *\n     * @type {Promise<void>}\n     */\n    this.isReady = editor.isReady.then(() => {\n      this.exportAPI(editor);\n      onReady();\n    });\n  }\n\n  /**\n   * Export external API methods\n   *\n   * @param {Core} editor — Editor's instance\n   */\n  public exportAPI(editor: Core): void {\n    const fieldsToExport = [ 'configuration' ];\n    const destroy = (): void => {\n      Object.values(editor.moduleInstances)\n        .forEach((moduleInstance) => {\n          if (_.isFunction(moduleInstance.destroy)) {\n            moduleInstance.destroy();\n          }\n        });\n\n      editor = null;\n\n      for (const field in this) {\n        if (Object.prototype.hasOwnProperty.call(this, field)) {\n          delete this[field];\n        }\n      }\n\n      Object.setPrototypeOf(this, null);\n    };\n\n    fieldsToExport.forEach((field) => {\n      this[field] = editor[field];\n    });\n\n    this.destroy = destroy;\n\n    Object.setPrototypeOf(this, editor.moduleInstances.API.methods);\n\n    delete this.exportAPI;\n\n    const shorthands = {\n      blocks: {\n        clear: 'clear',\n        render: 'render',\n      },\n      caret: {\n        focus: 'focus',\n      },\n      events: {\n        on: 'on',\n        off: 'off',\n        emit: 'emit',\n      },\n      saver: {\n        save: 'save',\n      },\n    };\n\n    Object.entries(shorthands)\n      .forEach(([key, methods]) => {\n        Object.entries(methods)\n          .forEach(([name, alias]) => {\n            this[alias] = editor.moduleInstances.API.methods[key][name];\n          });\n      });\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5add8a51e5f6e47860284ceb08e3b13d013fd7d9"});var l=t[n];return d=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=m(l),o=m(o),i=m(i),c=m(c),C=m(C),a=u(a),d();var f=function(){function n(A){var e=this;(0,i.default)(this,n),d().f[0]++,d().s[0]++;var t=function(){d().f[1]++};d().s[1]++,d().b[1][0]++,"object"===(0,o.default)(A)&&(d().b[1][1]++,a.isFunction(A.onReady))?(d().b[0][0]++,d().s[2]++,t=A.onReady):d().b[0][1]++;var l=(d().s[3]++,new C.default(A));d().s[4]++,this.isReady=l.isReady.then((function(){d().f[2]++,d().s[5]++,e.exportAPI(l),d().s[6]++,t()}))}return(0,c.default)(n,[{key:"exportAPI",value:function(n){var A=this;d().f[4]++;var e=(d().s[8]++,["configuration"]);d().s[9]++,d().s[18]++,e.forEach((function(e){d().f[7]++,d().s[19]++,A[e]=n[e]})),d().s[20]++,this.destroy=function(){for(var e in d().f[5]++,d().s[10]++,Object.values(n.moduleInstances).forEach((function(n){d().f[6]++,d().s[11]++,a.isFunction(n.destroy)?(d().b[2][0]++,d().s[12]++,n.destroy()):d().b[2][1]++})),d().s[13]++,n=null,d().s[14]++,A)d().s[15]++,Object.prototype.hasOwnProperty.call(A,e)?(d().b[3][0]++,d().s[16]++,delete A[e]):d().b[3][1]++;d().s[17]++,Object.setPrototypeOf(A,null)},d().s[21]++,Object.setPrototypeOf(this,n.moduleInstances.API.methods),d().s[22]++,delete this.exportAPI;var t=(d().s[23]++,{blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}});d().s[24]++,Object.entries(t).forEach((function(e){var t=(0,l.default)(e,2),o=t[0],i=t[1];d().f[8]++,d().s[25]++,Object.entries(i).forEach((function(e){var t=(0,l.default)(e,2),i=t[0],c=t[1];d().f[9]++,d().s[26]++,A[c]=n.moduleInstances.API.methods[o][i]}))}))}}],[{key:"version",get:function(){return d().f[3]++,d().s[7]++,"2.19.0"}}]),n}();t.default=f,f.displayName="EditorJS",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A){n.exports=function(n){if(Array.isArray(n))return n}},function(n,A){n.exports=function(n,A){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var e=[],t=!0,l=!1,o=void 0;try{for(var i,c=n[Symbol.iterator]();!(t=(i=c.next()).done)&&(e.push(i.value),!A||e.length!==A);t=!0);}catch(n){l=!0,o=n}finally{try{t||null==c.return||c.return()}finally{if(l)throw o}}return e}}},function(n,A){n.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(n,A,e){(A=n.exports=function(...n){return l(...n)}).__esModule=!0;const t=e(361),l=t.default;Object.assign(A,t)},function(n,A,e){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=function(){},A.revert=function(){}},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[],void 0===(o="function"==typeof(t=function(){"use strict";function n(){var A="/home/hata/editor.js/src/components/polyfills.ts",e=new Function("return this")(),t="__coverage__",l=e[t]||(e[t]={});l[A]&&"0f9439b2549f933365eb5eef8f5022cbd0efecf3"===l[A].hash||(l[A]={path:"/home/hata/editor.js/src/components/polyfills.ts",statementMap:{0:{start:{line:11,column:0},end:{line:24,column:1}},1:{start:{line:12,column:4},end:{line:23,column:10}},2:{start:{line:18,column:28},end:{line:18,column:85}},3:{start:{line:19,column:20},end:{line:19,column:34}},4:{start:{line:20,column:12},end:{line:21,column:13}},5:{start:{line:22,column:12},end:{line:22,column:26}},6:{start:{line:35,column:0},end:{line:50,column:1}},7:{start:{line:36,column:4},end:{line:49,column:6}},8:{start:{line:38,column:17},end:{line:38,column:21}},9:{start:{line:39,column:8},end:{line:41,column:9}},10:{start:{line:40,column:12},end:{line:40,column:24}},11:{start:{line:42,column:8},end:{line:47,column:30}},12:{start:{line:43,column:12},end:{line:45,column:13}},13:{start:{line:44,column:16},end:{line:44,column:26}},14:{start:{line:46,column:12},end:{line:46,column:51}},15:{start:{line:48,column:8},end:{line:48,column:20}},16:{start:{line:60,column:0},end:{line:72,column:1}},17:{start:{line:61,column:4},end:{line:71,column:6}},18:{start:{line:62,column:24},end:{line:62,column:57}},19:{start:{line:63,column:8},end:{line:65,column:9}},20:{start:{line:64,column:12},end:{line:64,column:28}},21:{start:{line:66,column:8},end:{line:69,column:11}},22:{start:{line:67,column:27},end:{line:67,column:47}},23:{start:{line:68,column:12},end:{line:68,column:79}},24:{start:{line:70,column:8},end:{line:70,column:52}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:8},end:{line:17,column:9}},loc:{start:{line:17,column:21},end:{line:23,column:9}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:36,column:32},end:{line:36,column:33}},loc:{start:{line:36,column:45},end:{line:49,column:5}},line:36},2:{name:"prepend",decl:{start:{line:61,column:41},end:{line:61,column:48}},loc:{start:{line:61,column:56},end:{line:71,column:5}},line:61},3:{name:"(anonymous_3)",decl:{start:{line:66,column:22},end:{line:66,column:23}},loc:{start:{line:66,column:32},end:{line:69,column:9}},line:66}},branchMap:{0:{loc:{start:{line:11,column:0},end:{line:24,column:1}},type:"if",locations:[{start:{line:11,column:0},end:{line:24,column:1}},{start:{line:11,column:0},end:{line:24,column:1}}],line:11},1:{loc:{start:{line:12,column:32},end:{line:23,column:9}},type:"binary-expr",locations:[{start:{line:12,column:32},end:{line:12,column:65}},{start:{line:13,column:8},end:{line:13,column:44}},{start:{line:14,column:8},end:{line:14,column:43}},{start:{line:15,column:8},end:{line:15,column:42}},{start:{line:16,column:8},end:{line:16,column:47}},{start:{line:17,column:8},end:{line:23,column:9}}],line:12},2:{loc:{start:{line:18,column:29},end:{line:18,column:64}},type:"binary-expr",locations:[{start:{line:18,column:29},end:{line:18,column:42}},{start:{line:18,column:46},end:{line:18,column:64}}],line:18},3:{loc:{start:{line:20,column:19},end:{line:20,column:55}},type:"binary-expr",locations:[{start:{line:20,column:19},end:{line:20,column:27}},{start:{line:20,column:31},end:{line:20,column:55}}],line:20},4:{loc:{start:{line:35,column:0},end:{line:50,column:1}},type:"if",locations:[{start:{line:35,column:0},end:{line:50,column:1}},{start:{line:35,column:0},end:{line:50,column:1}}],line:35},5:{loc:{start:{line:39,column:8},end:{line:41,column:9}},type:"if",locations:[{start:{line:39,column:8},end:{line:41,column:9}},{start:{line:39,column:8},end:{line:41,column:9}}],line:39},6:{loc:{start:{line:43,column:12},end:{line:45,column:13}},type:"if",locations:[{start:{line:43,column:12},end:{line:45,column:13}},{start:{line:43,column:12},end:{line:45,column:13}}],line:43},7:{loc:{start:{line:46,column:17},end:{line:46,column:50}},type:"binary-expr",locations:[{start:{line:46,column:17},end:{line:46,column:33}},{start:{line:46,column:37},end:{line:46,column:50}}],line:46},8:{loc:{start:{line:60,column:0},end:{line:72,column:1}},type:"if",locations:[{start:{line:60,column:0},end:{line:72,column:1}},{start:{line:60,column:0},end:{line:72,column:1}}],line:60},9:{loc:{start:{line:63,column:8},end:{line:65,column:9}},type:"if",locations:[{start:{line:63,column:8},end:{line:65,column:9}},{start:{line:63,column:8},end:{line:65,column:9}}],line:63},10:{loc:{start:{line:68,column:32},end:{line:68,column:77}},type:"cond-expr",locations:[{start:{line:68,column:41},end:{line:68,column:45}},{start:{line:68,column:48},end:{line:68,column:77}}],line:68}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0,0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/polyfills.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/polyfills.ts"],names:[],mappings:"AAAA,YAAY,CAAC;AAeb;;;;;;;;GAQG;AACH,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE;IAC9B,OAAO,CAAC,SAAS,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,eAAe;QAC3D,OAAO,CAAC,SAAS,CAAC,kBAAkB;QACpC,OAAO,CAAC,SAAS,CAAC,iBAAiB;QACnC,OAAO,CAAC,SAAS,CAAC,gBAAgB;QAClC,OAAO,CAAC,SAAS,CAAC,qBAAqB;QACvC,UAAU,CAAC;YACT,MAAM,OAAO,GAAG,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;YAC1E,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;YAEvB,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;aAC5C;YAED,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;QAChB,CAAC,CAAC;CACL;AAED;;;;;;;;;GASG;AACH,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE;IAC9B,OAAO,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,CAAC;QACrC,4DAA4D;QAC5D,IAAI,EAAE,GAAG,IAAI,CAAC;QAEd,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE;YAC1C,OAAO,IAAI,CAAC;SACb;QAED,GAAG;YACD,IAAI,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;gBACjB,OAAO,EAAE,CAAC;aACX;YAED,EAAE,GAAG,EAAE,CAAC,aAAa,IAAI,EAAE,CAAC,UAAU,CAAC;SACxC,QAAQ,EAAE,KAAK,IAAI,EAAE;QAEtB,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;CACH;AAED;;;;;;;;GAQG;AACH,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE;IAC9B,OAAO,CAAC,SAAS,CAAC,OAAO,GAAG,SAAS,OAAO,CAAC,KAA2C;QACtF,MAAM,OAAO,GAAG,QAAQ,CAAC,sBAAsB,EAAE,CAAC;QAElD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACzB,KAAK,GAAG,CAAE,KAAK,CAAE,CAAC;SACnB;QAED,KAAK,CAAC,OAAO,CAAC,CAAC,IAAmB,EAAE,EAAE;YACpC,MAAM,MAAM,GAAG,IAAI,YAAY,IAAI,CAAC;YAEpC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,IAAY,CAAC,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAc,CAAC,CAAC,CAAC;QACvF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IAC9C,CAAC,CAAC;CACH",sourcesContent:["'use strict';\n\n/**\n * Extend Element interface to include prefixed and experimental properties\n */\ninterface Element {\n  matchesSelector: (selector: string) => boolean;\n  mozMatchesSelector: (selector: string) => boolean;\n  msMatchesSelector: (selector: string) => boolean;\n  oMatchesSelector: (selector: string) => boolean;\n\n  prepend: (...nodes: Array<string | Node>) => void;\n  append: (...nodes: Array<string | Node>) => void;\n}\n\n/**\n * The Element.matches() method returns true if the element\n * would be selected by the specified selector string;\n * otherwise, returns false.\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill}\n *\n * @param {string} s - selector\n */\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.matchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.oMatchesSelector ||\n    Element.prototype.webkitMatchesSelector ||\n    function (s): boolean {\n      const matches = (this.document || this.ownerDocument).querySelectorAll(s);\n      let i = matches.length;\n\n      while (--i >= 0 && matches.item(i) !== this) {\n      }\n\n      return i > -1;\n    };\n}\n\n/**\n * The Element.closest() method returns the closest ancestor\n * of the current element (or the current element itself) which\n * matches the selectors given in parameter.\n * If there isn't such an ancestor, it returns null.\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill}\n *\n * @param {string} s - selector\n */\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function (s): Element | null {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let el = this;\n\n    if (!document.documentElement.contains(el)) {\n      return null;\n    }\n\n    do {\n      if (el.matches(s)) {\n        return el;\n      }\n\n      el = el.parentElement || el.parentNode;\n    } while (el !== null);\n\n    return null;\n  };\n}\n\n/**\n * The ParentNode.prepend method inserts a set of Node objects\n * or DOMString objects before the first child of the ParentNode.\n * DOMString objects are inserted as equivalent Text nodes.\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/prepend#Polyfill}\n *\n * @param {Node | Node[] | string | string[]} nodes - nodes to prepend\n */\nif (!Element.prototype.prepend) {\n  Element.prototype.prepend = function prepend(nodes: Array<Node | string> | Node | string): void {\n    const docFrag = document.createDocumentFragment();\n\n    if (!Array.isArray(nodes)) {\n      nodes = [ nodes ];\n    }\n\n    nodes.forEach((node: Node | string) => {\n      const isNode = node instanceof Node;\n\n      docFrag.appendChild(isNode ? node as Node : document.createTextNode(node as string));\n    });\n\n    this.insertBefore(docFrag, this.firstChild);\n  };\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0f9439b2549f933365eb5eef8f5022cbd0efecf3"});var o=l[A];return n=function(){return o},o}n(),n().s[0]++,Element.prototype.matches?n().b[0][1]++:(n().b[0][0]++,n().s[1]++,Element.prototype.matches=(n().b[1][0]++,Element.prototype.matchesSelector||(n().b[1][1]++,Element.prototype.mozMatchesSelector)||(n().b[1][2]++,Element.prototype.msMatchesSelector)||(n().b[1][3]++,Element.prototype.oMatchesSelector)||(n().b[1][4]++,Element.prototype.webkitMatchesSelector)||(n().b[1][5]++,function(A){n().f[0]++;var e=(n().s[2]++,(n().b[2][0]++,this.document||(n().b[2][1]++,this.ownerDocument)).querySelectorAll(A)),t=(n().s[3]++,e.length);for(n().s[4]++;n().b[3][0]++,--t>=0&&(n().b[3][1]++,e.item(t)!==this););return n().s[5]++,t>-1}))),n().s[6]++,Element.prototype.closest?n().b[4][1]++:(n().b[4][0]++,n().s[7]++,Element.prototype.closest=function(A){n().f[1]++;var e=(n().s[8]++,this);if(n().s[9]++,!document.documentElement.contains(e))return n().b[5][0]++,n().s[10]++,null;n().b[5][1]++,n().s[11]++;do{if(n().s[12]++,e.matches(A))return n().b[6][0]++,n().s[13]++,e;n().b[6][1]++,n().s[14]++,n().b[7][0]++,e=e.parentElement||(n().b[7][1]++,e.parentNode)}while(null!==e);return n().s[15]++,null}),n().s[16]++,Element.prototype.prepend?n().b[8][1]++:(n().b[8][0]++,n().s[17]++,Element.prototype.prepend=function(A){n().f[2]++;var e=(n().s[18]++,document.createDocumentFragment());n().s[19]++,Array.isArray(A)?n().b[9][1]++:(n().b[9][0]++,n().s[20]++,A=[A]),n().s[21]++,A.forEach((function(A){n().f[3]++;var t=(n().s[22]++,A instanceof Node);n().s[23]++,e.appendChild(t?(n().b[10][0]++,A):(n().b[10][1]++,document.createTextNode(A)))})),n().s[24]++,this.insertBefore(e,this.firstChild)})})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(52),e(21),e(22),e(2),e(3),e(15),e(8),e(59),e(144)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s,r,C,a,u){"use strict";var m=e(13),d=e(1);function f(){var n="/home/hata/editor.js/src/components/core.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"9e29fa7af3f06e205cdc8202b6ba8f3eb53bbc14"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/core.ts",statementMap:{0:{start:{line:11,column:23},end:{line:11,column:57}},1:{start:{line:12,column:16},end:{line:12,column:18}},2:{start:{line:13,column:0},end:{line:22,column:3}},3:{start:{line:19,column:4},end:{line:21,column:5}},4:{start:{line:20,column:8},end:{line:20,column:47}},5:{start:{line:42,column:8},end:{line:42,column:34}},6:{start:{line:47,column:8},end:{line:50,column:11}},7:{start:{line:48,column:12},end:{line:48,column:30}},8:{start:{line:49,column:12},end:{line:49,column:28}},9:{start:{line:51,column:8},end:{line:81,column:11}},10:{start:{line:53,column:12},end:{line:53,column:40}},11:{start:{line:54,column:12},end:{line:54,column:34}},12:{start:{line:55,column:12},end:{line:55,column:30}},13:{start:{line:56,column:12},end:{line:56,column:31}},14:{start:{line:57,column:12},end:{line:57,column:82}},15:{start:{line:58,column:12},end:{line:73,column:20}},16:{start:{line:59,column:16},end:{line:59,column:36}},17:{start:{line:60,column:16},end:{line:64,column:17}},18:{start:{line:61,column:52},end:{line:61,column:72}},19:{start:{line:62,column:20},end:{line:62,column:84}},20:{start:{line:63,column:20},end:{line:63,column:56}},21:{start:{line:68,column:16},end:{line:68,column:55}},22:{start:{line:72,column:16},end:{line:72,column:26}},23:{start:{line:76,column:12},end:{line:76,column:73}},24:{start:{line:80,column:12},end:{line:80,column:26}},25:{start:{line:94,column:8},end:{line:98,column:9}},26:{start:{line:95,column:12},end:{line:97,column:14}},27:{start:{line:102,column:8},end:{line:102,column:83}},28:{start:{line:103,column:8},end:{line:106,column:9}},29:{start:{line:104,column:12},end:{line:104,column:44}},30:{start:{line:105,column:12},end:{line:105,column:35}},31:{start:{line:112,column:8},end:{line:112,column:29}},32:{start:{line:116,column:8},end:{line:118,column:9}},33:{start:{line:117,column:12},end:{line:117,column:44}},34:{start:{line:119,column:8},end:{line:121,column:9}},35:{start:{line:120,column:12},end:{line:120,column:55}},36:{start:{line:122,column:8},end:{line:122,column:44}},37:{start:{line:126,column:8},end:{line:126,column:109}},38:{start:{line:127,column:8},end:{line:127,column:103}},39:{start:{line:133,column:8},end:{line:133,column:98}},40:{start:{line:140,column:33},end:{line:143,column:9}},41:{start:{line:144,column:8},end:{line:144,column:67}},42:{start:{line:145,column:8},end:{line:149,column:10}},43:{start:{line:150,column:8},end:{line:150,column:92}},44:{start:{line:151,column:8},end:{line:151,column:52}},45:{start:{line:152,column:8},end:{line:152,column:50}},46:{start:{line:153,column:8},end:{line:153,column:50}},47:{start:{line:155,column:8},end:{line:155,column:65}},48:{start:{line:157,column:8},end:{line:157,column:67}},49:{start:{line:158,column:8},end:{line:158,column:111}},50:{start:{line:162,column:8},end:{line:170,column:9}},51:{start:{line:163,column:12},end:{line:163,column:34}},52:{start:{line:164,column:12},end:{line:164,column:57}},53:{start:{line:167,column:12},end:{line:169,column:13}},54:{start:{line:168,column:16},end:{line:168,column:61}},55:{start:{line:171,column:8},end:{line:171,column:61}},56:{start:{line:175,column:8},end:{line:177,column:9}},57:{start:{line:176,column:12},end:{line:176,column:53}},58:{start:{line:181,column:8},end:{line:181,column:117}},59:{start:{line:189,column:8},end:{line:189,column:27}},60:{start:{line:197,column:37},end:{line:197,column:48}},61:{start:{line:198,column:8},end:{line:200,column:9}},62:{start:{line:199,column:12},end:{line:199,column:89}},63:{start:{line:204,column:8},end:{line:206,column:9}},64:{start:{line:205,column:12},end:{line:205,column:93}},65:{start:{line:207,column:8},end:{line:209,column:9}},66:{start:{line:208,column:12},end:{line:208,column:97}},67:{start:{line:220,column:8},end:{line:220,column:32}},68:{start:{line:224,column:8},end:{line:224,column:32}},69:{start:{line:234,column:33},end:{line:243,column:9}},70:{start:{line:244,column:8},end:{line:260,column:31}},71:{start:{line:244,column:59},end:{line:260,column:10}},72:{start:{line:246,column:12},end:{line:258,column:13}},73:{start:{line:247,column:16},end:{line:247,column:61}},74:{start:{line:254,column:16},end:{line:256,column:17}},75:{start:{line:255,column:20},end:{line:255,column:47}},76:{start:{line:257,column:16},end:{line:257,column:79}},77:{start:{line:266,column:8},end:{line:266,column:77}},78:{start:{line:272,column:8},end:{line:293,column:11}},79:{start:{line:276,column:27},end:{line:276,column:73}},80:{start:{line:277,column:12},end:{line:292,column:13}},81:{start:{line:286,column:16},end:{line:288,column:19}},82:{start:{line:291,column:16},end:{line:291,column:81}},83:{start:{line:301,column:8},end:{line:308,column:9}},84:{start:{line:302,column:12},end:{line:307,column:13}},85:{start:{line:306,column:16},end:{line:306,column:77}},86:{start:{line:316,column:21},end:{line:316,column:23}},87:{start:{line:317,column:8},end:{line:325,column:9}},88:{start:{line:321,column:12},end:{line:323,column:13}},89:{start:{line:322,column:16},end:{line:322,column:25}},90:{start:{line:324,column:12},end:{line:324,column:64}},91:{start:{line:326,column:8},end:{line:326,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:30},end:{line:13,column:31}},loc:{start:{line:13,column:44},end:{line:22,column:1}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:38,column:4},end:{line:38,column:5}},loc:{start:{line:38,column:24},end:{line:82,column:5}},line:38},2:{name:"(anonymous_2)",decl:{start:{line:47,column:35},end:{line:47,column:36}},loc:{start:{line:47,column:56},end:{line:50,column:9}},line:47},3:{name:"(anonymous_3)",decl:{start:{line:52,column:18},end:{line:52,column:19}},loc:{start:{line:52,column:30},end:{line:74,column:9}},line:52},4:{name:"(anonymous_4)",decl:{start:{line:58,column:23},end:{line:58,column:24}},loc:{start:{line:58,column:35},end:{line:73,column:13}},line:58},5:{name:"(anonymous_5)",decl:{start:{line:75,column:19},end:{line:75,column:20}},loc:{start:{line:75,column:30},end:{line:81,column:9}},line:75},6:{name:"(anonymous_6)",decl:{start:{line:88,column:4},end:{line:88,column:5}},loc:{start:{line:88,column:30},end:{line:182,column:5}},line:88},7:{name:"(anonymous_7)",decl:{start:{line:155,column:54},end:{line:155,column:55}},loc:{start:{line:155,column:60},end:{line:155,column:63}},line:155},8:{name:"(anonymous_8)",decl:{start:{line:157,column:56},end:{line:157,column:57}},loc:{start:{line:157,column:62},end:{line:157,column:65}},line:157},9:{name:"(anonymous_9)",decl:{start:{line:188,column:4},end:{line:188,column:5}},loc:{start:{line:188,column:24},end:{line:190,column:5}},line:188},10:{name:"(anonymous_10)",decl:{start:{line:196,column:4},end:{line:196,column:5}},loc:{start:{line:196,column:21},end:{line:210,column:5}},line:196},11:{name:"(anonymous_11)",decl:{start:{line:216,column:4},end:{line:216,column:5}},loc:{start:{line:216,column:11},end:{line:225,column:5}},line:216},12:{name:"(anonymous_12)",decl:{start:{line:233,column:4},end:{line:233,column:5}},loc:{start:{line:233,column:18},end:{line:261,column:5}},line:233},13:{name:"(anonymous_13)",decl:{start:{line:244,column:38},end:{line:244,column:39}},loc:{start:{line:244,column:59},end:{line:260,column:10}},line:244},14:{name:"(anonymous_14)",decl:{start:{line:244,column:72},end:{line:244,column:73}},loc:{start:{line:244,column:84},end:{line:260,column:9}},line:244},15:{name:"(anonymous_15)",decl:{start:{line:265,column:4},end:{line:265,column:5}},loc:{start:{line:265,column:13},end:{line:267,column:5}},line:265},16:{name:"(anonymous_16)",decl:{start:{line:271,column:4},end:{line:271,column:5}},loc:{start:{line:271,column:23},end:{line:294,column:5}},line:271},17:{name:"(anonymous_17)",decl:{start:{line:272,column:24},end:{line:272,column:25}},loc:{start:{line:272,column:36},end:{line:293,column:9}},line:272},18:{name:"(anonymous_18)",decl:{start:{line:300,column:4},end:{line:300,column:5}},loc:{start:{line:300,column:23},end:{line:309,column:5}},line:300},19:{name:"(anonymous_19)",decl:{start:{line:315,column:4},end:{line:315,column:5}},loc:{start:{line:315,column:25},end:{line:327,column:5}},line:315}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:21,column:5}},{start:{line:19,column:4},end:{line:21,column:5}}],line:19},1:{loc:{start:{line:60,column:16},end:{line:64,column:17}},type:"if",locations:[{start:{line:60,column:16},end:{line:64,column:17}},{start:{line:60,column:16},end:{line:64,column:17}}],line:60},2:{loc:{start:{line:94,column:8},end:{line:98,column:9}},type:"if",locations:[{start:{line:94,column:8},end:{line:98,column:9}},{start:{line:94,column:8},end:{line:98,column:9}}],line:94},3:{loc:{start:{line:103,column:8},end:{line:106,column:9}},type:"if",locations:[{start:{line:103,column:8},end:{line:106,column:9}},{start:{line:103,column:8},end:{line:106,column:9}}],line:103},4:{loc:{start:{line:103,column:12},end:{line:103,column:45}},type:"binary-expr",locations:[{start:{line:103,column:12},end:{line:103,column:27}},{start:{line:103,column:31},end:{line:103,column:45}}],line:103},5:{loc:{start:{line:116,column:8},end:{line:118,column:9}},type:"if",locations:[{start:{line:116,column:8},end:{line:118,column:9}},{start:{line:116,column:8},end:{line:118,column:9}}],line:116},6:{loc:{start:{line:119,column:8},end:{line:121,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:121,column:9}},{start:{line:119,column:8},end:{line:121,column:9}}],line:119},7:{loc:{start:{line:127,column:35},end:{line:127,column:102}},type:"binary-expr",locations:[{start:{line:127,column:35},end:{line:127,column:59}},{start:{line:127,column:63},end:{line:127,column:87}},{start:{line:127,column:91},end:{line:127,column:102}}],line:127},8:{loc:{start:{line:133,column:32},end:{line:133,column:97}},type:"cond-expr",locations:[{start:{line:133,column:70},end:{line:133,column:91}},{start:{line:133,column:94},end:{line:133,column:97}}],line:133},9:{loc:{start:{line:144,column:34},end:{line:144,column:66}},type:"binary-expr",locations:[{start:{line:144,column:34},end:{line:144,column:57}},{start:{line:144,column:61},end:{line:144,column:66}}],line:144},10:{loc:{start:{line:145,column:32},end:{line:149,column:9}},type:"binary-expr",locations:[{start:{line:145,column:32},end:{line:145,column:53}},{start:{line:145,column:57},end:{line:149,column:9}}],line:145},11:{loc:{start:{line:150,column:34},end:{line:150,column:91}},type:"cond-expr",locations:[{start:{line:150,column:60},end:{line:150,column:83}},{start:{line:150,column:86},end:{line:150,column:91}}],line:150},12:{loc:{start:{line:151,column:28},end:{line:151,column:51}},type:"binary-expr",locations:[{start:{line:151,column:28},end:{line:151,column:45}},{start:{line:151,column:49},end:{line:151,column:51}}],line:151},13:{loc:{start:{line:152,column:27},end:{line:152,column:49}},type:"binary-expr",locations:[{start:{line:152,column:27},end:{line:152,column:43}},{start:{line:152,column:47},end:{line:152,column:49}}],line:152},14:{loc:{start:{line:153,column:27},end:{line:153,column:49}},type:"binary-expr",locations:[{start:{line:153,column:27},end:{line:153,column:43}},{start:{line:153,column:47},end:{line:153,column:49}}],line:153},15:{loc:{start:{line:155,column:30},end:{line:155,column:64}},type:"binary-expr",locations:[{start:{line:155,column:30},end:{line:155,column:49}},{start:{line:155,column:54},end:{line:155,column:63}}],line:155},16:{loc:{start:{line:157,column:31},end:{line:157,column:66}},type:"binary-expr",locations:[{start:{line:157,column:31},end:{line:157,column:51}},{start:{line:157,column:56},end:{line:157,column:65}}],line:157},17:{loc:{start:{line:158,column:36},end:{line:158,column:110}},type:"cond-expr",locations:[{start:{line:158,column:78},end:{line:158,column:103}},{start:{line:158,column:106},end:{line:158,column:110}}],line:158},18:{loc:{start:{line:162,column:8},end:{line:170,column:9}},type:"if",locations:[{start:{line:162,column:8},end:{line:170,column:9}},{start:{line:162,column:8},end:{line:170,column:9}}],line:162},19:{loc:{start:{line:167,column:12},end:{line:169,column:13}},type:"if",locations:[{start:{line:167,column:12},end:{line:169,column:13}},{start:{line:167,column:12},end:{line:169,column:13}}],line:167},20:{loc:{start:{line:167,column:16},end:{line:167,column:80}},type:"binary-expr",locations:[{start:{line:167,column:16},end:{line:167,column:40}},{start:{line:167,column:44},end:{line:167,column:80}}],line:167},21:{loc:{start:{line:171,column:31},end:{line:171,column:60}},type:"binary-expr",locations:[{start:{line:171,column:31},end:{line:171,column:51}},{start:{line:171,column:55},end:{line:171,column:60}}],line:171},22:{loc:{start:{line:175,column:8},end:{line:177,column:9}},type:"if",locations:[{start:{line:175,column:8},end:{line:177,column:9}},{start:{line:175,column:8},end:{line:177,column:9}}],line:175},23:{loc:{start:{line:175,column:12},end:{line:175,column:79}},type:"cond-expr",locations:[{start:{line:175,column:59},end:{line:175,column:65}},{start:{line:175,column:68},end:{line:175,column:79}}],line:175},24:{loc:{start:{line:175,column:12},end:{line:175,column:56}},type:"binary-expr",locations:[{start:{line:175,column:12},end:{line:175,column:39}},{start:{line:175,column:43},end:{line:175,column:56}}],line:175},25:{loc:{start:{line:181,column:37},end:{line:181,column:116}},type:"binary-expr",locations:[{start:{line:181,column:38},end:{line:181,column:106}},{start:{line:181,column:111},end:{line:181,column:116}}],line:181},26:{loc:{start:{line:181,column:38},end:{line:181,column:106}},type:"cond-expr",locations:[{start:{line:181,column:85},end:{line:181,column:91}},{start:{line:181,column:94},end:{line:181,column:106}}],line:181},27:{loc:{start:{line:181,column:38},end:{line:181,column:82}},type:"binary-expr",locations:[{start:{line:181,column:38},end:{line:181,column:65}},{start:{line:181,column:69},end:{line:181,column:82}}],line:181},28:{loc:{start:{line:198,column:8},end:{line:200,column:9}},type:"if",locations:[{start:{line:198,column:8},end:{line:200,column:9}},{start:{line:198,column:8},end:{line:200,column:9}}],line:198},29:{loc:{start:{line:198,column:12},end:{line:198,column:30}},type:"binary-expr",locations:[{start:{line:198,column:12},end:{line:198,column:20}},{start:{line:198,column:24},end:{line:198,column:30}}],line:198},30:{loc:{start:{line:204,column:8},end:{line:206,column:9}},type:"if",locations:[{start:{line:204,column:8},end:{line:206,column:9}},{start:{line:204,column:8},end:{line:206,column:9}}],line:204},31:{loc:{start:{line:204,column:12},end:{line:204,column:56}},type:"binary-expr",locations:[{start:{line:204,column:12},end:{line:204,column:38}},{start:{line:204,column:42},end:{line:204,column:56}}],line:204},32:{loc:{start:{line:207,column:8},end:{line:209,column:9}},type:"if",locations:[{start:{line:207,column:8},end:{line:209,column:9}},{start:{line:207,column:8},end:{line:209,column:9}}],line:207},33:{loc:{start:{line:207,column:12},end:{line:207,column:72}},type:"binary-expr",locations:[{start:{line:207,column:12},end:{line:207,column:18}},{start:{line:207,column:22},end:{line:207,column:48}},{start:{line:207,column:52},end:{line:207,column:72}}],line:207},34:{loc:{start:{line:254,column:16},end:{line:256,column:17}},type:"if",locations:[{start:{line:254,column:16},end:{line:256,column:17}},{start:{line:254,column:16},end:{line:256,column:17}}],line:254},35:{loc:{start:{line:276,column:27},end:{line:276,column:73}},type:"cond-expr",locations:[{start:{line:276,column:50},end:{line:276,column:56}},{start:{line:276,column:59},end:{line:276,column:73}}],line:276},36:{loc:{start:{line:302,column:12},end:{line:307,column:13}},type:"if",locations:[{start:{line:302,column:12},end:{line:307,column:13}},{start:{line:302,column:12},end:{line:307,column:13}}],line:302},37:{loc:{start:{line:321,column:12},end:{line:323,column:13}},type:"if",locations:[{start:{line:321,column:12},end:{line:323,column:13}},{start:{line:321,column:12},end:{line:323,column:13}}],line:321}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/core.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/core.ts"],names:[],mappings:"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",sourcesContent:["import $ from './dom';\nimport * as _ from './utils';\nimport { EditorConfig, OutputData, SanitizerConfig } from '../../types';\nimport { EditorModules } from '../types-internal/editor-modules';\nimport I18n from './i18n';\nimport { CriticalError } from './errors/critical';\n\n/**\n * @typedef {Core} Core - editor core class\n */\n\n/**\n * Require Editor modules places in components/modules dir\n */\nconst contextRequire = require.context('./modules', true);\n\nconst modules = [];\n\ncontextRequire.keys().forEach((filename) => {\n  /**\n   * Include files if:\n   * - extension is .js or .ts\n   * - does not starts with _\n   */\n  if (filename.match(/^\\.\\/[^_][\\w/]*\\.([tj])s$/)) {\n    modules.push(contextRequire(filename));\n  }\n});\n\n/**\n * @class Core\n *\n * @classdesc Editor.js core class\n *\n * @property {EditorConfig} config - all settings\n * @property {EditorModules} moduleInstances - constructed editor components\n *\n * @type {Core}\n */\nexport default class Core {\n  /**\n   * Editor configuration passed by user to the constructor\n   */\n  public config: EditorConfig;\n\n  /**\n   * Object with core modules instances\n   */\n  public moduleInstances: EditorModules = {} as EditorModules;\n\n  /**\n   * Promise that resolves when all core modules are prepared and UI is rendered on the page\n   */\n  public isReady: Promise<void>;\n\n  /**\n   * @param {EditorConfig} config - user configuration\n   *\n   */\n  constructor(config?: EditorConfig|string) {\n    /**\n     * Ready promise. Resolved if Editor.js is ready to work, rejected otherwise\n     */\n    let onReady, onFail;\n\n    this.isReady = new Promise((resolve, reject) => {\n      onReady = resolve;\n      onFail = reject;\n    });\n\n    Promise.resolve()\n      .then(async () => {\n        this.configuration = config;\n\n        await this.validate();\n        await this.init();\n        await this.start();\n\n        _.logLabeled('I\\'m ready! (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧', 'log', '', 'color: #E24A75');\n\n        setTimeout(async () => {\n          await this.render();\n\n          if ((this.configuration as EditorConfig).autofocus) {\n            const { BlockManager, Caret } = this.moduleInstances;\n\n            Caret.setToBlock(BlockManager.blocks[0], Caret.positions.START);\n            BlockManager.highlightCurrentNode();\n          }\n\n          /**\n           * Remove loader, show content\n           */\n          this.moduleInstances.UI.removeLoader();\n\n          /**\n           * Resolve this.isReady promise\n           */\n          onReady();\n        }, 500);\n      })\n      .catch((error) => {\n        _.log(`Editor.js is not ready because of ${error}`, 'error');\n\n        /**\n         * Reject this.isReady promise\n         */\n        onFail(error);\n      });\n  }\n\n  /**\n   * Setting for configuration\n   *\n   * @param {EditorConfig|string} config - Editor's config to set\n   */\n  public set configuration(config: EditorConfig|string) {\n    /**\n     * Process zero-configuration or with only holderId\n     * Make config object\n     */\n    if (typeof config !== 'object') {\n      config = {\n        holder: config,\n      };\n    }\n\n    /**\n     * If holderId is preset, assign him to holder property and work next only with holder\n     */\n    _.deprecationAssert(!!config.holderId, 'config.holderId', 'config.holder');\n    if (config.holderId && !config.holder) {\n      config.holder = config.holderId;\n      config.holderId = null;\n    }\n\n    /**\n     * Place config into the class property\n     *\n     * @type {EditorConfig}\n     */\n    this.config = config;\n\n    /**\n     * If holder is empty then set a default value\n     */\n    if (this.config.holder == null) {\n      this.config.holder = 'editorjs';\n    }\n\n    if (!this.config.logLevel) {\n      this.config.logLevel = _.LogLevels.VERBOSE;\n    }\n\n    _.setLogLevel(this.config.logLevel);\n\n    /**\n     * If default Block's Tool was not passed, use the Paragraph Tool\n     */\n    _.deprecationAssert(Boolean(this.config.initialBlock), 'config.initialBlock', 'config.defaultBlock');\n    this.config.defaultBlock = this.config.defaultBlock || this.config.initialBlock || 'paragraph';\n\n    /**\n     * Height of Editor's bottom area that allows to set focus on the last Block\n     *\n     * @type {number}\n     */\n    this.config.minHeight = this.config.minHeight !== undefined ? this.config.minHeight : 300;\n\n    /**\n     * Default block type\n     * Uses in case when there is no blocks passed\n     *\n     * @type {{type: (*), data: {text: null}}}\n     */\n    const defaultBlockData = {\n      type: this.config.defaultBlock,\n      data: {},\n    };\n\n    this.config.placeholder = this.config.placeholder || false;\n    this.config.sanitizer = this.config.sanitizer || {\n      p: true,\n      b: true,\n      a: true,\n    } as SanitizerConfig;\n\n    this.config.hideToolbar = this.config.hideToolbar ? this.config.hideToolbar : false;\n    this.config.tools = this.config.tools || {};\n    this.config.i18n = this.config.i18n || {};\n    this.config.data = this.config.data || {} as OutputData;\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    this.config.onReady = this.config.onReady || ((): void => {});\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    this.config.onChange = this.config.onChange || ((): void => {});\n    this.config.inlineToolbar = this.config.inlineToolbar !== undefined ? this.config.inlineToolbar : true;\n\n    /**\n     * Initialize default Block to pass data to the Renderer\n     */\n    if (_.isEmpty(this.config.data)) {\n      this.config.data = {} as OutputData;\n      this.config.data.blocks = [ defaultBlockData ];\n    } else {\n      if (!this.config.data.blocks || this.config.data.blocks.length === 0) {\n        this.config.data.blocks = [ defaultBlockData ];\n      }\n    }\n\n    this.config.readOnly = this.config.readOnly as boolean || false;\n\n    /**\n     * Adjust i18n\n     */\n    if (config.i18n?.messages) {\n      I18n.setDictionary(config.i18n.messages);\n    }\n\n    /**\n     * Text direction. If not set, uses ltr\n     */\n    this.config.i18n.direction = config.i18n?.direction || 'ltr';\n  }\n\n  /**\n   * Returns private property\n   *\n   * @returns {EditorConfig}\n   */\n  public get configuration(): EditorConfig|string {\n    return this.config;\n  }\n\n  /**\n   * Checks for required fields in Editor's config\n   *\n   * @returns {Promise<void>}\n   */\n  public async validate(): Promise<void> {\n    const { holderId, holder } = this.config;\n\n    if (holderId && holder) {\n      throw Error('«holderId» and «holder» param can\\'t assign at the same time.');\n    }\n\n    /**\n     * Check for a holder element's existence\n     */\n    if (typeof holder === 'string' && !$.get(holder)) {\n      throw Error(`element with ID «${holder}» is missing. Pass correct holder's ID.`);\n    }\n\n    if (holder && typeof holder === 'object' && !$.isElement(holder)) {\n      throw Error('holder as HTMLElement if provided must be inherit from Element class.');\n    }\n  }\n\n  /**\n   * Initializes modules:\n   *  - make and save instances\n   *  - configure\n   */\n  public init(): void {\n    /**\n     * Make modules instances and save it to the @property this.moduleInstances\n     */\n    this.constructModules();\n\n    /**\n     * Modules configuration\n     */\n    this.configureModules();\n  }\n\n  /**\n   * Start Editor!\n   *\n   * Get list of modules that needs to be prepared and return a sequence (Promise)\n   *\n   * @returns {Promise<void>}\n   */\n  public async start(): Promise<void> {\n    const modulesToPrepare = [\n      'Tools',\n      'UI',\n      'BlockManager',\n      'Paste',\n      'BlockSelection',\n      'RectangleSelection',\n      'CrossBlockSelection',\n      'ReadOnly',\n    ];\n\n    await modulesToPrepare.reduce(\n      (promise, module) => promise.then(async () => {\n        // _.log(`Preparing ${module} module`, 'time');\n\n        try {\n          await this.moduleInstances[module].prepare();\n        } catch (e) {\n          /**\n           * CriticalError's will not be caught\n           * It is used when Editor is rendering in read-only mode with unsupported plugin\n           */\n          if (e instanceof CriticalError) {\n            throw new Error(e.message);\n          }\n          _.log(`Module ${module} was skipped because of %o`, 'warn', e);\n        }\n        // _.log(`Preparing ${module} module`, 'timeEnd');\n      }),\n      Promise.resolve()\n    );\n  }\n\n  /**\n   * Render initial data\n   */\n  private render(): Promise<void> {\n    return this.moduleInstances.Renderer.render(this.config.data.blocks);\n  }\n\n  /**\n   * Make modules instances and save it to the @property this.moduleInstances\n   */\n  private constructModules(): void {\n    modules.forEach((module) => {\n      /**\n       * If module has non-default exports, passed object contains them all and default export as 'default' property\n       */\n      const Module = _.isFunction(module) ? module : module.default;\n\n      try {\n        /**\n         * We use class name provided by displayName property\n         *\n         * On build, Babel will transform all Classes to the Functions so, name will always be 'Function'\n         * To prevent this, we use 'babel-plugin-class-display-name' plugin\n         *\n         * @see  https://www.npmjs.com/package/babel-plugin-class-display-name\n         */\n        this.moduleInstances[Module.displayName] = new Module({\n          config: this.configuration,\n        });\n      } catch (e) {\n        _.log(`Module ${Module.displayName} skipped because`, 'warn', e);\n      }\n    });\n  }\n\n  /**\n   * Modules instances configuration:\n   *  - pass other modules to the 'state' property\n   *  - ...\n   */\n  private configureModules(): void {\n    for (const name in this.moduleInstances) {\n      if (Object.prototype.hasOwnProperty.call(this.moduleInstances, name)) {\n        /**\n         * Module does not need self-instance\n         */\n        this.moduleInstances[name].state = this.getModulesDiff(name);\n      }\n    }\n  }\n\n  /**\n   * Return modules without passed name\n   *\n   * @param {string} name - module for witch modules difference should be calculated\n   */\n  private getModulesDiff(name: string): EditorModules {\n    const diff = {} as EditorModules;\n\n    for (const moduleName in this.moduleInstances) {\n      /**\n       * Skip module with passed name\n       */\n      if (moduleName === name) {\n        continue;\n      }\n      diff[moduleName] = this.moduleInstances[moduleName];\n    }\n\n    return diff;\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9e29fa7af3f06e205cdc8202b6ba8f3eb53bbc14"});var l=t[n];return f=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=d(l),o=d(o),i=d(i),c=d(c),s=d(s),r=d(r),C=m(C),a=d(a),f();var p=(f().s[0]++,e(373)),E=(f().s[1]++,[]);f().s[2]++,p.keys().forEach((function(n){f().f[0]++,f().s[3]++,n.match(/^\.\/[^_][\w/]*\.([tj])s$/)?(f().b[0][0]++,f().s[4]++,E.push(p(n))):f().b[0][1]++}));var I=function(){function n(A){var e,t,l=this;(0,c.default)(this,n),f().f[1]++,f().s[5]++,this.moduleInstances={},f().s[6]++,this.isReady=new Promise((function(n,A){f().f[2]++,f().s[7]++,e=n,f().s[8]++,t=A})),f().s[9]++,Promise.resolve().then((0,i.default)(o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f().f[3]++,f().s[10]++,l.configuration=A,f().s[11]++,n.next=6,l.validate();case 6:return f().s[12]++,n.next=9,l.init();case 9:return f().s[13]++,n.next=12,l.start();case 12:f().s[14]++,C.logLabeled("I'm ready! (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧","log","","color: #E24A75"),f().s[15]++,setTimeout((0,i.default)(o.default.mark((function n(){var A,t,i;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f().f[4]++,f().s[16]++,n.next=4,l.render();case 4:f().s[17]++,l.configuration.autofocus?(f().b[1][0]++,f().s[18]++,A=l.moduleInstances,t=A.BlockManager,i=A.Caret,f().s[19]++,i.setToBlock(t.blocks[0],i.positions.START),f().s[20]++,t.highlightCurrentNode()):f().b[1][1]++,f().s[21]++,l.moduleInstances.UI.removeLoader(),f().s[22]++,e();case 10:case"end":return n.stop()}}),n)}))),500);case 16:case"end":return n.stop()}}),n)})))).catch((function(n){f().f[5]++,f().s[23]++,C.log("Editor.js is not ready because of ".concat(n),"error"),f().s[24]++,t(n)}))}var A,e;return(0,s.default)(n,[{key:"validate",value:(e=(0,i.default)(o.default.mark((function n(){var A,e,t;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(f().f[10]++,f().s[60]++,A=this.config,e=A.holderId,t=A.holder,f().s[61]++,f().b[29][0]++,!e||(f().b[29][1]++,!t)){n.next=9;break}throw f().b[28][0]++,f().s[62]++,Error("«holderId» and «holder» param can't assign at the same time.");case 9:f().b[28][1]++;case 10:if(f().s[63]++,f().b[31][0]++,"string"!=typeof t||(f().b[31][1]++,r.default.get(t))){n.next=17;break}throw f().b[30][0]++,f().s[64]++,Error("element with ID «".concat(t,"» is missing. Pass correct holder's ID."));case 17:f().b[30][1]++;case 18:if(f().s[65]++,f().b[33][0]++,!t||(f().b[33][1]++,"object"!==(0,l.default)(t))||(f().b[33][2]++,r.default.isElement(t))){n.next=25;break}throw f().b[32][0]++,f().s[66]++,Error("holder as HTMLElement if provided must be inherit from Element class.");case 25:f().b[32][1]++;case 26:case"end":return n.stop()}}),n,this)}))),function(){return e.apply(this,arguments)})},{key:"init",value:function(){f().f[11]++,f().s[67]++,this.constructModules(),f().s[68]++,this.configureModules()}},{key:"start",value:(A=(0,i.default)(o.default.mark((function n(){var A,e=this;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f().f[12]++,f().s[69]++,A=["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"],f().s[70]++,n.next=5,A.reduce((function(n,A){return f().f[13]++,f().s[71]++,n.then((0,i.default)(o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f().f[14]++,f().s[72]++,n.prev=2,f().s[73]++,n.next=6,e.moduleInstances[A].prepare();case 6:n.next=20;break;case 8:if(n.prev=8,n.t0=n.catch(2),f().s[74]++,!(n.t0 instanceof u.CriticalError)){n.next=17;break}throw f().b[34][0]++,f().s[75]++,new Error(n.t0.message);case 17:f().b[34][1]++;case 18:f().s[76]++,C.log("Module ".concat(A," was skipped because of %o"),"warn",n.t0);case 20:case"end":return n.stop()}}),n,null,[[2,8]])}))))}),Promise.resolve());case 5:case"end":return n.stop()}}),n)}))),function(){return A.apply(this,arguments)})},{key:"render",value:function(){return f().f[15]++,f().s[77]++,this.moduleInstances.Renderer.render(this.config.data.blocks)}},{key:"constructModules",value:function(){var n=this;f().f[16]++,f().s[78]++,E.forEach((function(A){f().f[17]++;var e=(f().s[79]++,C.isFunction(A)?(f().b[35][0]++,A):(f().b[35][1]++,A.default));f().s[80]++;try{f().s[81]++,n.moduleInstances[e.displayName]=new e({config:n.configuration})}catch(n){f().s[82]++,C.log("Module ".concat(e.displayName," skipped because"),"warn",n)}}))}},{key:"configureModules",value:function(){for(var n in f().f[18]++,f().s[83]++,this.moduleInstances)f().s[84]++,Object.prototype.hasOwnProperty.call(this.moduleInstances,n)?(f().b[36][0]++,f().s[85]++,this.moduleInstances[n].state=this.getModulesDiff(n)):f().b[36][1]++}},{key:"getModulesDiff",value:function(n){f().f[19]++;var A=(f().s[86]++,{});for(var e in f().s[87]++,this.moduleInstances)f().s[88]++,e!==n?(f().b[37][1]++,f().s[90]++,A[e]=this.moduleInstances[e]):(f().b[37][0]++,f().s[89]++);return f().s[91]++,A}},{key:"configuration",set:function(n){var A,e;f().f[6]++,f().s[25]++,"object"!==(0,l.default)(n)?(f().b[2][0]++,f().s[26]++,n={holder:n}):f().b[2][1]++,f().s[27]++,C.deprecationAssert(!!n.holderId,"config.holderId","config.holder"),f().s[28]++,f().b[4][0]++,n.holderId&&(f().b[4][1]++,!n.holder)?(f().b[3][0]++,f().s[29]++,n.holder=n.holderId,f().s[30]++,n.holderId=null):f().b[3][1]++,f().s[31]++,this.config=n,f().s[32]++,null==this.config.holder?(f().b[5][0]++,f().s[33]++,this.config.holder="editorjs"):f().b[5][1]++,f().s[34]++,this.config.logLevel?f().b[6][1]++:(f().b[6][0]++,f().s[35]++,this.config.logLevel=C.LogLevels.VERBOSE),f().s[36]++,C.setLogLevel(this.config.logLevel),f().s[37]++,C.deprecationAssert(Boolean(this.config.initialBlock),"config.initialBlock","config.defaultBlock"),f().s[38]++,this.config.defaultBlock=(f().b[7][0]++,this.config.defaultBlock||(f().b[7][1]++,this.config.initialBlock)||(f().b[7][2]++,"paragraph")),f().s[39]++,this.config.minHeight=void 0!==this.config.minHeight?(f().b[8][0]++,this.config.minHeight):(f().b[8][1]++,300);var t=(f().s[40]++,{type:this.config.defaultBlock,data:{}});f().s[41]++,this.config.placeholder=(f().b[9][0]++,this.config.placeholder||(f().b[9][1]++,!1)),f().s[42]++,this.config.sanitizer=(f().b[10][0]++,this.config.sanitizer||(f().b[10][1]++,{p:!0,b:!0,a:!0})),f().s[43]++,this.config.hideToolbar=this.config.hideToolbar?(f().b[11][0]++,this.config.hideToolbar):(f().b[11][1]++,!1),f().s[44]++,this.config.tools=(f().b[12][0]++,this.config.tools||(f().b[12][1]++,{})),f().s[45]++,this.config.i18n=(f().b[13][0]++,this.config.i18n||(f().b[13][1]++,{})),f().s[46]++,this.config.data=(f().b[14][0]++,this.config.data||(f().b[14][1]++,{})),f().s[47]++,this.config.onReady=(f().b[15][0]++,this.config.onReady||(f().b[15][1]++,function(){f().f[7]++})),f().s[48]++,this.config.onChange=(f().b[16][0]++,this.config.onChange||(f().b[16][1]++,function(){f().f[8]++})),f().s[49]++,this.config.inlineToolbar=void 0!==this.config.inlineToolbar?(f().b[17][0]++,this.config.inlineToolbar):(f().b[17][1]++,!0),f().s[50]++,C.isEmpty(this.config.data)?(f().b[18][0]++,f().s[51]++,this.config.data={},f().s[52]++,this.config.data.blocks=[t]):(f().b[18][1]++,f().s[53]++,f().b[20][0]++,this.config.data.blocks&&(f().b[20][1]++,0!==this.config.data.blocks.length)?f().b[19][1]++:(f().b[19][0]++,f().s[54]++,this.config.data.blocks=[t])),f().s[55]++,this.config.readOnly=(f().b[21][0]++,this.config.readOnly||(f().b[21][1]++,!1)),f().s[56]++,f().b[24][0]++,(null===(A=n.i18n)||(f().b[24][1]++,void 0===A)?void f().b[23][0]++:(f().b[23][1]++,A.messages))?(f().b[22][0]++,f().s[57]++,a.default.setDictionary(n.i18n.messages)):f().b[22][1]++,f().s[58]++,this.config.i18n.direction=(f().b[25][0]++,f().b[27][0]++,(null===(e=n.i18n)||(f().b[27][1]++,void 0===e)?void f().b[26][0]++:(f().b[26][1]++,e.direction))||(f().b[25][1]++,"ltr"))},get:function(){return f().f[9]++,f().s[59]++,this.config}}]),n}();t.default=I,I.displayName="Core",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t=e(142);n.exports=function(n){if(Array.isArray(n))return t(n)}},function(n,A){n.exports=function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}},function(n,A){n.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(n,A){n.exports=function(n,A,e){return A in n?Object.defineProperty(n,A,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[A]=e,n}},function(n,A){n.exports=function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}},function(n,A,e){var t=e(4),l=e(108),o=e(370),i=e(371);function c(A){var e="function"==typeof Map?new Map:void 0;return n.exports=c=function(n){if(null===n||!o(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(n))return e.get(n);e.set(n,A)}function A(){return i(n,arguments,t(this).constructor)}return A.prototype=Object.create(n.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),l(A,n)},c(A)}n.exports=c},function(n,A){n.exports=function(n){return-1!==Function.toString.call(n).indexOf("[native code]")}},function(n,A,e){var t=e(108),l=e(372);function o(A,e,i){return l()?n.exports=o=Reflect.construct:n.exports=o=function(n,A,e){var l=[null];l.push.apply(l,A);var o=new(Function.bind.apply(n,l));return e&&t(o,e.prototype),o},o.apply(null,arguments)}n.exports=o},function(n,A){n.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}},function(n,A,e){var t={"./api":80,"./api/":80,"./api/blocks":145,"./api/blocks.ts":145,"./api/caret":147,"./api/caret.ts":147,"./api/events":148,"./api/events.ts":148,"./api/i18n":149,"./api/i18n.ts":149,"./api/index":80,"./api/index.ts":80,"./api/inlineToolbar":150,"./api/inlineToolbar.ts":150,"./api/listeners":151,"./api/listeners.ts":151,"./api/notifier":152,"./api/notifier.ts":152,"./api/readonly":153,"./api/readonly.ts":153,"./api/sanitizer":154,"./api/sanitizer.ts":154,"./api/saver":155,"./api/saver.ts":155,"./api/selection":156,"./api/selection.ts":156,"./api/styles":157,"./api/styles.ts":157,"./api/toolbar":158,"./api/toolbar.ts":158,"./api/tooltip":159,"./api/tooltip.ts":159,"./blockEvents":160,"./blockEvents.ts":160,"./blockManager":161,"./blockManager.ts":161,"./blockSelection":162,"./blockSelection.ts":162,"./caret":163,"./caret.ts":163,"./crossBlockSelection":164,"./crossBlockSelection.ts":164,"./dragNDrop":165,"./dragNDrop.ts":165,"./events":166,"./events.ts":166,"./listeners":167,"./listeners.ts":167,"./modificationsObserver":168,"./modificationsObserver.ts":168,"./notifier":169,"./notifier.ts":169,"./paste":170,"./paste.ts":170,"./readonly":171,"./readonly.ts":171,"./rectangleSelection":172,"./rectangleSelection.ts":172,"./renderer":173,"./renderer.ts":173,"./sanitizer":174,"./sanitizer.ts":174,"./saver":175,"./saver.ts":175,"./shortcuts":176,"./shortcuts.ts":176,"./toolbar":81,"./toolbar/":81,"./toolbar/blockSettings":177,"./toolbar/blockSettings.ts":177,"./toolbar/conversion":178,"./toolbar/conversion.ts":178,"./toolbar/index":81,"./toolbar/index.ts":81,"./toolbar/inline":179,"./toolbar/inline.ts":179,"./toolbar/toolbox":180,"./toolbar/toolbox.ts":180,"./tools":67,"./tools.ts":67,"./tooltip":181,"./tooltip.ts":181,"./ui":182,"./ui.ts":182};function l(n){var A=o(n);return e(A)}function o(n){if(!e.o(t,n)){var A=new Error("Cannot find module '"+n+"'");throw A.code="MODULE_NOT_FOUND",A}return t[n]}l.keys=function(){return Object.keys(t)},l.resolve=o,n.exports=l,l.id=373},function(n,A,e){window,n.exports=function(n){var A={};function e(t){if(A[t])return A[t].exports;var l=A[t]={i:t,l:!1,exports:{}};return n[t].call(l.exports,l,l.exports,e),l.l=!0,l.exports}return e.m=n,e.c=A,e.d=function(n,A,t){e.o(n,A)||Object.defineProperty(n,A,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,A){if(1&A&&(n=e(n)),8&A)return n;if(4&A&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&A&&"string"!=typeof n)for(var l in n)e.d(t,l,function(A){return n[A]}.bind(null,l));return t},e.n=function(n){var A=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(A,"a",A),A},e.o=function(n,A){return Object.prototype.hasOwnProperty.call(n,A)},e.p="/",e(e.s=0)}([function(n,A,e){function t(n,A){for(var e=0;e<A.length;e++){var t=A[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function l(n,A,e){return A&&t(n.prototype,A),e&&t(n,e),n}e(1).toString();var o=function(){function n(A){var e=A.data,t=A.config,l=A.api,o=A.readOnly;!function(n,A){if(!(n instanceof A))throw new TypeError("Cannot call a class as a function")}(this,n),this.api=l,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=t.placeholder?t.placeholder:n.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=void 0!==t.preserveBlank&&t.preserveBlank,this.data=e}return l(n,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),l(n,[{key:"onKeyUp",value:function(n){"Backspace"!==n.code&&"Delete"!==n.code||""===this._element.textContent&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var n=document.createElement("DIV");return n.classList.add(this._CSS.wrapper,this._CSS.block),n.contentEditable=!1,n.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(n.contentEditable=!0,n.addEventListener("keyup",this.onKeyUp)),n}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(n){var A={text:this.data.text+n.text};this.data=A}},{key:"validate",value:function(n){return!(""===n.text.trim()&&!this._preserveBlank)}},{key:"save",value:function(n){return{text:n.innerHTML}}},{key:"onPaste",value:function(n){var A={text:n.detail.data.innerHTML};this.data=A}},{key:"data",get:function(){var n=this._element.innerHTML;return this._data.text=n,this._data},set:function(n){this._data=n||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:e(5).default,title:"Text"}}}]),n}();n.exports=o},function(n,A,e){var t=e(2),l=e(3);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[n.i,l,""]]),t(l,{insert:"head",singleton:!1}),n.exports=l.locals||{}},function(n,A,e){"use strict";var t,l=function(){var n={};return function(A){if(void 0===n[A]){var e=document.querySelector(A);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}n[A]=e}return n[A]}}(),o=[];function i(n){for(var A=-1,e=0;e<o.length;e++)if(o[e].identifier===n){A=e;break}return A}function c(n,A){for(var e={},t=[],l=0;l<n.length;l++){var c=n[l],s=A.base?c[0]+A.base:c[0],r=e[s]||0,C="".concat(s," ").concat(r);e[s]=r+1;var a=i(C),u={css:c[1],media:c[2],sourceMap:c[3]};-1!==a?(o[a].references++,o[a].updater(u)):o.push({identifier:C,updater:f(u,A),references:1}),t.push(C)}return t}function s(n){var A=document.createElement("style"),t=n.attributes||{};if(void 0===t.nonce){var o=e.nc;o&&(t.nonce=o)}if(Object.keys(t).forEach((function(n){A.setAttribute(n,t[n])})),"function"==typeof n.insert)n.insert(A);else{var i=l(n.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(A)}return A}var r,C=(r=[],function(n,A){return r[n]=A,r.filter(Boolean).join("\n")});function a(n,A,e,t){var l=e?"":t.media?"@media ".concat(t.media," {").concat(t.css,"}"):t.css;if(n.styleSheet)n.styleSheet.cssText=C(A,l);else{var o=document.createTextNode(l),i=n.childNodes;i[A]&&n.removeChild(i[A]),i.length?n.insertBefore(o,i[A]):n.appendChild(o)}}function u(n,A,e){var t=e.css,l=e.media,o=e.sourceMap;if(l?n.setAttribute("media",l):n.removeAttribute("media"),o&&btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}var m=null,d=0;function f(n,A){var e,t,l;if(A.singleton){var o=d++;e=m||(m=s(A)),t=a.bind(null,e,o,!1),l=a.bind(null,e,o,!0)}else e=s(A),t=u.bind(null,e,A),l=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)};return t(n),function(A){if(A){if(A.css===n.css&&A.media===n.media&&A.sourceMap===n.sourceMap)return;t(n=A)}else l()}}n.exports=function(n,A){(A=A||{}).singleton||"boolean"==typeof A.singleton||(A.singleton=(void 0===t&&(t=Boolean(window&&document&&document.all&&!window.atob)),t));var e=c(n=n||[],A);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var t=0;t<e.length;t++){var l=i(e[t]);o[l].references--}for(var s=c(n,A),r=0;r<e.length;r++){var C=i(e[r]);0===o[C].references&&(o[C].updater(),o.splice(C,1))}e=s}}}},function(n,A,e){(A=e(4)(!1)).push([n.i,".ce-paragraph {\n    line-height: 1.6em;\n    outline: none;\n}\n\n.ce-paragraph[data-placeholder]:empty::before{\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n/** Show placeholder at the first paragraph if Editor is empty */\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n.ce-paragraph p:first-of-type{\n    margin-top: 0;\n}\n\n.ce-paragraph p:last-of-type{\n    margin-bottom: 0;\n}\n",""]),n.exports=A},function(n,A,e){"use strict";n.exports=function(n){var A=[];return A.toString=function(){return this.map((function(A){var e=function(n,A){var e,t,l,o=n[1]||"",i=n[3];if(!i)return o;if(A&&"function"==typeof btoa){var c=(e=i,t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),"/*# ".concat(l," */")),s=i.sources.map((function(n){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(n," */")}));return[o].concat(s).concat([c]).join("\n")}return[o].join("\n")}(A,n);return A[2]?"@media ".concat(A[2]," {").concat(e,"}"):e})).join("")},A.i=function(n,e,t){"string"==typeof n&&(n=[[null,n,""]]);var l={};if(t)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(l[i]=!0)}for(var c=0;c<n.length;c++){var s=[].concat(n[c]);t&&l[s[0]]||(e&&(s[2]?s[2]="".concat(e," and ").concat(s[2]):s[2]=e),A.push(s))}},A}},function(n,A,e){"use strict";e.r(A),A.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.2 -0.3 9 11.4" width="12" height="14">\n  <path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/>\n</svg>\n'}])},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(15)],void 0===(o="function"==typeof(t=function(t,l,o,i){"use strict";var c=e(1);function s(){var n="/home/hata/editor.js/src/components/inline-tools/inline-tool-bold.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"a202e5d60f83d543ed52b0465465356c9da234a8"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/inline-tools/inline-tool-bold.ts",statementMap:{0:{start:{line:14,column:8},end:{line:14,column:34}},1:{start:{line:18,column:8},end:{line:22,column:10}},2:{start:{line:26,column:8},end:{line:28,column:10}},3:{start:{line:37,column:8},end:{line:39,column:10}},4:{start:{line:45,column:8},end:{line:45,column:61}},5:{start:{line:46,column:8},end:{line:46,column:42}},6:{start:{line:47,column:8},end:{line:47,column:82}},7:{start:{line:48,column:8},end:{line:48,column:61}},8:{start:{line:49,column:8},end:{line:49,column:33}},9:{start:{line:57,column:8},end:{line:57,column:47}},10:{start:{line:67,column:25},end:{line:67,column:69}},11:{start:{line:68,column:8},end:{line:68,column:76}},12:{start:{line:69,column:8},end:{line:69,column:24}},13:{start:{line:77,column:8},end:{line:77,column:23}},14:{start:{line:85,column:0},end:{line:85,column:31}},15:{start:{line:89,column:0},end:{line:89,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:18},end:{line:29,column:5}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:26},end:{line:40,column:5}},line:36},2:{name:"(anonymous_2)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:13},end:{line:50,column:5}},line:44},3:{name:"(anonymous_3)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:20},end:{line:58,column:5}},line:56},4:{name:"(anonymous_4)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:26},end:{line:70,column:5}},line:66},5:{name:"(anonymous_5)",decl:{start:{line:76,column:4},end:{line:76,column:5}},loc:{start:{line:76,column:19},end:{line:78,column:5}},line:76}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/inline-tools/inline-tool-bold.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/inline-tools/inline-tool-bold.ts"],names:[],mappings:"AAAA,OAAO,CAAC,MAAM,QAAQ,CAAC;AAGvB;;;;;;GAMG;AACH,MAAM,CAAC,OAAO,OAAO,cAAc;IAAnC;QAyBE;;WAEG;QACc,gBAAW,GAAW,MAAM,CAAC;QAE9C;;WAEG;QACc,QAAG,GAAG;YACrB,MAAM,EAAE,gBAAgB;YACxB,YAAY,EAAE,wBAAwB;YACtC,cAAc,EAAE,sBAAsB;SACvC,CAAC;QAEF;;WAEG;QACK,UAAK,GAAgC;YAC3C,MAAM,EAAE,SAAS;SAClB,CAAC;IA8CJ,CAAC;IA7EC;;;;;OAKG;IACI,MAAM,KAAK,QAAQ;QACxB,OAAO;YACL,CAAC,EAAE,EAAE;SACa,CAAC;IACvB,CAAC;IAuBD;;OAEG;IACI,MAAM;QACX,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAsB,CAAC;QAC1E,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,GAAG,QAAQ,CAAC;QAClC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAC1E,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;QAErD,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;IAC3B,CAAC;IAED;;;;OAIG;IACI,QAAQ,CAAC,KAAY;QAC1B,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACzC,CAAC;IAED;;;;;;OAMG;IACI,UAAU,CAAC,SAAoB;QACpC,MAAM,QAAQ,GAAG,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAE9D,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;QAEpE,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED;;;;OAIG;IACH,IAAW,QAAQ;QACjB,OAAO,OAAO,CAAC;IACjB,CAAC;;AAxFD;;;;GAIG;AACW,uBAAQ,GAAG,IAAI,CAAC;AAE9B;;GAEG;AACW,oBAAK,GAAG,MAAM,CAAC",sourcesContent:["import $ from '../dom';\nimport { InlineTool, SanitizerConfig } from '../../../types';\n\n/**\n * Bold Tool\n *\n * Inline Toolbar Tool\n *\n * Makes selected text bolder\n */\nexport default class BoldInlineTool implements InlineTool {\n  /**\n   * Specifies Tool as Inline Toolbar Tool\n   *\n   * @returns {boolean}\n   */\n  public static isInline = true;\n\n  /**\n   * Title for hover-tooltip\n   */\n  public static title = 'Bold';\n\n  /**\n   * Sanitizer Rule\n   * Leave <b> tags\n   *\n   * @returns {object}\n   */\n  public static get sanitize(): SanitizerConfig {\n    return {\n      b: {},\n    } as SanitizerConfig;\n  }\n\n  /**\n   * Native Document's command that uses for Bold\n   */\n  private readonly commandName: string = 'bold';\n\n  /**\n   * Styles\n   */\n  private readonly CSS = {\n    button: 'ce-inline-tool',\n    buttonActive: 'ce-inline-tool--active',\n    buttonModifier: 'ce-inline-tool--bold',\n  };\n\n  /**\n   * Elements\n   */\n  private nodes: {button: HTMLButtonElement} = {\n    button: undefined,\n  };\n\n  /**\n   * Create button for Inline Toolbar\n   */\n  public render(): HTMLElement {\n    this.nodes.button = document.createElement('button') as HTMLButtonElement;\n    this.nodes.button.type = 'button';\n    this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier);\n    this.nodes.button.appendChild($.svg('bold', 12, 14));\n\n    return this.nodes.button;\n  }\n\n  /**\n   * Wrap range with <b> tag\n   *\n   * @param {Range} range - range to wrap\n   */\n  public surround(range: Range): void {\n    document.execCommand(this.commandName);\n  }\n\n  /**\n   * Check selection and set activated state to button if there are <b> tag\n   *\n   * @param {Selection} selection - selection to check\n   *\n   * @returns {boolean}\n   */\n  public checkState(selection: Selection): boolean {\n    const isActive = document.queryCommandState(this.commandName);\n\n    this.nodes.button.classList.toggle(this.CSS.buttonActive, isActive);\n\n    return isActive;\n  }\n\n  /**\n   * Set a shortcut\n   *\n   * @returns {boolean}\n   */\n  public get shortcut(): string {\n    return 'CMD+B';\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a202e5d60f83d543ed52b0465465356c9da234a8"});var l=t[n];return s=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=c(l),o=c(o),i=c(i),s();var r=function(){function n(){(0,l.default)(this,n),s().f[0]++,s().s[0]++,this.commandName="bold",s().s[1]++,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},s().s[2]++,this.nodes={button:void 0}}return(0,o.default)(n,[{key:"render",value:function(){return s().f[2]++,s().s[4]++,this.nodes.button=document.createElement("button"),s().s[5]++,this.nodes.button.type="button",s().s[6]++,this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),s().s[7]++,this.nodes.button.appendChild(i.default.svg("bold",12,14)),s().s[8]++,this.nodes.button}},{key:"surround",value:function(n){s().f[3]++,s().s[9]++,document.execCommand(this.commandName)}},{key:"checkState",value:function(n){s().f[4]++;var A=(s().s[10]++,document.queryCommandState(this.commandName));return s().s[11]++,this.nodes.button.classList.toggle(this.CSS.buttonActive,A),s().s[12]++,A}},{key:"shortcut",get:function(){return s().f[5]++,s().s[13]++,"CMD+B"}}],[{key:"sanitize",get:function(){return s().f[1]++,s().s[3]++,{b:{}}}}]),n}();t.default=r,r.displayName="BoldInlineTool",s().s[14]++,r.isInline=!0,s().s[15]++,r.title="Bold",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(15)],void 0===(o="function"==typeof(t=function(t,l,o,i){"use strict";var c=e(1);function s(){var n="/home/hata/editor.js/src/components/inline-tools/inline-tool-italic.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"793347694c110939968c34a26116b92bb1806662"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/inline-tools/inline-tool-italic.ts",statementMap:{0:{start:{line:14,column:8},end:{line:14,column:36}},1:{start:{line:18,column:8},end:{line:22,column:10}},2:{start:{line:26,column:8},end:{line:28,column:10}},3:{start:{line:37,column:8},end:{line:39,column:10}},4:{start:{line:45,column:8},end:{line:45,column:61}},5:{start:{line:46,column:8},end:{line:46,column:42}},6:{start:{line:47,column:8},end:{line:47,column:82}},7:{start:{line:48,column:8},end:{line:48,column:62}},8:{start:{line:49,column:8},end:{line:49,column:33}},9:{start:{line:57,column:8},end:{line:57,column:47}},10:{start:{line:65,column:25},end:{line:65,column:69}},11:{start:{line:66,column:8},end:{line:66,column:76}},12:{start:{line:67,column:8},end:{line:67,column:24}},13:{start:{line:73,column:8},end:{line:73,column:23}},14:{start:{line:81,column:0},end:{line:81,column:33}},15:{start:{line:85,column:0},end:{line:85,column:34}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:18},end:{line:29,column:5}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:26},end:{line:40,column:5}},line:36},2:{name:"(anonymous_2)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:13},end:{line:50,column:5}},line:44},3:{name:"(anonymous_3)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:20},end:{line:58,column:5}},line:56},4:{name:"(anonymous_4)",decl:{start:{line:64,column:4},end:{line:64,column:5}},loc:{start:{line:64,column:26},end:{line:68,column:5}},line:64},5:{name:"(anonymous_5)",decl:{start:{line:72,column:4},end:{line:72,column:5}},loc:{start:{line:72,column:19},end:{line:74,column:5}},line:72}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/inline-tools/inline-tool-italic.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/inline-tools/inline-tool-italic.ts"],names:[],mappings:"AAAA,OAAO,CAAC,MAAM,QAAQ,CAAC;AAGvB;;;;;;GAMG;AACH,MAAM,CAAC,OAAO,OAAO,gBAAgB;IAArC;QAyBE;;WAEG;QACc,gBAAW,GAAW,QAAQ,CAAC;QAEhD;;WAEG;QACc,QAAG,GAAG;YACrB,MAAM,EAAE,gBAAgB;YACxB,YAAY,EAAE,wBAAwB;YACtC,cAAc,EAAE,wBAAwB;SACzC,CAAC;QAEF;;WAEG;QACK,UAAK,GAAgC;YAC3C,MAAM,EAAE,IAAI;SACb,CAAC;IA0CJ,CAAC;IAzEC;;;;;OAKG;IACI,MAAM,KAAK,QAAQ;QACxB,OAAO;YACL,CAAC,EAAE,EAAE;SACa,CAAC;IACvB,CAAC;IAuBD;;OAEG;IACI,MAAM;QACX,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAsB,CAAC;QAC1E,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,GAAG,QAAQ,CAAC;QAClC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAC1E,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QAEtD,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;IAC3B,CAAC;IAED;;;;OAIG;IACI,QAAQ,CAAC,KAAY;QAC1B,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACzC,CAAC;IAED;;;;OAIG;IACI,UAAU,CAAC,SAAoB;QACpC,MAAM,QAAQ,GAAG,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAE9D,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;QAEpE,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED;;OAEG;IACH,IAAW,QAAQ;QACjB,OAAO,OAAO,CAAC;IACjB,CAAC;;AApFD;;;;GAIG;AACW,yBAAQ,GAAG,IAAI,CAAC;AAE9B;;GAEG;AACW,sBAAK,GAAG,QAAQ,CAAC",sourcesContent:["import $ from '../dom';\nimport { InlineTool, SanitizerConfig } from '../../../types';\n\n/**\n * Italic Tool\n *\n * Inline Toolbar Tool\n *\n * Style selected text with italic\n */\nexport default class ItalicInlineTool implements InlineTool {\n  /**\n   * Specifies Tool as Inline Toolbar Tool\n   *\n   * @returns {boolean}\n   */\n  public static isInline = true;\n\n  /**\n   * Title for hover-tooltip\n   */\n  public static title = 'Italic';\n\n  /**\n   * Sanitizer Rule\n   * Leave <i> tags\n   *\n   * @returns {object}\n   */\n  public static get sanitize(): SanitizerConfig {\n    return {\n      i: {},\n    } as SanitizerConfig;\n  }\n\n  /**\n   * Native Document's command that uses for Italic\n   */\n  private readonly commandName: string = 'italic';\n\n  /**\n   * Styles\n   */\n  private readonly CSS = {\n    button: 'ce-inline-tool',\n    buttonActive: 'ce-inline-tool--active',\n    buttonModifier: 'ce-inline-tool--italic',\n  };\n\n  /**\n   * Elements\n   */\n  private nodes: {button: HTMLButtonElement} = {\n    button: null,\n  };\n\n  /**\n   * Create button for Inline Toolbar\n   */\n  public render(): HTMLElement {\n    this.nodes.button = document.createElement('button') as HTMLButtonElement;\n    this.nodes.button.type = 'button';\n    this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier);\n    this.nodes.button.appendChild($.svg('italic', 4, 11));\n\n    return this.nodes.button;\n  }\n\n  /**\n   * Wrap range with <i> tag\n   *\n   * @param {Range} range - range to wrap\n   */\n  public surround(range: Range): void {\n    document.execCommand(this.commandName);\n  }\n\n  /**\n   * Check selection and set activated state to button if there are <i> tag\n   *\n   * @param {Selection} selection - selection to check\n   */\n  public checkState(selection: Selection): boolean {\n    const isActive = document.queryCommandState(this.commandName);\n\n    this.nodes.button.classList.toggle(this.CSS.buttonActive, isActive);\n\n    return isActive;\n  }\n\n  /**\n   * Set a shortcut\n   */\n  public get shortcut(): string {\n    return 'CMD+I';\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"793347694c110939968c34a26116b92bb1806662"});var l=t[n];return s=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=c(l),o=c(o),i=c(i),s();var r=function(){function n(){(0,l.default)(this,n),s().f[0]++,s().s[0]++,this.commandName="italic",s().s[1]++,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},s().s[2]++,this.nodes={button:null}}return(0,o.default)(n,[{key:"render",value:function(){return s().f[2]++,s().s[4]++,this.nodes.button=document.createElement("button"),s().s[5]++,this.nodes.button.type="button",s().s[6]++,this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),s().s[7]++,this.nodes.button.appendChild(i.default.svg("italic",4,11)),s().s[8]++,this.nodes.button}},{key:"surround",value:function(n){s().f[3]++,s().s[9]++,document.execCommand(this.commandName)}},{key:"checkState",value:function(n){s().f[4]++;var A=(s().s[10]++,document.queryCommandState(this.commandName));return s().s[11]++,this.nodes.button.classList.toggle(this.CSS.buttonActive,A),s().s[12]++,A}},{key:"shortcut",get:function(){return s().f[5]++,s().s[13]++,"CMD+I"}}],[{key:"sanitize",get:function(){return s().f[1]++,s().s[3]++,{i:{}}}}]),n}();t.default=r,r.displayName="ItalicInlineTool",s().s[14]++,r.isInline=!0,s().s[15]++,r.title="Italic",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(25),e(15),e(8)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s){"use strict";var r=e(13),C=e(1);function a(){var n="/home/hata/editor.js/src/components/inline-tools/inline-tool-link.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"2f8b05a83f7c1dac543cca8d0051b44c736006dc"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/inline-tools/inline-tool-link.ts",statementMap:{0:{start:{line:19,column:8},end:{line:19,column:40}},1:{start:{line:20,column:8},end:{line:20,column:38}},2:{start:{line:24,column:8},end:{line:24,column:28}},3:{start:{line:28,column:8},end:{line:35,column:10}},4:{start:{line:39,column:8},end:{line:42,column:10}},5:{start:{line:46,column:8},end:{line:46,column:33}},6:{start:{line:47,column:8},end:{line:47,column:35}},7:{start:{line:48,column:8},end:{line:48,column:47}},8:{start:{line:49,column:8},end:{line:49,column:37}},9:{start:{line:50,column:8},end:{line:50,column:29}},10:{start:{line:51,column:8},end:{line:51,column:46}},11:{start:{line:60,column:8},end:{line:66,column:10}},12:{start:{line:72,column:8},end:{line:72,column:61}},13:{start:{line:73,column:8},end:{line:73,column:42}},14:{start:{line:74,column:8},end:{line:74,column:82}},15:{start:{line:75,column:8},end:{line:75,column:61}},16:{start:{line:76,column:8},end:{line:76,column:63}},17:{start:{line:77,column:8},end:{line:77,column:33}},18:{start:{line:83,column:8},end:{line:83,column:59}},19:{start:{line:84,column:8},end:{line:84,column:65}},20:{start:{line:85,column:8},end:{line:85,column:55}},21:{start:{line:86,column:8},end:{line:90,column:11}},22:{start:{line:87,column:12},end:{line:89,column:13}},23:{start:{line:88,column:16},end:{line:88,column:41}},24:{start:{line:91,column:8},end:{line:91,column:32}},25:{start:{line:102,column:8},end:{line:127,column:9}},26:{start:{line:106,column:12},end:{line:114,column:13}},27:{start:{line:108,column:16},end:{line:108,column:51}},28:{start:{line:109,column:16},end:{line:109,column:38}},29:{start:{line:112,column:16},end:{line:112,column:41}},30:{start:{line:113,column:16},end:{line:113,column:54}},31:{start:{line:115,column:33},end:{line:115,column:66}},32:{start:{line:119,column:12},end:{line:126,column:13}},33:{start:{line:120,column:16},end:{line:120,column:57}},34:{start:{line:121,column:16},end:{line:121,column:30}},35:{start:{line:122,column:16},end:{line:122,column:36}},36:{start:{line:123,column:16},end:{line:123,column:34}},37:{start:{line:124,column:16},end:{line:124,column:37}},38:{start:{line:125,column:16},end:{line:125,column:23}},39:{start:{line:128,column:8},end:{line:128,column:29}},40:{start:{line:136,column:26},end:{line:136,column:59}},41:{start:{line:137,column:8},end:{line:151,column:9}},42:{start:{line:138,column:12},end:{line:138,column:67}},43:{start:{line:139,column:12},end:{line:139,column:67}},44:{start:{line:140,column:12},end:{line:140,column:31}},45:{start:{line:144,column:29},end:{line:144,column:59}},46:{start:{line:145,column:12},end:{line:145,column:73}},47:{start:{line:146,column:12},end:{line:146,column:34}},48:{start:{line:149,column:12},end:{line:149,column:70}},49:{start:{line:150,column:12},end:{line:150,column:70}},50:{start:{line:152,column:8},end:{line:152,column:27}},51:{start:{line:158,column:8},end:{line:158,column:28}},52:{start:{line:164,column:8},end:{line:164,column:23}},53:{start:{line:170,column:8},end:{line:175,column:9}},54:{start:{line:171,column:12},end:{line:171,column:35}},55:{start:{line:174,column:12},end:{line:174,column:37}},56:{start:{line:181,column:8},end:{line:181,column:61}},57:{start:{line:182,column:8},end:{line:184,column:9}},58:{start:{line:183,column:12},end:{line:183,column:37}},59:{start:{line:185,column:8},end:{line:185,column:32}},60:{start:{line:194,column:8},end:{line:202,column:9}},61:{start:{line:196,column:37},end:{line:196,column:57}},62:{start:{line:197,column:12},end:{line:197,column:36}},63:{start:{line:198,column:12},end:{line:198,column:37}},64:{start:{line:199,column:12},end:{line:199,column:50}},65:{start:{line:201,column:12},end:{line:201,column:39}},66:{start:{line:203,column:8},end:{line:203,column:64}},67:{start:{line:204,column:8},end:{line:204,column:36}},68:{start:{line:205,column:8},end:{line:207,column:9}},69:{start:{line:206,column:12},end:{line:206,column:40}},70:{start:{line:208,column:8},end:{line:208,column:33}},71:{start:{line:216,column:20},end:{line:216,column:48}},72:{start:{line:217,column:8},end:{line:222,column:9}},73:{start:{line:218,column:12},end:{line:218,column:37}},74:{start:{line:219,column:12},end:{line:219,column:26}},75:{start:{line:220,column:12},end:{line:220,column:35}},76:{start:{line:221,column:12},end:{line:221,column:32}},77:{start:{line:223,column:8},end:{line:230,column:9}},78:{start:{line:224,column:12},end:{line:227,column:15}},79:{start:{line:228,column:12},end:{line:228,column:58}},80:{start:{line:229,column:12},end:{line:229,column:19}},81:{start:{line:231,column:8},end:{line:231,column:40}},82:{start:{line:232,column:8},end:{line:232,column:33}},83:{start:{line:233,column:8},end:{line:233,column:46}},84:{start:{line:234,column:8},end:{line:234,column:31}},85:{start:{line:238,column:8},end:{line:238,column:31}},86:{start:{line:239,column:8},end:{line:239,column:32}},87:{start:{line:240,column:8},end:{line:240,column:41}},88:{start:{line:241,column:8},end:{line:241,column:39}},89:{start:{line:242,column:8},end:{line:242,column:35}},90:{start:{line:254,column:8},end:{line:254,column:31}},91:{start:{line:264,column:8},end:{line:264,column:27}},92:{start:{line:265,column:8},end:{line:265,column:38}},93:{start:{line:266,column:8},end:{line:266,column:20}},94:{start:{line:277,column:8},end:{line:279,column:9}},95:{start:{line:278,column:12},end:{line:278,column:24}},96:{start:{line:286,column:27},end:{line:286,column:49}},97:{start:{line:286,column:62},end:{line:286,column:90}},98:{start:{line:286,column:113},end:{line:286,column:137}},99:{start:{line:287,column:8},end:{line:289,column:9}},100:{start:{line:288,column:12},end:{line:288,column:36}},101:{start:{line:290,column:8},end:{line:290,column:20}},102:{start:{line:301,column:26},end:{line:301,column:59}},103:{start:{line:302,column:8},end:{line:304,column:9}},104:{start:{line:303,column:12},end:{line:303,column:50}},105:{start:{line:305,column:8},end:{line:305,column:60}},106:{start:{line:311,column:8},end:{line:311,column:49}},107:{start:{line:319,column:0},end:{line:319,column:31}},108:{start:{line:323,column:0},end:{line:323,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:25},end:{line:52,column:5}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:59,column:4},end:{line:59,column:5}},loc:{start:{line:59,column:26},end:{line:67,column:5}},line:59},2:{name:"(anonymous_2)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:13},end:{line:78,column:5}},line:71},3:{name:"(anonymous_3)",decl:{start:{line:82,column:4},end:{line:82,column:5}},loc:{start:{line:82,column:20},end:{line:92,column:5}},line:82},4:{name:"(anonymous_4)",decl:{start:{line:86,column:53},end:{line:86,column:54}},loc:{start:{line:86,column:64},end:{line:90,column:9}},line:86},5:{name:"(anonymous_5)",decl:{start:{line:98,column:4},end:{line:98,column:5}},loc:{start:{line:98,column:20},end:{line:129,column:5}},line:98},6:{name:"(anonymous_6)",decl:{start:{line:135,column:4},end:{line:135,column:5}},loc:{start:{line:135,column:26},end:{line:153,column:5}},line:135},7:{name:"(anonymous_7)",decl:{start:{line:157,column:4},end:{line:157,column:5}},loc:{start:{line:157,column:12},end:{line:159,column:5}},line:157},8:{name:"(anonymous_8)",decl:{start:{line:163,column:4},end:{line:163,column:5}},loc:{start:{line:163,column:19},end:{line:165,column:5}},line:163},9:{name:"(anonymous_9)",decl:{start:{line:169,column:4},end:{line:169,column:5}},loc:{start:{line:169,column:20},end:{line:176,column:5}},line:169},10:{name:"(anonymous_10)",decl:{start:{line:180,column:4},end:{line:180,column:5}},loc:{start:{line:180,column:35},end:{line:186,column:5}},line:180},11:{name:"(anonymous_11)",decl:{start:{line:193,column:4},end:{line:193,column:5}},loc:{start:{line:193,column:45},end:{line:209,column:5}},line:193},12:{name:"(anonymous_12)",decl:{start:{line:215,column:4},end:{line:215,column:5}},loc:{start:{line:215,column:24},end:{line:243,column:5}},line:215},13:{name:"(anonymous_13)",decl:{start:{line:250,column:4},end:{line:250,column:5}},loc:{start:{line:250,column:21},end:{line:255,column:5}},line:250},14:{name:"(anonymous_14)",decl:{start:{line:263,column:4},end:{line:263,column:5}},loc:{start:{line:263,column:22},end:{line:267,column:5}},line:263},15:{name:"(anonymous_15)",decl:{start:{line:273,column:4},end:{line:273,column:5}},loc:{start:{line:273,column:22},end:{line:291,column:5}},line:273},16:{name:"(anonymous_16)",decl:{start:{line:297,column:4},end:{line:297,column:5}},loc:{start:{line:297,column:21},end:{line:306,column:5}},line:297},17:{name:"(anonymous_17)",decl:{start:{line:310,column:4},end:{line:310,column:5}},loc:{start:{line:310,column:13},end:{line:312,column:5}},line:310}},branchMap:{0:{loc:{start:{line:87,column:12},end:{line:89,column:13}},type:"if",locations:[{start:{line:87,column:12},end:{line:89,column:13}},{start:{line:87,column:12},end:{line:89,column:13}}],line:87},1:{loc:{start:{line:102,column:8},end:{line:127,column:9}},type:"if",locations:[{start:{line:102,column:8},end:{line:127,column:9}},{start:{line:102,column:8},end:{line:127,column:9}}],line:102},2:{loc:{start:{line:106,column:12},end:{line:114,column:13}},type:"if",locations:[{start:{line:106,column:12},end:{line:114,column:13}},{start:{line:106,column:12},end:{line:114,column:13}}],line:106},3:{loc:{start:{line:119,column:12},end:{line:126,column:13}},type:"if",locations:[{start:{line:119,column:12},end:{line:126,column:13}},{start:{line:119,column:12},end:{line:126,column:13}}],line:119},4:{loc:{start:{line:137,column:8},end:{line:151,column:9}},type:"if",locations:[{start:{line:137,column:8},end:{line:151,column:9}},{start:{line:137,column:8},end:{line:151,column:9}}],line:137},5:{loc:{start:{line:145,column:37},end:{line:145,column:72}},type:"cond-expr",locations:[{start:{line:145,column:59},end:{line:145,column:67}},{start:{line:145,column:70},end:{line:145,column:72}}],line:145},6:{loc:{start:{line:170,column:8},end:{line:175,column:9}},type:"if",locations:[{start:{line:170,column:8},end:{line:175,column:9}},{start:{line:170,column:8},end:{line:175,column:9}}],line:170},7:{loc:{start:{line:180,column:16},end:{line:180,column:33}},type:"default-arg",locations:[{start:{line:180,column:28},end:{line:180,column:33}}],line:180},8:{loc:{start:{line:182,column:8},end:{line:184,column:9}},type:"if",locations:[{start:{line:182,column:8},end:{line:184,column:9}},{start:{line:182,column:8},end:{line:184,column:9}}],line:182},9:{loc:{start:{line:193,column:17},end:{line:193,column:43}},type:"default-arg",locations:[{start:{line:193,column:39},end:{line:193,column:43}}],line:193},10:{loc:{start:{line:194,column:8},end:{line:202,column:9}},type:"if",locations:[{start:{line:194,column:8},end:{line:202,column:9}},{start:{line:194,column:8},end:{line:202,column:9}}],line:194},11:{loc:{start:{line:205,column:8},end:{line:207,column:9}},type:"if",locations:[{start:{line:205,column:8},end:{line:207,column:9}},{start:{line:205,column:8},end:{line:207,column:9}}],line:205},12:{loc:{start:{line:216,column:20},end:{line:216,column:48}},type:"binary-expr",locations:[{start:{line:216,column:20},end:{line:216,column:42}},{start:{line:216,column:46},end:{line:216,column:48}}],line:216},13:{loc:{start:{line:217,column:8},end:{line:222,column:9}},type:"if",locations:[{start:{line:217,column:8},end:{line:222,column:9}},{start:{line:217,column:8},end:{line:222,column:9}}],line:217},14:{loc:{start:{line:223,column:8},end:{line:230,column:9}},type:"if",locations:[{start:{line:223,column:8},end:{line:230,column:9}},{start:{line:223,column:8},end:{line:230,column:9}}],line:223},15:{loc:{start:{line:277,column:8},end:{line:279,column:9}},type:"if",locations:[{start:{line:277,column:8},end:{line:279,column:9}},{start:{line:277,column:8},end:{line:279,column:9}}],line:277},16:{loc:{start:{line:287,column:8},end:{line:289,column:9}},type:"if",locations:[{start:{line:287,column:8},end:{line:289,column:9}},{start:{line:287,column:8},end:{line:289,column:9}}],line:287},17:{loc:{start:{line:287,column:12},end:{line:287,column:59}},type:"binary-expr",locations:[{start:{line:287,column:12},end:{line:287,column:23}},{start:{line:287,column:27},end:{line:287,column:36}},{start:{line:287,column:40},end:{line:287,column:59}}],line:287},18:{loc:{start:{line:302,column:8},end:{line:304,column:9}},type:"if",locations:[{start:{line:302,column:8},end:{line:304,column:9}},{start:{line:302,column:8},end:{line:304,column:9}}],line:302}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0],8:[0,0],9:[0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0,0],18:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/inline-tools/inline-tool-link.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/inline-tools/inline-tool-link.ts"],names:[],mappings:"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",sourcesContent:["import SelectionUtils from '../selection';\n\nimport $ from '../dom';\nimport * as _ from '../utils';\nimport { API, InlineTool, SanitizerConfig } from '../../../types';\nimport { Notifier, Toolbar, I18n } from '../../../types/api';\n\n/**\n * Link Tool\n *\n * Inline Toolbar Tool\n *\n * Wrap selected text with <a> tag\n */\nexport default class LinkInlineTool implements InlineTool {\n  /**\n   * Specifies Tool as Inline Toolbar Tool\n   *\n   * @returns {boolean}\n   */\n  public static isInline = true;\n\n  /**\n   * Title for hover-tooltip\n   */\n  public static title = 'Link';\n\n  /**\n   * Sanitizer Rule\n   * Leave <a> tags\n   *\n   * @returns {object}\n   */\n  public static get sanitize(): SanitizerConfig {\n    return {\n      a: {\n        href: true,\n        target: '_blank',\n        rel: 'nofollow',\n      },\n    } as SanitizerConfig;\n  }\n\n  /**\n   * Native Document's commands for link/unlink\n   */\n  private readonly commandLink: string = 'createLink';\n  private readonly commandUnlink: string = 'unlink';\n\n  /**\n   * Enter key code\n   */\n  private readonly ENTER_KEY: number = 13;\n\n  /**\n   * Styles\n   */\n  private readonly CSS = {\n    button: 'ce-inline-tool',\n    buttonActive: 'ce-inline-tool--active',\n    buttonModifier: 'ce-inline-tool--link',\n    buttonUnlink: 'ce-inline-tool--unlink',\n    input: 'ce-inline-tool-input',\n    inputShowed: 'ce-inline-tool-input--showed',\n  };\n\n  /**\n   * Elements\n   */\n  private nodes: {\n    button: HTMLButtonElement;\n    input: HTMLInputElement;\n  } = {\n    button: null,\n    input: null,\n  };\n\n  /**\n   * SelectionUtils instance\n   */\n  private selection: SelectionUtils;\n\n  /**\n   * Input opening state\n   */\n  private inputOpened = false;\n\n  /**\n   * Available Toolbar methods (open/close)\n   */\n  private toolbar: Toolbar;\n\n  /**\n   * Available inline toolbar methods (open/close)\n   */\n  private inlineToolbar: Toolbar;\n\n  /**\n   * Notifier API methods\n   */\n  private notifier: Notifier;\n\n  /**\n   * I18n API\n   */\n  private i18n: I18n;\n\n  /**\n   * @param {API} api - Editor.js API\n   */\n  constructor({ api }) {\n    this.toolbar = api.toolbar;\n    this.inlineToolbar = api.inlineToolbar;\n    this.notifier = api.notifier;\n    this.i18n = api.i18n;\n    this.selection = new SelectionUtils();\n  }\n\n  /**\n   * Create button for Inline Toolbar\n   */\n  public render(): HTMLElement {\n    this.nodes.button = document.createElement('button') as HTMLButtonElement;\n    this.nodes.button.type = 'button';\n    this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier);\n    this.nodes.button.appendChild($.svg('link', 14, 10));\n    this.nodes.button.appendChild($.svg('unlink', 15, 11));\n\n    return this.nodes.button;\n  }\n\n  /**\n   * Input for the link\n   */\n  public renderActions(): HTMLElement {\n    this.nodes.input = document.createElement('input') as HTMLInputElement;\n    this.nodes.input.placeholder = this.i18n.t('Add a link');\n    this.nodes.input.classList.add(this.CSS.input);\n    this.nodes.input.addEventListener('keydown', (event: KeyboardEvent) => {\n      if (event.keyCode === this.ENTER_KEY) {\n        this.enterPressed(event);\n      }\n    });\n\n    return this.nodes.input;\n  }\n\n  /**\n   * Handle clicks on the Inline Toolbar icon\n   *\n   * @param {Range} range - range to wrap with link\n   */\n  public surround(range: Range): void {\n    /**\n     * Range will be null when user makes second click on the 'link icon' to close opened input\n     */\n    if (range) {\n      /**\n       * Save selection before change focus to the input\n       */\n      if (!this.inputOpened) {\n        /** Create blue background instead of selection */\n        this.selection.setFakeBackground();\n        this.selection.save();\n      } else {\n        this.selection.restore();\n        this.selection.removeFakeBackground();\n      }\n      const parentAnchor = this.selection.findParentTag('A');\n\n      /**\n       * Unlink icon pressed\n       */\n      if (parentAnchor) {\n        this.selection.expandToTag(parentAnchor);\n        this.unlink();\n        this.closeActions();\n        this.checkState();\n        this.toolbar.close();\n\n        return;\n      }\n    }\n\n    this.toggleActions();\n  }\n\n  /**\n   * Check selection and set activated state to button if there are <a> tag\n   *\n   * @param {Selection} selection - selection to check\n   */\n  public checkState(selection?: Selection): boolean {\n    const anchorTag = this.selection.findParentTag('A');\n\n    if (anchorTag) {\n      this.nodes.button.classList.add(this.CSS.buttonUnlink);\n      this.nodes.button.classList.add(this.CSS.buttonActive);\n      this.openActions();\n\n      /**\n       * Fill input value with link href\n       */\n      const hrefAttr = anchorTag.getAttribute('href');\n\n      this.nodes.input.value = hrefAttr !== 'null' ? hrefAttr : '';\n\n      this.selection.save();\n    } else {\n      this.nodes.button.classList.remove(this.CSS.buttonUnlink);\n      this.nodes.button.classList.remove(this.CSS.buttonActive);\n    }\n\n    return !!anchorTag;\n  }\n\n  /**\n   * Function called with Inline Toolbar closing\n   */\n  public clear(): void {\n    this.closeActions();\n  }\n\n  /**\n   * Set a shortcut\n   */\n  public get shortcut(): string {\n    return 'CMD+K';\n  }\n\n  /**\n   * Show/close link input\n   */\n  private toggleActions(): void {\n    if (!this.inputOpened) {\n      this.openActions(true);\n    } else {\n      this.closeActions(false);\n    }\n  }\n\n  /**\n   * @param {boolean} needFocus - on link creation we need to focus input. On editing - nope.\n   */\n  private openActions(needFocus = false): void {\n    this.nodes.input.classList.add(this.CSS.inputShowed);\n    if (needFocus) {\n      this.nodes.input.focus();\n    }\n    this.inputOpened = true;\n  }\n\n  /**\n   * Close input\n   *\n   * @param {boolean} clearSavedSelection — we don't need to clear saved selection\n   *                                        on toggle-clicks on the icon of opened Toolbar\n   */\n  private closeActions(clearSavedSelection = true): void {\n    if (this.selection.isFakeBackgroundEnabled) {\n      // if actions is broken by other selection We need to save new selection\n      const currentSelection = new SelectionUtils();\n\n      currentSelection.save();\n\n      this.selection.restore();\n      this.selection.removeFakeBackground();\n\n      // and recover new selection after removing fake background\n      currentSelection.restore();\n    }\n\n    this.nodes.input.classList.remove(this.CSS.inputShowed);\n    this.nodes.input.value = '';\n    if (clearSavedSelection) {\n      this.selection.clearSaved();\n    }\n    this.inputOpened = false;\n  }\n\n  /**\n   * Enter pressed on input\n   *\n   * @param {KeyboardEvent} event - enter keydown event\n   */\n  private enterPressed(event: KeyboardEvent): void {\n    let value = this.nodes.input.value || '';\n\n    if (!value.trim()) {\n      this.selection.restore();\n      this.unlink();\n      event.preventDefault();\n      this.closeActions();\n    }\n\n    if (!this.validateURL(value)) {\n      this.notifier.show({\n        message: 'Pasted link is not valid.',\n        style: 'error',\n      });\n\n      _.log('Incorrect Link pasted', 'warn', value);\n\n      return;\n    }\n\n    value = this.prepareLink(value);\n\n    this.selection.restore();\n    this.selection.removeFakeBackground();\n\n    this.insertLink(value);\n\n    /**\n     * Preventing events that will be able to happen\n     */\n    event.preventDefault();\n    event.stopPropagation();\n    event.stopImmediatePropagation();\n    this.selection.collapseToEnd();\n    this.inlineToolbar.close();\n  }\n\n  /**\n   * Detects if passed string is URL\n   *\n   * @param {string} str - string to validate\n   * @returns {boolean}\n   */\n  private validateURL(str: string): boolean {\n    /**\n     * Don't allow spaces\n     */\n    return !/\\s/.test(str);\n  }\n\n  /**\n   * Process link before injection\n   * - sanitize\n   * - add protocol for links like 'google.com'\n   *\n   * @param {string} link - raw user input\n   */\n  private prepareLink(link: string): string {\n    link = link.trim();\n    link = this.addProtocol(link);\n\n    return link;\n  }\n\n  /**\n   * Add 'http' protocol to the links like 'vc.ru', 'google.com'\n   *\n   * @param {string} link - string to process\n   */\n  private addProtocol(link: string): string {\n    /**\n     * If protocol already exists, do nothing\n     */\n    if (/^(\\w+):(\\/\\/)?/.test(link)) {\n      return link;\n    }\n\n    /**\n     * We need to add missed HTTP protocol to the link, but skip 2 cases:\n     *     1) Internal links like \"/general\"\n     *     2) Anchors looks like \"#results\"\n     *     3) Protocol-relative URLs like \"//google.com\"\n     */\n    const isInternal = /^\\/[^/\\s]/.test(link),\n        isAnchor = link.substring(0, 1) === '#',\n        isProtocolRelative = /^\\/\\/[^/\\s]/.test(link);\n\n    if (!isInternal && !isAnchor && !isProtocolRelative) {\n      link = 'http://' + link;\n    }\n\n    return link;\n  }\n\n  /**\n   * Inserts <a> tag with \"href\"\n   *\n   * @param {string} link - \"href\" value\n   */\n  private insertLink(link: string): void {\n    /**\n     * Edit all link, not selected part\n     */\n    const anchorTag = this.selection.findParentTag('A');\n\n    if (anchorTag) {\n      this.selection.expandToTag(anchorTag);\n    }\n\n    document.execCommand(this.commandLink, false, link);\n  }\n\n  /**\n   * Removes <a> tag\n   */\n  private unlink(): void {\n    document.execCommand(this.commandUnlink);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f8b05a83f7c1dac543cca8d0051b44c736006dc"});var l=t[n];return a=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=C(i),c=C(c),s=r(s),a();var u=function(){function n(A){var e=A.api;(0,l.default)(this,n),a().f[0]++,a().s[0]++,this.commandLink="createLink",a().s[1]++,this.commandUnlink="unlink",a().s[2]++,this.ENTER_KEY=13,a().s[3]++,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},a().s[4]++,this.nodes={button:null,input:null},a().s[5]++,this.inputOpened=!1,a().s[6]++,this.toolbar=e.toolbar,a().s[7]++,this.inlineToolbar=e.inlineToolbar,a().s[8]++,this.notifier=e.notifier,a().s[9]++,this.i18n=e.i18n,a().s[10]++,this.selection=new i.default}return(0,o.default)(n,[{key:"render",value:function(){return a().f[2]++,a().s[12]++,this.nodes.button=document.createElement("button"),a().s[13]++,this.nodes.button.type="button",a().s[14]++,this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),a().s[15]++,this.nodes.button.appendChild(c.default.svg("link",14,10)),a().s[16]++,this.nodes.button.appendChild(c.default.svg("unlink",15,11)),a().s[17]++,this.nodes.button}},{key:"renderActions",value:function(){var n=this;return a().f[3]++,a().s[18]++,this.nodes.input=document.createElement("input"),a().s[19]++,this.nodes.input.placeholder=this.i18n.t("Add a link"),a().s[20]++,this.nodes.input.classList.add(this.CSS.input),a().s[21]++,this.nodes.input.addEventListener("keydown",(function(A){a().f[4]++,a().s[22]++,A.keyCode===n.ENTER_KEY?(a().b[0][0]++,a().s[23]++,n.enterPressed(A)):a().b[0][1]++})),a().s[24]++,this.nodes.input}},{key:"surround",value:function(n){if(a().f[5]++,a().s[25]++,n){a().b[1][0]++,a().s[26]++,this.inputOpened?(a().b[2][1]++,a().s[29]++,this.selection.restore(),a().s[30]++,this.selection.removeFakeBackground()):(a().b[2][0]++,a().s[27]++,this.selection.setFakeBackground(),a().s[28]++,this.selection.save());var A=(a().s[31]++,this.selection.findParentTag("A"));if(a().s[32]++,A)return a().b[3][0]++,a().s[33]++,this.selection.expandToTag(A),a().s[34]++,this.unlink(),a().s[35]++,this.closeActions(),a().s[36]++,this.checkState(),a().s[37]++,this.toolbar.close(),void a().s[38]++;a().b[3][1]++}else a().b[1][1]++;a().s[39]++,this.toggleActions()}},{key:"checkState",value:function(n){a().f[6]++;var A=(a().s[40]++,this.selection.findParentTag("A"));if(a().s[41]++,A){a().b[4][0]++,a().s[42]++,this.nodes.button.classList.add(this.CSS.buttonUnlink),a().s[43]++,this.nodes.button.classList.add(this.CSS.buttonActive),a().s[44]++,this.openActions();var e=(a().s[45]++,A.getAttribute("href"));a().s[46]++,this.nodes.input.value="null"!==e?(a().b[5][0]++,e):(a().b[5][1]++,""),a().s[47]++,this.selection.save()}else a().b[4][1]++,a().s[48]++,this.nodes.button.classList.remove(this.CSS.buttonUnlink),a().s[49]++,this.nodes.button.classList.remove(this.CSS.buttonActive);return a().s[50]++,!!A}},{key:"clear",value:function(){a().f[7]++,a().s[51]++,this.closeActions()}},{key:"toggleActions",value:function(){a().f[9]++,a().s[53]++,this.inputOpened?(a().b[6][1]++,a().s[55]++,this.closeActions(!1)):(a().b[6][0]++,a().s[54]++,this.openActions(!0))}},{key:"openActions",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(a().b[7][0]++,!1);a().f[10]++,a().s[56]++,this.nodes.input.classList.add(this.CSS.inputShowed),a().s[57]++,n?(a().b[8][0]++,a().s[58]++,this.nodes.input.focus()):a().b[8][1]++,a().s[59]++,this.inputOpened=!0}},{key:"closeActions",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(a().b[9][0]++,!0);if(a().f[11]++,a().s[60]++,this.selection.isFakeBackgroundEnabled){a().b[10][0]++;var A=(a().s[61]++,new i.default);a().s[62]++,A.save(),a().s[63]++,this.selection.restore(),a().s[64]++,this.selection.removeFakeBackground(),a().s[65]++,A.restore()}else a().b[10][1]++;a().s[66]++,this.nodes.input.classList.remove(this.CSS.inputShowed),a().s[67]++,this.nodes.input.value="",a().s[68]++,n?(a().b[11][0]++,a().s[69]++,this.selection.clearSaved()):a().b[11][1]++,a().s[70]++,this.inputOpened=!1}},{key:"enterPressed",value:function(n){a().f[12]++;var A=(a().s[71]++,a().b[12][0]++,this.nodes.input.value||(a().b[12][1]++,""));if(a().s[72]++,A.trim()?a().b[13][1]++:(a().b[13][0]++,a().s[73]++,this.selection.restore(),a().s[74]++,this.unlink(),a().s[75]++,n.preventDefault(),a().s[76]++,this.closeActions()),a().s[77]++,!this.validateURL(A))return a().b[14][0]++,a().s[78]++,this.notifier.show({message:"Pasted link is not valid.",style:"error"}),a().s[79]++,s.log("Incorrect Link pasted","warn",A),void a().s[80]++;a().b[14][1]++,a().s[81]++,A=this.prepareLink(A),a().s[82]++,this.selection.restore(),a().s[83]++,this.selection.removeFakeBackground(),a().s[84]++,this.insertLink(A),a().s[85]++,n.preventDefault(),a().s[86]++,n.stopPropagation(),a().s[87]++,n.stopImmediatePropagation(),a().s[88]++,this.selection.collapseToEnd(),a().s[89]++,this.inlineToolbar.close()}},{key:"validateURL",value:function(n){return a().f[13]++,a().s[90]++,!/\s/.test(n)}},{key:"prepareLink",value:function(n){return a().f[14]++,a().s[91]++,n=n.trim(),a().s[92]++,n=this.addProtocol(n),a().s[93]++,n}},{key:"addProtocol",value:function(n){if(a().f[15]++,a().s[94]++,/^(\w+):(\/\/)?/.test(n))return a().b[15][0]++,a().s[95]++,n;a().b[15][1]++;var A=(a().s[96]++,/^\/[^/\s]/.test(n)),e=(a().s[97]++,"#"===n.substring(0,1)),t=(a().s[98]++,/^\/\/[^/\s]/.test(n));return a().s[99]++,a().b[17][0]++,A||(a().b[17][1]++,e)||(a().b[17][2]++,t)?a().b[16][1]++:(a().b[16][0]++,a().s[100]++,n="http://"+n),a().s[101]++,n}},{key:"insertLink",value:function(n){a().f[16]++;var A=(a().s[102]++,this.selection.findParentTag("A"));a().s[103]++,A?(a().b[18][0]++,a().s[104]++,this.selection.expandToTag(A)):a().b[18][1]++,a().s[105]++,document.execCommand(this.commandLink,!1,n)}},{key:"unlink",value:function(){a().f[17]++,a().s[106]++,document.execCommand(this.commandUnlink)}},{key:"shortcut",get:function(){return a().f[8]++,a().s[52]++,"CMD+K"}}],[{key:"sanitize",get:function(){return a().f[1]++,a().s[11]++,{a:{href:!0,target:"_blank",rel:"nofollow"}}}}]),n}();t.default=u,u.displayName="LinkInlineTool",a().s[107]++,u.isInline=!0,a().s[108]++,u.title="Link",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(15)],void 0===(o="function"==typeof(t=function(t,l,o,i){"use strict";var c=e(1);function s(){var n="/home/hata/editor.js/src/components/tools/stub/index.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"131f54819227fbaaef6735a562e0f54c7dbaa407"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/tools/stub/index.ts",statementMap:{0:{start:{line:18,column:8},end:{line:23,column:10}},1:{start:{line:24,column:8},end:{line:24,column:23}},2:{start:{line:25,column:8},end:{line:25,column:60}},3:{start:{line:26,column:8},end:{line:26,column:85}},4:{start:{line:27,column:8},end:{line:27,column:40}},5:{start:{line:28,column:8},end:{line:28,column:35}},6:{start:{line:36,column:8},end:{line:36,column:28}},7:{start:{line:44,column:8},end:{line:44,column:30}},8:{start:{line:52,column:24},end:{line:52,column:55}},9:{start:{line:53,column:21},end:{line:53,column:46}},10:{start:{line:54,column:30},end:{line:54,column:58}},11:{start:{line:55,column:22},end:{line:57,column:10}},12:{start:{line:58,column:25},end:{line:60,column:10}},13:{start:{line:61,column:8},end:{line:61,column:34}},14:{start:{line:62,column:8},end:{line:62,column:41}},15:{start:{line:63,column:8},end:{line:63,column:44}},16:{start:{line:64,column:8},end:{line:64,column:43}},17:{start:{line:65,column:8},end:{line:65,column:23}},18:{start:{line:71,column:0},end:{line:71,column:32}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:31},end:{line:29,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:13},end:{line:37,column:5}},line:35},2:{name:"(anonymous_2)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:11},end:{line:45,column:5}},line:43},3:{name:"(anonymous_3)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:11},end:{line:66,column:5}},line:51}},branchMap:{0:{loc:{start:{line:25,column:21},end:{line:25,column:59}},type:"binary-expr",locations:[{start:{line:25,column:21},end:{line:25,column:31}},{start:{line:25,column:35},end:{line:25,column:59}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/tools/stub/index.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/tools/stub/index.ts"],names:[],mappings:"AAAA,OAAO,CAAC,MAAM,WAAW,CAAC;AAQ1B;;;GAGG;AACH,MAAM,CAAC,OAAO,OAAO,IAAI;IA2CvB;;;;OAIG;IACH,YAAY,EAAE,IAAI,EAAE,GAAG,EAAyC;QA1ChE;;;;WAIG;QACK,QAAG,GAAG;YACZ,OAAO,EAAE,SAAS;YAClB,IAAI,EAAE,eAAe;YACrB,KAAK,EAAE,gBAAgB;YACvB,QAAQ,EAAE,mBAAmB;SAC9B,CAAC;QAiCA,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;QACpD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,2CAA2C,CAAC,CAAC;QAC7E,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAEhC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;IAC7B,CAAC;IAED;;;;OAIG;IACI,MAAM;QACX,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED;;;;OAIG;IACI,IAAI;QACT,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED;;;;OAIG;IACK,IAAI;QACV,MAAM,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAChD,MAAM,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QACvC,MAAM,aAAa,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACnD,MAAM,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE;YAC1C,WAAW,EAAE,IAAI,CAAC,KAAK;SACxB,CAAC,CAAC;QACH,MAAM,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE;YAChD,WAAW,EAAE,IAAI,CAAC,QAAQ;SAC3B,CAAC,CAAC;QAEH,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAE1B,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACjC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAEpC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QAEnC,OAAO,OAAO,CAAC;IACjB,CAAC;;AAlGD;;GAEG;AACW,wBAAmB,GAAG,IAAI,CAAC",sourcesContent:["import $ from '../../dom';\nimport { API, BlockTool, BlockToolData, BlockToolConstructorOptions } from '../../../../types';\n\nexport interface StubData extends BlockToolData {\n  title: string;\n  savedData: BlockToolData;\n}\n\n/**\n * This tool will be shown in place of a block without corresponding plugin\n * It will store its data inside and pass it back with article saving\n */\nexport default class Stub implements BlockTool {\n  /**\n   * Notify core that tool supports read-only mode\n   */\n  public static isReadOnlySupported = true;\n\n  /**\n   * Stub styles\n   *\n   * @type {{wrapper: string, info: string, title: string, subtitle: string}}\n   */\n  private CSS = {\n    wrapper: 'ce-stub',\n    info: 'ce-stub__info',\n    title: 'ce-stub__title',\n    subtitle: 'ce-stub__subtitle',\n  };\n\n  /**\n   * Main stub wrapper\n   */\n  private readonly wrapper: HTMLElement;\n\n  /**\n   * Editor.js API\n   */\n  private readonly api: API;\n\n  /**\n   * Stub title — tool name\n   */\n  private readonly title: string;\n\n  /**\n   * Stub hint\n   */\n  private readonly subtitle: string;\n\n  /**\n   * Original Tool data\n   */\n  private readonly savedData: BlockToolData;\n\n  /**\n   * @param options - constructor options\n   * @param options.data - stub tool data\n   * @param options.api - Editor.js API\n   */\n  constructor({ data, api }: BlockToolConstructorOptions<StubData>) {\n    this.api = api;\n    this.title = data.title || this.api.i18n.t('Error');\n    this.subtitle = this.api.i18n.t('The block can not be displayed correctly.');\n    this.savedData = data.savedData;\n\n    this.wrapper = this.make();\n  }\n\n  /**\n   * Returns stub holder\n   *\n   * @returns {HTMLElement}\n   */\n  public render(): HTMLElement {\n    return this.wrapper;\n  }\n\n  /**\n   * Return original Tool data\n   *\n   * @returns {BlockToolData}\n   */\n  public save(): BlockToolData {\n    return this.savedData;\n  }\n\n  /**\n   * Create Tool html markup\n   *\n   * @returns {HTMLElement}\n   */\n  private make(): HTMLElement {\n    const wrapper = $.make('div', this.CSS.wrapper);\n    const icon = $.svg('sad-face', 52, 52);\n    const infoContainer = $.make('div', this.CSS.info);\n    const title = $.make('div', this.CSS.title, {\n      textContent: this.title,\n    });\n    const subtitle = $.make('div', this.CSS.subtitle, {\n      textContent: this.subtitle,\n    });\n\n    wrapper.appendChild(icon);\n\n    infoContainer.appendChild(title);\n    infoContainer.appendChild(subtitle);\n\n    wrapper.appendChild(infoContainer);\n\n    return wrapper;\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"131f54819227fbaaef6735a562e0f54c7dbaa407"});var l=t[n];return s=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=c(l),o=c(o),i=c(i),s();var r=function(){function n(A){var e=A.data,t=A.api;(0,l.default)(this,n),s().f[0]++,s().s[0]++,this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},s().s[1]++,this.api=t,s().s[2]++,this.title=(s().b[0][0]++,e.title||(s().b[0][1]++,this.api.i18n.t("Error"))),s().s[3]++,this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),s().s[4]++,this.savedData=e.savedData,s().s[5]++,this.wrapper=this.make()}return(0,o.default)(n,[{key:"render",value:function(){return s().f[1]++,s().s[6]++,this.wrapper}},{key:"save",value:function(){return s().f[2]++,s().s[7]++,this.savedData}},{key:"make",value:function(){s().f[3]++;var n=(s().s[8]++,i.default.make("div",this.CSS.wrapper)),A=(s().s[9]++,i.default.svg("sad-face",52,52)),e=(s().s[10]++,i.default.make("div",this.CSS.info)),t=(s().s[11]++,i.default.make("div",this.CSS.title,{textContent:this.title})),l=(s().s[12]++,i.default.make("div",this.CSS.subtitle,{textContent:this.subtitle}));return s().s[13]++,n.appendChild(A),s().s[14]++,e.appendChild(t),s().s[15]++,e.appendChild(l),s().s[16]++,n.appendChild(e),s().s[17]++,n}}]),n}();t.default=r,r.displayName="Stub",s().s[18]++,r.isReadOnlySupported=!0,n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(15),e(8),e(25)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s){"use strict";var r=e(13),C=e(1);function a(){var n="/home/hata/editor.js/src/components/domIterator.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"a832c2c9186ad660ace28f1a51375c423dedbb25"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/domIterator.ts",statementMap:{0:{start:{line:20,column:8},end:{line:20,column:25}},1:{start:{line:24,column:8},end:{line:24,column:24}},2:{start:{line:25,column:8},end:{line:25,column:36}},3:{start:{line:26,column:8},end:{line:26,column:47}},4:{start:{line:34,column:8},end:{line:36,column:9}},5:{start:{line:35,column:12},end:{line:35,column:24}},6:{start:{line:37,column:8},end:{line:37,column:39}},7:{start:{line:45,column:8},end:{line:45,column:30}},8:{start:{line:51,column:8},end:{line:51,column:81}},9:{start:{line:57,column:8},end:{line:57,column:80}},10:{start:{line:63,column:8},end:{line:65,column:9}},11:{start:{line:64,column:12},end:{line:64,column:19}},12:{start:{line:66,column:8},end:{line:66,column:71}},13:{start:{line:67,column:8},end:{line:67,column:25}},14:{start:{line:79,column:8},end:{line:81,column:9}},15:{start:{line:80,column:12},end:{line:80,column:31}},16:{start:{line:82,column:33},end:{line:82,column:44}},17:{start:{line:86,column:8},end:{line:109,column:9}},18:{start:{line:102,column:12},end:{line:102,column:85}},19:{start:{line:108,column:12},end:{line:108,column:82}},20:{start:{line:113,column:8},end:{line:129,column:9}},21:{start:{line:119,column:12},end:{line:119,column:78}},22:{start:{line:128,column:12},end:{line:128,column:98}},23:{start:{line:130,column:8},end:{line:135,column:9}},24:{start:{line:134,column:12},end:{line:134,column:90}},25:{start:{line:134,column:26},end:{line:134,column:82}},26:{start:{line:139,column:8},end:{line:139,column:75}},27:{start:{line:143,column:8},end:{line:143,column:34}},28:{start:{line:151,column:0},end:{line:154,column:2}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:43},end:{line:27,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:22},end:{line:38,column:5}},line:33},2:{name:"(anonymous_2)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:23},end:{line:46,column:5}},line:44},3:{name:"(anonymous_3)",decl:{start:{line:50,column:4},end:{line:50,column:5}},loc:{start:{line:50,column:11},end:{line:52,column:5}},line:50},4:{name:"(anonymous_4)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:15},end:{line:58,column:5}},line:56},5:{name:"(anonymous_5)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:17},end:{line:68,column:5}},line:62},6:{name:"(anonymous_6)",decl:{start:{line:75,column:4},end:{line:75,column:5}},loc:{start:{line:75,column:39},end:{line:144,column:5}},line:75},7:{name:"(anonymous_7)",decl:{start:{line:134,column:20},end:{line:134,column:21}},loc:{start:{line:134,column:26},end:{line:134,column:82}},line:134}},branchMap:{0:{loc:{start:{line:25,column:21},end:{line:25,column:35}},type:"binary-expr",locations:[{start:{line:25,column:21},end:{line:25,column:29}},{start:{line:25,column:33},end:{line:25,column:35}}],line:25},1:{loc:{start:{line:34,column:8},end:{line:36,column:9}},type:"if",locations:[{start:{line:34,column:8},end:{line:36,column:9}},{start:{line:34,column:8},end:{line:36,column:9}}],line:34},2:{loc:{start:{line:63,column:8},end:{line:65,column:9}},type:"if",locations:[{start:{line:63,column:8},end:{line:65,column:9}},{start:{line:63,column:8},end:{line:65,column:9}}],line:63},3:{loc:{start:{line:79,column:8},end:{line:81,column:9}},type:"if",locations:[{start:{line:79,column:8},end:{line:81,column:9}},{start:{line:79,column:8},end:{line:81,column:9}}],line:79},4:{loc:{start:{line:86,column:8},end:{line:109,column:9}},type:"if",locations:[{start:{line:86,column:8},end:{line:109,column:9}},{start:{line:86,column:8},end:{line:109,column:9}}],line:86},5:{loc:{start:{line:102,column:33},end:{line:102,column:84}},type:"cond-expr",locations:[{start:{line:102,column:78},end:{line:102,column:80}},{start:{line:102,column:83},end:{line:102,column:84}}],line:102},6:{loc:{start:{line:113,column:8},end:{line:129,column:9}},type:"if",locations:[{start:{line:113,column:8},end:{line:129,column:9}},{start:{line:113,column:8},end:{line:129,column:9}}],line:113},7:{loc:{start:{line:130,column:8},end:{line:135,column:9}},type:"if",locations:[{start:{line:130,column:8},end:{line:135,column:9}},{start:{line:130,column:8},end:{line:135,column:9}}],line:130}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/domIterator.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/domIterator.ts"],names:[],mappings:"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",sourcesContent:["import Dom from './dom';\nimport * as _ from './utils';\nimport SelectionUtils from './selection';\n\n/**\n * Iterator above passed Elements list.\n * Each next or previous action adds provides CSS-class and sets cursor to this item\n */\nexport default class DomIterator {\n  /**\n   * This is a static property that defines iteration directions\n   *\n   * @type {{RIGHT: string, LEFT: string}}\n   */\n  public static directions = {\n    RIGHT: 'right',\n    LEFT: 'left',\n  };\n\n  /**\n   * User-provided CSS-class name for focused button\n   */\n  private focusedCssClass: string;\n\n  /**\n   * Focused button index.\n   * Default is -1 which means nothing is active\n   *\n   * @type {number}\n   */\n  private cursor = -1;\n\n  /**\n   * Items to flip\n   */\n  private items: HTMLElement[] = [];\n\n  /**\n   * @param {HTMLElement[]} nodeList — the list of iterable HTML-items\n   * @param {string} focusedCssClass - user-provided CSS-class that will be set in flipping process\n   */\n  constructor(\n    nodeList: HTMLElement[],\n    focusedCssClass: string\n  ) {\n    this.items = nodeList || [];\n    this.focusedCssClass = focusedCssClass;\n  }\n\n  /**\n   * Returns Focused button Node\n   *\n   * @returns {HTMLElement}\n   */\n  public get currentItem(): HTMLElement {\n    if (this.cursor === -1) {\n      return null;\n    }\n\n    return this.items[this.cursor];\n  }\n\n  /**\n   * Sets items. Can be used when iterable items changed dynamically\n   *\n   * @param {HTMLElement[]} nodeList - nodes to iterate\n   */\n  public setItems(nodeList: HTMLElement[]): void {\n    this.items = nodeList;\n  }\n\n  /**\n   * Sets cursor next to the current\n   */\n  public next(): void {\n    this.cursor = this.leafNodesAndReturnIndex(DomIterator.directions.RIGHT);\n  }\n\n  /**\n   * Sets cursor before current\n   */\n  public previous(): void {\n    this.cursor = this.leafNodesAndReturnIndex(DomIterator.directions.LEFT);\n  }\n\n  /**\n   * Sets cursor to the default position and removes CSS-class from previously focused item\n   */\n  public dropCursor(): void {\n    if (this.cursor === -1) {\n      return;\n    }\n\n    this.items[this.cursor].classList.remove(this.focusedCssClass);\n    this.cursor = -1;\n  }\n\n  /**\n   * Leafs nodes inside the target list from active element\n   *\n   * @param {string} direction - leaf direction. Can be 'left' or 'right'\n   * @returns {number} index of focused node\n   */\n  private leafNodesAndReturnIndex(direction: string): number {\n    /**\n     * if items are empty then there is nothing to leaf\n     */\n    if (this.items.length === 0) {\n      return this.cursor;\n    }\n\n    let focusedButtonIndex = this.cursor;\n\n    /**\n     * If activeButtonIndex === -1 then we have no chosen Tool in Toolbox\n     */\n    if (focusedButtonIndex === -1) {\n      /**\n       * Normalize \"previous\" Tool index depending on direction.\n       * We need to do this to highlight \"first\" Tool correctly\n       *\n       * Order of Tools: [0] [1] ... [n - 1]\n       *   [0 = n] because of: n % n = 0 % n\n       *\n       * Direction 'right': for [0] the [n - 1] is a previous index\n       *   [n - 1] -> [0]\n       *\n       * Direction 'left': for [n - 1] the [0] is a previous index\n       *   [n - 1] <- [0]\n       *\n       * @type {number}\n       */\n      focusedButtonIndex = direction === DomIterator.directions.RIGHT ? -1 : 0;\n    } else {\n      /**\n       * If we have chosen Tool then remove highlighting\n       */\n      this.items[focusedButtonIndex].classList.remove(this.focusedCssClass);\n    }\n\n    /**\n     * Count index for next Tool\n     */\n    if (direction === DomIterator.directions.RIGHT) {\n      /**\n       * If we go right then choose next (+1) Tool\n       *\n       * @type {number}\n       */\n      focusedButtonIndex = (focusedButtonIndex + 1) % this.items.length;\n    } else {\n      /**\n       * If we go left then choose previous (-1) Tool\n       * Before counting module we need to add length before because of \"The JavaScript Modulo Bug\"\n       *\n       * @type {number}\n       */\n      focusedButtonIndex = (this.items.length + focusedButtonIndex - 1) % this.items.length;\n    }\n\n    if (Dom.canSetCaret(this.items[focusedButtonIndex])) {\n      /**\n       * Focus input with micro-delay to ensure DOM is updated\n       */\n      _.delay(() => SelectionUtils.setCursor(this.items[focusedButtonIndex]), 50)();\n    }\n\n    /**\n     * Highlight new chosen Tool\n     */\n    this.items[focusedButtonIndex].classList.add(this.focusedCssClass);\n\n    /**\n     * Return focused button's index\n     */\n    return focusedButtonIndex;\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a832c2c9186ad660ace28f1a51375c423dedbb25"});var l=t[n];return a=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=C(i),c=r(c),s=C(s),a();var u=function(){function n(A,e){(0,l.default)(this,n),a().f[0]++,a().s[0]++,this.cursor=-1,a().s[1]++,this.items=[],a().s[2]++,this.items=(a().b[0][0]++,A||(a().b[0][1]++,[])),a().s[3]++,this.focusedCssClass=e}return(0,o.default)(n,[{key:"setItems",value:function(n){a().f[2]++,a().s[7]++,this.items=n}},{key:"next",value:function(){a().f[3]++,a().s[8]++,this.cursor=this.leafNodesAndReturnIndex(n.directions.RIGHT)}},{key:"previous",value:function(){a().f[4]++,a().s[9]++,this.cursor=this.leafNodesAndReturnIndex(n.directions.LEFT)}},{key:"dropCursor",value:function(){if(a().f[5]++,a().s[10]++,-1===this.cursor)return a().b[2][0]++,void a().s[11]++;a().b[2][1]++,a().s[12]++,this.items[this.cursor].classList.remove(this.focusedCssClass),a().s[13]++,this.cursor=-1}},{key:"leafNodesAndReturnIndex",value:function(A){var e=this;if(a().f[6]++,a().s[14]++,0===this.items.length)return a().b[3][0]++,a().s[15]++,this.cursor;a().b[3][1]++;var t=(a().s[16]++,this.cursor);return a().s[17]++,-1===t?(a().b[4][0]++,a().s[18]++,t=A===n.directions.RIGHT?(a().b[5][0]++,-1):(a().b[5][1]++,0)):(a().b[4][1]++,a().s[19]++,this.items[t].classList.remove(this.focusedCssClass)),a().s[20]++,A===n.directions.RIGHT?(a().b[6][0]++,a().s[21]++,t=(t+1)%this.items.length):(a().b[6][1]++,a().s[22]++,t=(this.items.length+t-1)%this.items.length),a().s[23]++,i.default.canSetCaret(this.items[t])?(a().b[7][0]++,a().s[24]++,c.delay((function(){return a().f[7]++,a().s[25]++,s.default.setCursor(e.items[t])}),50)()):a().b[7][1]++,a().s[26]++,this.items[t].classList.add(this.focusedCssClass),a().s[27]++,t}},{key:"currentItem",get:function(){return a().f[1]++,a().s[4]++,-1===this.cursor?(a().b[1][0]++,a().s[5]++,null):(a().b[1][1]++,a().s[6]++,this.items[this.cursor])}}]),n}();t.default=u,u.displayName="DomIterator",a().s[28]++,u.directions={RIGHT:"right",LEFT:"left"},n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(15)],void 0===(o="function"==typeof(t=function(t,l,o,i){"use strict";var c=e(1);function s(){var n="/home/hata/editor.js/src/components/block-tunes/block-tune-move-up.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"51c95fa3ccba318a6f346dad804af85860c7c261"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/block-tunes/block-tune-move-up.ts",statementMap:{0:{start:{line:23,column:8},end:{line:27,column:10}},1:{start:{line:28,column:8},end:{line:28,column:23}},2:{start:{line:36,column:29},end:{line:36,column:83}},3:{start:{line:37,column:8},end:{line:37,column:60}},4:{start:{line:38,column:8},end:{line:38,column:110}},5:{start:{line:38,column:64},end:{line:38,column:101}},6:{start:{line:42,column:8},end:{line:42,column:75}},7:{start:{line:43,column:8},end:{line:43,column:28}},8:{start:{line:52,column:34},end:{line:52,column:72}},9:{start:{line:53,column:29},end:{line:53,column:79}},10:{start:{line:54,column:30},end:{line:54,column:84}},11:{start:{line:55,column:8},end:{line:61,column:9}},12:{start:{line:56,column:12},end:{line:56,column:53}},13:{start:{line:57,column:12},end:{line:59,column:20}},14:{start:{line:58,column:16},end:{line:58,column:60}},15:{start:{line:60,column:12},end:{line:60,column:19}},16:{start:{line:62,column:36},end:{line:62,column:55}},17:{start:{line:63,column:37},end:{line:63,column:57}},18:{start:{line:72,column:35},end:{line:72,column:78}},19:{start:{line:72,column:102},end:{line:72,column:146}},20:{start:{line:74,column:8},end:{line:79,column:9}},21:{start:{line:75,column:12},end:{line:75,column:98}},22:{start:{line:78,column:12},end:{line:78,column:119}},23:{start:{line:80,column:8},end:{line:80,column:48}},24:{start:{line:82,column:8},end:{line:82,column:52}},25:{start:{line:84,column:8},end:{line:84,column:32}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:25},end:{line:29,column:5}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:13},end:{line:44,column:5}},line:35},2:{name:"(anonymous_2)",decl:{start:{line:38,column:53},end:{line:38,column:54}},loc:{start:{line:38,column:64},end:{line:38,column:101}},line:38},3:{name:"(anonymous_3)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:31},end:{line:85,column:5}},line:51},4:{name:"(anonymous_4)",decl:{start:{line:57,column:30},end:{line:57,column:31}},loc:{start:{line:57,column:36},end:{line:59,column:13}},line:57}},branchMap:{0:{loc:{start:{line:55,column:8},end:{line:61,column:9}},type:"if",locations:[{start:{line:55,column:8},end:{line:61,column:9}},{start:{line:55,column:8},end:{line:61,column:9}}],line:55},1:{loc:{start:{line:55,column:12},end:{line:55,column:70}},type:"binary-expr",locations:[{start:{line:55,column:12},end:{line:55,column:35}},{start:{line:55,column:39},end:{line:55,column:52}},{start:{line:55,column:56},end:{line:55,column:70}}],line:55},2:{loc:{start:{line:74,column:8},end:{line:79,column:9}},type:"if",locations:[{start:{line:74,column:8},end:{line:79,column:9}},{start:{line:74,column:8},end:{line:79,column:9}}],line:74}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0,0],2:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/block-tunes/block-tune-move-up.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/block-tunes/block-tune-move-up.ts"],names:[],mappings:"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",sourcesContent:["/**\n * @class MoveUpTune\n * @classdesc Editor's default tune that moves up selected block\n *\n * @copyright <CodeX Team> 2018\n */\nimport $ from '../dom';\nimport { API, BlockTune } from '../../../types';\n\n/**\n *\n */\nexport default class MoveUpTune implements BlockTune {\n  /**\n   * Property that contains Editor.js API methods\n   *\n   * @see {@link docs/api.md}\n   */\n  private readonly api: API;\n\n  /**\n   * Styles\n   *\n   * @type {{wrapper: string}}\n   */\n  private CSS = {\n    button: 'ce-settings__button',\n    wrapper: 'ce-tune-move-up',\n    animation: 'wobble',\n  };\n\n  /**\n   * MoveUpTune constructor\n   *\n   * @param {API} api - Editor's API\n   */\n  constructor({ api }) {\n    this.api = api;\n  }\n\n  /**\n   * Create \"MoveUp\" button and add click event listener\n   *\n   * @returns {HTMLElement}\n   */\n  public render(): HTMLElement {\n    const moveUpButton = $.make('div', [this.CSS.button, this.CSS.wrapper], {});\n\n    moveUpButton.appendChild($.svg('arrow-up', 14, 14));\n    this.api.listeners.on(\n      moveUpButton,\n      'click',\n      (event) => this.handleClick(event as MouseEvent, moveUpButton),\n      false\n    );\n\n    /**\n     * Enable tooltip module on button\n     */\n    this.api.tooltip.onHover(moveUpButton, this.api.i18n.t('Move up'));\n\n    return moveUpButton;\n  }\n\n  /**\n   * Move current block up\n   *\n   * @param {MouseEvent} event - click event\n   * @param {HTMLElement} button - clicked button\n   */\n  public handleClick(event: MouseEvent, button: HTMLElement): void {\n    const currentBlockIndex = this.api.blocks.getCurrentBlockIndex();\n    const currentBlock = this.api.blocks.getBlockByIndex(currentBlockIndex);\n    const previousBlock = this.api.blocks.getBlockByIndex(currentBlockIndex - 1);\n\n    if (currentBlockIndex === 0 || !currentBlock || !previousBlock) {\n      button.classList.add(this.CSS.animation);\n\n      window.setTimeout(() => {\n        button.classList.remove(this.CSS.animation);\n      }, 500);\n\n      return;\n    }\n\n    const currentBlockElement = currentBlock.holder;\n    const previousBlockElement = previousBlock.holder;\n\n    /**\n     * Here is two cases:\n     *  - when previous block has negative offset and part of it is visible on window, then we scroll\n     *  by window's height and add offset which is mathematically difference between two blocks\n     *\n     *  - when previous block is visible and has offset from the window,\n     *      than we scroll window to the difference between this offsets.\n     */\n    const currentBlockCoords = currentBlockElement.getBoundingClientRect(),\n        previousBlockCoords = previousBlockElement.getBoundingClientRect();\n\n    let scrollUpOffset;\n\n    if (previousBlockCoords.top > 0) {\n      scrollUpOffset = Math.abs(currentBlockCoords.top) - Math.abs(previousBlockCoords.top);\n    } else {\n      scrollUpOffset = window.innerHeight - Math.abs(currentBlockCoords.top) + Math.abs(previousBlockCoords.top);\n    }\n\n    window.scrollBy(0, -1 * scrollUpOffset);\n\n    /** Change blocks positions */\n    this.api.blocks.move(currentBlockIndex - 1);\n\n    /** Hide the Tooltip */\n    this.api.tooltip.hide();\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"51c95fa3ccba318a6f346dad804af85860c7c261"});var l=t[n];return s=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=c(l),o=c(o),i=c(i),s();var r=function(){function n(A){var e=A.api;(0,l.default)(this,n),s().f[0]++,s().s[0]++,this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-up",animation:"wobble"},s().s[1]++,this.api=e}return(0,o.default)(n,[{key:"render",value:function(){var n=this;s().f[1]++;var A=(s().s[2]++,i.default.make("div",[this.CSS.button,this.CSS.wrapper],{}));return s().s[3]++,A.appendChild(i.default.svg("arrow-up",14,14)),s().s[4]++,this.api.listeners.on(A,"click",(function(e){return s().f[2]++,s().s[5]++,n.handleClick(e,A)}),!1),s().s[6]++,this.api.tooltip.onHover(A,this.api.i18n.t("Move up")),s().s[7]++,A}},{key:"handleClick",value:function(n,A){var e=this;s().f[3]++;var t=(s().s[8]++,this.api.blocks.getCurrentBlockIndex()),l=(s().s[9]++,this.api.blocks.getBlockByIndex(t)),o=(s().s[10]++,this.api.blocks.getBlockByIndex(t-1));if(s().s[11]++,s().b[1][0]++,0===t||(s().b[1][1]++,!l)||(s().b[1][2]++,!o))return s().b[0][0]++,s().s[12]++,A.classList.add(this.CSS.animation),s().s[13]++,window.setTimeout((function(){s().f[4]++,s().s[14]++,A.classList.remove(e.CSS.animation)}),500),void s().s[15]++;s().b[0][1]++;var i,c=(s().s[16]++,l.holder),r=(s().s[17]++,o.holder),C=(s().s[18]++,c.getBoundingClientRect()),a=(s().s[19]++,r.getBoundingClientRect());s().s[20]++,a.top>0?(s().b[2][0]++,s().s[21]++,i=Math.abs(C.top)-Math.abs(a.top)):(s().b[2][1]++,s().s[22]++,i=window.innerHeight-Math.abs(C.top)+Math.abs(a.top)),s().s[23]++,window.scrollBy(0,-1*i),s().s[24]++,this.api.blocks.move(t-1),s().s[25]++,this.api.tooltip.hide()}}]),n}();t.default=r,r.displayName="MoveUpTune",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(15)],void 0===(o="function"==typeof(t=function(t,l,o,i){"use strict";var c=e(1);function s(){var n="/home/hata/editor.js/src/components/block-tunes/block-tune-delete.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"3a2bdde63a633a23cfcb83decd3d6573d409c84f"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/block-tunes/block-tune-delete.ts",statementMap:{0:{start:{line:15,column:8},end:{line:19,column:10}},1:{start:{line:23,column:8},end:{line:25,column:10}},2:{start:{line:26,column:8},end:{line:26,column:23}},3:{start:{line:27,column:8},end:{line:29,column:10}},4:{start:{line:28,column:12},end:{line:28,column:40}},5:{start:{line:37,column:8},end:{line:37,column:88}},6:{start:{line:38,column:8},end:{line:38,column:62}},7:{start:{line:39,column:8},end:{line:39,column:101}},8:{start:{line:39,column:69},end:{line:39,column:92}},9:{start:{line:43,column:8},end:{line:43,column:79}},10:{start:{line:44,column:8},end:{line:44,column:33}},11:{start:{line:56,column:8},end:{line:77,column:9}},12:{start:{line:57,column:12},end:{line:57,column:39}},13:{start:{line:63,column:12},end:{line:63,column:80}},14:{start:{line:69,column:12},end:{line:69,column:81}},15:{start:{line:70,column:12},end:{line:70,column:37}},16:{start:{line:71,column:12},end:{line:71,column:37}},17:{start:{line:72,column:12},end:{line:72,column:36}},18:{start:{line:76,column:12},end:{line:76,column:36}},19:{start:{line:85,column:8},end:{line:85,column:38}},20:{start:{line:86,column:8},end:{line:86,column:64}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:4},end:{line:11,column:5}},loc:{start:{line:11,column:25},end:{line:30,column:5}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:27,column:33},end:{line:27,column:34}},loc:{start:{line:27,column:39},end:{line:29,column:9}},line:27},2:{name:"(anonymous_2)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:13},end:{line:45,column:5}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:39,column:58},end:{line:39,column:59}},loc:{start:{line:39,column:69},end:{line:39,column:92}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:23},end:{line:78,column:5}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:84,column:4},end:{line:84,column:5}},loc:{start:{line:84,column:27},end:{line:87,column:5}},line:84}},branchMap:{0:{loc:{start:{line:56,column:8},end:{line:77,column:9}},type:"if",locations:[{start:{line:56,column:8},end:{line:77,column:9}},{start:{line:56,column:8},end:{line:77,column:9}}],line:56}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/block-tunes/block-tune-delete.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/block-tunes/block-tune-delete.ts"],names:[],mappings:"AAOA,OAAO,CAAC,MAAM,QAAQ,CAAC;AAEvB;;GAEG;AACH,MAAM,CAAC,OAAO,OAAO,UAAU;IAkC7B;;;;OAIG;IACH,YAAY,EAAE,GAAG,EAAE;QA/BnB;;WAEG;QACK,QAAG,GAAG;YACZ,MAAM,EAAE,qBAAqB;YAC7B,YAAY,EAAE,6BAA6B;YAC3C,aAAa,EAAE,8BAA8B;SAC9C,CAAC;QAYF;;WAEG;QACK,UAAK,GAA0B;YACrC,MAAM,EAAE,IAAI;SACb,CAAC;QAQA,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QAEf,IAAI,CAAC,iBAAiB,GAAG,GAAS,EAAE;YAClC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAC9B,CAAC,CAAC;IACJ,CAAC;IAED;;;;OAIG;IACI,MAAM;QACX,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,EAAE,CAAC,CAAC;QAChF,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;QACtD,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,OAAO,EAAE,CAAC,KAAiB,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,CAAC;QAEzG;;WAEG;QACH,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;QAEvE,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;IAC3B,CAAC;IAED;;;;OAIG;IACI,WAAW,CAAC,KAAiB;QAClC;;;WAGG;QACH,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;YAC1B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAE3B;;;;eAIG;YACH,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,uBAAuB,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;SACrE;aAAM;YACL;;eAEG;YACH,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,uBAAuB,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAErE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;YACzB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YACzB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;YAExB;;eAEG;YACH,KAAK,CAAC,eAAe,EAAE,CAAC;SACzB;IACH,CAAC;IAED;;;;OAIG;IACK,eAAe,CAAC,KAAc;QACpC,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC1D,CAAC;CACF",sourcesContent:["/**\n * @class DeleteTune\n * @classdesc Editor's default tune that moves up selected block\n *\n * @copyright <CodeX Team> 2018\n */\nimport { API, BlockTune } from '../../../types';\nimport $ from '../dom';\n\n/**\n *\n */\nexport default class DeleteTune implements BlockTune {\n  /**\n   * Property that contains Editor.js API methods\n   *\n   * @see {@link docs/api.md}\n   */\n  private readonly api: API;\n\n  /**\n   * Styles\n   */\n  private CSS = {\n    button: 'ce-settings__button',\n    buttonDelete: 'ce-settings__button--delete',\n    buttonConfirm: 'ce-settings__button--confirm',\n  };\n\n  /**\n   * Delete confirmation\n   */\n  private needConfirmation: boolean;\n\n  /**\n   * set false confirmation state\n   */\n  private readonly resetConfirmation: () => void;\n\n  /**\n   * Tune nodes\n   */\n  private nodes: {button: HTMLElement} = {\n    button: null,\n  };\n\n  /**\n   * DeleteTune constructor\n   *\n   * @param {API} api - Editor's API\n   */\n  constructor({ api }) {\n    this.api = api;\n\n    this.resetConfirmation = (): void => {\n      this.setConfirmation(false);\n    };\n  }\n\n  /**\n   * Create \"Delete\" button and add click event listener\n   *\n   * @returns {HTMLElement}\n   */\n  public render(): HTMLElement {\n    this.nodes.button = $.make('div', [this.CSS.button, this.CSS.buttonDelete], {});\n    this.nodes.button.appendChild($.svg('cross', 12, 12));\n    this.api.listeners.on(this.nodes.button, 'click', (event: MouseEvent) => this.handleClick(event), false);\n\n    /**\n     * Enable tooltip module\n     */\n    this.api.tooltip.onHover(this.nodes.button, this.api.i18n.t('Delete'));\n\n    return this.nodes.button;\n  }\n\n  /**\n   * Delete block conditions passed\n   *\n   * @param {MouseEvent} event - click event\n   */\n  public handleClick(event: MouseEvent): void {\n    /**\n     * if block is not waiting the confirmation, subscribe on block-settings-closing event to reset\n     * otherwise delete block\n     */\n    if (!this.needConfirmation) {\n      this.setConfirmation(true);\n\n      /**\n       * Subscribe on event.\n       * When toolbar block settings is closed but block deletion is not confirmed,\n       * then reset confirmation state\n       */\n      this.api.events.on('block-settings-closed', this.resetConfirmation);\n    } else {\n      /**\n       * Unsubscribe from block-settings closing event\n       */\n      this.api.events.off('block-settings-closed', this.resetConfirmation);\n\n      this.api.blocks.delete();\n      this.api.toolbar.close();\n      this.api.tooltip.hide();\n\n      /**\n       * Prevent firing ui~documentClicked that can drop currentBlock pointer\n       */\n      event.stopPropagation();\n    }\n  }\n\n  /**\n   * change tune state\n   *\n   * @param {boolean} state - delete confirmation state\n   */\n  private setConfirmation(state: boolean): void {\n    this.needConfirmation = state;\n    this.nodes.button.classList.add(this.CSS.buttonConfirm);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3a2bdde63a633a23cfcb83decd3d6573d409c84f"});var l=t[n];return s=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=c(l),o=c(o),i=c(i),s();var r=function(){function n(A){var e=this,t=A.api;(0,l.default)(this,n),s().f[0]++,s().s[0]++,this.CSS={button:"ce-settings__button",buttonDelete:"ce-settings__button--delete",buttonConfirm:"ce-settings__button--confirm"},s().s[1]++,this.nodes={button:null},s().s[2]++,this.api=t,s().s[3]++,this.resetConfirmation=function(){s().f[1]++,s().s[4]++,e.setConfirmation(!1)}}return(0,o.default)(n,[{key:"render",value:function(){var n=this;return s().f[2]++,s().s[5]++,this.nodes.button=i.default.make("div",[this.CSS.button,this.CSS.buttonDelete],{}),s().s[6]++,this.nodes.button.appendChild(i.default.svg("cross",12,12)),s().s[7]++,this.api.listeners.on(this.nodes.button,"click",(function(A){return s().f[3]++,s().s[8]++,n.handleClick(A)}),!1),s().s[9]++,this.api.tooltip.onHover(this.nodes.button,this.api.i18n.t("Delete")),s().s[10]++,this.nodes.button}},{key:"handleClick",value:function(n){s().f[4]++,s().s[11]++,this.needConfirmation?(s().b[0][1]++,s().s[14]++,this.api.events.off("block-settings-closed",this.resetConfirmation),s().s[15]++,this.api.blocks.delete(),s().s[16]++,this.api.toolbar.close(),s().s[17]++,this.api.tooltip.hide(),s().s[18]++,n.stopPropagation()):(s().b[0][0]++,s().s[12]++,this.setConfirmation(!0),s().s[13]++,this.api.events.on("block-settings-closed",this.resetConfirmation))}},{key:"setConfirmation",value:function(n){s().f[5]++,s().s[19]++,this.needConfirmation=n,s().s[20]++,this.nodes.button.classList.add(this.CSS.buttonConfirm)}}]),n}();t.default=r,r.displayName="DeleteTune",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(15)],void 0===(o="function"==typeof(t=function(t,l,o,i){"use strict";var c=e(1);function s(){var n="/home/hata/editor.js/src/components/block-tunes/block-tune-move-down.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"f1c8d5f1154eac2891d39a5f548e5423a791e70c"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/block-tunes/block-tune-move-down.ts",statementMap:{0:{start:{line:23,column:8},end:{line:27,column:10}},1:{start:{line:28,column:8},end:{line:28,column:23}},2:{start:{line:36,column:31},end:{line:36,column:85}},3:{start:{line:37,column:8},end:{line:37,column:64}},4:{start:{line:38,column:8},end:{line:38,column:114}},5:{start:{line:38,column:66},end:{line:38,column:105}},6:{start:{line:42,column:8},end:{line:42,column:79}},7:{start:{line:43,column:8},end:{line:43,column:30}},8:{start:{line:52,column:34},end:{line:52,column:72}},9:{start:{line:53,column:26},end:{line:53,column:80}},10:{start:{line:55,column:8},end:{line:61,column:9}},11:{start:{line:56,column:12},end:{line:56,column:53}},12:{start:{line:57,column:12},end:{line:59,column:20}},13:{start:{line:58,column:16},end:{line:58,column:60}},14:{start:{line:60,column:12},end:{line:60,column:19}},15:{start:{line:62,column:33},end:{line:62,column:49}},16:{start:{line:63,column:32},end:{line:63,column:72}},17:{start:{line:64,column:27},end:{line:64,column:87}},18:{start:{line:69,column:8},end:{line:71,column:9}},19:{start:{line:70,column:12},end:{line:70,column:74}},20:{start:{line:72,column:8},end:{line:72,column:41}},21:{start:{line:74,column:8},end:{line:74,column:52}},22:{start:{line:76,column:8},end:{line:76,column:32}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:25},end:{line:29,column:5}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:13},end:{line:44,column:5}},line:35},2:{name:"(anonymous_2)",decl:{start:{line:38,column:55},end:{line:38,column:56}},loc:{start:{line:38,column:66},end:{line:38,column:105}},line:38},3:{name:"(anonymous_3)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:31},end:{line:77,column:5}},line:51},4:{name:"(anonymous_4)",decl:{start:{line:57,column:30},end:{line:57,column:31}},loc:{start:{line:57,column:36},end:{line:59,column:13}},line:57}},branchMap:{0:{loc:{start:{line:55,column:8},end:{line:61,column:9}},type:"if",locations:[{start:{line:55,column:8},end:{line:61,column:9}},{start:{line:55,column:8},end:{line:61,column:9}}],line:55},1:{loc:{start:{line:69,column:8},end:{line:71,column:9}},type:"if",locations:[{start:{line:69,column:8},end:{line:71,column:9}},{start:{line:69,column:8},end:{line:71,column:9}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/block-tunes/block-tune-move-down.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/block-tunes/block-tune-move-down.ts"],names:[],mappings:"AAAA;;;;;GAKG;AAEH,OAAO,CAAC,MAAM,QAAQ,CAAC;AAGvB;;GAEG;AACH,MAAM,CAAC,OAAO,OAAO,YAAY;IAmB/B;;;;OAIG;IACH,YAAY,EAAE,GAAG,EAAE;QAhBnB;;;;WAIG;QACK,QAAG,GAAG;YACZ,MAAM,EAAE,qBAAqB;YAC7B,OAAO,EAAE,mBAAmB;YAC5B,SAAS,EAAE,QAAQ;SACpB,CAAC;QAQA,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACjB,CAAC;IAED;;;;OAIG;IACI,MAAM;QACX,MAAM,cAAc,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC;QAE9E,cAAc,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,YAAY,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;QACxD,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CACnB,cAAc,EACd,OAAO,EACP,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,KAAmB,EAAE,cAAc,CAAC,EAChE,KAAK,CACN,CAAC;QAEF;;WAEG;QACH,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;QAEvE,OAAO,cAAc,CAAC;IACxB,CAAC;IAED;;;;;OAKG;IACI,WAAW,CAAC,KAAiB,EAAE,MAAmB;QACvD,MAAM,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC;QACjE,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,eAAe,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;QAEzE,8BAA8B;QAC9B,IAAI,CAAC,SAAS,EAAE;YACd,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAEzC,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;gBACrB,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAC9C,CAAC,EAAE,GAAG,CAAC,CAAC;YAER,OAAO;SACR;QAED,MAAM,gBAAgB,GAAG,SAAS,CAAC,MAAM,CAAC;QAC1C,MAAM,eAAe,GAAG,gBAAgB,CAAC,qBAAqB,EAAE,CAAC;QAEjE,IAAI,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,WAAW,GAAG,gBAAgB,CAAC,YAAY,CAAC,CAAC;QAEhF;;;WAGG;QACH,IAAI,eAAe,CAAC,GAAG,GAAG,MAAM,CAAC,WAAW,EAAE;YAC5C,YAAY,GAAG,MAAM,CAAC,OAAO,GAAG,gBAAgB,CAAC,YAAY,CAAC;SAC/D;QAED,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;QAEjC,8BAA8B;QAC9B,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;QAE5C,uBAAuB;QACvB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IAC1B,CAAC;CACF",sourcesContent:["/**\n * @class MoveDownTune\n * @classdesc Editor's default tune - Moves down highlighted block\n *\n * @copyright <CodeX Team> 2018\n */\n\nimport $ from '../dom';\nimport { API, BlockTune } from '../../../types';\n\n/**\n *\n */\nexport default class MoveDownTune implements BlockTune {\n  /**\n   * Property that contains Editor.js API methods\n   *\n   * @see {@link docs/api.md}\n   */\n  private readonly api: API;\n\n  /**\n   * Styles\n   *\n   * @type {{wrapper: string}}\n   */\n  private CSS = {\n    button: 'ce-settings__button',\n    wrapper: 'ce-tune-move-down',\n    animation: 'wobble',\n  };\n\n  /**\n   * MoveDownTune constructor\n   *\n   * @param {API} api — Editor's API\n   */\n  constructor({ api }) {\n    this.api = api;\n  }\n\n  /**\n   * Return 'move down' button\n   *\n   * @returns {HTMLElement}\n   */\n  public render(): HTMLElement {\n    const moveDownButton = $.make('div', [this.CSS.button, this.CSS.wrapper], {});\n\n    moveDownButton.appendChild($.svg('arrow-down', 14, 14));\n    this.api.listeners.on(\n      moveDownButton,\n      'click',\n      (event) => this.handleClick(event as MouseEvent, moveDownButton),\n      false\n    );\n\n    /**\n     * Enable tooltip module on button\n     */\n    this.api.tooltip.onHover(moveDownButton, this.api.i18n.t('Move down'));\n\n    return moveDownButton;\n  }\n\n  /**\n   * Handle clicks on 'move down' button\n   *\n   * @param {MouseEvent} event - click event\n   * @param {HTMLElement} button - clicked button\n   */\n  public handleClick(event: MouseEvent, button: HTMLElement): void {\n    const currentBlockIndex = this.api.blocks.getCurrentBlockIndex();\n    const nextBlock = this.api.blocks.getBlockByIndex(currentBlockIndex + 1);\n\n    // If Block is last do nothing\n    if (!nextBlock) {\n      button.classList.add(this.CSS.animation);\n\n      window.setTimeout(() => {\n        button.classList.remove(this.CSS.animation);\n      }, 500);\n\n      return;\n    }\n\n    const nextBlockElement = nextBlock.holder;\n    const nextBlockCoords = nextBlockElement.getBoundingClientRect();\n\n    let scrollOffset = Math.abs(window.innerHeight - nextBlockElement.offsetHeight);\n\n    /**\n     * Next block ends on screen.\n     * Increment scroll by next block's height to save element onscreen-position\n     */\n    if (nextBlockCoords.top < window.innerHeight) {\n      scrollOffset = window.scrollY + nextBlockElement.offsetHeight;\n    }\n\n    window.scrollTo(0, scrollOffset);\n\n    /** Change blocks positions */\n    this.api.blocks.move(currentBlockIndex + 1);\n\n    /** Hide the Tooltip */\n    this.api.tooltip.hide();\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f1c8d5f1154eac2891d39a5f548e5423a791e70c"});var l=t[n];return s=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=c(l),o=c(o),i=c(i),s();var r=function(){function n(A){var e=A.api;(0,l.default)(this,n),s().f[0]++,s().s[0]++,this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-down",animation:"wobble"},s().s[1]++,this.api=e}return(0,o.default)(n,[{key:"render",value:function(){var n=this;s().f[1]++;var A=(s().s[2]++,i.default.make("div",[this.CSS.button,this.CSS.wrapper],{}));return s().s[3]++,A.appendChild(i.default.svg("arrow-down",14,14)),s().s[4]++,this.api.listeners.on(A,"click",(function(e){return s().f[2]++,s().s[5]++,n.handleClick(e,A)}),!1),s().s[6]++,this.api.tooltip.onHover(A,this.api.i18n.t("Move down")),s().s[7]++,A}},{key:"handleClick",value:function(n,A){var e=this;s().f[3]++;var t=(s().s[8]++,this.api.blocks.getCurrentBlockIndex()),l=(s().s[9]++,this.api.blocks.getBlockByIndex(t+1));if(s().s[10]++,!l)return s().b[0][0]++,s().s[11]++,A.classList.add(this.CSS.animation),s().s[12]++,window.setTimeout((function(){s().f[4]++,s().s[13]++,A.classList.remove(e.CSS.animation)}),500),void s().s[14]++;s().b[0][1]++;var o=(s().s[15]++,l.holder),i=(s().s[16]++,o.getBoundingClientRect()),c=(s().s[17]++,Math.abs(window.innerHeight-o.offsetHeight));s().s[18]++,i.top<window.innerHeight?(s().b[1][0]++,s().s[19]++,c=window.scrollY+o.offsetHeight):s().b[1][1]++,s().s[20]++,window.scrollTo(0,c),s().s[21]++,this.api.blocks.move(t+1),s().s[22]++,this.api.tooltip.hide()}}]),n}();t.default=r,r.displayName="MoveDownTune",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){var t,l,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,l=[A,e(2),e(3),e(8),e(15),e(61)],void 0===(o="function"==typeof(t=function(t,l,o,i,c,s){"use strict";var r=e(13),C=e(1);function a(){var n="/home/hata/editor.js/src/components/blocks.ts",A=new Function("return this")(),e="__coverage__",t=A[e]||(A[e]={});t[n]&&"2c9ffb6c127cef7cf293d228be53e31f7b7d5b53"===t[n].hash||(t[n]={path:"/home/hata/editor.js/src/components/blocks.ts",statementMap:{0:{start:{line:20,column:8},end:{line:20,column:25}},1:{start:{line:21,column:8},end:{line:21,column:39}},2:{start:{line:29,column:8},end:{line:29,column:34}},3:{start:{line:37,column:8},end:{line:37,column:27}},4:{start:{line:45,column:8},end:{line:45,column:50}},5:{start:{line:62,column:8},end:{line:65,column:9}},6:{start:{line:63,column:12},end:{line:63,column:51}},7:{start:{line:64,column:12},end:{line:64,column:24}},8:{start:{line:72,column:8},end:{line:72,column:42}},9:{start:{line:73,column:8},end:{line:73,column:20}},10:{start:{line:86,column:8},end:{line:88,column:9}},11:{start:{line:87,column:12},end:{line:87,column:51}},12:{start:{line:92,column:8},end:{line:92,column:39}},13:{start:{line:100,column:8},end:{line:100,column:32}},14:{start:{line:101,column:8},end:{line:101,column:32}},15:{start:{line:111,column:28},end:{line:111,column:47}},16:{start:{line:115,column:8},end:{line:115,column:62}},17:{start:{line:119,column:8},end:{line:119,column:49}},18:{start:{line:120,column:8},end:{line:120,column:41}},19:{start:{line:135,column:22},end:{line:135,column:57}},20:{start:{line:137,column:26},end:{line:137,column:37}},21:{start:{line:138,column:35},end:{line:138,column:57}},22:{start:{line:139,column:30},end:{line:139,column:61}},23:{start:{line:140,column:8},end:{line:145,column:9}},24:{start:{line:141,column:12},end:{line:141,column:63}},25:{start:{line:144,column:12},end:{line:144,column:66}},26:{start:{line:147,column:8},end:{line:147,column:46}},27:{start:{line:149,column:22},end:{line:152,column:10}},28:{start:{line:153,column:8},end:{line:153,column:46}},29:{start:{line:163,column:8},end:{line:166,column:9}},30:{start:{line:164,column:12},end:{line:164,column:29}},31:{start:{line:165,column:12},end:{line:165,column:19}},32:{start:{line:167,column:8},end:{line:169,column:9}},33:{start:{line:168,column:12},end:{line:168,column:32}},34:{start:{line:170,column:8},end:{line:173,column:9}},35:{start:{line:171,column:12},end:{line:171,column:47}},36:{start:{line:172,column:12},end:{line:172,column:58}},37:{start:{line:174,column:28},end:{line:174,column:43}},38:{start:{line:175,column:8},end:{line:175,column:54}},39:{start:{line:176,column:8},end:{line:188,column:9}},40:{start:{line:177,column:34},end:{line:177,column:56}},41:{start:{line:178,column:12},end:{line:178,column:63}},42:{start:{line:181,column:30},end:{line:181,column:52}},43:{start:{line:182,column:12},end:{line:187,column:13}},44:{start:{line:183,column:16},end:{line:183,column:66}},45:{start:{line:186,column:16},end:{line:186,column:40}},46:{start:{line:196,column:8},end:{line:198,column:9}},47:{start:{line:197,column:12},end:{line:197,column:36}},48:{start:{line:199,column:8},end:{line:199,column:43}},49:{start:{line:200,column:8},end:{line:200,column:54}},50:{start:{line:201,column:8},end:{line:201,column:37}},51:{start:{line:207,column:8},end:{line:207,column:40}},52:{start:{line:208,column:8},end:{line:208,column:73}},53:{start:{line:208,column:39},end:{line:208,column:71}},54:{start:{line:209,column:8},end:{line:209,column:31}},55:{start:{line:220,column:22},end:{line:220,column:54}},56:{start:{line:221,column:8},end:{line:221,column:41}},57:{start:{line:230,column:8},end:{line:230,column:34}},58:{start:{line:239,column:8},end:{line:239,column:42}},59:{start:{line:249,column:8},end:{line:254,column:9}},60:{start:{line:250,column:12},end:{line:250,column:72}},61:{start:{line:253,column:12},end:{line:253,column:55}},62:{start:{line:255,column:8},end:{line:255,column:42}},63:{start:{line:264,column:8},end:{line:266,column:11}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:29},end:{line:22,column:5}},line:19},1:{name:"(anonymous_1)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:17},end:{line:30,column:5}},line:28},2:{name:"(anonymous_2)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:16},end:{line:38,column:5}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:16},end:{line:46,column:5}},line:44},4:{name:"(anonymous_4)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:42},end:{line:74,column:5}},line:58},5:{name:"(anonymous_5)",decl:{start:{line:82,column:4},end:{line:82,column:5}},loc:{start:{line:82,column:35},end:{line:93,column:5}},line:82},6:{name:"(anonymous_6)",decl:{start:{line:99,column:4},end:{line:99,column:5}},loc:{start:{line:99,column:16},end:{line:102,column:5}},line:99},7:{name:"(anonymous_7)",decl:{start:{line:110,column:4},end:{line:110,column:5}},loc:{start:{line:110,column:24},end:{line:121,column:5}},line:110},8:{name:"(anonymous_8)",decl:{start:{line:128,column:4},end:{line:128,column:5}},loc:{start:{line:128,column:29},end:{line:154,column:5}},line:128},9:{name:"(anonymous_9)",decl:{start:{line:162,column:4},end:{line:162,column:5}},loc:{start:{line:162,column:42},end:{line:189,column:5}},line:162},10:{name:"(anonymous_10)",decl:{start:{line:195,column:4},end:{line:195,column:5}},loc:{start:{line:195,column:18},end:{line:202,column:5}},line:195},11:{name:"(anonymous_11)",decl:{start:{line:206,column:4},end:{line:206,column:5}},loc:{start:{line:206,column:16},end:{line:210,column:5}},line:206},12:{name:"(anonymous_12)",decl:{start:{line:208,column:28},end:{line:208,column:29}},loc:{start:{line:208,column:39},end:{line:208,column:71}},line:208},13:{name:"(anonymous_13)",decl:{start:{line:219,column:4},end:{line:219,column:5}},loc:{start:{line:219,column:39},end:{line:222,column:5}},line:219},14:{name:"(anonymous_14)",decl:{start:{line:229,column:4},end:{line:229,column:5}},loc:{start:{line:229,column:15},end:{line:231,column:5}},line:229},15:{name:"(anonymous_15)",decl:{start:{line:238,column:4},end:{line:238,column:5}},loc:{start:{line:238,column:19},end:{line:240,column:5}},line:238},16:{name:"(anonymous_16)",decl:{start:{line:248,column:4},end:{line:248,column:5}},loc:{start:{line:248,column:41},end:{line:256,column:5}},line:248},17:{name:"(anonymous_17)",decl:{start:{line:263,column:4},end:{line:263,column:5}},loc:{start:{line:263,column:36},end:{line:267,column:5}},line:263}},branchMap:{0:{loc:{start:{line:62,column:8},end:{line:65,column:9}},type:"if",locations:[{start:{line:62,column:8},end:{line:65,column:9}},{start:{line:62,column:8},end:{line:65,column:9}}],line:62},1:{loc:{start:{line:86,column:8},end:{line:88,column:9}},type:"if",locations:[{start:{line:86,column:8},end:{line:88,column:9}},{start:{line:86,column:8},end:{line:88,column:9}}],line:86},2:{loc:{start:{line:140,column:8},end:{line:145,column:9}},type:"if",locations:[{start:{line:140,column:8},end:{line:145,column:9}},{start:{line:140,column:8},end:{line:145,column:9}}],line:140},3:{loc:{start:{line:162,column:25},end:{line:162,column:40}},type:"default-arg",locations:[{start:{line:162,column:35},end:{line:162,column:40}}],line:162},4:{loc:{start:{line:163,column:8},end:{line:166,column:9}},type:"if",locations:[{start:{line:163,column:8},end:{line:166,column:9}},{start:{line:163,column:8},end:{line:166,column:9}}],line:163},5:{loc:{start:{line:167,column:8},end:{line:169,column:9}},type:"if",locations:[{start:{line:167,column:8},end:{line:169,column:9}},{start:{line:167,column:8},end:{line:169,column:9}}],line:167},6:{loc:{start:{line:170,column:8},end:{line:173,column:9}},type:"if",locations:[{start:{line:170,column:8},end:{line:173,column:9}},{start:{line:170,column:8},end:{line:173,column:9}}],line:170},7:{loc:{start:{line:174,column:28},end:{line:174,column:43}},type:"cond-expr",locations:[{start:{line:174,column:38},end:{line:174,column:39}},{start:{line:174,column:42},end:{line:174,column:43}}],line:174},8:{loc:{start:{line:176,column:8},end:{line:188,column:9}},type:"if",locations:[{start:{line:176,column:8},end:{line:188,column:9}},{start:{line:176,column:8},end:{line:188,column:9}}],line:176},9:{loc:{start:{line:182,column:12},end:{line:187,column:13}},type:"if",locations:[{start:{line:182,column:12},end:{line:187,column:13}},{start:{line:182,column:12},end:{line:187,column:13}}],line:182},10:{loc:{start:{line:196,column:8},end:{line:198,column:9}},type:"if",locations:[{start:{line:196,column:8},end:{line:198,column:9}},{start:{line:196,column:8},end:{line:198,column:9}}],line:196},11:{loc:{start:{line:249,column:8},end:{line:254,column:9}},type:"if",locations:[{start:{line:249,column:8},end:{line:254,column:9}},{start:{line:249,column:8},end:{line:254,column:9}}],line:249}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0]},inputSourceMap:{version:3,file:"/home/hata/editor.js/src/components/blocks.ts",sourceRoot:"",sources:["/home/hata/editor.js/src/components/blocks.ts"],names:[],mappings:"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",sourcesContent:["import * as _ from './utils';\nimport $ from './dom';\nimport Block, { BlockToolAPI } from './block';\nimport { MoveEvent } from '../../types/tools';\n\n/**\n * @class Blocks\n * @classdesc Class to work with Block instances array\n *\n * @private\n *\n * @property {HTMLElement} workingArea — editor`s working node\n *\n */\nexport default class Blocks {\n  /**\n   * Array of Block instances in order of addition\n   */\n  public blocks: Block[];\n\n  /**\n   * Editor`s area where to add Block`s HTML\n   */\n  public workingArea: HTMLElement;\n\n  /**\n   * @class\n   *\n   * @param {HTMLElement} workingArea — editor`s working node\n   */\n  constructor(workingArea: HTMLElement) {\n    this.blocks = [];\n    this.workingArea = workingArea;\n  }\n\n  /**\n   * Get length of Block instances array\n   *\n   * @returns {number}\n   */\n  public get length(): number {\n    return this.blocks.length;\n  }\n\n  /**\n   * Get Block instances array\n   *\n   * @returns {Block[]}\n   */\n  public get array(): Block[] {\n    return this.blocks;\n  }\n\n  /**\n   * Get blocks html elements array\n   *\n   * @returns {HTMLElement[]}\n   */\n  public get nodes(): HTMLElement[] {\n    return _.array(this.workingArea.children);\n  }\n\n  /**\n   * Proxy trap to implement array-like setter\n   *\n   * @example\n   * blocks[0] = new Block(...)\n   *\n   * @param {Blocks} instance — Blocks instance\n   * @param {PropertyKey} property — block index or any Blocks class property key to set\n   * @param {Block} value — value to set\n   * @returns {boolean}\n   */\n  public static set(instance: Blocks, property: PropertyKey, value: Block | unknown): boolean {\n    /**\n     * If property name is not a number (method or other property, access it via reflect\n     */\n    if (isNaN(Number(property))) {\n      Reflect.set(instance, property, value);\n\n      return true;\n    }\n\n    /**\n     * If property is number, call insert method to emulate array behaviour\n     *\n     * @example\n     * blocks[0] = new Block();\n     */\n    instance.insert(+(property as number), value as Block);\n\n    return true;\n  }\n\n  /**\n   * Proxy trap to implement array-like getter\n   *\n   * @param {Blocks} instance — Blocks instance\n   * @param {PropertyKey} property — Blocks class property key\n   * @returns {Block|*}\n   */\n  public static get(instance: Blocks, property: PropertyKey): Block | unknown {\n    /**\n     * If property is not a number, get it via Reflect object\n     */\n    if (isNaN(Number(property))) {\n      return Reflect.get(instance, property);\n    }\n\n    /**\n     * If property is a number (Block index) return Block by passed index\n     */\n    return instance.get(+(property as number));\n  }\n\n  /**\n   * Push new Block to the blocks array and append it to working area\n   *\n   * @param {Block} block - Block to add\n   */\n  public push(block: Block): void {\n    this.blocks.push(block);\n    this.insertToDOM(block);\n  }\n\n  /**\n   * Swaps blocks with indexes first and second\n   *\n   * @param {number} first - first block index\n   * @param {number} second - second block index\n   * @deprecated — use 'move' instead\n   */\n  public swap(first: number, second: number): void {\n    const secondBlock = this.blocks[second];\n\n    /**\n     * Change in DOM\n     */\n    $.swap(this.blocks[first].holder, secondBlock.holder);\n\n    /**\n     * Change in array\n     */\n    this.blocks[second] = this.blocks[first];\n    this.blocks[first] = secondBlock;\n  }\n\n  /**\n   * Move a block from one to another index\n   *\n   * @param {number} toIndex - new index of the block\n   * @param {number} fromIndex - block to move\n   */\n  public move(toIndex: number, fromIndex: number): void {\n    /**\n     * cut out the block, move the DOM element and insert at the desired index\n     * again (the shifting within the blocks array will happen automatically).\n     *\n     * @see https://stackoverflow.com/a/44932690/1238150\n     */\n    const block = this.blocks.splice(fromIndex, 1)[0];\n\n    // manipulate DOM\n    const prevIndex = toIndex - 1;\n    const previousBlockIndex = Math.max(0, prevIndex);\n    const previousBlock = this.blocks[previousBlockIndex];\n\n    if (toIndex > 0) {\n      this.insertToDOM(block, 'afterend', previousBlock);\n    } else {\n      this.insertToDOM(block, 'beforebegin', previousBlock);\n    }\n\n    // move in array\n    this.blocks.splice(toIndex, 0, block);\n\n    // invoke hook\n    const event: MoveEvent = this.composeBlockEvent('move', {\n      fromIndex,\n      toIndex,\n    });\n\n    block.call(BlockToolAPI.MOVED, event);\n  }\n\n  /**\n   * Insert new Block at passed index\n   *\n   * @param {number} index — index to insert Block\n   * @param {Block} block — Block to insert\n   * @param {boolean} replace — it true, replace block on given index\n   */\n  public insert(index: number, block: Block, replace = false): void {\n    if (!this.length) {\n      this.push(block);\n\n      return;\n    }\n\n    if (index > this.length) {\n      index = this.length;\n    }\n\n    if (replace) {\n      this.blocks[index].holder.remove();\n      this.blocks[index].call(BlockToolAPI.REMOVED);\n    }\n\n    const deleteCount = replace ? 1 : 0;\n\n    this.blocks.splice(index, deleteCount, block);\n\n    if (index > 0) {\n      const previousBlock = this.blocks[index - 1];\n\n      this.insertToDOM(block, 'afterend', previousBlock);\n    } else {\n      const nextBlock = this.blocks[index + 1];\n\n      if (nextBlock) {\n        this.insertToDOM(block, 'beforebegin', nextBlock);\n      } else {\n        this.insertToDOM(block);\n      }\n    }\n  }\n\n  /**\n   * Remove block\n   *\n   * @param {number} index - index of Block to remove\n   */\n  public remove(index: number): void {\n    if (isNaN(index)) {\n      index = this.length - 1;\n    }\n\n    this.blocks[index].holder.remove();\n\n    this.blocks[index].call(BlockToolAPI.REMOVED);\n\n    this.blocks.splice(index, 1);\n  }\n\n  /**\n   * Remove all blocks\n   */\n  public removeAll(): void {\n    this.workingArea.innerHTML = '';\n\n    this.blocks.forEach((block) => block.call(BlockToolAPI.REMOVED));\n\n    this.blocks.length = 0;\n  }\n\n  /**\n   * Insert Block after passed target\n   *\n   * @todo decide if this method is necessary\n   *\n   * @param {Block} targetBlock — target after which Block should be inserted\n   * @param {Block} newBlock — Block to insert\n   */\n  public insertAfter(targetBlock: Block, newBlock: Block): void {\n    const index = this.blocks.indexOf(targetBlock);\n\n    this.insert(index + 1, newBlock);\n  }\n\n  /**\n   * Get Block by index\n   *\n   * @param {number} index — Block index\n   * @returns {Block}\n   */\n  public get(index: number): Block {\n    return this.blocks[index];\n  }\n\n  /**\n   * Return index of passed Block\n   *\n   * @param {Block} block - Block to find\n   * @returns {number}\n   */\n  public indexOf(block: Block): number {\n    return this.blocks.indexOf(block);\n  }\n\n  /**\n   * Insert new Block into DOM\n   *\n   * @param {Block} block - Block to insert\n   * @param {InsertPosition} position — insert position (if set, will use insertAdjacentElement)\n   * @param {Block} target — Block related to position\n   */\n  private insertToDOM(block: Block, position?: InsertPosition, target?: Block): void {\n    if (position) {\n      target.holder.insertAdjacentElement(position, block.holder);\n    } else {\n      this.workingArea.appendChild(block.holder);\n    }\n\n    block.call(BlockToolAPI.RENDERED);\n  }\n\n  /**\n   * Composes Block event with passed type and details\n   *\n   * @param {string} type - event type\n   * @param {object} detail - event detail\n   */\n  private composeBlockEvent(type: string, detail: object): MoveEvent {\n    return new CustomEvent(type, {\n      detail,\n    }) as MoveEvent;\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2c9ffb6c127cef7cf293d228be53e31f7b7d5b53"});var l=t[n];return a=function(){return l},l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l=C(l),o=C(o),i=r(i),c=C(c),a();var u=function(){function n(A){(0,l.default)(this,n),a().f[0]++,a().s[0]++,this.blocks=[],a().s[1]++,this.workingArea=A}return(0,o.default)(n,[{key:"push",value:function(n){a().f[6]++,a().s[13]++,this.blocks.push(n),a().s[14]++,this.insertToDOM(n)}},{key:"swap",value:function(n,A){a().f[7]++;var e=(a().s[15]++,this.blocks[A]);a().s[16]++,c.default.swap(this.blocks[n].holder,e.holder),a().s[17]++,this.blocks[A]=this.blocks[n],a().s[18]++,this.blocks[n]=e}},{key:"move",value:function(n,A){a().f[8]++;var e=(a().s[19]++,this.blocks.splice(A,1)[0]),t=(a().s[20]++,n-1),l=(a().s[21]++,Math.max(0,t)),o=(a().s[22]++,this.blocks[l]);a().s[23]++,n>0?(a().b[2][0]++,a().s[24]++,this.insertToDOM(e,"afterend",o)):(a().b[2][1]++,a().s[25]++,this.insertToDOM(e,"beforebegin",o)),a().s[26]++,this.blocks.splice(n,0,e);var i=(a().s[27]++,this.composeBlockEvent("move",{fromIndex:A,toIndex:n}));a().s[28]++,e.call(s.BlockToolAPI.MOVED,i)}},{key:"insert",value:function(n,A){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(a().b[3][0]++,!1);if(a().f[9]++,a().s[29]++,!this.length)return a().b[4][0]++,a().s[30]++,this.push(A),void a().s[31]++;a().b[4][1]++,a().s[32]++,n>this.length?(a().b[5][0]++,a().s[33]++,n=this.length):a().b[5][1]++,a().s[34]++,e?(a().b[6][0]++,a().s[35]++,this.blocks[n].holder.remove(),a().s[36]++,this.blocks[n].call(s.BlockToolAPI.REMOVED)):a().b[6][1]++;var t=(a().s[37]++,e?(a().b[7][0]++,1):(a().b[7][1]++,0));if(a().s[38]++,this.blocks.splice(n,t,A),a().s[39]++,n>0){a().b[8][0]++;var l=(a().s[40]++,this.blocks[n-1]);a().s[41]++,this.insertToDOM(A,"afterend",l)}else{a().b[8][1]++;var o=(a().s[42]++,this.blocks[n+1]);a().s[43]++,o?(a().b[9][0]++,a().s[44]++,this.insertToDOM(A,"beforebegin",o)):(a().b[9][1]++,a().s[45]++,this.insertToDOM(A))}}},{key:"remove",value:function(n){a().f[10]++,a().s[46]++,isNaN(n)?(a().b[10][0]++,a().s[47]++,n=this.length-1):a().b[10][1]++,a().s[48]++,this.blocks[n].holder.remove(),a().s[49]++,this.blocks[n].call(s.BlockToolAPI.REMOVED),a().s[50]++,this.blocks.splice(n,1)}},{key:"removeAll",value:function(){a().f[11]++,a().s[51]++,this.workingArea.innerHTML="",a().s[52]++,this.blocks.forEach((function(n){return a().f[12]++,a().s[53]++,n.call(s.BlockToolAPI.REMOVED)})),a().s[54]++,this.blocks.length=0}},{key:"insertAfter",value:function(n,A){a().f[13]++;var e=(a().s[55]++,this.blocks.indexOf(n));a().s[56]++,this.insert(e+1,A)}},{key:"get",value:function(n){return a().f[14]++,a().s[57]++,this.blocks[n]}},{key:"indexOf",value:function(n){return a().f[15]++,a().s[58]++,this.blocks.indexOf(n)}},{key:"insertToDOM",value:function(n,A,e){a().f[16]++,a().s[59]++,A?(a().b[11][0]++,a().s[60]++,e.holder.insertAdjacentElement(A,n.holder)):(a().b[11][1]++,a().s[61]++,this.workingArea.appendChild(n.holder)),a().s[62]++,n.call(s.BlockToolAPI.RENDERED)}},{key:"composeBlockEvent",value:function(n,A){return a().f[17]++,a().s[63]++,new CustomEvent(n,{detail:A})}},{key:"length",get:function(){return a().f[1]++,a().s[2]++,this.blocks.length}},{key:"array",get:function(){return a().f[2]++,a().s[3]++,this.blocks}},{key:"nodes",get:function(){return a().f[3]++,a().s[4]++,i.array(this.workingArea.children)}}],[{key:"set",value:function(n,A,e){return a().f[4]++,a().s[5]++,isNaN(Number(A))?(a().b[0][0]++,a().s[6]++,Reflect.set(n,A,e),a().s[7]++,!0):(a().b[0][1]++,a().s[8]++,n.insert(+A,e),a().s[9]++,!0)}},{key:"get",value:function(n,A){return a().f[5]++,a().s[10]++,isNaN(Number(A))?(a().b[1][0]++,a().s[11]++,Reflect.get(n,A)):(a().b[1][1]++,a().s[12]++,n.get(+A))}}]),n}();t.default=u,u.displayName="Blocks",n.exports=A.default})?t.apply(A,l):t)||(n.exports=o)},function(n,A,e){window,n.exports=function(n){var A={};function e(t){if(A[t])return A[t].exports;var l=A[t]={i:t,l:!1,exports:{}};return n[t].call(l.exports,l,l.exports,e),l.l=!0,l.exports}return e.m=n,e.c=A,e.d=function(n,A,t){e.o(n,A)||Object.defineProperty(n,A,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,A){if(1&A&&(n=e(n)),8&A)return n;if(4&A&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&A&&"string"!=typeof n)for(var l in n)e.d(t,l,function(A){return n[A]}.bind(null,l));return t},e.n=function(n){var A=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(A,"a",A),A},e.o=function(n,A){return Object.prototype.hasOwnProperty.call(n,A)},e.p="/",e(e.s=0)}([function(n,A,e){"use strict";e(1),n.exports=function(){var n=e(6),A=null;return{show:function(e){if(e.message){!function(){if(A)return!0;A=n.getWrapper(),document.body.appendChild(A)}();var t=null,l=e.time||8e3;switch(e.type){case"confirm":t=n.confirm(e);break;case"prompt":t=n.prompt(e);break;default:t=n.alert(e),window.setTimeout((function(){t.remove()}),l)}A.appendChild(t),t.classList.add("cdx-notify--bounce-in")}}}}()},function(n,A,e){var t=e(2);"string"==typeof t&&(t=[[n.i,t,""]]),e(4)(t,{hmr:!0,transform:void 0,insertInto:void 0}),t.locals&&(n.exports=t.locals)},function(n,A,e){(n.exports=e(3)(!1)).push([n.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\'\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\'\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',""])},function(n,A){n.exports=function(n){var A=[];return A.toString=function(){return this.map((function(A){var e=function(n,A){var e,t=n[1]||"",l=n[3];if(!l)return t;if(A&&"function"==typeof btoa){var o=(e=l,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"),i=l.sources.map((function(n){return"/*# sourceURL="+l.sourceRoot+n+" */"}));return[t].concat(i).concat([o]).join("\n")}return[t].join("\n")}(A,n);return A[2]?"@media "+A[2]+"{"+e+"}":e})).join("")},A.i=function(n,e){"string"==typeof n&&(n=[[null,n,""]]);for(var t={},l=0;l<this.length;l++){var o=this[l][0];"number"==typeof o&&(t[o]=!0)}for(l=0;l<n.length;l++){var i=n[l];"number"==typeof i[0]&&t[i[0]]||(e&&!i[2]?i[2]=e:e&&(i[2]="("+i[2]+") and ("+e+")"),A.push(i))}},A}},function(n,A,e){var t,l,o={},i=(t=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===l&&(l=t.apply(this,arguments)),l}),c=function(n){var A={};return function(n){if("function"==typeof n)return n();if(void 0===A[n]){var e=function(n){return document.querySelector(n)}.call(this,n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}A[n]=e}return A[n]}}(),s=null,r=0,C=[],a=e(5);function u(n,A){for(var e=0;e<n.length;e++){var t=n[e],l=o[t.id];if(l){l.refs++;for(var i=0;i<l.parts.length;i++)l.parts[i](t.parts[i]);for(;i<t.parts.length;i++)l.parts.push(I(t.parts[i],A))}else{var c=[];for(i=0;i<t.parts.length;i++)c.push(I(t.parts[i],A));o[t.id]={id:t.id,refs:1,parts:c}}}}function m(n,A){for(var e=[],t={},l=0;l<n.length;l++){var o=n[l],i=A.base?o[0]+A.base:o[0],c={css:o[1],media:o[2],sourceMap:o[3]};t[i]?t[i].parts.push(c):e.push(t[i]={id:i,parts:[c]})}return e}function d(n,A){var e=c(n.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var t=C[C.length-1];if("top"===n.insertAt)t?t.nextSibling?e.insertBefore(A,t.nextSibling):e.appendChild(A):e.insertBefore(A,e.firstChild),C.push(A);else if("bottom"===n.insertAt)e.appendChild(A);else{if("object"!=typeof n.insertAt||!n.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var l=c(n.insertInto+" "+n.insertAt.before);e.insertBefore(A,l)}}function f(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n);var A=C.indexOf(n);A>=0&&C.splice(A,1)}function p(n){var A=document.createElement("style");return void 0===n.attrs.type&&(n.attrs.type="text/css"),E(A,n.attrs),d(n,A),A}function E(n,A){Object.keys(A).forEach((function(e){n.setAttribute(e,A[e])}))}function I(n,A){var e,t,l,o;if(A.transform&&n.css){if(!(o=A.transform(n.css)))return function(){};n.css=o}if(A.singleton){var i=r++;e=s||(s=p(A)),t=B.bind(null,e,i,!1),l=B.bind(null,e,i,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(n){var A=document.createElement("link");return void 0===n.attrs.type&&(n.attrs.type="text/css"),n.attrs.rel="stylesheet",E(A,n.attrs),d(n,A),A}(A),t=function(n,A,e){var t=e.css,l=e.sourceMap,o=void 0===A.convertToAbsoluteUrls&&l;(A.convertToAbsoluteUrls||o)&&(t=a(t)),l&&(t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+" */");var i=new Blob([t],{type:"text/css"}),c=n.href;n.href=URL.createObjectURL(i),c&&URL.revokeObjectURL(c)}.bind(null,e,A),l=function(){f(e),e.href&&URL.revokeObjectURL(e.href)}):(e=p(A),t=function(n,A){var e=A.css,t=A.media;if(t&&n.setAttribute("media",t),n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}.bind(null,e),l=function(){f(e)});return t(n),function(A){if(A){if(A.css===n.css&&A.media===n.media&&A.sourceMap===n.sourceMap)return;t(n=A)}else l()}}n.exports=function(n,A){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(A=A||{}).attrs="object"==typeof A.attrs?A.attrs:{},A.singleton||"boolean"==typeof A.singleton||(A.singleton=i()),A.insertInto||(A.insertInto="head"),A.insertAt||(A.insertAt="bottom");var e=m(n,A);return u(e,A),function(n){for(var t=[],l=0;l<e.length;l++){var i=e[l];(c=o[i.id]).refs--,t.push(c)}for(n&&u(m(n,A),A),l=0;l<t.length;l++){var c;if(0===(c=t[l]).refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete o[c.id]}}}};var h,b=(h=[],function(n,A){return h[n]=A,h.filter(Boolean).join("\n")});function B(n,A,e,t){var l=e?"":t.css;if(n.styleSheet)n.styleSheet.cssText=b(A,l);else{var o=document.createTextNode(l),i=n.childNodes;i[A]&&n.removeChild(i[A]),i.length?n.insertBefore(o,i[A]):n.appendChild(o)}}},function(n,A){n.exports=function(n){var A="undefined"!=typeof window&&window.location;if(!A)throw new Error("fixUrls requires window.location");if(!n||"string"!=typeof n)return n;var e=A.protocol+"//"+A.host,t=e+A.pathname.replace(/\/[^\/]*$/,"/");return n.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(n,A){var l,o=A.trim().replace(/^"(.*)"$/,(function(n,A){return A})).replace(/^'(.*)'$/,(function(n,A){return A}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?n:(l=0===o.indexOf("//")?o:0===o.indexOf("/")?e+o:t+o.replace(/^\.\//,""),"url("+JSON.stringify(l)+")")}))}},function(n,A,e){"use strict";var t,l,o,i,c,s;n.exports=(t="cdx-notify",l="cdx-notify__cross",o="cdx-notify__button--confirm",i="cdx-notify__button",c="cdx-notify__btns-wrapper",{alert:s=function(n){var A=document.createElement("DIV"),e=document.createElement("DIV"),o=n.message,i=n.style;return A.classList.add(t),i&&A.classList.add(t+"--"+i),A.innerHTML=o,e.classList.add(l),e.addEventListener("click",A.remove.bind(A)),A.appendChild(e),A},confirm:function(n){var A=s(n),e=document.createElement("div"),t=document.createElement("button"),r=document.createElement("button"),C=A.querySelector("."+l),a=n.cancelHandler,u=n.okHandler;return e.classList.add(c),t.innerHTML=n.okText||"Confirm",r.innerHTML=n.cancelText||"Cancel",t.classList.add(i),r.classList.add(i),t.classList.add(o),r.classList.add("cdx-notify__button--cancel"),a&&"function"==typeof a&&(r.addEventListener("click",a),C.addEventListener("click",a)),u&&"function"==typeof u&&t.addEventListener("click",u),t.addEventListener("click",A.remove.bind(A)),r.addEventListener("click",A.remove.bind(A)),e.appendChild(t),e.appendChild(r),A.appendChild(e),A},prompt:function(n){var A=s(n),e=document.createElement("div"),t=document.createElement("button"),r=document.createElement("input"),C=A.querySelector("."+l),a=n.cancelHandler,u=n.okHandler;return e.classList.add(c),t.innerHTML=n.okText||"Ok",t.classList.add(i),t.classList.add(o),r.classList.add("cdx-notify__input"),n.placeholder&&r.setAttribute("placeholder",n.placeholder),n.default&&(r.value=n.default),n.inputType&&(r.type=n.inputType),a&&"function"==typeof a&&C.addEventListener("click",a),u&&"function"==typeof u&&t.addEventListener("click",(function(){u(r.value)})),t.addEventListener("click",A.remove.bind(A)),e.appendChild(r),e.appendChild(t),A.appendChild(e),A},getWrapper:function(){var n=document.createElement("DIV");return n.classList.add("cdx-notifies"),n}})}])},function(n,A,e){var t,l;void 0===(l="function"==typeof(t=function(){function n(n){var A=n.tags;if(!Object.keys(A).map((function(n){return typeof A[n]})).every((function(n){return"object"===n||"boolean"===n||"function"===n})))throw new Error("The configuration was invalid");this.config=n}var A=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function e(n){return-1!==A.indexOf(n.nodeName)}var t=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function l(n){return-1!==t.indexOf(n.nodeName)}function o(n,A,e){return"function"==typeof n.tags[A]?n.tags[A](e):n.tags[A]}function i(n,A){return void 0===A||"boolean"==typeof A&&!A}function c(n,A,e){var t=n.name.toLowerCase();return!0!==A&&("function"==typeof A[t]?!A[t](n.value,e):void 0===A[t]||!1===A[t]||"string"==typeof A[t]&&A[t]!==n.value)}return n.prototype.clean=function(n){const A=document.implementation.createHTMLDocument(),e=A.createElement("div");return e.innerHTML=n,this._sanitize(A,e),e.innerHTML},n.prototype._sanitize=function(n,A){var t=function(n,A){return n.createTreeWalker(A,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(n,A),s=t.firstChild();if(s)do{if(s.nodeType!==Node.TEXT_NODE){if(s.nodeType===Node.COMMENT_NODE){A.removeChild(s),this._sanitize(n,A);break}var r,C=l(s);C&&(r=Array.prototype.some.call(s.childNodes,e));var a=!!A.parentNode,u=e(A)&&e(s)&&a,m=s.nodeName.toLowerCase(),d=o(this.config,m,s);if(C&&r||i(0,d)||!this.config.keepNestedBlockElements&&u){if("SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName)for(;s.childNodes.length>0;)A.insertBefore(s.childNodes[0],s);A.removeChild(s),this._sanitize(n,A);break}for(var f=0;f<s.attributes.length;f+=1){var p=s.attributes[f];c(p,d,s)&&(s.removeAttribute(p.name),f-=1)}this._sanitize(n,s)}else if(""===s.data.trim()&&(s.previousElementSibling&&e(s.previousElementSibling)||s.nextElementSibling&&e(s.nextElementSibling))){A.removeChild(s),this._sanitize(n,A);break}}while(s=t.nextSibling())},n})?t.call(A,e,A,n):t)||(n.exports=l)},function(n,A,e){window,n.exports=function(n){var A={};function e(t){if(A[t])return A[t].exports;var l=A[t]={i:t,l:!1,exports:{}};return n[t].call(l.exports,l,l.exports,e),l.l=!0,l.exports}return e.m=n,e.c=A,e.d=function(n,A,t){e.o(n,A)||Object.defineProperty(n,A,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,A){if(1&A&&(n=e(n)),8&A)return n;if(4&A&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&A&&"string"!=typeof n)for(var l in n)e.d(t,l,function(A){return n[A]}.bind(null,l));return t},e.n=function(n){var A=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(A,"a",A),A},e.o=function(n,A){return Object.prototype.hasOwnProperty.call(n,A)},e.p="",e(e.s=0)}([function(n,A,e){"use strict";function t(n,A){for(var e=0;e<A.length;e++){var t=A[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function l(n,A,e){return A&&t(n.prototype,A),e&&t(n,e),n}e.r(A);var o=function(){function n(A){var e=this;!function(n,A){if(!(n instanceof A))throw new TypeError("Cannot call a class as a function")}(this,n),this.commands={},this.keys={},this.name=A.name,this.parseShortcutName(A.name),this.element=A.on,this.callback=A.callback,this.executeShortcut=function(n){e.execute(n)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return l(n,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46}}}]),l(n,[{key:"parseShortcutName",value:function(A){A=A.split("+");for(var e=0;e<A.length;e++){A[e]=A[e].toUpperCase();var t=!1;for(var l in n.supportedCommands)if(n.supportedCommands[l].includes(A[e])){t=this.commands[l]=!0;break}t||(this.keys[A[e]]=!0)}for(var o in n.supportedCommands)this.commands[o]||(this.commands[o]=!1)}},{key:"execute",value:function(A){var e,t={CMD:A.ctrlKey||A.metaKey,SHIFT:A.shiftKey,ALT:A.altKey},l=!0;for(e in this.commands)this.commands[e]!==t[e]&&(l=!1);var o,i=!0;for(o in this.keys)i=i&&A.keyCode===n.keyCodes[o];l&&i&&this.callback(A)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),n}();A.default=o}]).default},function(n,A,e){window,n.exports=function(n){var A={};function e(t){if(A[t])return A[t].exports;var l=A[t]={i:t,l:!1,exports:{}};return n[t].call(l.exports,l,l.exports,e),l.l=!0,l.exports}return e.m=n,e.c=A,e.d=function(n,A,t){e.o(n,A)||Object.defineProperty(n,A,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,A){if(1&A&&(n=e(n)),8&A)return n;if(4&A&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&A&&"string"!=typeof n)for(var l in n)e.d(t,l,function(A){return n[A]}.bind(null,l));return t},e.n=function(n){var A=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(A,"a",A),A},e.o=function(n,A){return Object.prototype.hasOwnProperty.call(n,A)},e.p="",e(e.s=0)}([function(n,A,e){n.exports=e(1)},function(n,A,e){"use strict";e.r(A),e.d(A,"default",(function(){return t}));class t{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.loadStyles(),this.prepare(),window.addEventListener("scroll",()=>{this.showed&&this.hide(!0)},{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(n,A,e){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const t=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},e);if(t.hidingDelay&&(this.hidingDelay=t.hidingDelay),this.nodes.content.innerHTML="","string"==typeof A)this.nodes.content.appendChild(document.createTextNode(A));else{if(!(A instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof A+" given.");this.nodes.content.appendChild(A)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),t.placement){case"top":this.placeTop(n,t);break;case"left":this.placeLeft(n,t);break;case"right":this.placeRight(n,t);break;case"bottom":default:this.placeBottom(n,t)}t&&t.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},t.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(n=!1){if(this.hidingDelay&&!n)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(n,A,e){n.addEventListener("mouseenter",()=>{this.show(n,A,e)}),n.addEventListener("mouseleave",()=>{this.hide()})}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const n="codex-tooltips-style";if(document.getElementById(n))return;const A=e(2),t=this.make("style",null,{textContent:A.toString(),id:n});this.prepend(document.head,t)}placeBottom(n,A){const e=n.getBoundingClientRect(),t=e.left+n.clientWidth/2-this.nodes.wrapper.offsetWidth/2,l=e.bottom+window.pageYOffset+this.offsetTop+A.marginTop;this.applyPlacement("bottom",t,l)}placeTop(n,A){const e=n.getBoundingClientRect(),t=e.left+n.clientWidth/2-this.nodes.wrapper.offsetWidth/2,l=e.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",t,l)}placeLeft(n,A){const e=n.getBoundingClientRect(),t=e.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-A.marginLeft,l=e.top+window.pageYOffset+n.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",t,l)}placeRight(n,A){const e=n.getBoundingClientRect(),t=e.right+this.offsetRight+A.marginRight,l=e.top+window.pageYOffset+n.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",t,l)}applyPlacement(n,A,e){this.nodes.wrapper.classList.add(this.CSS.placement[n]),this.nodes.wrapper.style.left=A+"px",this.nodes.wrapper.style.top=e+"px"}make(n,A=null,e={}){const t=document.createElement(n);Array.isArray(A)?t.classList.add(...A):A&&t.classList.add(A);for(const n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}append(n,A){Array.isArray(A)?A.forEach(A=>n.appendChild(A)):n.appendChild(A)}prepend(n,A){Array.isArray(A)?(A=A.reverse()).forEach(A=>n.prepend(A)):n.prepend(A)}}},function(n,A){n.exports='.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>\') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}'}]).default},function(n,A,e){"use strict";e.r(A),A.default='<?xml version="1.0" encoding="utf-8"?>\n<svg xmlns="http://www.w3.org/2000/svg">\n<symbol id="arrow-down" viewBox="0 0 14 14">\n  <path transform="matrix(1 0 0 -1 0 14)" d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>\n\n</symbol>\n<symbol id="arrow-up" viewBox="0 0 14 14">\n    <path d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>\n\n</symbol>\n<symbol id="bold" viewBox="0 0 12 14"><path d="M5.997 14H1.72c-.618 0-1.058-.138-1.323-.415C.132 13.308 0 12.867 0 12.262V1.738C0 1.121.135.676.406.406.676.136 1.114 0 1.719 0h4.536c.669 0 1.248.041 1.738.124.49.083.93.242 1.318.478a3.458 3.458 0 0 1 1.461 1.752c.134.366.2.753.2 1.16 0 1.401-.7 2.426-2.1 3.075 1.84.586 2.76 1.726 2.76 3.42 0 .782-.2 1.487-.602 2.114a3.61 3.61 0 0 1-1.623 1.39 5.772 5.772 0 0 1-1.471.377c-.554.073-1.2.11-1.939.11zm-.21-6.217h-2.95v4.087h3.046c1.916 0 2.874-.69 2.874-2.072 0-.707-.248-1.22-.745-1.537-.496-.319-1.238-.478-2.225-.478zM2.837 2.13v3.619h2.597c.707 0 1.252-.067 1.638-.2.385-.134.68-.389.883-.765.16-.267.239-.566.239-.897 0-.707-.252-1.176-.755-1.409-.503-.232-1.27-.348-2.301-.348H2.836z"/>\n</symbol>\n<symbol id="cross" viewBox="0 0 237 237">\n  <path transform="rotate(45 280.675 51.325)" d="M191 191V73c0-5.523 4.477-10 10-10h25c5.523 0 10 4.477 10 10v118h118c5.523 0 10 4.477 10 10v25c0 5.523-4.477 10-10 10H236v118c0 5.523-4.477 10-10 10h-25c-5.523 0-10-4.477-10-10V236H73c-5.523 0-10-4.477-10-10v-25c0-5.523 4.477-10 10-10h118z"/>\n\n</symbol>\n<symbol id="dots" viewBox="0 0 8 8">\n  <circle cx="6.5" cy="1.5" r="1.5"/>\n  <circle cx="6.5" cy="6.5" r="1.5"/>\n  <circle cx="1.5" cy="1.5" r="1.5"/>\n  <circle cx="1.5" cy="6.5" r="1.5"/>\n\n</symbol>\n<symbol id="italic" viewBox="0 0 4 11">\n    <path d="M3.289 4.17L2.164 9.713c-.078.384-.238.674-.48.87-.243.198-.52.296-.831.296-.312 0-.545-.1-.699-.302-.153-.202-.192-.49-.116-.864L1.15 4.225c.077-.38.232-.665.466-.857a1.25 1.25 0 01.818-.288c.312 0 .55.096.713.288.163.192.21.46.141.801zm-.667-2.09c-.295 0-.53-.09-.706-.273-.176-.181-.233-.439-.173-.77.055-.302.207-.55.457-.745C2.45.097 2.716 0 3 0c.273 0 .5.088.68.265.179.176.238.434.177.771-.06.327-.21.583-.45.767-.24.185-.502.277-.785.277z"/>\n\n</symbol>\n<symbol id="link" viewBox="0 0 14 10">\n  <path d="M6 0v2H5a3 3 0 000 6h1v2H5A5 5 0 115 0h1zm2 0h1a5 5 0 110 10H8V8h1a3 3 0 000-6H8V0zM5 4h4a1 1 0 110 2H5a1 1 0 110-2z"/>\n\n</symbol>\n<symbol id="plus" viewBox="0 0 14 14">\n    <path d="M8.05 5.8h4.625a1.125 1.125 0 0 1 0 2.25H8.05v4.625a1.125 1.125 0 0 1-2.25 0V8.05H1.125a1.125 1.125 0 0 1 0-2.25H5.8V1.125a1.125 1.125 0 0 1 2.25 0V5.8z"/>\n\n</symbol>\n<symbol id="sad-face" viewBox="0 0 52 52">\n    <path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/>\n\n</symbol>\n<symbol id="toggler-down">\n  <path d="M6.5 9.294a.792.792 0 01-.562-.232L2.233 5.356a.794.794 0 011.123-1.123L6.5 7.377l3.144-3.144a.794.794 0 011.123 1.123L7.062 9.062a.792.792 0 01-.562.232z"/>\n\n</symbol>\n<symbol id="unlink" viewBox="0 0 15 11">\n  <path d="M13.073 2.099l-1.448 1.448A3 3 0 009 2H8V0h1c1.68 0 3.166.828 4.073 2.099zM6.929 4l-.879.879L7.172 6H5a1 1 0 110-2h1.929zM6 0v2H5a3 3 0 100 6h1v2H5A5 5 0 115 0h1zm6.414 7l2.122 2.121-1.415 1.415L11 8.414l-2.121 2.122L7.464 9.12 9.586 7 7.464 4.879 8.88 3.464 11 5.586l2.121-2.122 1.415 1.415L12.414 7z"/>\n\n</symbol></svg>'},function(n,A){n.exports='.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff "}@media (min-width:651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s linear infinite;animation:editor-loader-spin .8s linear infinite;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:rgba(46,170,220,.2);border:1px solid transparent}.codex-editor svg{fill:currentColor;vertical-align:middle;max-height:100%}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,transform;display:none}@media (max-width:650px){.ce-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}}@media (max-width:650px) and (max-width:650px){.ce-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}@media (max-width:650px){.ce-toolbar{padding:3px;margin-top:5px}.ce-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar--opened{display:block}@media (max-width:650px){.ce-toolbar--opened{display:-webkit-box;display:-ms-flexbox;display:flex}}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}@media (max-width:650px){.ce-toolbar__content{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;margin:0;max-width:calc(100% - 35px)}}.ce-toolbar__plus{color:#707684;cursor:pointer;width:34px;height:34px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;left:-34px;-ms-flex-negative:0;flex-shrink:0}.ce-toolbar__plus--active,.ce-toolbar__plus:hover{color:#388ae5}.ce-toolbar__plus--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}.ce-toolbar__plus--hidden{display:none}@media (max-width:650px){.ce-toolbar__plus{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important;position:static;-webkit-transform:none!important;transform:none!important}}.ce-toolbar .ce-toolbox,.ce-toolbar__plus{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ce-toolbar__actions{position:absolute;right:-30px;top:5px;opacity:0}@media (max-width:650px){.ce-toolbar__actions{position:absolute;right:-28px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}}.ce-toolbar__actions--opened{opacity:1}.ce-toolbar__actions-buttons{text-align:right}.ce-toolbar__settings-btn{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:18px;height:18px;color:#707684;cursor:pointer;background:#eff2f5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-toolbar__settings-btn:hover{color:#1d202b}@media (max-width:650px){.ce-toolbar__settings-btn{background:transparent}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}.ce-toolbox{position:absolute;visibility:hidden;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}@media (max-width:650px){.ce-toolbox{position:static;-webkit-transform:none!important;transform:none!important;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto}}.ce-toolbox--opened{opacity:1;visibility:visible}.ce-toolbox__button{color:#707684;cursor:pointer;width:34px;height:34px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-negative:0;flex-shrink:0}.ce-toolbox__button--active,.ce-toolbox__button:hover{color:#388ae5}.ce-toolbox__button--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbox-button-tooltip__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}@media (min-width:651px){.codex-editor--narrow .ce-toolbox{background:#fff;z-index:2}}.ce-inline-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-inline-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-inline-toolbar{-webkit-transform:translateX(-50%) translateY(8px) scale(.9);transform:translateX(-50%) translateY(8px) scale(.9);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.9);transform:translateX(-23px) translateY(8px) scale(.9)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translateX(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.9);transform:translateX(-100%) translateY(8px) scale(.9);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{width:100%;padding:0 6px}.ce-inline-toolbar__buttons,.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:34px;padding:0 9px 0 10px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48)}.ce-inline-toolbar__dropdown:hover{background:#eff2f5}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content{display:-webkit-box;display:-ms-flexbox;display:flex;font-weight:500;font-size:14px}.ce-inline-toolbar__dropdown-content svg{height:12px}.ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:4px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-inline-tool:hover{background-color:#eff2f5}.ce-inline-tool{border-radius:0;line-height:normal;width:auto;padding:0 5px!important;min-width:24px}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool:not(:last-of-type){margin-right:2px}.ce-inline-tool .icon{height:12px}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48)}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-conversion-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-conversion-toolbar{opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:20px;height:20px;border:1px solid rgba(201,201,204,.48);border-radius:3px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;background:#fff}.ce-conversion-tool__icon svg{width:11px;height:11px}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-settings{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-settings{right:-1px;top:30px;min-width:114px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-settings--left-oriented:before{left:15px;margin-left:0}.ce-settings--right-oriented:before{left:auto;right:15px;margin-left:0}@media (max-width:650px){.ce-settings{bottom:40px;right:-11px;top:auto}}.ce-settings:before{left:auto;right:12px}@media (max-width:650px){.ce-settings:before{bottom:-5px;top:auto}}.ce-settings{display:none}.ce-settings--opened{display:block;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-name:panelShowing;animation-name:panelShowing}.ce-settings__plugin-zone:not(:empty){padding:3px 3px 0}.ce-settings__default-zone:not(:empty){padding:3px}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-settings__button:hover{background-color:#eff2f5}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button{line-height:32px}.ce-settings__button--disabled{cursor:not-allowed!important;opacity:.3}.ce-settings__button--selected{color:#388ae5}.ce-settings__button--delete{-webkit-transition:background-color .3s ease;transition:background-color .3s ease;will-change:background-color}.ce-settings__button--delete .icon{-webkit-transition:-webkit-transform .2s ease-out;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;will-change:transform}.ce-settings__button--confirm{background-color:#e24a4a!important;color:#fff}.ce-settings__button--confirm:hover{background-color:#d54a4a!important}.ce-settings__button--confirm .icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content .ce-stub,.ce-block--selected .ce-block__content img{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388ae5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388ae5,#388ae5 1px,#fff 0,#fff 6px)}.ce-block a{cursor:pointer;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width:651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.cdx-block{padding:.4em 0}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important;display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.cdx-settings-button:hover{background-color:#eff2f5}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button:not(:nth-child(3n+3)){margin-right:3px}.cdx-settings-button:nth-child(n+4){margin-top:3px}.cdx-settings-button--active{color:#388ae5}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s linear infinite;animation:cdxRotation 1.2s linear infinite}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px 0 rgba(18,30,57,.04);color:#707684;text-align:center;cursor:pointer}.cdx-button:hover{background:#fbfcfe;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px 0 rgba(18,30,57,.08)}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-34px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-34px}@media (max-width:650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0 solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}'}])}));